[
  {
    "sha": "41937fbe1324413932034666c9d56a762765e24b",
    "node_id": "C_kwDONBuXkNoAKDQxOTM3ZmJlMTMyNDQxMzkzMjAzNDY2NmM5ZDU2YTc2Mjc2NWUyNGI",
    "commit": {
      "author": {
        "name": "Javier Ram\u00edrez",
        "email": "72883779+javramnun@users.noreply.github.com",
        "date": "2024-12-18T08:21:51Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-12-18T08:21:51Z"
      },
      "message": "Merge pull request #47 from chipi-hub-team/feat/change-upload-dataset-button\n\nfeat: Add name button",
      "tree": {
        "sha": "123bba78ee223f450c73a4ef863409dc825cf93c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/123bba78ee223f450c73a4ef863409dc825cf93c"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/41937fbe1324413932034666c9d56a762765e24b",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnYoYfCRC1aQ7uu5UhlAAAXl8QACVcgIkXGV8A+nuoSXnayhJw\nb+irG+QhKzWDPawEIWqF98larViKl9l5StVnG2A9UbVQe2IqVEGx032WL9QHNeGy\nH8FarkI2DcP5AyZqDwfadxuULdIXTIECLTB63WPFcHcJ00yWz1HonGD2sgjasPuY\n2Cm8ANj7LhhQgDE8P/8ZI8iu9po0RYrdRrGeutv6lXLrsr1EbXCxYfHF+Y0sbWnN\nStsFejagqccdhKzyTHWZ+NSBUdsjXZMTrsgteyLF7OXIbxg8MP5p3cSDvpvlZpPd\n3sP7j5iGXGqDfha8KlrQ+Fq+mVQhqm8mgFzgWmgz6N3mLgXyr3DzDWqXxzOspc0O\nkeWWscC1A3wdyNHMRpq4O9siStH0SncFlnMbPluz4BAH9ITov6pqsV3e9nAVRzGs\n3pURbUi3ybPS4MZoxgzTei8Sf+GwpUIG9ZYkuVjjM0kYLu8vpjcM+ViwXPf93NVi\nN2ON3vyD7wwG0E2uQrfZBNSCXbtUYY58uqBoe3EDqAak7Mvcfmrf4Y7TCKxZN6do\nwcv9E07DIcebZIjkH6BZRkTWfpqJ2kapsCIAxBYCL5odN2QWskh2Rlgxa4C5Iw0R\n04zrtBXi7H2UWrW7DLaJ3baUNn1nWzVU3F0ERWVv4JNr3MuVl8KVDEhD7tFAKqZC\nSBvQhMob+Swkgy9z7thg\n=Cg+b\n-----END PGP SIGNATURE-----\n",
        "payload": "tree 123bba78ee223f450c73a4ef863409dc825cf93c\nparent 211e63e79d1a8d7ddc0e6b819046acee595fc220\nparent 0e78dab4423beadbb506ae9881d0f3fc40764bd8\nauthor Javier Ram\u00edrez <72883779+javramnun@users.noreply.github.com> 1734510111 +0100\ncommitter GitHub <noreply@github.com> 1734510111 +0100\n\nMerge pull request #47 from chipi-hub-team/feat/change-upload-dataset-button\n\nfeat: Add name button",
        "verified_at": "2024-12-18T08:21:59Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/41937fbe1324413932034666c9d56a762765e24b",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/41937fbe1324413932034666c9d56a762765e24b",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/41937fbe1324413932034666c9d56a762765e24b/comments",
    "author": {
      "login": "javramnun",
      "id": 72883779,
      "node_id": "MDQ6VXNlcjcyODgzNzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72883779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javramnun",
      "html_url": "https://github.com/javramnun",
      "followers_url": "https://api.github.com/users/javramnun/followers",
      "following_url": "https://api.github.com/users/javramnun/following{/other_user}",
      "gists_url": "https://api.github.com/users/javramnun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javramnun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javramnun/subscriptions",
      "organizations_url": "https://api.github.com/users/javramnun/orgs",
      "repos_url": "https://api.github.com/users/javramnun/repos",
      "events_url": "https://api.github.com/users/javramnun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javramnun/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "211e63e79d1a8d7ddc0e6b819046acee595fc220",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/211e63e79d1a8d7ddc0e6b819046acee595fc220",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/211e63e79d1a8d7ddc0e6b819046acee595fc220"
      },
      {
        "sha": "0e78dab4423beadbb506ae9881d0f3fc40764bd8",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/0e78dab4423beadbb506ae9881d0f3fc40764bd8",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/0e78dab4423beadbb506ae9881d0f3fc40764bd8"
      }
    ],
    "files": [
      {
        "sha": "a4498c436c23072a57c7b209cd9ce728cbafa11e",
        "filename": "app/modules/dataset/templates/dataset/list_datasets.html",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/41937fbe1324413932034666c9d56a762765e24b/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/41937fbe1324413932034666c9d56a762765e24b/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html?ref=41937fbe1324413932034666c9d56a762765e24b",
        "patch": "@@ -69,7 +69,7 @@ <h5 class=\"card-title mb-0\">No datasets found</h5>\n                         You don't have unpublished datasets\n                     </p>\n                     <a href=\"{{ url_for('dataset.create_dataset') }}\" class=\"btn btn-primary\">\n-                        Upload dataset</a>\n+                        Create dataset</a>\n                 </div>\n             </div>\n         </div>"
      }
    ]
  },
  {
    "sha": "0e78dab4423beadbb506ae9881d0f3fc40764bd8",
    "node_id": "C_kwDONBuXkNoAKDBlNzhkYWI0NDIzYmVhZGJiNTA2YWU5ODgxZDBmM2ZjNDA3NjRiZDg",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-18T08:16:40Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-18T08:16:40Z"
      },
      "message": "feat: Add name button\n\nRenamed button to macth client description",
      "tree": {
        "sha": "123bba78ee223f450c73a4ef863409dc825cf93c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/123bba78ee223f450c73a4ef863409dc825cf93c"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/0e78dab4423beadbb506ae9881d0f3fc40764bd8",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/0e78dab4423beadbb506ae9881d0f3fc40764bd8",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/0e78dab4423beadbb506ae9881d0f3fc40764bd8",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/0e78dab4423beadbb506ae9881d0f3fc40764bd8/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "211e63e79d1a8d7ddc0e6b819046acee595fc220",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/211e63e79d1a8d7ddc0e6b819046acee595fc220",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/211e63e79d1a8d7ddc0e6b819046acee595fc220"
      }
    ],
    "files": [
      {
        "sha": "a4498c436c23072a57c7b209cd9ce728cbafa11e",
        "filename": "app/modules/dataset/templates/dataset/list_datasets.html",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/0e78dab4423beadbb506ae9881d0f3fc40764bd8/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/0e78dab4423beadbb506ae9881d0f3fc40764bd8/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html?ref=0e78dab4423beadbb506ae9881d0f3fc40764bd8",
        "patch": "@@ -69,7 +69,7 @@ <h5 class=\"card-title mb-0\">No datasets found</h5>\n                         You don't have unpublished datasets\n                     </p>\n                     <a href=\"{{ url_for('dataset.create_dataset') }}\" class=\"btn btn-primary\">\n-                        Upload dataset</a>\n+                        Create dataset</a>\n                 </div>\n             </div>\n         </div>"
      }
    ]
  },
  {
    "sha": "211e63e79d1a8d7ddc0e6b819046acee595fc220",
    "node_id": "C_kwDONBuXkNoAKDIxMWU2M2U3OWQxYThkN2RkYzBlNmI4MTkwNDZhY2VlNTk1ZmMyMjA",
    "commit": {
      "author": {
        "name": "Gon",
        "email": "92763979+gonnavrem@users.noreply.github.com",
        "date": "2024-12-17T23:00:03Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-12-17T23:00:03Z"
      },
      "message": "Merge pull request #45 from chipi-hub-team/hotfix\n\nfix: fix file upload",
      "tree": {
        "sha": "7eef61e2a60fe1ab1f5c19bde33b99e3baad2851",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/7eef61e2a60fe1ab1f5c19bde33b99e3baad2851"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/211e63e79d1a8d7ddc0e6b819046acee595fc220",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnYgJzCRC1aQ7uu5UhlAAA4hoQAJWMPIzqweagFY4lpxsHNWHr\nOyIpgP5DFa2G3y2YdfrvQykbeyIm47xcJiFi2YNT3ruptiL4O1o66Sr7HoCg8pjn\n7tWxnADs0k+VzgQyUKvbEiSrViy69OTXGsw2yEUORNIpRrFUTyFkON2EQTv7bwxN\n6Pf6O2Y8x8xGdRP7lfhk3/NAien92QNgY4z23QpCnmFG47bh4CM5mZZvVYmfcR0K\n3wlfKckGoTa640j1LUz+Gkq6tVbCNKHqxmSGiC/MhLQUn3rfvQwduz1ujxBW0F/o\n/UHzJ21rAGW0yY+tpqoYmHwTnKed7CXpzOE04R5y6uQu50Gq2G3BZV6NlBSJFeM9\nkMJXZexYlpOQ4Scfbfk7Q0BEC05zSH1g5MPUtqXbIHvT4hw3c65x04I+VQz8T0kN\n4tg/B7BqjCHXVEmqkvZuS54/jYHF5Y455kBOoonSu89/TybPONwsdG6xvffrF1GS\nmLf3D9i3RGwE6GIH4+mVvjb6nT2zfU0thx1RmgoCrN5SLJb5atR4Y4UNBpac0rrQ\nuxAGKnt1ccpyF05pVXm6Lakix5H/b3YXFFFDo8N+0tTmEIPOX+sUOxbLZUOcTnHA\nKXtRVa6hFnaJAQ2yG14p/ARfO1kKEIDC5jmZAnITh5ZcsKl8uPAAyhkv7k/DThVV\ndGsVhqs9ZFi6wlUxQYal\n=IFv6\n-----END PGP SIGNATURE-----\n",
        "payload": "tree 7eef61e2a60fe1ab1f5c19bde33b99e3baad2851\nparent f4698eb71718ab369b4f929ed6789eedc9ffc825\nparent 82ab6ffc8e3d96fe6497b8549c6393e8fe04de80\nauthor Gon <92763979+gonnavrem@users.noreply.github.com> 1734476403 +0100\ncommitter GitHub <noreply@github.com> 1734476403 +0100\n\nMerge pull request #45 from chipi-hub-team/hotfix\n\nfix: fix file upload",
        "verified_at": "2024-12-17T23:00:32Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/211e63e79d1a8d7ddc0e6b819046acee595fc220",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/211e63e79d1a8d7ddc0e6b819046acee595fc220",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/211e63e79d1a8d7ddc0e6b819046acee595fc220/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f4698eb71718ab369b4f929ed6789eedc9ffc825",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f4698eb71718ab369b4f929ed6789eedc9ffc825",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/f4698eb71718ab369b4f929ed6789eedc9ffc825"
      },
      {
        "sha": "82ab6ffc8e3d96fe6497b8549c6393e8fe04de80",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/82ab6ffc8e3d96fe6497b8549c6393e8fe04de80",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/82ab6ffc8e3d96fe6497b8549c6393e8fe04de80"
      }
    ],
    "files": [
      {
        "sha": "db5c09354a71d272cbc500a2f869672bef59e57a",
        "filename": "app/modules/auth/services.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/211e63e79d1a8d7ddc0e6b819046acee595fc220/app%2Fmodules%2Fauth%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/211e63e79d1a8d7ddc0e6b819046acee595fc220/app%2Fmodules%2Fauth%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fservices.py?ref=211e63e79d1a8d7ddc0e6b819046acee595fc220",
        "patch": "@@ -96,7 +96,7 @@ def get_authenticated_user_profile(self) -> UserProfile | None:\n         return None\n \n     def temp_folder_by_user(self, user: User) -> str:\n-        return os.path.join(uploads_folder_name, \"temp\", str(user.id))\n+        return os.path.join(uploads_folder_name(), \"temp\", str(user.id))\n \n     def send_email(self, target_email, random_key):\n         print(\"Intentando enviar correo a\", target_email)"
      }
    ]
  },
  {
    "sha": "82ab6ffc8e3d96fe6497b8549c6393e8fe04de80",
    "node_id": "C_kwDONBuXkNoAKDgyYWI2ZmZjOGUzZDk2ZmU2NDk3Yjg1NDljNjM5M2U4ZmUwNGRlODA",
    "commit": {
      "author": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-17T22:56:41Z"
      },
      "committer": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-17T22:56:41Z"
      },
      "message": "fix: fix file upload",
      "tree": {
        "sha": "7eef61e2a60fe1ab1f5c19bde33b99e3baad2851",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/7eef61e2a60fe1ab1f5c19bde33b99e3baad2851"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/82ab6ffc8e3d96fe6497b8549c6393e8fe04de80",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/82ab6ffc8e3d96fe6497b8549c6393e8fe04de80",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/82ab6ffc8e3d96fe6497b8549c6393e8fe04de80",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/82ab6ffc8e3d96fe6497b8549c6393e8fe04de80/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f4698eb71718ab369b4f929ed6789eedc9ffc825",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f4698eb71718ab369b4f929ed6789eedc9ffc825",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/f4698eb71718ab369b4f929ed6789eedc9ffc825"
      }
    ],
    "files": [
      {
        "sha": "db5c09354a71d272cbc500a2f869672bef59e57a",
        "filename": "app/modules/auth/services.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/82ab6ffc8e3d96fe6497b8549c6393e8fe04de80/app%2Fmodules%2Fauth%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/82ab6ffc8e3d96fe6497b8549c6393e8fe04de80/app%2Fmodules%2Fauth%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fservices.py?ref=82ab6ffc8e3d96fe6497b8549c6393e8fe04de80",
        "patch": "@@ -96,7 +96,7 @@ def get_authenticated_user_profile(self) -> UserProfile | None:\n         return None\n \n     def temp_folder_by_user(self, user: User) -> str:\n-        return os.path.join(uploads_folder_name, \"temp\", str(user.id))\n+        return os.path.join(uploads_folder_name(), \"temp\", str(user.id))\n \n     def send_email(self, target_email, random_key):\n         print(\"Intentando enviar correo a\", target_email)"
      }
    ]
  },
  {
    "sha": "f4698eb71718ab369b4f929ed6789eedc9ffc825",
    "node_id": "C_kwDONBuXkNoAKGY0Njk4ZWI3MTcxOGFiMzY5YjRmOTI5ZWQ2Nzg5ZWVkYzlmZmM4MjU",
    "commit": {
      "author": {
        "name": "YatoDev",
        "email": "59254702+Yato03@users.noreply.github.com",
        "date": "2024-12-17T22:44:37Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-12-17T22:44:37Z"
      },
      "message": "Merge pull request #42 from chipi-hub-team/fix/migrations\n\nchore: reset migrations",
      "tree": {
        "sha": "0b09f92bf06373ecfc2a33af5cf00ff890dd0990",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/0b09f92bf06373ecfc2a33af5cf00ff890dd0990"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/f4698eb71718ab369b4f929ed6789eedc9ffc825",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnYf7VCRC1aQ7uu5UhlAAAOScQAJ3uxODX1qDTO2c6gt8Qgacl\n8NZHsvmtg/l+u3cjs7Rxy4HIhhPjeR0vtXzGbTofOEhA5PZVjwZuzpoP5NtnqseL\nwGC3YgHEEHV3LvR0ot8SDV1CzO6Rl3xHsL3xnrqEZeRijI4Uei87A+zNYxtldUw5\nbW7G3/YCcw7MYzYr37vGWpU/vM+kRc/z8cTW8Y2Ws9VlATT5m/xMQ08efH2gMR4J\nkXREBonYfNA9D65MItykyEoUqHrys4tz4Ke6cNsFWGCHXL5HvhN2OGwStxL0RTi9\nDi/v9fcfZHbZBOInefpt6WgOA5GqUD6iIycHZTcuEokeNfr8f1+vSlQVDZcESYty\n0DW2jr0y4AHdWfgT1FXUmW6sw8J0oWOQjqVBkkDUSaxjfLURh44RqYcEYsSShJNZ\nC/elLzjissRVRn8Qb2PsrmWIzEVupvi95eZp0jHoYlaV08P2PgboYSoF6872UG+/\nPsi6xdBWGoauTmSeWt3Z94L+PlQbGcuOOIUmd+QoECMTPDlV3eo3hF7RWAQoKCgX\n8YuuEkmZieZv+LPhFgDLMpg6hwNmkx/8FMU/3R+XDpK0SZtvllDXMhWphqm/b58Y\nznHvqCWaIprvhkbYYHxErBvX8AL/FQYCzNhtu2VAnZ3cmZYK8Tw5z0jPjpZjs5w0\nwVLUxXVhJmtcjkCAMMqX\n=U4as\n-----END PGP SIGNATURE-----\n",
        "payload": "tree 0b09f92bf06373ecfc2a33af5cf00ff890dd0990\nparent 27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4\nparent 819f606c11c992510c5af2da29920cb6cf427d3c\nauthor YatoDev <59254702+Yato03@users.noreply.github.com> 1734475477 +0100\ncommitter GitHub <noreply@github.com> 1734475477 +0100\n\nMerge pull request #42 from chipi-hub-team/fix/migrations\n\nchore: reset migrations",
        "verified_at": "2024-12-17T22:45:12Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f4698eb71718ab369b4f929ed6789eedc9ffc825",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/f4698eb71718ab369b4f929ed6789eedc9ffc825",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f4698eb71718ab369b4f929ed6789eedc9ffc825/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4"
      },
      {
        "sha": "819f606c11c992510c5af2da29920cb6cf427d3c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/819f606c11c992510c5af2da29920cb6cf427d3c",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/819f606c11c992510c5af2da29920cb6cf427d3c"
      }
    ],
    "files": [
      {
        "sha": "d7b0e62c7dcf3de68c22ab518d3990afc6957cf6",
        "filename": "migrations/versions/409208c1be49_added_active_column.py",
        "status": "removed",
        "additions": 0,
        "deletions": 32,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2F409208c1be49_added_active_column.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2F409208c1be49_added_active_column.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F409208c1be49_added_active_column.py?ref=27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
        "patch": "@@ -1,32 +0,0 @@\n-\"\"\"Added active column\n-\n-Revision ID: 409208c1be49\n-Revises: 47b26adae59f\n-Create Date: 2024-12-13 19:26:52.889281\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-\n-\n-# revision identifiers, used by Alembic.\n-revision = '409208c1be49'\n-down_revision = '47b26adae59f'\n-branch_labels = None\n-depends_on = None\n-\n-\n-def upgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('user', schema=None) as batch_op:\n-        batch_op.add_column(sa.Column('active', sa.Boolean(), nullable=False))\n-\n-    # ### end Alembic commands ###\n-\n-\n-def downgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('user', schema=None) as batch_op:\n-        batch_op.drop_column('active')\n-\n-    # ### end Alembic commands ###"
      },
      {
        "sha": "f448760ec3b5291b08a71675749adbedb7210915",
        "filename": "migrations/versions/47b26adae59f_inicial.py",
        "status": "removed",
        "additions": 0,
        "deletions": 35,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2F47b26adae59f_inicial.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2F47b26adae59f_inicial.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F47b26adae59f_inicial.py?ref=27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
        "patch": "@@ -1,35 +0,0 @@\n-\"\"\"Inicial\n-\n-Revision ID: 47b26adae59f\n-Revises: 001\n-Create Date: 2024-11-12 17:30:20.988651\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-from sqlalchemy.dialects import mysql\n-\n-# revision identifiers, used by Alembic.\n-revision = '47b26adae59f'\n-down_revision = '001'\n-branch_labels = None\n-depends_on = None\n-\n-\n-def upgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('user', schema=None) as batch_op:\n-        batch_op.drop_column('confirmed_on')\n-        batch_op.drop_column('is_confirmed')\n-\n-    # ### end Alembic commands ###\n-\n-\n-def downgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('user', schema=None) as batch_op:\n-        batch_op.add_column(sa.Column('is_confirmed', mysql.TINYINT(display_width=1), autoincrement=False,\n-                                      nullable=False))\n-        batch_op.add_column(sa.Column('confirmed_on', mysql.DATETIME(), nullable=True))\n-\n-    # ### end Alembic commands ###"
      },
      {
        "sha": "8cac4e868cdd26a246d51612557b89593e99c27f",
        "filename": "migrations/versions/5e691cbc6265_quitar_columna_active.py",
        "status": "removed",
        "additions": 0,
        "deletions": 32,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2F5e691cbc6265_quitar_columna_active.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2F5e691cbc6265_quitar_columna_active.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F5e691cbc6265_quitar_columna_active.py?ref=27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
        "patch": "@@ -1,32 +0,0 @@\n-\"\"\"Quitar columna active\n-\n-Revision ID: 5e691cbc6265\n-Revises: e1a48b0fba37\n-Create Date: 2024-12-15 01:07:30.443842\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-from sqlalchemy.dialects import mysql\n-\n-# revision identifiers, used by Alembic.\n-revision = '5e691cbc6265'\n-down_revision = 'e1a48b0fba37'\n-branch_labels = None\n-depends_on = None\n-\n-\n-def upgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('user', schema=None) as batch_op:\n-        batch_op.drop_column('active')\n-\n-    # ### end Alembic commands ###\n-\n-\n-def downgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('user', schema=None) as batch_op:\n-        batch_op.add_column(sa.Column('active', mysql.TINYINT(display_width=1), autoincrement=False, nullable=False))\n-\n-    # ### end Alembic commands ###"
      },
      {
        "sha": "9198519744a98dfc3e173aba2b4560a41891bfc4",
        "filename": "migrations/versions/7ec98d70c918_restarted_migration.py",
        "status": "renamed",
        "additions": 9,
        "deletions": 4,
        "changes": 13,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/f4698eb71718ab369b4f929ed6789eedc9ffc825/migrations%2Fversions%2F7ec98d70c918_restarted_migration.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/f4698eb71718ab369b4f929ed6789eedc9ffc825/migrations%2Fversions%2F7ec98d70c918_restarted_migration.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F7ec98d70c918_restarted_migration.py?ref=f4698eb71718ab369b4f929ed6789eedc9ffc825",
        "patch": "@@ -1,16 +1,16 @@\n-\"\"\"restart migrations\n+\"\"\"restarted_migration\n \n-Revision ID: 6cc26337d85f\n+Revision ID: 7ec98d70c918\n Revises: \n-Create Date: 2024-12-17 13:33:46.712100\n+Create Date: 2024-12-17 23:35:16.194704\n \n \"\"\"\n from alembic import op\n import sqlalchemy as sa\n \n \n # revision identifiers, used by Alembic.\n-revision = '6cc26337d85f'\n+revision = '7ec98d70c918'\n down_revision = None\n branch_labels = None\n depends_on = None\n@@ -50,6 +50,10 @@ def upgrade():\n     sa.PrimaryKeyConstraint('id'),\n     sa.UniqueConstraint('email')\n     )\n+    op.create_table('webhook',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n     op.create_table('zenodo',\n     sa.Column('id', sa.Integer(), nullable=False),\n     sa.PrimaryKeyConstraint('id')\n@@ -195,6 +199,7 @@ def downgrade():\n     op.drop_table('fm_meta_data')\n     op.drop_table('ds_meta_data')\n     op.drop_table('zenodo')\n+    op.drop_table('webhook')\n     op.drop_table('user')\n     op.drop_table('rating')\n     op.drop_table('fm_metrics')",
        "previous_filename": "migrations/versions/6cc26337d85f_restart_migrations.py"
      },
      {
        "sha": "40f7c83f3384063b95f36a51d183cb86b6831f44",
        "filename": "migrations/versions/e1a48b0fba37_a\u00f1adir_columna_active.py",
        "status": "removed",
        "additions": 0,
        "deletions": 49,
        "changes": 49,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2Fe1a48b0fba37_a%C3%B1adir_columna_active.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2Fe1a48b0fba37_a%C3%B1adir_columna_active.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2Fe1a48b0fba37_a%C3%B1adir_columna_active.py?ref=27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
        "patch": "@@ -1,49 +0,0 @@\n-\"\"\"A\u00f1adir columna active\n-\n-Revision ID: e1a48b0fba37\n-Revises: 409208c1be49\n-Create Date: 2024-12-14 12:41:25.662591\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-from sqlalchemy.dialects import mysql\n-\n-# revision identifiers, used by Alembic.\n-revision = 'e1a48b0fba37'\n-down_revision = '409208c1be49'\n-branch_labels = None\n-depends_on = None\n-\n-\n-def upgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    op.create_table('notepad',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('title', sa.String(length=256), nullable=False),\n-    sa.Column('body', sa.Text(), nullable=False),\n-    sa.Column('user_id', sa.Integer(), nullable=False),\n-    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.drop_table('webhook')\n-    with op.batch_alter_table('user', schema=None) as batch_op:\n-        batch_op.add_column(sa.Column('active', sa.Boolean(), nullable=False))\n-\n-    # ### end Alembic commands ###\n-\n-\n-def downgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('user', schema=None) as batch_op:\n-        batch_op.drop_column('active')\n-\n-    op.create_table('webhook',\n-    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n-    sa.PrimaryKeyConstraint('id'),\n-    mysql_collate='utf8mb4_general_ci',\n-    mysql_default_charset='utf8mb4',\n-    mysql_engine='InnoDB'\n-    )\n-    op.drop_table('notepad')\n-    # ### end Alembic commands ###"
      }
    ]
  },
  {
    "sha": "819f606c11c992510c5af2da29920cb6cf427d3c",
    "node_id": "C_kwDONBuXkNoAKDgxOWY2MDZjMTFjOTkyNTEwYzVhZjJkYTI5OTIwY2I2Y2Y0MjdkM2M",
    "commit": {
      "author": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-17T22:40:59Z"
      },
      "committer": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-17T22:40:59Z"
      },
      "message": "chore: reset migrations",
      "tree": {
        "sha": "0b09f92bf06373ecfc2a33af5cf00ff890dd0990",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/0b09f92bf06373ecfc2a33af5cf00ff890dd0990"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/819f606c11c992510c5af2da29920cb6cf427d3c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/819f606c11c992510c5af2da29920cb6cf427d3c",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/819f606c11c992510c5af2da29920cb6cf427d3c",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/819f606c11c992510c5af2da29920cb6cf427d3c/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4"
      }
    ],
    "files": [
      {
        "sha": "d7b0e62c7dcf3de68c22ab518d3990afc6957cf6",
        "filename": "migrations/versions/409208c1be49_added_active_column.py",
        "status": "removed",
        "additions": 0,
        "deletions": 32,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2F409208c1be49_added_active_column.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2F409208c1be49_added_active_column.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F409208c1be49_added_active_column.py?ref=27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
        "patch": "@@ -1,32 +0,0 @@\n-\"\"\"Added active column\n-\n-Revision ID: 409208c1be49\n-Revises: 47b26adae59f\n-Create Date: 2024-12-13 19:26:52.889281\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-\n-\n-# revision identifiers, used by Alembic.\n-revision = '409208c1be49'\n-down_revision = '47b26adae59f'\n-branch_labels = None\n-depends_on = None\n-\n-\n-def upgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('user', schema=None) as batch_op:\n-        batch_op.add_column(sa.Column('active', sa.Boolean(), nullable=False))\n-\n-    # ### end Alembic commands ###\n-\n-\n-def downgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('user', schema=None) as batch_op:\n-        batch_op.drop_column('active')\n-\n-    # ### end Alembic commands ###"
      },
      {
        "sha": "f448760ec3b5291b08a71675749adbedb7210915",
        "filename": "migrations/versions/47b26adae59f_inicial.py",
        "status": "removed",
        "additions": 0,
        "deletions": 35,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2F47b26adae59f_inicial.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2F47b26adae59f_inicial.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F47b26adae59f_inicial.py?ref=27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
        "patch": "@@ -1,35 +0,0 @@\n-\"\"\"Inicial\n-\n-Revision ID: 47b26adae59f\n-Revises: 001\n-Create Date: 2024-11-12 17:30:20.988651\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-from sqlalchemy.dialects import mysql\n-\n-# revision identifiers, used by Alembic.\n-revision = '47b26adae59f'\n-down_revision = '001'\n-branch_labels = None\n-depends_on = None\n-\n-\n-def upgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('user', schema=None) as batch_op:\n-        batch_op.drop_column('confirmed_on')\n-        batch_op.drop_column('is_confirmed')\n-\n-    # ### end Alembic commands ###\n-\n-\n-def downgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('user', schema=None) as batch_op:\n-        batch_op.add_column(sa.Column('is_confirmed', mysql.TINYINT(display_width=1), autoincrement=False,\n-                                      nullable=False))\n-        batch_op.add_column(sa.Column('confirmed_on', mysql.DATETIME(), nullable=True))\n-\n-    # ### end Alembic commands ###"
      },
      {
        "sha": "8cac4e868cdd26a246d51612557b89593e99c27f",
        "filename": "migrations/versions/5e691cbc6265_quitar_columna_active.py",
        "status": "removed",
        "additions": 0,
        "deletions": 32,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2F5e691cbc6265_quitar_columna_active.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2F5e691cbc6265_quitar_columna_active.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F5e691cbc6265_quitar_columna_active.py?ref=27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
        "patch": "@@ -1,32 +0,0 @@\n-\"\"\"Quitar columna active\n-\n-Revision ID: 5e691cbc6265\n-Revises: e1a48b0fba37\n-Create Date: 2024-12-15 01:07:30.443842\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-from sqlalchemy.dialects import mysql\n-\n-# revision identifiers, used by Alembic.\n-revision = '5e691cbc6265'\n-down_revision = 'e1a48b0fba37'\n-branch_labels = None\n-depends_on = None\n-\n-\n-def upgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('user', schema=None) as batch_op:\n-        batch_op.drop_column('active')\n-\n-    # ### end Alembic commands ###\n-\n-\n-def downgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('user', schema=None) as batch_op:\n-        batch_op.add_column(sa.Column('active', mysql.TINYINT(display_width=1), autoincrement=False, nullable=False))\n-\n-    # ### end Alembic commands ###"
      },
      {
        "sha": "9198519744a98dfc3e173aba2b4560a41891bfc4",
        "filename": "migrations/versions/7ec98d70c918_restarted_migration.py",
        "status": "renamed",
        "additions": 9,
        "deletions": 4,
        "changes": 13,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/819f606c11c992510c5af2da29920cb6cf427d3c/migrations%2Fversions%2F7ec98d70c918_restarted_migration.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/819f606c11c992510c5af2da29920cb6cf427d3c/migrations%2Fversions%2F7ec98d70c918_restarted_migration.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F7ec98d70c918_restarted_migration.py?ref=819f606c11c992510c5af2da29920cb6cf427d3c",
        "patch": "@@ -1,16 +1,16 @@\n-\"\"\"restart migrations\n+\"\"\"restarted_migration\n \n-Revision ID: 6cc26337d85f\n+Revision ID: 7ec98d70c918\n Revises: \n-Create Date: 2024-12-17 13:33:46.712100\n+Create Date: 2024-12-17 23:35:16.194704\n \n \"\"\"\n from alembic import op\n import sqlalchemy as sa\n \n \n # revision identifiers, used by Alembic.\n-revision = '6cc26337d85f'\n+revision = '7ec98d70c918'\n down_revision = None\n branch_labels = None\n depends_on = None\n@@ -50,6 +50,10 @@ def upgrade():\n     sa.PrimaryKeyConstraint('id'),\n     sa.UniqueConstraint('email')\n     )\n+    op.create_table('webhook',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n     op.create_table('zenodo',\n     sa.Column('id', sa.Integer(), nullable=False),\n     sa.PrimaryKeyConstraint('id')\n@@ -195,6 +199,7 @@ def downgrade():\n     op.drop_table('fm_meta_data')\n     op.drop_table('ds_meta_data')\n     op.drop_table('zenodo')\n+    op.drop_table('webhook')\n     op.drop_table('user')\n     op.drop_table('rating')\n     op.drop_table('fm_metrics')",
        "previous_filename": "migrations/versions/6cc26337d85f_restart_migrations.py"
      },
      {
        "sha": "40f7c83f3384063b95f36a51d183cb86b6831f44",
        "filename": "migrations/versions/e1a48b0fba37_a\u00f1adir_columna_active.py",
        "status": "removed",
        "additions": 0,
        "deletions": 49,
        "changes": 49,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2Fe1a48b0fba37_a%C3%B1adir_columna_active.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2Fe1a48b0fba37_a%C3%B1adir_columna_active.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2Fe1a48b0fba37_a%C3%B1adir_columna_active.py?ref=27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
        "patch": "@@ -1,49 +0,0 @@\n-\"\"\"A\u00f1adir columna active\n-\n-Revision ID: e1a48b0fba37\n-Revises: 409208c1be49\n-Create Date: 2024-12-14 12:41:25.662591\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-from sqlalchemy.dialects import mysql\n-\n-# revision identifiers, used by Alembic.\n-revision = 'e1a48b0fba37'\n-down_revision = '409208c1be49'\n-branch_labels = None\n-depends_on = None\n-\n-\n-def upgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    op.create_table('notepad',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('title', sa.String(length=256), nullable=False),\n-    sa.Column('body', sa.Text(), nullable=False),\n-    sa.Column('user_id', sa.Integer(), nullable=False),\n-    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.drop_table('webhook')\n-    with op.batch_alter_table('user', schema=None) as batch_op:\n-        batch_op.add_column(sa.Column('active', sa.Boolean(), nullable=False))\n-\n-    # ### end Alembic commands ###\n-\n-\n-def downgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('user', schema=None) as batch_op:\n-        batch_op.drop_column('active')\n-\n-    op.create_table('webhook',\n-    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n-    sa.PrimaryKeyConstraint('id'),\n-    mysql_collate='utf8mb4_general_ci',\n-    mysql_default_charset='utf8mb4',\n-    mysql_engine='InnoDB'\n-    )\n-    op.drop_table('notepad')\n-    # ### end Alembic commands ###"
      }
    ]
  },
  {
    "sha": "27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
    "node_id": "C_kwDONBuXkNoAKDI3YTAzNjcyZjZkNjczNzhkNzBmZDhlOWUxMWJhM2NjZmM4ZGJjYzQ",
    "commit": {
      "author": {
        "name": "Gon",
        "email": "92763979+gonnavrem@users.noreply.github.com",
        "date": "2024-12-17T22:08:57Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-12-17T22:08:57Z"
      },
      "message": "Merge pull request #40 from chipi-hub-team/fix/download-all-datasets\n\nFix/download all datasets",
      "tree": {
        "sha": "5b19949ec6ead32aed3f5d749e74d7d55aa2d4a0",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/5b19949ec6ead32aed3f5d749e74d7d55aa2d4a0"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnYfZ5CRC1aQ7uu5UhlAAAqE4QAKK+96vamGeF31BPNdUpWKE8\nKKRExibhVmK6AYV9F2Y1JGfsE1Xm/wrCFH4fgb2WjljuyKsvkRwB4+HCLy9gEHon\nzGyjKzbfZFzLQdv72xBoqLhDihGJLp4j7z90jaP4/AVYTSaXYYyGPq6DxL2MWYGn\noSmhS1qoENFOLmp481qD+ATfmNvEY2cGIUxqv4XSbzURiMe1c1Ax6adm+560LHoV\nd7kt0rmQPa0rkUZSvf6YITi9zu7/Eli1IWTUMb+KHjoR9p6a/Sc1IQPL6evQK06e\njAGhi2L81m7N4i28srzKCoHGsRx5NxHXKPkgCoqd3fePc3P68qJ0+wL76JteZvvg\nI9YGIV4U2D/w2A2SwFmyfDksbgwHsyUtFxXm88193j12BFZOeHs4/TwafLqk0iK7\ngy2wRaHrsoVfkpExKd7ST7a/eZQnr7Nx78lQu/+6iuPRCuxA5Mg0zhTiF2fdjcmD\nEnC7qY+OUIYugfnKL7+muJZ843pMNkb9CpK5pzr6ZWKV1EyDcmD2jiZA+J23fYUA\ndOIHMwaURxJbvcwVZbHPWiqm12/Nb6DKEyoss7+tROMNw+jU7dNynwsXh/zXpTrj\nKGQKYLiFkVgE/4H57Si1DIdMrlQbS30aTyKAeQ7puurau7ulUBQ7CDPmUq89j1OF\ns85305zIM1E5h2M8Lw5t\n=SAff\n-----END PGP SIGNATURE-----\n",
        "payload": "tree 5b19949ec6ead32aed3f5d749e74d7d55aa2d4a0\nparent 843e919564317f252b24503bcc0d0752fa7ee5a0\nparent 293cefc2e6b634853df8497866350b02ebc8c0eb\nauthor Gon <92763979+gonnavrem@users.noreply.github.com> 1734473337 +0100\ncommitter GitHub <noreply@github.com> 1734473337 +0100\n\nMerge pull request #40 from chipi-hub-team/fix/download-all-datasets\n\nFix/download all datasets",
        "verified_at": "2024-12-17T22:09:32Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "843e919564317f252b24503bcc0d0752fa7ee5a0",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/843e919564317f252b24503bcc0d0752fa7ee5a0",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/843e919564317f252b24503bcc0d0752fa7ee5a0"
      },
      {
        "sha": "293cefc2e6b634853df8497866350b02ebc8c0eb",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/293cefc2e6b634853df8497866350b02ebc8c0eb",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/293cefc2e6b634853df8497866350b02ebc8c0eb"
      }
    ],
    "files": [
      {
        "sha": "048a5e7e9bcc0d4095feccb437ad1a146c32f53e",
        "filename": "app/modules/dataset/repositories.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/app%2Fmodules%2Fdataset%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/app%2Fmodules%2Fdataset%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Frepositories.py?ref=27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
        "patch": "@@ -117,7 +117,7 @@ def latest_synchronized(self):\n         )\n \n     def get_all_datasets(self):\n-        return self.model.query.all()\n+        return self.model.query.join(DSMetaData).filter(DSMetaData.ds_status == Status.PUBLISHED).all()\n \n \n class DOIMappingRepository(BaseRepository):"
      },
      {
        "sha": "296852391220bf3899f574a8fc5f1db8246690cc",
        "filename": "migrations/versions/37853c4079e5_.py",
        "status": "removed",
        "additions": 0,
        "deletions": 51,
        "changes": 51,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/843e919564317f252b24503bcc0d0752fa7ee5a0/migrations%2Fversions%2F37853c4079e5_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/843e919564317f252b24503bcc0d0752fa7ee5a0/migrations%2Fversions%2F37853c4079e5_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F37853c4079e5_.py?ref=843e919564317f252b24503bcc0d0752fa7ee5a0",
        "patch": "@@ -1,51 +0,0 @@\n-\"\"\"empty message\n-\n-Revision ID: 37853c4079e5\n-Revises: 001\n-Create Date: 2024-12-03 13:48:39.432689\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-from sqlalchemy.dialects import mysql\n-\n-# revision identifiers, used by Alembic.\n-revision = '37853c4079e5'\n-down_revision = '001'\n-branch_labels = None\n-depends_on = None\n-\n-\n-def upgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    op.create_table('rating',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('dataset_id', sa.Integer(), nullable=False),\n-    sa.Column('model_id', sa.Integer(), nullable=True),\n-    sa.Column('user_id', sa.Integer(), nullable=False),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.create_table('notepad',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('title', sa.String(length=256), nullable=False),\n-    sa.Column('body', sa.Text(), nullable=False),\n-    sa.Column('user_id', sa.Integer(), nullable=False),\n-    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.drop_table('webhook')\n-    # ### end Alembic commands ###\n-\n-\n-def downgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    op.create_table('webhook',\n-    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n-    sa.PrimaryKeyConstraint('id'),\n-    mysql_collate='utf8mb4_general_ci',\n-    mysql_default_charset='utf8mb4',\n-    mysql_engine='InnoDB'\n-    )\n-    op.drop_table('notepad')\n-    op.drop_table('rating')\n-    # ### end Alembic commands ###"
      },
      {
        "sha": "3f84c51a17885aba24ebfd013e706cfb2abb09fc",
        "filename": "migrations/versions/3931fcdc68c7_.py",
        "status": "removed",
        "additions": 0,
        "deletions": 49,
        "changes": 49,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/843e919564317f252b24503bcc0d0752fa7ee5a0/migrations%2Fversions%2F3931fcdc68c7_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/843e919564317f252b24503bcc0d0752fa7ee5a0/migrations%2Fversions%2F3931fcdc68c7_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F3931fcdc68c7_.py?ref=843e919564317f252b24503bcc0d0752fa7ee5a0",
        "patch": "@@ -1,49 +0,0 @@\n-\"\"\"empty message\n-\n-Revision ID: 3931fcdc68c7\n-Revises: 001\n-Create Date: 2024-12-03 18:27:22.612897\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-from sqlalchemy.dialects import mysql\n-\n-# revision identifiers, used by Alembic.\n-revision = '3931fcdc68c7'\n-down_revision = '001'\n-branch_labels = None\n-depends_on = None\n-\n-\n-def upgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    op.create_table('notepad',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('title', sa.String(length=256), nullable=False),\n-    sa.Column('body', sa.Text(), nullable=False),\n-    sa.Column('user_id', sa.Integer(), nullable=False),\n-    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.drop_table('webhook')\n-    with op.batch_alter_table('ds_meta_data', schema=None) as batch_op:\n-        batch_op.add_column(sa.Column('ds_status', sa.Enum('UNPUBLISHED', 'PUBLISHED', name='status'), nullable=False))\n-\n-    # ### end Alembic commands ###\n-\n-\n-def downgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('ds_meta_data', schema=None) as batch_op:\n-        batch_op.drop_column('ds_status')\n-\n-    op.create_table('webhook',\n-    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n-    sa.PrimaryKeyConstraint('id'),\n-    mysql_collate='utf8mb4_general_ci',\n-    mysql_default_charset='utf8mb4',\n-    mysql_engine='InnoDB'\n-    )\n-    op.drop_table('notepad')\n-    # ### end Alembic commands ###"
      },
      {
        "sha": "58f0e87f47393ee18c9a55954a16e7b8e0182aae",
        "filename": "migrations/versions/6cc26337d85f_restart_migrations.py",
        "status": "renamed",
        "additions": 21,
        "deletions": 9,
        "changes": 30,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2F6cc26337d85f_restart_migrations.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4/migrations%2Fversions%2F6cc26337d85f_restart_migrations.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F6cc26337d85f_restart_migrations.py?ref=27a03672f6d67378d70fd8e9e11ba3ccfc8dbcc4",
        "patch": "@@ -1,16 +1,16 @@\n-\"\"\"first migration\n+\"\"\"restart migrations\n \n-Revision ID: 001\n+Revision ID: 6cc26337d85f\n Revises: \n-Create Date: 2024-09-08 16:50:20.326640\n+Create Date: 2024-12-17 13:33:46.712100\n \n \"\"\"\n from alembic import op\n import sqlalchemy as sa\n \n \n # revision identifiers, used by Alembic.\n-revision = '001'\n+revision = '6cc26337d85f'\n down_revision = None\n branch_labels = None\n depends_on = None\n@@ -36,6 +36,12 @@ def upgrade():\n     sa.Column('not_solver', sa.Text(), nullable=True),\n     sa.PrimaryKeyConstraint('id')\n     )\n+    op.create_table('rating',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('dataset_id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n     op.create_table('user',\n     sa.Column('id', sa.Integer(), nullable=False),\n     sa.Column('email', sa.String(length=256), nullable=False),\n@@ -44,10 +50,6 @@ def upgrade():\n     sa.PrimaryKeyConstraint('id'),\n     sa.UniqueConstraint('email')\n     )\n-    op.create_table('webhook',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n     op.create_table('zenodo',\n     sa.Column('id', sa.Integer(), nullable=False),\n     sa.PrimaryKeyConstraint('id')\n@@ -62,6 +64,7 @@ def upgrade():\n     sa.Column('dataset_doi', sa.String(length=120), nullable=True),\n     sa.Column('tags', sa.String(length=120), nullable=True),\n     sa.Column('ds_metrics_id', sa.Integer(), nullable=True),\n+    sa.Column('ds_status', sa.Enum('UNPUBLISHED', 'PUBLISHED', name='status'), nullable=False),\n     sa.ForeignKeyConstraint(['ds_metrics_id'], ['ds_metrics.id'], ),\n     sa.PrimaryKeyConstraint('id')\n     )\n@@ -78,6 +81,14 @@ def upgrade():\n     sa.ForeignKeyConstraint(['fm_metrics_id'], ['fm_metrics.id'], ),\n     sa.PrimaryKeyConstraint('id')\n     )\n+    op.create_table('notepad',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('title', sa.String(length=256), nullable=False),\n+    sa.Column('body', sa.Text(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n     op.create_table('user_profile',\n     sa.Column('id', sa.Integer(), nullable=False),\n     sa.Column('user_id', sa.Integer(), nullable=False),\n@@ -180,11 +191,12 @@ def downgrade():\n     op.drop_table('data_set')\n     op.drop_table('author')\n     op.drop_table('user_profile')\n+    op.drop_table('notepad')\n     op.drop_table('fm_meta_data')\n     op.drop_table('ds_meta_data')\n     op.drop_table('zenodo')\n-    op.drop_table('webhook')\n     op.drop_table('user')\n+    op.drop_table('rating')\n     op.drop_table('fm_metrics')\n     op.drop_table('ds_metrics')\n     op.drop_table('doi_mapping')",
        "previous_filename": "migrations/versions/001.py"
      },
      {
        "sha": "5c7ddcf0e72668b59afa29a571306b0405919a96",
        "filename": "migrations/versions/ba7297057859_.py",
        "status": "removed",
        "additions": 0,
        "deletions": 59,
        "changes": 59,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/843e919564317f252b24503bcc0d0752fa7ee5a0/migrations%2Fversions%2Fba7297057859_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/843e919564317f252b24503bcc0d0752fa7ee5a0/migrations%2Fversions%2Fba7297057859_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2Fba7297057859_.py?ref=843e919564317f252b24503bcc0d0752fa7ee5a0",
        "patch": "@@ -1,59 +0,0 @@\n-\"\"\"empty message\n-\n-Revision ID: ba7297057859\n-Revises: f5d9fcd69235\n-Create Date: 2024-12-09 12:07:24.556213\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-from sqlalchemy.dialects import mysql\n-\n-# revision identifiers, used by Alembic.\n-revision = 'ba7297057859'\n-down_revision = 'f5d9fcd69235'\n-branch_labels = None\n-depends_on = None\n-\n-\n-def upgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    op.create_table('rating',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('dataset_id', sa.Integer(), nullable=False),\n-    sa.Column('user_id', sa.Integer(), nullable=False),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.drop_table('feature_model_ratings')\n-    op.drop_table('dataset_ratings')\n-    # ### end Alembic commands ###\n-\n-\n-def downgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    op.create_table('dataset_ratings',\n-    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n-    sa.Column('dataset_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n-    sa.Column('user_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n-    sa.Column('rating', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n-    sa.ForeignKeyConstraint(['dataset_id'], ['data_set.id'], name='dataset_ratings_ibfk_1'),\n-    sa.ForeignKeyConstraint(['user_id'], ['user.id'], name='dataset_ratings_ibfk_2'),\n-    sa.PrimaryKeyConstraint('id'),\n-    mysql_collate='utf8mb4_general_ci',\n-    mysql_default_charset='utf8mb4',\n-    mysql_engine='InnoDB'\n-    )\n-    op.create_table('feature_model_ratings',\n-    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n-    sa.Column('feature_model_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n-    sa.Column('user_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n-    sa.Column('rating', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n-    sa.ForeignKeyConstraint(['feature_model_id'], ['feature_model.id'], name='feature_model_ratings_ibfk_1'),\n-    sa.ForeignKeyConstraint(['user_id'], ['user.id'], name='feature_model_ratings_ibfk_2'),\n-    sa.PrimaryKeyConstraint('id'),\n-    mysql_collate='utf8mb4_general_ci',\n-    mysql_default_charset='utf8mb4',\n-    mysql_engine='InnoDB'\n-    )\n-    op.drop_table('rating')\n-    # ### end Alembic commands ###"
      },
      {
        "sha": "f0687e5e7fe3d0f69805822900729dc87f40b01a",
        "filename": "migrations/versions/f5d9fcd69235_.py",
        "status": "removed",
        "additions": 0,
        "deletions": 32,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/843e919564317f252b24503bcc0d0752fa7ee5a0/migrations%2Fversions%2Ff5d9fcd69235_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/843e919564317f252b24503bcc0d0752fa7ee5a0/migrations%2Fversions%2Ff5d9fcd69235_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2Ff5d9fcd69235_.py?ref=843e919564317f252b24503bcc0d0752fa7ee5a0",
        "patch": "@@ -1,32 +0,0 @@\n-\"\"\"empty message\n-\n-Revision ID: f5d9fcd69235\n-Revises: 37853c4079e5\n-Create Date: 2024-12-04 17:18:27.045262\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-from sqlalchemy.dialects import mysql\n-\n-# revision identifiers, used by Alembic.\n-revision = 'f5d9fcd69235'\n-down_revision = '37853c4079e5'\n-branch_labels = None\n-depends_on = None\n-\n-\n-def upgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('rating', schema=None) as batch_op:\n-        batch_op.drop_column('model_id')\n-\n-    # ### end Alembic commands ###\n-\n-\n-def downgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('rating', schema=None) as batch_op:\n-        batch_op.add_column(sa.Column('model_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True))\n-\n-    # ### end Alembic commands ###"
      }
    ]
  },
  {
    "sha": "843e919564317f252b24503bcc0d0752fa7ee5a0",
    "node_id": "C_kwDONBuXkNoAKDg0M2U5MTk1NjQzMTdmMjUyYjI0NTAzYmNjMGQwNzUyZmE3ZWU1YTA",
    "commit": {
      "author": {
        "name": "Sergio Pons",
        "email": "92800868+sergiopons-1@users.noreply.github.com",
        "date": "2024-12-17T19:48:45Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-12-17T19:48:45Z"
      },
      "message": "Merge pull request #36 from chipi-hub-team/feat/sign-up-validation\n\nFeat: sign up validation",
      "tree": {
        "sha": "673bea3fb17d4783fd9c9879dcfa44f5f12853c6",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/673bea3fb17d4783fd9c9879dcfa44f5f12853c6"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/843e919564317f252b24503bcc0d0752fa7ee5a0",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnYdWdCRC1aQ7uu5UhlAAAEVkQAGuhLOVmQAk34g4d/LT41Wa8\n3ERwXbdqRZGEmAXtI3KjtQfqFfYX1Z0FsmFhy9AtWuhjelBM83SWfRxtKsQ9R4EJ\naIX9OpoOV8lfLqSjqUZkKJSbJqnkWYS1d6Kxj2ReWz6RxjiRxC8UEHtayOwfeOlp\nJpSAzMexlwCYbwjWahuWSibSBmfm1RbL3xcfsHFvJ17bgI4doL5DgiALY1H4mLRh\n/4ElgvGTzyboUwHWERET0vVygS6bO4tnk+Hsz7KaGQ0oV601hB5oYSUZlPee1//C\ntTs3UX/cTkgnIh9DCL7yN1J2tgU40A5UkXZ/sFLhVo6bacC2v+pXxB94D/K4DB01\n1bQB8RNeb17jcb5kRyTtpoNT83ErAlrA2zGScQ06r5fA/zDgxbnj7uAVq4p7jAI0\nfI1Nixpb1BieV1VXX6wn61ZVus0BugspEHqweRgVB+JR52dDeyNTabA1NSlKf6Ja\nE6fcxbb4LVTQM7wAnEbsBCzB69FEKGaRFSrM3DTgRXUymyoo9JKOZx54PKKXN6Q9\nIlOK+NL5KdlFqNu6+KaWFHvqqDjNKplejVVpaAS5Dud57E55bnY11e2h2up3WiHo\nXyZX3GCTPotzOaMxS8FmKMGNl1+10BEjXuvZDCrWSExeShlDX3gyp4m5lIG9CGt1\n8Y97LZRyUmWWNjF/xo8x\n=6Guj\n-----END PGP SIGNATURE-----\n",
        "payload": "tree 673bea3fb17d4783fd9c9879dcfa44f5f12853c6\nparent 14f74ecc2ac5b85a143419204cb33cf271503274\nparent b20c4dc40cdb7ee875792ebf476ac91d2010c379\nauthor Sergio Pons <92800868+sergiopons-1@users.noreply.github.com> 1734464925 +0100\ncommitter GitHub <noreply@github.com> 1734464925 +0100\n\nMerge pull request #36 from chipi-hub-team/feat/sign-up-validation\n\nFeat: sign up validation",
        "verified_at": "2024-12-17T19:49:12Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/843e919564317f252b24503bcc0d0752fa7ee5a0",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/843e919564317f252b24503bcc0d0752fa7ee5a0",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/843e919564317f252b24503bcc0d0752fa7ee5a0/comments",
    "author": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "14f74ecc2ac5b85a143419204cb33cf271503274",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/14f74ecc2ac5b85a143419204cb33cf271503274",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/14f74ecc2ac5b85a143419204cb33cf271503274"
      },
      {
        "sha": "b20c4dc40cdb7ee875792ebf476ac91d2010c379",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b20c4dc40cdb7ee875792ebf476ac91d2010c379",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/b20c4dc40cdb7ee875792ebf476ac91d2010c379"
      }
    ],
    "files": [
      {
        "sha": "249127ade685232b81711501e88c0f9b2c5a81cb",
        "filename": ".env.local.example",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/843e919564317f252b24503bcc0d0752fa7ee5a0/.env.local.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/843e919564317f252b24503bcc0d0752fa7ee5a0/.env.local.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.env.local.example?ref=843e919564317f252b24503bcc0d0752fa7ee5a0",
        "patch": "@@ -9,3 +9,4 @@ MARIADB_USER=uvlhubdb_user\n MARIADB_PASSWORD=uvlhubdb_password\n MARIADB_ROOT_PASSWORD=uvlhubdb_root_password\n WORKING_DIR=\"\"\n+UVLHUB_EMAIL_PASSWORD=\"dvfn cerv ussd glzy \"\n\\ No newline at end of file"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": ".moduleignore",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/843e919564317f252b24503bcc0d0752fa7ee5a0/.moduleignore",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/843e919564317f252b24503bcc0d0752fa7ee5a0/.moduleignore",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.moduleignore?ref=843e919564317f252b24503bcc0d0752fa7ee5a0",
        "patch": "@@ -1 +0,0 @@\n-webhook\n\\ No newline at end of file"
      },
      {
        "sha": "0647ed9e428074196aac41c36b1c6f9325f2cf8f",
        "filename": "app/modules/auth/forms.py",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/843e919564317f252b24503bcc0d0752fa7ee5a0/app%2Fmodules%2Fauth%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/843e919564317f252b24503bcc0d0752fa7ee5a0/app%2Fmodules%2Fauth%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fforms.py?ref=843e919564317f252b24503bcc0d0752fa7ee5a0",
        "patch": "@@ -16,3 +16,9 @@ class LoginForm(FlaskForm):\n     password = PasswordField('Password', validators=[DataRequired()])\n     remember_me = BooleanField('Remember me')\n     submit = SubmitField('Login')\n+\n+\n+class ValidateEmailForm(FlaskForm):\n+    email = StringField('Email', validators=[DataRequired()])\n+    key = StringField('Key', validators=[DataRequired()])\n+    submit = SubmitField('Validate Email')"
      },
      {
        "sha": "403ba3f0749ae3a7184c40a1a6b29d34599e3d96",
        "filename": "app/modules/auth/routes.py",
        "status": "modified",
        "additions": 58,
        "deletions": 12,
        "changes": 70,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/843e919564317f252b24503bcc0d0752fa7ee5a0/app%2Fmodules%2Fauth%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/843e919564317f252b24503bcc0d0752fa7ee5a0/app%2Fmodules%2Fauth%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Froutes.py?ref=843e919564317f252b24503bcc0d0752fa7ee5a0",
        "patch": "@@ -1,11 +1,12 @@\n-from flask import render_template, redirect, url_for, request\n-from flask_login import current_user, login_user, logout_user\n+from flask import render_template, redirect, session, url_for, request, make_response\n+from flask_login import current_user, logout_user\n \n from app.modules.auth import auth_bp\n-from app.modules.auth.forms import SignupForm, LoginForm\n+from app.modules.auth.forms import SignupForm, LoginForm, ValidateEmailForm\n from app.modules.auth.services import AuthenticationService\n from app.modules.profile.services import UserProfileService\n-\n+import pyotp\n+import os\n \n authentication_service = AuthenticationService()\n user_profile_service = UserProfileService()\n@@ -19,17 +20,19 @@ def show_signup_form():\n     form = SignupForm()\n     if form.validate_on_submit():\n         email = form.email.data\n-        if not authentication_service.is_email_available(email):\n+        password = form.password.data\n+        if not authentication_service.is_email_valid(email):\n             return render_template(\"auth/signup_form.html\", form=form, error=f'Email {email} in use')\n \n         try:\n-            user = authentication_service.create_with_profile(**form.data)\n+            authentication_service.create_with_profile(**form.data)\n         except Exception as exc:\n             return render_template(\"auth/signup_form.html\", form=form, error=f'Error creating user: {exc}')\n \n-        # Log user\n-        login_user(user, remember=True)\n-        return redirect(url_for('public.index'))\n+        response = make_response(redirect(url_for('auth.validate_email')))\n+        session['email'] = email\n+        session['password'] = password\n+        return response\n \n     return render_template(\"auth/signup_form.html\", form=form)\n \n@@ -41,15 +44,58 @@ def login():\n \n     form = LoginForm()\n     if request.method == 'POST' and form.validate_on_submit():\n-        if authentication_service.login(form.email.data, form.password.data):\n-            return redirect(url_for('public.index'))\n+        email = request.form['email']\n+        password = request.form['password']\n+        if authentication_service.correct_credentials(email, password):\n+            response = make_response(redirect(url_for('auth.validate_email')))\n+            session['email'] = email\n+            session['password'] = password\n+            return response\n \n         return render_template(\"auth/login_form.html\", form=form, error='Invalid credentials')\n \n     return render_template('auth/login_form.html', form=form)\n \n \n+@auth_bp.route('/validate_email', methods=['GET', 'POST'])\n+def validate_email():\n+    if current_user.is_authenticated:\n+        return redirect(url_for('public.index'))\n+\n+    email = session['email']\n+    password = session['password']\n+    if not email or not password:\n+        return redirect(url_for('auth.login'))\n+\n+    form = ValidateEmailForm()\n+\n+    if request.method == 'POST':\n+        key = int(form.key.data.strip())\n+        if key == int(session.get('key')):\n+            authentication_service.login(email, password)\n+            response = make_response(redirect(url_for('public.index')))\n+            session.pop('email', None)\n+            session.pop('password', None)\n+            return response\n+\n+        return render_template(\n+            \"auth/validate_email_form.html\",\n+            form=form,\n+            key=key,\n+            error='The key does not match'\n+        )\n+\n+    if request.method == 'GET':\n+        random_key = pyotp.TOTP(str(os.getenv('SECRET_CODE_GENERATOR'))).now()\n+        session['key'] = random_key\n+        authentication_service.send_email(email, random_key)\n+    return render_template('auth/validate_email_form.html', form=form, email=email)\n+\n+\n @auth_bp.route('/logout')\n def logout():\n     logout_user()\n-    return redirect(url_for('public.index'))\n+    response = make_response(redirect(url_for('public.index')))\n+    session.pop('email', None)\n+    session.pop('password', None)\n+    return response"
      },
      {
        "sha": "d4af3998f125e10b5be89210adcb7accd24ffce9",
        "filename": "app/modules/auth/seeders.py",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/843e919564317f252b24503bcc0d0752fa7ee5a0/app%2Fmodules%2Fauth%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/843e919564317f252b24503bcc0d0752fa7ee5a0/app%2Fmodules%2Fauth%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fseeders.py?ref=843e919564317f252b24503bcc0d0752fa7ee5a0",
        "patch": "@@ -13,6 +13,7 @@ def run(self):\n         users = [\n             User(email='user1@example.com', password='1234'),\n             User(email='user2@example.com', password='1234'),\n+            User(email='chipihubteam@gmail.com', password='chipiteam'),\n         ]\n \n         # Inserted users with their assigned IDs are returned by `self.seed`."
      },
      {
        "sha": "8c52fb597a656193c440f429c622e1e5c5ab9309",
        "filename": "app/modules/auth/services.py",
        "status": "modified",
        "additions": 115,
        "deletions": 3,
        "changes": 118,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/843e919564317f252b24503bcc0d0752fa7ee5a0/app%2Fmodules%2Fauth%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/843e919564317f252b24503bcc0d0752fa7ee5a0/app%2Fmodules%2Fauth%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fservices.py?ref=843e919564317f252b24503bcc0d0752fa7ee5a0",
        "patch": "@@ -9,8 +9,19 @@\n from core.configuration.configuration import uploads_folder_name\n from core.services.BaseService import BaseService\n \n+import smtplib\n+from email.mime.multipart import MIMEMultipart\n+from email.mime.text import MIMEText\n+import imaplib\n+import email\n+from email.header import decode_header\n+import re\n+\n \n class AuthenticationService(BaseService):\n+    SALT = \"user-confirm\"\n+    MAX_AGE = 3600\n+\n     def __init__(self):\n         super().__init__(UserRepository())\n         self.user_profile_repository = UserProfileRepository()\n@@ -22,7 +33,14 @@ def login(self, email, password, remember=True):\n             return True\n         return False\n \n-    def is_email_available(self, email: str) -> bool:\n+    def correct_credentials(self, email, password, remember=True):\n+        user = self.repository.get_by_email(email)\n+        if user is not None and user.check_password(password):\n+            login_user(user, remember=remember)\n+            return True\n+        return False\n+\n+    def is_email_valid(self, email: str) -> bool:\n         return self.repository.get_by_email(email) is None\n \n     def create_with_profile(self, **kwargs):\n@@ -48,7 +66,7 @@ def create_with_profile(self, **kwargs):\n \n             profile_data = {\n                 \"name\": name,\n-                \"surname\": surname,\n+                \"surname\": surname\n             }\n \n             user = self.create(commit=False, **user_data)\n@@ -78,4 +96,98 @@ def get_authenticated_user_profile(self) -> UserProfile | None:\n         return None\n \n     def temp_folder_by_user(self, user: User) -> str:\n-        return os.path.join(uploads_folder_name(), \"temp\", str(user.id))\n+        return os.path.join(uploads_folder_name, \"temp\", str(user.id))\n+\n+    def send_email(self, target_email, random_key):\n+        print(\"Intentando enviar correo a\", target_email)\n+        sender_email = \"chipihubteam@gmail.com\"\n+        receiver_email = target_email\n+        password = str(os.getenv('UVLHUB_EMAIL_PASSWORD'))\n+        subject = f\"[UVLHUB] Your key is {random_key}!\"\n+        body = f\"\"\"\n+                <html>\n+                <head>\n+                    <style>\n+                        body {{\n+                            font-family: Helvetica, sans-serif;\n+                            line-height: 1.6;\n+                        }}\n+                        .bold {{\n+                            font-weight: bold;\n+                        }}\n+                    </style>\n+                </head>\n+                <body>\n+                    <p>Hello,</p>\n+                    <p>Thank you for using <span class=\"bold\">UVLHUB</span>!</p>\n+                    <p>To verify your account, please use the following <span class=\"bold\">\n+                    authentication key</span>:</p>\n+                    <p class=\"bold\">{random_key}</p>\n+                    <p>Please enter this key in the authentication form to proceed. If you did not request this key or\n+                    believe this is an error, please ignore this email.</p>\n+                    <p>For your security, this key is valid for a limited time only.</p>\n+                    <p>Best regards,</p>\n+                    <p><span class=\"bold\">The UVLHUB Team</span></p>\n+                </body>\n+                </html>\n+                \"\"\"\n+        message = MIMEMultipart()\n+        message[\"From\"] = sender_email\n+        message[\"To\"] = receiver_email\n+        message[\"Subject\"] = subject\n+        message.attach(MIMEText(body, \"html\"))\n+        smtp_server = \"smtp.gmail.com\"\n+        smtp_port = 587\n+        try:\n+            with smtplib.SMTP(smtp_server, smtp_port) as server:\n+                server.starttls()\n+                server.login(sender_email, password)\n+                server.sendmail(sender_email, receiver_email, message.as_string())\n+                print(\"Email sent successfully to \"+str(target_email)+\"!\")\n+        except Exception as e:\n+            print(f\"Error: {e}\")\n+\n+    def get_validation_email_info(self, verbose=False):\n+        username = \"chipihubteam@gmail.com\"\n+        password = str(os.getenv('UVLHUB_EMAIL_PASSWORD'))\n+        mail = imaplib.IMAP4_SSL(\"imap.gmail.com\")\n+        mail.login(username, password)\n+        mail.select(\"inbox\")\n+        _, messages = mail.search(None, 'FROM', '\"chipihubteam@gmail.com\"')\n+        email_ids = messages[0].split()\n+        res = {}\n+\n+        if email_ids:\n+            latest_email_id = email_ids[-1]\n+            _, msg_data = mail.fetch(latest_email_id, \"(RFC822)\")\n+\n+            for response_part in msg_data:\n+                if isinstance(response_part, tuple):\n+                    msg = email.message_from_bytes(response_part[1])\n+                    # Decode the email subject\n+                    subject, encoding = decode_header(msg[\"Subject\"])[0]\n+                    if isinstance(subject, bytes):\n+                        subject = subject.decode(encoding if encoding else \"utf-8\")\n+                    res['Subject'] = subject\n+                    # Decode the sender\n+                    from_ = msg.get(\"From\")\n+                    res['From'] = from_\n+                    # Decode the key\n+                    key = re.sub(r'[^0-9]', '', subject)\n+                    res['Key'] = key\n+\n+                    if (verbose):\n+                        print(f\"Subject: {subject}\")\n+                        print(f\"From: {from_}\")\n+                        print(f\"Key: {key}\")\n+\n+        else:\n+            print(\"No emails found from chipihubteam@gmail.com.\")\n+\n+        # Logout and close the connection\n+        mail.logout()\n+        return res\n+\n+    def get_validation_email_key(self):\n+        res = self.get_validation_email_info(False)\n+        return res['Key']"
      },
      {
        "sha": "d0cc50c5a8f2ddeaaee3e820629b8af3d5416f9c",
        "filename": "app/modules/auth/templates/auth/validate_email_form.html",
        "status": "added",
        "additions": 59,
        "deletions": 0,
        "changes": 59,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/843e919564317f252b24503bcc0d0752fa7ee5a0/app%2Fmodules%2Fauth%2Ftemplates%2Fauth%2Fvalidate_email_form.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/843e919564317f252b24503bcc0d0752fa7ee5a0/app%2Fmodules%2Fauth%2Ftemplates%2Fauth%2Fvalidate_email_form.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Ftemplates%2Fauth%2Fvalidate_email_form.html?ref=843e919564317f252b24503bcc0d0752fa7ee5a0",
        "patch": "@@ -0,0 +1,59 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}Validate Email{% endblock %}\n+\n+{% block content %}\n+\n+<h1 class=\"h2 mb-3\"><b>Validate Email</b></h1>\n+\n+<div class=\"row\">\n+    <div class=\"col-12\">\n+\n+        <form action=\"\" method=\"post\" novalidate>\n+                    {{ form.hidden_tag() }}\n+\n+                    <div class=\"row\">\n+\n+                        <div class=\"col-md-6 col-lg-6 col-xs-12\">\n+                            <div class=\"mb-3\">\n+                                Enter the {{ form.key.label(class=\"form-label\") }} sent to {{email}}!\n+                                {{ form.key(class=\"form-control\",placeholder=\"Example: 000000\") }}\n+                                {% for error in form.key.errors %}\n+                                <span style=\"color: red;\">{{ error }}</span>\n+                                {% endfor %}\n+                            </div>\n+                        </div>\n+\n+                    </div>\n+\n+                    <div class=\"row\">\n+\n+                        <div class=\"col-lg-6 col-12\">\n+                            {{ form.submit(class=\"btn btn-primary\") }}\n+                        </div>\n+\n+                    </div>\n+\n+                    <div class=\"row\">\n+\n+                        {% if error %}\n+\n+                        <div class=\"mt-3 col-lg-6 col-12\">\n+                            <span style=\"color: red;\">{{ error }}</span>\n+                        </div>\n+\n+                        {% endif %}\n+\n+                    </div>\n+\n+                </form>\n+\n+    </div>\n+</div>\n+\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('auth.scripts') }}\"></script>\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "5c9799fa92c9876506d6bf16247a7762d4af8019",
        "filename": "app/modules/auth/tests/test_unit.py",
        "status": "modified",
        "additions": 20,
        "deletions": 6,
        "changes": 26,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/843e919564317f252b24503bcc0d0752fa7ee5a0/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/843e919564317f252b24503bcc0d0752fa7ee5a0/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py?ref=843e919564317f252b24503bcc0d0752fa7ee5a0",
        "patch": "@@ -1,3 +1,4 @@\n+from unittest.mock import patch\n import pytest\n from flask import url_for\n \n@@ -67,12 +68,17 @@ def test_signup_user_unsuccessful(test_client):\n \n \n def test_signup_user_successful(test_client):\n-    response = test_client.post(\n-        \"/signup\",\n-        data=dict(name=\"Foo\", surname=\"Example\", email=\"foo@example.com\", password=\"foo1234\"),\n-        follow_redirects=True,\n-    )\n-    assert response.request.path == url_for(\"public.index\"), \"Signup was unsuccessful\"\n+    with patch('app.modules.auth.services.AuthenticationService.send_email') as mock_send_email:\n+        mock_send_email.return_value = True\n+        response = test_client.post(\n+            \"/signup\",\n+            data=dict(name=\"Foo\", surname=\"Example\", email=\"foo@example.com\", password=\"foo1234\"),\n+            follow_redirects=True,\n+        )\n+        assert response.status_code == 200, \"Signup was unsuccessful\"\n+        assert response.request.path == url_for(\"auth.validate_email\"), \"Signup was unsuccessful\"\n+        assert b\"Validate Email\" in response.data, \"Signup was unsuccessful\"\n+        mock_send_email.assert_called_once()\n \n \n def test_service_create_with_profie_success(clean_database):\n@@ -117,3 +123,11 @@ def test_service_create_with_profile_fail_no_password(clean_database):\n \n     assert UserRepository().count() == 0\n     assert UserProfileRepository().count() == 0\n+\n+\n+def test_get_validation_email_info_verbose():\n+    email = \"test@example.com\"\n+    user = UserRepository().get_by_email(email)\n+\n+    with pytest.raises(TypeError):\n+        AuthenticationService().get_validation_email_info(user, verbose=True)"
      },
      {
        "sha": "d7b0e62c7dcf3de68c22ab518d3990afc6957cf6",
        "filename": "migrations/versions/409208c1be49_added_active_column.py",
        "status": "added",
        "additions": 32,
        "deletions": 0,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/843e919564317f252b24503bcc0d0752fa7ee5a0/migrations%2Fversions%2F409208c1be49_added_active_column.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/843e919564317f252b24503bcc0d0752fa7ee5a0/migrations%2Fversions%2F409208c1be49_added_active_column.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F409208c1be49_added_active_column.py?ref=843e919564317f252b24503bcc0d0752fa7ee5a0",
        "patch": "@@ -0,0 +1,32 @@\n+\"\"\"Added active column\n+\n+Revision ID: 409208c1be49\n+Revises: 47b26adae59f\n+Create Date: 2024-12-13 19:26:52.889281\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+\n+\n+# revision identifiers, used by Alembic.\n+revision = '409208c1be49'\n+down_revision = '47b26adae59f'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('user', schema=None) as batch_op:\n+        batch_op.add_column(sa.Column('active', sa.Boolean(), nullable=False))\n+\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('user', schema=None) as batch_op:\n+        batch_op.drop_column('active')\n+\n+    # ### end Alembic commands ###"
      },
      {
        "sha": "f448760ec3b5291b08a71675749adbedb7210915",
        "filename": "migrations/versions/47b26adae59f_inicial.py",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/843e919564317f252b24503bcc0d0752fa7ee5a0/migrations%2Fversions%2F47b26adae59f_inicial.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/843e919564317f252b24503bcc0d0752fa7ee5a0/migrations%2Fversions%2F47b26adae59f_inicial.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F47b26adae59f_inicial.py?ref=843e919564317f252b24503bcc0d0752fa7ee5a0",
        "patch": "@@ -0,0 +1,35 @@\n+\"\"\"Inicial\n+\n+Revision ID: 47b26adae59f\n+Revises: 001\n+Create Date: 2024-11-12 17:30:20.988651\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = '47b26adae59f'\n+down_revision = '001'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('user', schema=None) as batch_op:\n+        batch_op.drop_column('confirmed_on')\n+        batch_op.drop_column('is_confirmed')\n+\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('user', schema=None) as batch_op:\n+        batch_op.add_column(sa.Column('is_confirmed', mysql.TINYINT(display_width=1), autoincrement=False,\n+                                      nullable=False))\n+        batch_op.add_column(sa.Column('confirmed_on', mysql.DATETIME(), nullable=True))\n+\n+    # ### end Alembic commands ###"
      },
      {
        "sha": "8cac4e868cdd26a246d51612557b89593e99c27f",
        "filename": "migrations/versions/5e691cbc6265_quitar_columna_active.py",
        "status": "added",
        "additions": 32,
        "deletions": 0,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/843e919564317f252b24503bcc0d0752fa7ee5a0/migrations%2Fversions%2F5e691cbc6265_quitar_columna_active.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/843e919564317f252b24503bcc0d0752fa7ee5a0/migrations%2Fversions%2F5e691cbc6265_quitar_columna_active.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F5e691cbc6265_quitar_columna_active.py?ref=843e919564317f252b24503bcc0d0752fa7ee5a0",
        "patch": "@@ -0,0 +1,32 @@\n+\"\"\"Quitar columna active\n+\n+Revision ID: 5e691cbc6265\n+Revises: e1a48b0fba37\n+Create Date: 2024-12-15 01:07:30.443842\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = '5e691cbc6265'\n+down_revision = 'e1a48b0fba37'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('user', schema=None) as batch_op:\n+        batch_op.drop_column('active')\n+\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('user', schema=None) as batch_op:\n+        batch_op.add_column(sa.Column('active', mysql.TINYINT(display_width=1), autoincrement=False, nullable=False))\n+\n+    # ### end Alembic commands ###"
      },
      {
        "sha": "40f7c83f3384063b95f36a51d183cb86b6831f44",
        "filename": "migrations/versions/e1a48b0fba37_a\u00f1adir_columna_active.py",
        "status": "added",
        "additions": 49,
        "deletions": 0,
        "changes": 49,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/843e919564317f252b24503bcc0d0752fa7ee5a0/migrations%2Fversions%2Fe1a48b0fba37_a%C3%B1adir_columna_active.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/843e919564317f252b24503bcc0d0752fa7ee5a0/migrations%2Fversions%2Fe1a48b0fba37_a%C3%B1adir_columna_active.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2Fe1a48b0fba37_a%C3%B1adir_columna_active.py?ref=843e919564317f252b24503bcc0d0752fa7ee5a0",
        "patch": "@@ -0,0 +1,49 @@\n+\"\"\"A\u00f1adir columna active\n+\n+Revision ID: e1a48b0fba37\n+Revises: 409208c1be49\n+Create Date: 2024-12-14 12:41:25.662591\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = 'e1a48b0fba37'\n+down_revision = '409208c1be49'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('notepad',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('title', sa.String(length=256), nullable=False),\n+    sa.Column('body', sa.Text(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.drop_table('webhook')\n+    with op.batch_alter_table('user', schema=None) as batch_op:\n+        batch_op.add_column(sa.Column('active', sa.Boolean(), nullable=False))\n+\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('user', schema=None) as batch_op:\n+        batch_op.drop_column('active')\n+\n+    op.create_table('webhook',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.drop_table('notepad')\n+    # ### end Alembic commands ###"
      },
      {
        "sha": "0ee69559c5fba48b8d09bd9e31ec9cc666e51aa6",
        "filename": "requirements.txt",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/843e919564317f252b24503bcc0d0752fa7ee5a0/requirements.txt",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/843e919564317f252b24503bcc0d0752fa7ee5a0/requirements.txt",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/requirements.txt?ref=843e919564317f252b24503bcc0d0752fa7ee5a0",
        "patch": "@@ -29,6 +29,7 @@ flamapy-sat==2.0.0.dev1\n Flask==3.0.3\n Flask-Cors==4.0.1\n Flask-Login==0.6.3\n+Flask-Mail==0.10.0\n Flask-Migrate==4.0.7\n Flask-RESTful==0.3.10\n Flask-SQLAlchemy==3.1.1\n@@ -64,6 +65,7 @@ pycparser==2.22\n pyflakes==3.2.0\n PyMySQL==1.1.1\n pyOpenSSL==24.1.0\n+pyotp==2.9.0\n pyparsing==3.1.2\n PySocks==1.7.1\n pytest==8.2.2"
      }
    ]
  },
  {
    "sha": "b20c4dc40cdb7ee875792ebf476ac91d2010c379",
    "node_id": "C_kwDONBuXkNoAKGIyMGM0ZGM0MGNkYjdlZTg3NTc5MmViZjQ3NmFjOTFkMjAxMGMzNzk",
    "commit": {
      "author": {
        "name": "javramnun",
        "email": "javramnun@alum.us.es",
        "date": "2024-12-17T18:55:27Z"
      },
      "committer": {
        "name": "javramnun",
        "email": "javramnun@alum.us.es",
        "date": "2024-12-17T18:55:27Z"
      },
      "message": "Fix: test_unit",
      "tree": {
        "sha": "93cb07e208b3571899f21b9e2e04c8e21e701a7a",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/93cb07e208b3571899f21b9e2e04c8e21e701a7a"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/b20c4dc40cdb7ee875792ebf476ac91d2010c379",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b20c4dc40cdb7ee875792ebf476ac91d2010c379",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/b20c4dc40cdb7ee875792ebf476ac91d2010c379",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b20c4dc40cdb7ee875792ebf476ac91d2010c379/comments",
    "author": {
      "login": "javramnun",
      "id": 72883779,
      "node_id": "MDQ6VXNlcjcyODgzNzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72883779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javramnun",
      "html_url": "https://github.com/javramnun",
      "followers_url": "https://api.github.com/users/javramnun/followers",
      "following_url": "https://api.github.com/users/javramnun/following{/other_user}",
      "gists_url": "https://api.github.com/users/javramnun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javramnun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javramnun/subscriptions",
      "organizations_url": "https://api.github.com/users/javramnun/orgs",
      "repos_url": "https://api.github.com/users/javramnun/repos",
      "events_url": "https://api.github.com/users/javramnun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javramnun/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "javramnun",
      "id": 72883779,
      "node_id": "MDQ6VXNlcjcyODgzNzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72883779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javramnun",
      "html_url": "https://github.com/javramnun",
      "followers_url": "https://api.github.com/users/javramnun/followers",
      "following_url": "https://api.github.com/users/javramnun/following{/other_user}",
      "gists_url": "https://api.github.com/users/javramnun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javramnun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javramnun/subscriptions",
      "organizations_url": "https://api.github.com/users/javramnun/orgs",
      "repos_url": "https://api.github.com/users/javramnun/repos",
      "events_url": "https://api.github.com/users/javramnun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javramnun/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "63795a49231067de853f84def53a6023b5f941df",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/63795a49231067de853f84def53a6023b5f941df",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/63795a49231067de853f84def53a6023b5f941df"
      }
    ],
    "files": [
      {
        "sha": "5c9799fa92c9876506d6bf16247a7762d4af8019",
        "filename": "app/modules/auth/tests/test_unit.py",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b20c4dc40cdb7ee875792ebf476ac91d2010c379/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b20c4dc40cdb7ee875792ebf476ac91d2010c379/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py?ref=b20c4dc40cdb7ee875792ebf476ac91d2010c379",
        "patch": "@@ -126,10 +126,8 @@ def test_service_create_with_profile_fail_no_password(clean_database):\n \n \n def test_get_validation_email_info_verbose():\n-    # Arrange\n     email = \"test@example.com\"\n     user = UserRepository().get_by_email(email)\n \n-    # Act\n     with pytest.raises(TypeError):\n         AuthenticationService().get_validation_email_info(user, verbose=True)"
      }
    ]
  },
  {
    "sha": "63795a49231067de853f84def53a6023b5f941df",
    "node_id": "C_kwDONBuXkNoAKDYzNzk1YTQ5MjMxMDY3ZGU4NTNmODRkZWY1M2E2MDIzYjVmOTQxZGY",
    "commit": {
      "author": {
        "name": "javramnun",
        "email": "javramnun@alum.us.es",
        "date": "2024-12-17T16:34:34Z"
      },
      "committer": {
        "name": "javramnun",
        "email": "javramnun@alum.us.es",
        "date": "2024-12-17T16:34:34Z"
      },
      "message": "Fix: test_unit",
      "tree": {
        "sha": "d2e8207677612f90ae79f2c5fe92d5170138634e",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/d2e8207677612f90ae79f2c5fe92d5170138634e"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/63795a49231067de853f84def53a6023b5f941df",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/63795a49231067de853f84def53a6023b5f941df",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/63795a49231067de853f84def53a6023b5f941df",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/63795a49231067de853f84def53a6023b5f941df/comments",
    "author": {
      "login": "javramnun",
      "id": 72883779,
      "node_id": "MDQ6VXNlcjcyODgzNzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72883779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javramnun",
      "html_url": "https://github.com/javramnun",
      "followers_url": "https://api.github.com/users/javramnun/followers",
      "following_url": "https://api.github.com/users/javramnun/following{/other_user}",
      "gists_url": "https://api.github.com/users/javramnun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javramnun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javramnun/subscriptions",
      "organizations_url": "https://api.github.com/users/javramnun/orgs",
      "repos_url": "https://api.github.com/users/javramnun/repos",
      "events_url": "https://api.github.com/users/javramnun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javramnun/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "javramnun",
      "id": 72883779,
      "node_id": "MDQ6VXNlcjcyODgzNzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72883779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javramnun",
      "html_url": "https://github.com/javramnun",
      "followers_url": "https://api.github.com/users/javramnun/followers",
      "following_url": "https://api.github.com/users/javramnun/following{/other_user}",
      "gists_url": "https://api.github.com/users/javramnun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javramnun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javramnun/subscriptions",
      "organizations_url": "https://api.github.com/users/javramnun/orgs",
      "repos_url": "https://api.github.com/users/javramnun/repos",
      "events_url": "https://api.github.com/users/javramnun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javramnun/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "63d5caa748510840e0e0bf5181977d0fdb1af7d0",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/63d5caa748510840e0e0bf5181977d0fdb1af7d0",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/63d5caa748510840e0e0bf5181977d0fdb1af7d0"
      }
    ],
    "files": [
      {
        "sha": "d410d9bc63b13ea555c3bc45d3e0d44eac630528",
        "filename": "app/modules/auth/tests/test_unit.py",
        "status": "modified",
        "additions": 0,
        "deletions": 20,
        "changes": 20,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/63795a49231067de853f84def53a6023b5f941df/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/63795a49231067de853f84def53a6023b5f941df/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py?ref=63795a49231067de853f84def53a6023b5f941df",
        "patch": "@@ -125,26 +125,6 @@ def test_service_create_with_profile_fail_no_password(clean_database):\n     assert UserProfileRepository().count() == 0\n \n \n-def test_get_validation_email_info_no_emails():\n-    # Arrange\n-    user = UserRepository().get_by_email(\"\")\n-\n-    # Act\n-    result = AuthenticationService().get_validation_email_info(user)\n-\n-    # Assert\n-    assert result == {}\n-\n-\n-def test_get_validation_email_info_invalid_email():\n-    email = \"invalid_email\"\n-    user = UserRepository().get_by_email(email)\n-\n-    result = AuthenticationService().get_validation_email_info(user)\n-\n-    assert result == {}\n-\n-\n def test_get_validation_email_info_verbose():\n     # Arrange\n     email = \"test@example.com\""
      }
    ]
  },
  {
    "sha": "63d5caa748510840e0e0bf5181977d0fdb1af7d0",
    "node_id": "C_kwDONBuXkNoAKDYzZDVjYWE3NDg1MTA4NDBlMGUwYmY1MTgxOTc3ZDBmZGIxYWY3ZDA",
    "commit": {
      "author": {
        "name": "javramnun",
        "email": "javramnun@alum.us.es",
        "date": "2024-12-17T16:28:04Z"
      },
      "committer": {
        "name": "javramnun",
        "email": "javramnun@alum.us.es",
        "date": "2024-12-17T16:28:04Z"
      },
      "message": "test: unit test email",
      "tree": {
        "sha": "0dc1886f5c536d3d00eb17fe2edf9529f7df725c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/0dc1886f5c536d3d00eb17fe2edf9529f7df725c"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/63d5caa748510840e0e0bf5181977d0fdb1af7d0",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/63d5caa748510840e0e0bf5181977d0fdb1af7d0",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/63d5caa748510840e0e0bf5181977d0fdb1af7d0",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/63d5caa748510840e0e0bf5181977d0fdb1af7d0/comments",
    "author": {
      "login": "javramnun",
      "id": 72883779,
      "node_id": "MDQ6VXNlcjcyODgzNzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72883779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javramnun",
      "html_url": "https://github.com/javramnun",
      "followers_url": "https://api.github.com/users/javramnun/followers",
      "following_url": "https://api.github.com/users/javramnun/following{/other_user}",
      "gists_url": "https://api.github.com/users/javramnun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javramnun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javramnun/subscriptions",
      "organizations_url": "https://api.github.com/users/javramnun/orgs",
      "repos_url": "https://api.github.com/users/javramnun/repos",
      "events_url": "https://api.github.com/users/javramnun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javramnun/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "javramnun",
      "id": 72883779,
      "node_id": "MDQ6VXNlcjcyODgzNzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72883779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javramnun",
      "html_url": "https://github.com/javramnun",
      "followers_url": "https://api.github.com/users/javramnun/followers",
      "following_url": "https://api.github.com/users/javramnun/following{/other_user}",
      "gists_url": "https://api.github.com/users/javramnun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javramnun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javramnun/subscriptions",
      "organizations_url": "https://api.github.com/users/javramnun/orgs",
      "repos_url": "https://api.github.com/users/javramnun/repos",
      "events_url": "https://api.github.com/users/javramnun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javramnun/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "dae94ca483e33497451d9f575e2b8a1c2d187124",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/dae94ca483e33497451d9f575e2b8a1c2d187124",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/dae94ca483e33497451d9f575e2b8a1c2d187124"
      }
    ],
    "files": [
      {
        "sha": "8c52fb597a656193c440f429c622e1e5c5ab9309",
        "filename": "app/modules/auth/services.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/63d5caa748510840e0e0bf5181977d0fdb1af7d0/app%2Fmodules%2Fauth%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/63d5caa748510840e0e0bf5181977d0fdb1af7d0/app%2Fmodules%2Fauth%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fservices.py?ref=63d5caa748510840e0e0bf5181977d0fdb1af7d0",
        "patch": "@@ -109,7 +109,7 @@ def send_email(self, target_email, random_key):\n                 <head>\n                     <style>\n                         body {{\n-                            font-family: Arial, sans-serif;\n+                            font-family: Helvetica, sans-serif;\n                             line-height: 1.6;\n                         }}\n                         .bold {{"
      },
      {
        "sha": "9817a6f348c928222a2faaa66bafe7c6cf6739be",
        "filename": "app/modules/auth/tests/test_unit.py",
        "status": "modified",
        "additions": 30,
        "deletions": 0,
        "changes": 30,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/63d5caa748510840e0e0bf5181977d0fdb1af7d0/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/63d5caa748510840e0e0bf5181977d0fdb1af7d0/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py?ref=63d5caa748510840e0e0bf5181977d0fdb1af7d0",
        "patch": "@@ -123,3 +123,33 @@ def test_service_create_with_profile_fail_no_password(clean_database):\n \n     assert UserRepository().count() == 0\n     assert UserProfileRepository().count() == 0\n+\n+\n+def test_get_validation_email_info_no_emails():\n+    # Arrange\n+    user = UserRepository().get_by_email(\"\")\n+\n+    # Act\n+    result = AuthenticationService().get_validation_email_info(user)\n+\n+    # Assert\n+    assert result == {}\n+\n+\n+def test_get_validation_email_info_invalid_email():\n+    email = \"invalid_email\"\n+    user = UserRepository().get_by_email(email)\n+\n+    result = AuthenticationService().get_validation_email_info(user)\n+\n+    assert result == {}\n+\n+\n+def test_get_validation_email_info_verbose():\n+    # Arrange\n+    email = \"test@example.com\"\n+    user = UserRepository().get_by_email(email)\n+\n+    # Act\n+    with pytest.raises(TypeError):\n+        AuthenticationService().get_validation_email_info(user, verbose=True)"
      }
    ]
  },
  {
    "sha": "293cefc2e6b634853df8497866350b02ebc8c0eb",
    "node_id": "C_kwDONBuXkNoAKDI5M2NlZmMyZTZiNjM0ODUzZGY4NDk3ODY2MzUwYjAyZWJjOGMwZWI",
    "commit": {
      "author": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-17T14:59:18Z"
      },
      "committer": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-17T14:59:18Z"
      },
      "message": "fix: change get all dataset repository method\n\nChange the get_all_datasets repository method to only obtain the published datasets which should be the only accessible to any user",
      "tree": {
        "sha": "cb4dbc765965c4713ab7fee6f5ba51a3b3535dda",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/cb4dbc765965c4713ab7fee6f5ba51a3b3535dda"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/293cefc2e6b634853df8497866350b02ebc8c0eb",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/293cefc2e6b634853df8497866350b02ebc8c0eb",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/293cefc2e6b634853df8497866350b02ebc8c0eb",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/293cefc2e6b634853df8497866350b02ebc8c0eb/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "70f3cc7e1292030f583bf865baf4277c70035904",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/70f3cc7e1292030f583bf865baf4277c70035904",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/70f3cc7e1292030f583bf865baf4277c70035904"
      }
    ],
    "files": [
      {
        "sha": "048a5e7e9bcc0d4095feccb437ad1a146c32f53e",
        "filename": "app/modules/dataset/repositories.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/293cefc2e6b634853df8497866350b02ebc8c0eb/app%2Fmodules%2Fdataset%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/293cefc2e6b634853df8497866350b02ebc8c0eb/app%2Fmodules%2Fdataset%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Frepositories.py?ref=293cefc2e6b634853df8497866350b02ebc8c0eb",
        "patch": "@@ -117,7 +117,7 @@ def latest_synchronized(self):\n         )\n \n     def get_all_datasets(self):\n-        return self.model.query.all()\n+        return self.model.query.join(DSMetaData).filter(DSMetaData.ds_status == Status.PUBLISHED).all()\n \n \n class DOIMappingRepository(BaseRepository):"
      }
    ]
  },
  {
    "sha": "70f3cc7e1292030f583bf865baf4277c70035904",
    "node_id": "C_kwDONBuXkNoAKDcwZjNjYzdlMTI5MjAzMGY1ODNiZjg2NWJhZjQyNzdjNzAwMzU5MDQ",
    "commit": {
      "author": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-17T12:52:57Z"
      },
      "committer": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-17T12:52:57Z"
      },
      "message": "chore: restart migrations",
      "tree": {
        "sha": "8563b109b1d85076b251455d5997ae0040848542",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/8563b109b1d85076b251455d5997ae0040848542"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/70f3cc7e1292030f583bf865baf4277c70035904",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/70f3cc7e1292030f583bf865baf4277c70035904",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/70f3cc7e1292030f583bf865baf4277c70035904",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/70f3cc7e1292030f583bf865baf4277c70035904/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3d052e79ab5d2295f242cbd06b51decaa38b6305",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3d052e79ab5d2295f242cbd06b51decaa38b6305",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3d052e79ab5d2295f242cbd06b51decaa38b6305"
      }
    ],
    "files": [
      {
        "sha": "296852391220bf3899f574a8fc5f1db8246690cc",
        "filename": "migrations/versions/37853c4079e5_.py",
        "status": "removed",
        "additions": 0,
        "deletions": 51,
        "changes": 51,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d052e79ab5d2295f242cbd06b51decaa38b6305/migrations%2Fversions%2F37853c4079e5_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d052e79ab5d2295f242cbd06b51decaa38b6305/migrations%2Fversions%2F37853c4079e5_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F37853c4079e5_.py?ref=3d052e79ab5d2295f242cbd06b51decaa38b6305",
        "patch": "@@ -1,51 +0,0 @@\n-\"\"\"empty message\n-\n-Revision ID: 37853c4079e5\n-Revises: 001\n-Create Date: 2024-12-03 13:48:39.432689\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-from sqlalchemy.dialects import mysql\n-\n-# revision identifiers, used by Alembic.\n-revision = '37853c4079e5'\n-down_revision = '001'\n-branch_labels = None\n-depends_on = None\n-\n-\n-def upgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    op.create_table('rating',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('dataset_id', sa.Integer(), nullable=False),\n-    sa.Column('model_id', sa.Integer(), nullable=True),\n-    sa.Column('user_id', sa.Integer(), nullable=False),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.create_table('notepad',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('title', sa.String(length=256), nullable=False),\n-    sa.Column('body', sa.Text(), nullable=False),\n-    sa.Column('user_id', sa.Integer(), nullable=False),\n-    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.drop_table('webhook')\n-    # ### end Alembic commands ###\n-\n-\n-def downgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    op.create_table('webhook',\n-    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n-    sa.PrimaryKeyConstraint('id'),\n-    mysql_collate='utf8mb4_general_ci',\n-    mysql_default_charset='utf8mb4',\n-    mysql_engine='InnoDB'\n-    )\n-    op.drop_table('notepad')\n-    op.drop_table('rating')\n-    # ### end Alembic commands ###"
      },
      {
        "sha": "3f84c51a17885aba24ebfd013e706cfb2abb09fc",
        "filename": "migrations/versions/3931fcdc68c7_.py",
        "status": "removed",
        "additions": 0,
        "deletions": 49,
        "changes": 49,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d052e79ab5d2295f242cbd06b51decaa38b6305/migrations%2Fversions%2F3931fcdc68c7_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d052e79ab5d2295f242cbd06b51decaa38b6305/migrations%2Fversions%2F3931fcdc68c7_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F3931fcdc68c7_.py?ref=3d052e79ab5d2295f242cbd06b51decaa38b6305",
        "patch": "@@ -1,49 +0,0 @@\n-\"\"\"empty message\n-\n-Revision ID: 3931fcdc68c7\n-Revises: 001\n-Create Date: 2024-12-03 18:27:22.612897\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-from sqlalchemy.dialects import mysql\n-\n-# revision identifiers, used by Alembic.\n-revision = '3931fcdc68c7'\n-down_revision = '001'\n-branch_labels = None\n-depends_on = None\n-\n-\n-def upgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    op.create_table('notepad',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('title', sa.String(length=256), nullable=False),\n-    sa.Column('body', sa.Text(), nullable=False),\n-    sa.Column('user_id', sa.Integer(), nullable=False),\n-    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.drop_table('webhook')\n-    with op.batch_alter_table('ds_meta_data', schema=None) as batch_op:\n-        batch_op.add_column(sa.Column('ds_status', sa.Enum('UNPUBLISHED', 'PUBLISHED', name='status'), nullable=False))\n-\n-    # ### end Alembic commands ###\n-\n-\n-def downgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('ds_meta_data', schema=None) as batch_op:\n-        batch_op.drop_column('ds_status')\n-\n-    op.create_table('webhook',\n-    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n-    sa.PrimaryKeyConstraint('id'),\n-    mysql_collate='utf8mb4_general_ci',\n-    mysql_default_charset='utf8mb4',\n-    mysql_engine='InnoDB'\n-    )\n-    op.drop_table('notepad')\n-    # ### end Alembic commands ###"
      },
      {
        "sha": "58f0e87f47393ee18c9a55954a16e7b8e0182aae",
        "filename": "migrations/versions/6cc26337d85f_restart_migrations.py",
        "status": "renamed",
        "additions": 21,
        "deletions": 9,
        "changes": 30,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/70f3cc7e1292030f583bf865baf4277c70035904/migrations%2Fversions%2F6cc26337d85f_restart_migrations.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/70f3cc7e1292030f583bf865baf4277c70035904/migrations%2Fversions%2F6cc26337d85f_restart_migrations.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F6cc26337d85f_restart_migrations.py?ref=70f3cc7e1292030f583bf865baf4277c70035904",
        "patch": "@@ -1,16 +1,16 @@\n-\"\"\"first migration\n+\"\"\"restart migrations\n \n-Revision ID: 001\n+Revision ID: 6cc26337d85f\n Revises: \n-Create Date: 2024-09-08 16:50:20.326640\n+Create Date: 2024-12-17 13:33:46.712100\n \n \"\"\"\n from alembic import op\n import sqlalchemy as sa\n \n \n # revision identifiers, used by Alembic.\n-revision = '001'\n+revision = '6cc26337d85f'\n down_revision = None\n branch_labels = None\n depends_on = None\n@@ -36,6 +36,12 @@ def upgrade():\n     sa.Column('not_solver', sa.Text(), nullable=True),\n     sa.PrimaryKeyConstraint('id')\n     )\n+    op.create_table('rating',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('dataset_id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n     op.create_table('user',\n     sa.Column('id', sa.Integer(), nullable=False),\n     sa.Column('email', sa.String(length=256), nullable=False),\n@@ -44,10 +50,6 @@ def upgrade():\n     sa.PrimaryKeyConstraint('id'),\n     sa.UniqueConstraint('email')\n     )\n-    op.create_table('webhook',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n     op.create_table('zenodo',\n     sa.Column('id', sa.Integer(), nullable=False),\n     sa.PrimaryKeyConstraint('id')\n@@ -62,6 +64,7 @@ def upgrade():\n     sa.Column('dataset_doi', sa.String(length=120), nullable=True),\n     sa.Column('tags', sa.String(length=120), nullable=True),\n     sa.Column('ds_metrics_id', sa.Integer(), nullable=True),\n+    sa.Column('ds_status', sa.Enum('UNPUBLISHED', 'PUBLISHED', name='status'), nullable=False),\n     sa.ForeignKeyConstraint(['ds_metrics_id'], ['ds_metrics.id'], ),\n     sa.PrimaryKeyConstraint('id')\n     )\n@@ -78,6 +81,14 @@ def upgrade():\n     sa.ForeignKeyConstraint(['fm_metrics_id'], ['fm_metrics.id'], ),\n     sa.PrimaryKeyConstraint('id')\n     )\n+    op.create_table('notepad',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('title', sa.String(length=256), nullable=False),\n+    sa.Column('body', sa.Text(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n     op.create_table('user_profile',\n     sa.Column('id', sa.Integer(), nullable=False),\n     sa.Column('user_id', sa.Integer(), nullable=False),\n@@ -180,11 +191,12 @@ def downgrade():\n     op.drop_table('data_set')\n     op.drop_table('author')\n     op.drop_table('user_profile')\n+    op.drop_table('notepad')\n     op.drop_table('fm_meta_data')\n     op.drop_table('ds_meta_data')\n     op.drop_table('zenodo')\n-    op.drop_table('webhook')\n     op.drop_table('user')\n+    op.drop_table('rating')\n     op.drop_table('fm_metrics')\n     op.drop_table('ds_metrics')\n     op.drop_table('doi_mapping')",
        "previous_filename": "migrations/versions/001.py"
      },
      {
        "sha": "5c7ddcf0e72668b59afa29a571306b0405919a96",
        "filename": "migrations/versions/ba7297057859_.py",
        "status": "removed",
        "additions": 0,
        "deletions": 59,
        "changes": 59,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d052e79ab5d2295f242cbd06b51decaa38b6305/migrations%2Fversions%2Fba7297057859_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d052e79ab5d2295f242cbd06b51decaa38b6305/migrations%2Fversions%2Fba7297057859_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2Fba7297057859_.py?ref=3d052e79ab5d2295f242cbd06b51decaa38b6305",
        "patch": "@@ -1,59 +0,0 @@\n-\"\"\"empty message\n-\n-Revision ID: ba7297057859\n-Revises: f5d9fcd69235\n-Create Date: 2024-12-09 12:07:24.556213\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-from sqlalchemy.dialects import mysql\n-\n-# revision identifiers, used by Alembic.\n-revision = 'ba7297057859'\n-down_revision = 'f5d9fcd69235'\n-branch_labels = None\n-depends_on = None\n-\n-\n-def upgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    op.create_table('rating',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('dataset_id', sa.Integer(), nullable=False),\n-    sa.Column('user_id', sa.Integer(), nullable=False),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.drop_table('feature_model_ratings')\n-    op.drop_table('dataset_ratings')\n-    # ### end Alembic commands ###\n-\n-\n-def downgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    op.create_table('dataset_ratings',\n-    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n-    sa.Column('dataset_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n-    sa.Column('user_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n-    sa.Column('rating', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n-    sa.ForeignKeyConstraint(['dataset_id'], ['data_set.id'], name='dataset_ratings_ibfk_1'),\n-    sa.ForeignKeyConstraint(['user_id'], ['user.id'], name='dataset_ratings_ibfk_2'),\n-    sa.PrimaryKeyConstraint('id'),\n-    mysql_collate='utf8mb4_general_ci',\n-    mysql_default_charset='utf8mb4',\n-    mysql_engine='InnoDB'\n-    )\n-    op.create_table('feature_model_ratings',\n-    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n-    sa.Column('feature_model_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n-    sa.Column('user_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n-    sa.Column('rating', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n-    sa.ForeignKeyConstraint(['feature_model_id'], ['feature_model.id'], name='feature_model_ratings_ibfk_1'),\n-    sa.ForeignKeyConstraint(['user_id'], ['user.id'], name='feature_model_ratings_ibfk_2'),\n-    sa.PrimaryKeyConstraint('id'),\n-    mysql_collate='utf8mb4_general_ci',\n-    mysql_default_charset='utf8mb4',\n-    mysql_engine='InnoDB'\n-    )\n-    op.drop_table('rating')\n-    # ### end Alembic commands ###"
      },
      {
        "sha": "f0687e5e7fe3d0f69805822900729dc87f40b01a",
        "filename": "migrations/versions/f5d9fcd69235_.py",
        "status": "removed",
        "additions": 0,
        "deletions": 32,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d052e79ab5d2295f242cbd06b51decaa38b6305/migrations%2Fversions%2Ff5d9fcd69235_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d052e79ab5d2295f242cbd06b51decaa38b6305/migrations%2Fversions%2Ff5d9fcd69235_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2Ff5d9fcd69235_.py?ref=3d052e79ab5d2295f242cbd06b51decaa38b6305",
        "patch": "@@ -1,32 +0,0 @@\n-\"\"\"empty message\n-\n-Revision ID: f5d9fcd69235\n-Revises: 37853c4079e5\n-Create Date: 2024-12-04 17:18:27.045262\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-from sqlalchemy.dialects import mysql\n-\n-# revision identifiers, used by Alembic.\n-revision = 'f5d9fcd69235'\n-down_revision = '37853c4079e5'\n-branch_labels = None\n-depends_on = None\n-\n-\n-def upgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('rating', schema=None) as batch_op:\n-        batch_op.drop_column('model_id')\n-\n-    # ### end Alembic commands ###\n-\n-\n-def downgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    with op.batch_alter_table('rating', schema=None) as batch_op:\n-        batch_op.add_column(sa.Column('model_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True))\n-\n-    # ### end Alembic commands ###"
      }
    ]
  },
  {
    "sha": "14f74ecc2ac5b85a143419204cb33cf271503274",
    "node_id": "C_kwDONBuXkNoAKDE0Zjc0ZWNjMmFjNWI4NWExNDM0MTkyMDRjYjMzY2YyNzE1MDMyNzQ",
    "commit": {
      "author": {
        "name": "Gon",
        "email": "92763979+gonnavrem@users.noreply.github.com",
        "date": "2024-12-17T12:44:46Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-12-17T12:44:46Z"
      },
      "message": "Merge pull request #37 from chipi-hub-team/test/fakenodo\n\nTest/fakenodo",
      "tree": {
        "sha": "cc488c599bffd0f5a403413b09bc83b9aaa6c557",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/cc488c599bffd0f5a403413b09bc83b9aaa6c557"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/14f74ecc2ac5b85a143419204cb33cf271503274",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnYXI+CRC1aQ7uu5UhlAAALpMQADPBf27fTma6F++e9sChsnOz\nNvZ3+9liAqmOrwHXPBCdI3Q4xepr4knjIGkx+6uHTXqMd3tZpnAjOGEotrRUHae6\nBB/kFFwtOH5HnOQrFzsUrPMuQAXLbtf1uA7F1N+/dVSFfCGubZxjA/IZnB5cvUGv\nDELX4GfEm3fbLIePnh9kz7KLa6mso4OHADY8p2tOF1gOmybxuKQ961x6GGq+1CFP\nmJzhWEo+JDDIcKGjhR+1m4eUbYJHcI9E71x7pwKxZzNnhfxF3+x+Xyx2CtWIxKAF\nPX0X8Kxl6CrK9w4aoWF0kwtmQnLB9IUcflK0kCeThUN3Aq/XIi4oDGYKgMcIdPxd\n9gkJRp7TjdRyjIaf99hseAvyxMUDxVPiNFGwtVtpHS65k2ZiwXH563NB/B8veQde\nmK4DemNCKYIPJpGy3auM/sAcgfNm0sLP+fbdaZu8msLL8fx3xlfBpoeDr1tyL5h6\nomCL9rmtL1A8dCqsOpMvGaN7wR8FB6DWQU/wsq/SziqQX3ff4UMxGJ0OgWD6PGsP\nmRP+QZUEOXgDkt+pNTrf1LJpyGz+sygtZz1va/CDiAOkaZJuEQPbZ1t12eg489t6\nZ8sKmnuiB2g/uuzTWub+tKPBSqEEnCPb+N18YFEsFPe2bABJabYWHheoovapBX71\nbX9KJmSvYxbwnMbtJy8+\n=Jovs\n-----END PGP SIGNATURE-----\n",
        "payload": "tree cc488c599bffd0f5a403413b09bc83b9aaa6c557\nparent 3d052e79ab5d2295f242cbd06b51decaa38b6305\nparent d759a0e654f42ec0f0f3a63248b5cb3caf5a7256\nauthor Gon <92763979+gonnavrem@users.noreply.github.com> 1734439486 +0100\ncommitter GitHub <noreply@github.com> 1734439486 +0100\n\nMerge pull request #37 from chipi-hub-team/test/fakenodo\n\nTest/fakenodo",
        "verified_at": "2024-12-17T12:45:16Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/14f74ecc2ac5b85a143419204cb33cf271503274",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/14f74ecc2ac5b85a143419204cb33cf271503274",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/14f74ecc2ac5b85a143419204cb33cf271503274/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3d052e79ab5d2295f242cbd06b51decaa38b6305",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3d052e79ab5d2295f242cbd06b51decaa38b6305",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3d052e79ab5d2295f242cbd06b51decaa38b6305"
      },
      {
        "sha": "d759a0e654f42ec0f0f3a63248b5cb3caf5a7256",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d759a0e654f42ec0f0f3a63248b5cb3caf5a7256",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/d759a0e654f42ec0f0f3a63248b5cb3caf5a7256"
      }
    ],
    "files": [
      {
        "sha": "2499d126d081e36a7f60ed1b9430fb8c88f0cc41",
        "filename": "app/modules/fakenodo/tests/test_unit.py",
        "status": "modified",
        "additions": 82,
        "deletions": 17,
        "changes": 99,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/14f74ecc2ac5b85a143419204cb33cf271503274/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/14f74ecc2ac5b85a143419204cb33cf271503274/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py?ref=14f74ecc2ac5b85a143419204cb33cf271503274",
        "patch": "@@ -1,24 +1,89 @@\n import pytest\n+from unittest.mock import patch, MagicMock\n+from flask import Flask\n+from app.modules.fakenodo.services import FakenodoService\n+from app.modules.fakenodo.routes import (\n+    get_all_depositions,\n+    get_deposition,\n+    create_deposition,\n+    upload_file,\n+    delete_deposition,\n+    publish_deposition\n+)\n \n \n-@pytest.fixture(scope='module')\n-def test_client(test_client):\n-    \"\"\"\n-    Extends the test_client fixture to add additional specific data for module testing.\n-    \"\"\"\n+@pytest.fixture(scope=\"module\")\n+def test_client():\n+    app = Flask(__name__)\n+    with app.test_client() as client:\n+        with app.app_context():\n+            # Add HERE new elements to the database that you want to exist in the test context.\n+            # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+            pass\n+        yield client\n+\n+\n+@pytest.fixture\n+def fakenodo_service():\n+    return FakenodoService()\n+\n+\n+def test_get_all_depositions(test_client, fakenodo_service):\n+    with test_client.application.app_context():\n+        with patch('app.modules.fakenodo.routes.os.getenv', return_value='/fake/path/'), \\\n+             patch('app.modules.fakenodo.routes.open', MagicMock(\n+                 return_value=MagicMock(\n+                     __enter__=lambda s: s,\n+                     __exit__=lambda s, t, v, tb: None,\n+                     read=lambda: '{\"data\": \"fake\"}'\n+                 )\n+             )):\n+\n+            response = get_all_depositions()\n+            assert response.status_code == 200\n+            assert response.json == {\"data\": \"fake\"}\n+\n+\n+def test_get_deposition(test_client, fakenodo_service):\n+    with test_client.application.app_context():\n+        with patch('app.modules.fakenodo.routes.os.getenv', return_value='/fake/path/'), \\\n+             patch('app.modules.fakenodo.routes.open', MagicMock(\n+                 return_value=MagicMock(\n+                     __enter__=lambda s: s,\n+                     __exit__=lambda s, t, v, tb: None,\n+                     read=lambda: '{\"data\": \"fake\"}'\n+                 )\n+             )), \\\n+                patch('app.modules.fakenodo.routes.uuid.uuid4', return_value='fake-uuid'):\n+\n+            response = get_deposition(1)\n+            assert response.status_code == 200\n+            assert response.json == {\"data\": \"fake\", \"doi\": \"fake-uuid\"}\n+\n+\n+def test_create_deposition(test_client, fakenodo_service):\n     with test_client.application.app_context():\n-        # Add HERE new elements to the database that you want to exist in the test context.\n-        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n-        pass\n+        response = create_deposition()\n+        assert response.status_code == 201\n+        assert response.json == {\"message\": \"Deposition created\", \"id\": 1, \"conceptrecid\": \"1234\"}\n \n-    yield test_client\n+\n+def test_upload_file(test_client, fakenodo_service):\n+    with test_client.application.app_context():\n+        response = upload_file(1)\n+        assert response.status_code == 201\n+        assert response.json == {\"message\": \"File uploaded to deposition 1\"}\n \n \n-def test_sample_assertion(test_client):\n-    \"\"\"\n-    Sample test to verify that the test framework and environment are working correctly.\n-    It does not communicate with the Flask application; it only performs a simple assertion to\n-    confirm that the tests in this module can be executed.\n-    \"\"\"\n-    greeting = \"Hello, World!\"\n-    assert greeting == \"Hello, World!\", \"The greeting does not coincide with 'Hello, World!'\"\n+def test_delete_deposition(test_client, fakenodo_service):\n+    with test_client.application.app_context():\n+        response = delete_deposition(1)\n+        assert response.status_code == 200\n+        assert response.json == {\"message\": \"Deposition 1 deleted\"}\n+\n+\n+def test_publish_deposition(test_client, fakenodo_service):\n+    with test_client.application.app_context():\n+        response = publish_deposition(1)\n+        assert response.status_code == 202\n+        assert response.json == {\"message\": \"Deposition 1 published\"}"
      }
    ]
  },
  {
    "sha": "dae94ca483e33497451d9f575e2b8a1c2d187124",
    "node_id": "C_kwDONBuXkNoAKGRhZTk0Y2E0ODNlMzM0OTc0NTFkOWY1NzVlMmI4YTFjMmQxODcxMjQ",
    "commit": {
      "author": {
        "name": "\u00a8Jesus",
        "email": "jesussalasm99@gmail.com",
        "date": "2024-12-16T18:46:28Z"
      },
      "committer": {
        "name": "\u00a8Jesus",
        "email": "jesussalasm99@gmail.com",
        "date": "2024-12-16T18:46:28Z"
      },
      "message": "fix: flake8 errors",
      "tree": {
        "sha": "70bb229a0b400fde56040de6e3e380bcac5b20a5",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/70bb229a0b400fde56040de6e3e380bcac5b20a5"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/dae94ca483e33497451d9f575e2b8a1c2d187124",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/dae94ca483e33497451d9f575e2b8a1c2d187124",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/dae94ca483e33497451d9f575e2b8a1c2d187124",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/dae94ca483e33497451d9f575e2b8a1c2d187124/comments",
    "author": {
      "login": "JSalasM5",
      "id": 134430759,
      "node_id": "U_kgDOCANAJw",
      "avatar_url": "https://avatars.githubusercontent.com/u/134430759?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JSalasM5",
      "html_url": "https://github.com/JSalasM5",
      "followers_url": "https://api.github.com/users/JSalasM5/followers",
      "following_url": "https://api.github.com/users/JSalasM5/following{/other_user}",
      "gists_url": "https://api.github.com/users/JSalasM5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JSalasM5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JSalasM5/subscriptions",
      "organizations_url": "https://api.github.com/users/JSalasM5/orgs",
      "repos_url": "https://api.github.com/users/JSalasM5/repos",
      "events_url": "https://api.github.com/users/JSalasM5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JSalasM5/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "JSalasM5",
      "id": 134430759,
      "node_id": "U_kgDOCANAJw",
      "avatar_url": "https://avatars.githubusercontent.com/u/134430759?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JSalasM5",
      "html_url": "https://github.com/JSalasM5",
      "followers_url": "https://api.github.com/users/JSalasM5/followers",
      "following_url": "https://api.github.com/users/JSalasM5/following{/other_user}",
      "gists_url": "https://api.github.com/users/JSalasM5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JSalasM5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JSalasM5/subscriptions",
      "organizations_url": "https://api.github.com/users/JSalasM5/orgs",
      "repos_url": "https://api.github.com/users/JSalasM5/repos",
      "events_url": "https://api.github.com/users/JSalasM5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JSalasM5/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c620013eccd42dd8890e03dd2f58c7dced67707c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c620013eccd42dd8890e03dd2f58c7dced67707c",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/c620013eccd42dd8890e03dd2f58c7dced67707c"
      }
    ],
    "files": [
      {
        "sha": "518c87fdce1c996b6f6a3f80b6a2c2b87b0ef1ad",
        "filename": "app/__init__.py",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/dae94ca483e33497451d9f575e2b8a1c2d187124/app%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/dae94ca483e33497451d9f575e2b8a1c2d187124/app%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2F__init__.py?ref=dae94ca483e33497451d9f575e2b8a1c2d187124",
        "patch": "@@ -68,4 +68,3 @@ def inject_vars_into_jinja():\n \n \n app = create_app()\n-"
      },
      {
        "sha": "0647ed9e428074196aac41c36b1c6f9325f2cf8f",
        "filename": "app/modules/auth/forms.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/dae94ca483e33497451d9f575e2b8a1c2d187124/app%2Fmodules%2Fauth%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/dae94ca483e33497451d9f575e2b8a1c2d187124/app%2Fmodules%2Fauth%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fforms.py?ref=dae94ca483e33497451d9f575e2b8a1c2d187124",
        "patch": "@@ -21,4 +21,4 @@ class LoginForm(FlaskForm):\n class ValidateEmailForm(FlaskForm):\n     email = StringField('Email', validators=[DataRequired()])\n     key = StringField('Key', validators=[DataRequired()])\n-    submit = SubmitField('Validate Email')\n\\ No newline at end of file\n+    submit = SubmitField('Validate Email')"
      },
      {
        "sha": "76348c3eb58c7c727c42004f50827ec8ac27871b",
        "filename": "app/modules/auth/models.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/dae94ca483e33497451d9f575e2b8a1c2d187124/app%2Fmodules%2Fauth%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/dae94ca483e33497451d9f575e2b8a1c2d187124/app%2Fmodules%2Fauth%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fmodels.py?ref=dae94ca483e33497451d9f575e2b8a1c2d187124",
        "patch": "@@ -32,4 +32,4 @@ def check_password(self, password):\n \n     def temp_folder(self) -> str:\n         from app.modules.auth.services import AuthenticationService\n-        return AuthenticationService().temp_folder_by_user(self)\n\\ No newline at end of file\n+        return AuthenticationService().temp_folder_by_user(self)"
      }
    ]
  },
  {
    "sha": "c620013eccd42dd8890e03dd2f58c7dced67707c",
    "node_id": "C_kwDONBuXkNoAKGM2MjAwMTNlY2NkNDJkZDg4OTBlMDNkZDJmNThjN2RjZWQ2NzcwN2M",
    "commit": {
      "author": {
        "name": "YatoDev",
        "email": "59254702+Yato03@users.noreply.github.com",
        "date": "2024-12-16T18:24:58Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-12-16T18:24:58Z"
      },
      "message": "Merge branch 'master' into feat/sign-up-validation",
      "tree": {
        "sha": "0a25ad1d8ffb3f6cdaf0ca6565be880749c8a8f0",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/0a25ad1d8ffb3f6cdaf0ca6565be880749c8a8f0"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/c620013eccd42dd8890e03dd2f58c7dced67707c",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnYHB6CRC1aQ7uu5UhlAAAXQIQAKpLotxH1gzoc/otsRDJf0u5\nJZufHSUITGAceJtMLPvFpTFIZ2xhKn1qnYMrBmlB4Vs8r8x0UfQ5rlH5BIwz4p5O\nPZup3ifoUke3GW06HtKHqiPUGsqUvsXLqcseYq2xo/DDlYI11NUO8M7LUZ3jp1GT\nMU6DQ5hgwfFuvcK1AMzZgpaWb2zL8N+Sdb+bh32nM0UNwBzhCNsqvvCWSe8THa1X\n4ANMJc7uTTIgSjly6+Y/c2NruJK4AI1YiimtTQEXgEvdZiZL3OYLBCq149TvYfw7\nNgtfrjt7XiJ4xtGHHISjUpAJSicnqqlGz9tQWefl409jsjRTN1n4A4be99dgBkhm\nEAWTUrWzanOm/Po4ra6l3SIhh/hGhxu1R7Zn9nToWFeom7nCRmZagQMI/h1t2Yta\nac+rCWb8yllmhIPEJzn2uGBSW52t5q9h8w7EhwqfKBKR/q0b3Lp6BxIL/racMCJz\nUtauc0EFK2jYXuGlzsfu3jS2f+kBP0s1gF2YguhNRDYZYMRL7i4b9Kvrz5TrVVY6\nwM0NXOywmlpODvsjpJJ3NxuOcwHuRXdMoNyo4jLtGk69BrEWyLIaVa2yW4jzH5BN\nvtDwvhbJY/PfFpKFe1ikHN39uCWV6u63vstW51gTEQ6OjPkpyOfNTi/Ujau5ah/N\noRzpwwT8/FboBWUUuMqY\n=xmJ+\n-----END PGP SIGNATURE-----\n",
        "payload": "tree 0a25ad1d8ffb3f6cdaf0ca6565be880749c8a8f0\nparent c9d0e1abe51781e316751e1321f5a41d84aba488\nparent 3d052e79ab5d2295f242cbd06b51decaa38b6305\nauthor YatoDev <59254702+Yato03@users.noreply.github.com> 1734373498 +0100\ncommitter GitHub <noreply@github.com> 1734373498 +0100\n\nMerge branch 'master' into feat/sign-up-validation",
        "verified_at": "2024-12-16T18:25:01Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c620013eccd42dd8890e03dd2f58c7dced67707c",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/c620013eccd42dd8890e03dd2f58c7dced67707c",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c620013eccd42dd8890e03dd2f58c7dced67707c/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c9d0e1abe51781e316751e1321f5a41d84aba488",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c9d0e1abe51781e316751e1321f5a41d84aba488",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/c9d0e1abe51781e316751e1321f5a41d84aba488"
      },
      {
        "sha": "3d052e79ab5d2295f242cbd06b51decaa38b6305",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3d052e79ab5d2295f242cbd06b51decaa38b6305",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3d052e79ab5d2295f242cbd06b51decaa38b6305"
      }
    ],
    "files": [
      {
        "sha": "cc83e3c360fe5c756b3449d51f34b1a9cce1583b",
        "filename": ".env.docker.example",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/.env.docker.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/.env.docker.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.env.docker.example?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -1,11 +1,11 @@\n-FLASK_APP_NAME=\"UVLHUB.IO(dev)\"\n-FLASK_ENV=development\n-DOMAIN=localhost\n+FLASK_APP_NAME=\"CHIPIHUB.IO(dev)\"\n+FLASK_ENV=production\n+DOMAIN=localhost:5000\n MARIADB_HOSTNAME=db\n MARIADB_PORT=3306\n MARIADB_DATABASE=uvlhubdb\n MARIADB_TEST_DATABASE=uvlhubdb_test\n MARIADB_USER=uvlhubdb_user\n MARIADB_PASSWORD=uvlhubdb_password\n MARIADB_ROOT_PASSWORD=uvlhubdb_root_password\n-WORKING_DIR=/app/\n+WORKING_DIR=/app/\n\\ No newline at end of file"
      },
      {
        "sha": "249127ade685232b81711501e88c0f9b2c5a81cb",
        "filename": ".env.local.example",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/.env.local.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/.env.local.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.env.local.example?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -1,6 +1,6 @@\n FLASK_APP_NAME=\"UVLHUB.IO(dev)\"\n FLASK_ENV=development\n-DOMAIN=localhost:5000\n+DOMAIN=127.0.0.1:5000\n MARIADB_HOSTNAME=localhost\n MARIADB_PORT=3306\n MARIADB_DATABASE=uvlhubdb"
      },
      {
        "sha": "89be2d04416a9b7c491a2dcdca22f69ab38052b5",
        "filename": ".github/workflows/commits.yml",
        "status": "removed",
        "additions": 0,
        "deletions": 18,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c9d0e1abe51781e316751e1321f5a41d84aba488/.github%2Fworkflows%2Fcommits.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c9d0e1abe51781e316751e1321f5a41d84aba488/.github%2Fworkflows%2Fcommits.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fcommits.yml?ref=c9d0e1abe51781e316751e1321f5a41d84aba488",
        "patch": "@@ -1,18 +0,0 @@\n-name: Commits Syntax Checker\n-\n-on:\n-  pull_request:\n-    branches: [master]\n-    types: [opened, reopened, edited, review_requested, synchronize]\n-  push:\n-    branches:\n-      - \"master\"\n-  workflow_call:\n-\n-jobs:\n-  check:\n-    name: Conventional Commits\n-    runs-on: ubuntu-latest\n-    steps:\n-      - uses: actions/checkout@v2\n-      - uses: webiny/action-conventional-commits@v1.0.3\n\\ No newline at end of file"
      },
      {
        "sha": "c18685798a7983664d2ac20cf1fbfd698b524b47",
        "filename": ".github/workflows/deloyment_on_render.yml",
        "status": "renamed",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/.github%2Fworkflows%2Fdeloyment_on_render.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/.github%2Fworkflows%2Fdeloyment_on_render.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fdeloyment_on_render.yml?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -1,10 +1,10 @@\n-name: Deploy on Webhook\n+name: Deploy on Render \n \n on:\n   workflow_run:\n     workflows: \n-      - \"Python Lint\"\n-      - \"Run tests\"\n+      - \"Format checker\"\n+      - \"Tests\"\n     types:\n       - completed\n \n@@ -24,7 +24,7 @@ jobs:\n           exit 1\n         fi\n \n-    - name: Trigger Deployment Webhook\n+    - name: Trigger Deployment Render\n       env:\n         WEBHOOK_URL: ${{ secrets.RENDER_DEPLOY_HOOK_URL }}\n       run: |",
        "previous_filename": ".github/workflows/deloyment_on_webhook.yml"
      },
      {
        "sha": "3dd2d7e0730616ba219b56172a4f8e1482f3c1a6",
        "filename": ".github/workflows/format.yml",
        "status": "renamed",
        "additions": 8,
        "deletions": 1,
        "changes": 9,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/.github%2Fworkflows%2Fformat.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/.github%2Fworkflows%2Fformat.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fformat.yml?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -1,10 +1,11 @@\n-name: Python Lint\n+name: Format checker\n \n on:\n   push:\n     branches: [master]\n   pull_request:\n     branches: [master]\n+  workflow_dispatch:\n \n jobs:\n   lint:\n@@ -26,3 +27,9 @@ jobs:\n     - name: Lint with flake8\n       run: |\n         flake8 app\n+  check:\n+    name: Conventional Commits\n+    runs-on: ubuntu-latest\n+    steps:\n+      - uses: actions/checkout@v2\n+      - uses: webiny/action-conventional-commits@8bc41ff4e7d423d56fa4905f6ff79209a78776c7",
        "previous_filename": ".github/workflows/lint.yml"
      },
      {
        "sha": "3c87d318518de1cbf2552f63c3a94bc1fc28613f",
        "filename": ".github/workflows/tests.yml",
        "status": "modified",
        "additions": 45,
        "deletions": 8,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/.github%2Fworkflows%2Ftests.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/.github%2Fworkflows%2Ftests.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Ftests.yml?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -1,14 +1,21 @@\n-name: Run tests\n+name: Tests\n \n on:\n   push:\n-    branches: [master]\n+    branches:\n+      - master\n   pull_request:\n-    branches: [master]\n+    branches:\n+      - master\n+  workflow_dispatch:\n \n jobs:\n-  pytest:\n+  build:\n     runs-on: ubuntu-latest\n+    strategy:\n+      fail-fast: false\n+      matrix:\n+        python-version: ['3.11', '3.12']\n \n     services:\n       mysql:\n@@ -23,11 +30,13 @@ jobs:\n         options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n \n     steps:\n-    - uses: actions/checkout@v4\n+    - name: Checkout code\n+      uses: actions/checkout@v4\n \n-    - uses: actions/setup-python@v5\n+    - name: Set up Python\n+      uses: actions/setup-python@v5\n       with:\n-        python-version: '3.12'\n+        python-version: ${{matrix.python-version}}\n \n     - name: Prepare environment\n       run: |\n@@ -37,6 +46,33 @@ jobs:\n       run: |\n         python -m pip install --upgrade pip\n         pip install -r requirements.txt\n+    \n+    - name: Check for outdated dependencies\n+      run: |\n+          pip list --outdated > outdated_dependencies.txt\n+    \n+    - name: Show outdated dependencies\n+      run: cat outdated_dependencies.txt\n+\n+    - name: Security audit with pip-audit\n+      run: |\n+        pip install pip-audit\n+        pip-audit || true\n+  \n+    - name: Upload coverage to Codacy\n+      run: |\n+        pip install codacy-coverage\n+        coverage run -m pytest app/modules/ -m \"not local\" --ignore-glob='*selenium*'\n+        coverage xml \n+        python-codacy-coverage -r coverage.xml\n+      env:\n+        FLASK_ENV: testing\n+        MARIADB_HOSTNAME: 127.0.0.1\n+        MARIADB_PORT: 3306\n+        MARIADB_TEST_DATABASE: uvlhubdb_test\n+        MARIADB_USER: uvlhub_user\n+        MARIADB_PASSWORD: uvlhub_password\n+        CODACY_PROJECT_TOKEN: ${{ secrets.CODACY_PROJECT_TOKEN }}\n \n     - name: Run Tests\n       env:\n@@ -47,4 +83,5 @@ jobs:\n         MARIADB_USER: uvlhub_user\n         MARIADB_PASSWORD: uvlhub_password\n       run: |\n-        pytest app/modules/ --ignore-glob='*selenium*'\n+        pytest app/modules/ -m \"not local\" --ignore-glob='*selenium*'\n+"
      },
      {
        "sha": "211a06db03f96508b3c92becfc0ac0bad6fac4c4",
        "filename": ".mailmap",
        "status": "added",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/.mailmap",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/.mailmap",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.mailmap?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,4 @@\n+Miguel Hern\u00e1ndez S\u00e1nchez <mighersan1@alum.us.es> <59254702+Yato03@users.noreply.github.com>\n+Miguel Hern\u00e1ndez S\u00e1nchez <mighersan1@alum.us.es> <miguelhs3523@gmail.com>\n+Gonzalo Navas Remmers <gonnavrem@alum.us.es> <92763979+gonnavrem@users.noreply.github.com>\n+d4niel980 <danbenhid@alum.us.es> <d4niel.bh@gmail.com>"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": ".moduleignore",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/.moduleignore",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/.moduleignore",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.moduleignore?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -1 +0,0 @@\n-webhook"
      },
      {
        "sha": "9cd0c5b7a5e68b23953c86e3f83321412d9a5b64",
        "filename": "app.log.1",
        "status": "added",
        "additions": 132,
        "deletions": 0,
        "changes": 132,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app.log.1",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app.log.1",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app.log.1?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,132 @@\n+2024-12-03 13:28:41,889 - app - ERROR - Exception on /doi/10.1234/dataset4/ [GET]\n+Traceback (most recent call last):\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 1473, in wsgi_app\n+    response = self.full_dispatch_request()\n+               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 882, in full_dispatch_request\n+    rv = self.handle_user_exception(e)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 298, in error_router\n+    return original_handler(e)\n+           ^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 880, in full_dispatch_request\n+    rv = self.dispatch_request()\n+         ^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 865, in dispatch_request\n+    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/routes.py\", line 296, in subdomain_index\n+    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user))\n+                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 150, in render_template\n+    return _render(app, template, context)\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 131, in _render\n+    rv = template.render(context)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 1304, in render\n+    self.environment.handle_exception()\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 939, in handle_exception\n+    raise rewrite_traceback_stack(source=source)\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 1, in top-level template code\n+    {% extends \"base_template.html\" %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/templates/base_template.html\", line 204, in top-level template code\n+    {% block content %}{% endblock %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 184, in block 'content'\n+    <button type=\"button\" class=\"btn btn-sm btn-primary\" onclick=\"addRating('{{ dataset.id }}', null, '{{request.user.id}}')\">\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 487, in getattr\n+    return getattr(obj, attribute)\n+           ^^^^^^^^^^^^^^^^^^^^^^^\n+jinja2.exceptions.UndefinedError: 'flask.wrappers.Request object' has no attribute 'user'\n+2024-12-03 13:28:41,894 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.\n+2024-12-03 13:28:47,433 - app - ERROR - Exception on /doi/10.1234/dataset4/ [GET]\n+Traceback (most recent call last):\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 1473, in wsgi_app\n+    response = self.full_dispatch_request()\n+               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 882, in full_dispatch_request\n+    rv = self.handle_user_exception(e)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 298, in error_router\n+    return original_handler(e)\n+           ^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 880, in full_dispatch_request\n+    rv = self.dispatch_request()\n+         ^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 865, in dispatch_request\n+    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/routes.py\", line 296, in subdomain_index\n+    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user))\n+                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 150, in render_template\n+    return _render(app, template, context)\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 131, in _render\n+    rv = template.render(context)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 1304, in render\n+    self.environment.handle_exception()\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 939, in handle_exception\n+    raise rewrite_traceback_stack(source=source)\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 1, in top-level template code\n+    {% extends \"base_template.html\" %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/templates/base_template.html\", line 204, in top-level template code\n+    {% block content %}{% endblock %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 184, in block 'content'\n+    <button type=\"button\" class=\"btn btn-sm btn-primary\" onclick=\"addRating('{{ dataset.id }}', null, '{{request.user.id}}')\">\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 487, in getattr\n+    return getattr(obj, attribute)\n+           ^^^^^^^^^^^^^^^^^^^^^^^\n+jinja2.exceptions.UndefinedError: 'flask.wrappers.Request object' has no attribute 'user'\n+2024-12-03 13:28:47,434 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.\n+2024-12-03 13:28:48,345 - app - ERROR - Exception on /doi/10.1234/dataset4/ [GET]\n+Traceback (most recent call last):\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 1473, in wsgi_app\n+    response = self.full_dispatch_request()\n+               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 882, in full_dispatch_request\n+    rv = self.handle_user_exception(e)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 298, in error_router\n+    return original_handler(e)\n+           ^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 880, in full_dispatch_request\n+    rv = self.dispatch_request()\n+         ^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 865, in dispatch_request\n+    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/routes.py\", line 296, in subdomain_index\n+    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user))\n+                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 150, in render_template\n+    return _render(app, template, context)\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 131, in _render\n+    rv = template.render(context)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 1304, in render\n+    self.environment.handle_exception()\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 939, in handle_exception\n+    raise rewrite_traceback_stack(source=source)\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 1, in top-level template code\n+    {% extends \"base_template.html\" %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/templates/base_template.html\", line 204, in top-level template code\n+    {% block content %}{% endblock %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 184, in block 'content'\n+    <button type=\"button\" class=\"btn btn-sm btn-primary\" onclick=\"addRating('{{ dataset.id }}', null, '{{request.user.id}}')\">\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 487, in getattr\n+    return getattr(obj, attribute)\n+           ^^^^^^^^^^^^^^^^^^^^^^^\n+jinja2.exceptions.UndefinedError: 'flask.wrappers.Request object' has no attribute 'user'\n+2024-12-03 13:28:48,347 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application."
      },
      {
        "sha": "67af7d3021550f32b2b0e7f679a8cbf1fd8fb546",
        "filename": "app/modules/dataset/models.py",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fmodels.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -29,6 +29,11 @@ class PublicationType(Enum):\n     OTHER = 'other'\n \n \n+class Status(Enum):\n+    UNPUBLISHED = 'unpublished'  # This state will serve  as the state needed to be in the stage area\n+    PUBLISHED = 'published'  # this state will indicate that the dataset is published to Fakenodo\n+\n+\n class Author(db.Model):\n     id = db.Column(db.Integer, primary_key=True)\n     name = db.Column(db.String(120), nullable=False)\n@@ -66,6 +71,7 @@ class DSMetaData(db.Model):\n     ds_metrics_id = db.Column(db.Integer, db.ForeignKey('ds_metrics.id'))\n     ds_metrics = db.relationship('DSMetrics', uselist=False, backref='ds_meta_data', cascade=\"all, delete\")\n     authors = db.relationship('Author', backref='ds_meta_data', lazy=True, cascade=\"all, delete\")\n+    ds_status = db.Column(SQLAlchemyEnum(Status), nullable=False, default=Status.UNPUBLISHED)\n \n \n class DataSet(db.Model):"
      },
      {
        "sha": "1024c1621fd469751b117dd16f0ed03ebcb17798",
        "filename": "app/modules/dataset/repositories.py",
        "status": "modified",
        "additions": 12,
        "deletions": 7,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Frepositories.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -11,7 +11,8 @@\n     DSDownloadRecord,\n     DSMetaData,\n     DSViewRecord,\n-    DataSet\n+    DataSet,\n+    Status\n )\n from core.repositories.BaseRepository import BaseRepository\n \n@@ -71,49 +72,53 @@ def __init__(self):\n     def get_synchronized(self, current_user_id: int) -> DataSet:\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DataSet.user_id == current_user_id, DSMetaData.dataset_doi.isnot(None))\n+            .filter(DataSet.user_id == current_user_id, DSMetaData.ds_status != Status.UNPUBLISHED)\n             .order_by(self.model.created_at.desc())\n             .all()\n         )\n \n     def get_unsynchronized(self, current_user_id: int) -> DataSet:\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DataSet.user_id == current_user_id, DSMetaData.dataset_doi.is_(None))\n+            .filter(DataSet.user_id == current_user_id, DSMetaData.ds_status == Status.UNPUBLISHED)\n             .order_by(self.model.created_at.desc())\n             .all()\n         )\n \n     def get_unsynchronized_dataset(self, current_user_id: int, dataset_id: int) -> DataSet:\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DataSet.user_id == current_user_id, DataSet.id == dataset_id, DSMetaData.dataset_doi.is_(None))\n+            .filter(DataSet.user_id == current_user_id, DataSet.id == dataset_id,\n+                    DSMetaData.ds_status == Status.UNPUBLISHED)\n             .first()\n         )\n \n     def count_synchronized_datasets(self):\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DSMetaData.dataset_doi.isnot(None))\n+            .filter(DSMetaData.ds_status != Status.UNPUBLISHED)\n             .count()\n         )\n \n     def count_unsynchronized_datasets(self):\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DSMetaData.dataset_doi.is_(None))\n+            .filter(DSMetaData.ds_status == Status.UNPUBLISHED)\n             .count()\n         )\n \n     def latest_synchronized(self):\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DSMetaData.dataset_doi.isnot(None))\n+            .filter(DSMetaData.ds_status != Status.UNPUBLISHED)\n             .order_by(desc(self.model.id))\n             .limit(5)\n             .all()\n         )\n \n+    def get_all_datasets(self):\n+        return self.model.query.all()\n+\n \n class DOIMappingRepository(BaseRepository):\n     def __init__(self):"
      },
      {
        "sha": "e83692193d993674eedeed8fb10e39dea56cb002",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 150,
        "deletions": 48,
        "changes": 198,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -21,7 +21,8 @@\n \n from app.modules.dataset.forms import DataSetForm\n from app.modules.dataset.models import (\n-    DSDownloadRecord\n+    DSDownloadRecord,\n+    Status\n )\n from app.modules.dataset import dataset_bp\n from app.modules.dataset.services import (\n@@ -32,12 +33,14 @@\n     DataSetService,\n     DOIMappingService\n )\n+from app.modules.rating.services import RatingService\n from app.modules.zenodo.services import ZenodoService\n \n logger = logging.getLogger(__name__)\n \n \n dataset_service = DataSetService()\n+rating_service = RatingService()\n author_service = AuthorService()\n dsmetadata_service = DSMetaDataService()\n zenodo_service = ZenodoService()\n@@ -49,72 +52,42 @@\n @login_required\n def create_dataset():\n     form = DataSetForm()\n-    if request.method == \"POST\":\n \n-        dataset = None\n+    if request.method == \"POST\":\n \n         if not form.validate_on_submit():\n             return jsonify({\"message\": form.errors}), 400\n \n         try:\n-            logger.info(\"Creating dataset...\")\n-            dataset = dataset_service.create_from_form(form=form, current_user=current_user)\n-            logger.info(f\"Created dataset: {dataset}\")\n-            dataset_service.move_feature_models(dataset)\n-        except Exception as exc:\n-            logger.exception(f\"Exception while create dataset data in local {exc}\")\n-            return jsonify({\"Exception while create dataset data in local: \": str(exc)}), 400\n \n-        # send dataset as deposition to Zenodo\n-        data = {}\n-        try:\n-            zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n-            response_data = json.dumps(zenodo_response_json)\n-            data = json.loads(response_data)\n-        except Exception as exc:\n-            data = {}\n-            zenodo_response_json = {}\n-            logger.exception(f\"Exception while create dataset data in Zenodo {exc}\")\n-\n-        if data.get(\"conceptrecid\"):\n-            deposition_id = data.get(\"id\")\n-\n-            # update dataset with deposition id in Zenodo\n-            dataset_service.update_dsmetadata(dataset.ds_meta_data_id, deposition_id=deposition_id)\n-\n-            try:\n-                # iterate for each feature model (one feature model = one request to Zenodo)\n-                for feature_model in dataset.feature_models:\n-                    zenodo_service.upload_file(dataset, deposition_id, feature_model)\n+            dataset = dataset_service.create_from_form(form=form, current_user=current_user)\n+            logger.info(f\"Dataset created successfully: {dataset}\")\n \n-                # publish deposition\n-                zenodo_service.publish_deposition(deposition_id)\n+            # Mover los modelos de caracter\u00edsticas asociados\n+            dataset_service.move_feature_models(dataset)\n \n-                # update DOI\n-                deposition_doi = zenodo_service.get_doi(deposition_id)\n-                dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n-            except Exception as e:\n-                msg = f\"it has not been possible upload feature models in Zenodo and update the DOI: {e}\"\n-                return jsonify({\"message\": msg}), 200\n+            # Eliminar carpeta temporal del usuario\n+            file_path = current_user.temp_folder()\n+            if os.path.exists(file_path) and os.path.isdir(file_path):\n+                shutil.rmtree(file_path)\n \n-        # Delete temp folder\n-        file_path = current_user.temp_folder()\n-        if os.path.exists(file_path) and os.path.isdir(file_path):\n-            shutil.rmtree(file_path)\n+            return jsonify({\"message\": \"Dataset created successfully!\"}), 200\n \n-        msg = \"Everything works!\"\n-        return jsonify({\"message\": msg}), 200\n+        except Exception as exc:\n+            return jsonify({\"message\": f\"Error during dataset creation: {str(exc)}\"}), 500\n \n     return render_template(\"dataset/upload_dataset.html\", form=form)\n \n \n @dataset_bp.route(\"/dataset/list\", methods=[\"GET\", \"POST\"])\n @login_required\n def list_dataset():\n+\n     return render_template(\n         \"dataset/list_datasets.html\",\n         datasets=dataset_service.get_synchronized(current_user.id),\n         local_datasets=dataset_service.get_unsynchronized(current_user.id),\n+        status=Status,\n     )\n \n \n@@ -241,6 +214,38 @@ def download_dataset(dataset_id):\n     return resp\n \n \n+@dataset_bp.route(\"/dataset/download_all_datasets\", methods=[\"GET\"])\n+def download_all_datsets():\n+    datasets = dataset_service.get_all_datasets()\n+\n+    temp_dir = tempfile.mkdtemp()\n+    zip_path = os.path.join(temp_dir, \"datasets.zip\")\n+\n+    with ZipFile(zip_path, \"w\") as zipf:\n+        for dataset in datasets:\n+            file_path = f\"uploads/user_{dataset.user_id}/dataset_{dataset.id}/\"\n+\n+            for subdir, dirs, files in os.walk(file_path):\n+                for file in files:\n+                    full_path = os.path.join(subdir, file)\n+\n+                    relative_path = os.path.relpath(full_path, file_path)\n+\n+                    zipf.write(\n+                        full_path,\n+                        arcname=os.path.join(\n+                            os.path.basename(zip_path[:-4]), relative_path\n+                        ),\n+                    )\n+\n+    return send_from_directory(\n+        temp_dir,\n+        \"datasets.zip\",\n+        as_attachment=True,\n+        mimetype=\"application/zip\",\n+    )\n+\n+\n @dataset_bp.route(\"/doi/<path:doi>/\", methods=[\"GET\"])\n def subdomain_index(doi):\n \n@@ -256,12 +261,24 @@ def subdomain_index(doi):\n     if not ds_meta_data:\n         abort(404)\n \n-    # Get dataset\n+    # Get dataset data\n     dataset = ds_meta_data.data_set\n+    dataset_ratings = rating_service.get_total_ratings_for_dataset(dataset.id)\n+    user_already_rated = False\n+    if current_user.is_authenticated:\n+        user_already_rated = rating_service.user_already_rated_dataset(dataset.id, current_user.id)\n \n     # Save the cookie to the user's browser\n     user_cookie = ds_view_record_service.create_cookie(dataset=dataset)\n-    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset))\n+    resp = make_response(\n+        render_template(\n+            \"dataset/view_dataset.html\",\n+            dataset=dataset,\n+            current_user=current_user,\n+            dataset_ratings=dataset_ratings,\n+            user_already_rated=user_already_rated\n+        )\n+    )\n     resp.set_cookie(\"view_cookie\", user_cookie)\n \n     return resp\n@@ -271,10 +288,95 @@ def subdomain_index(doi):\n @login_required\n def get_unsynchronized_dataset(dataset_id):\n \n-    # Get dataset\n+    if (dataset_service.get_by_id(dataset_id).user_id != current_user.id):\n+        abort(403)\n+\n+    # Get dataset in case is from the current user\n     dataset = dataset_service.get_unsynchronized_dataset(current_user.id, dataset_id)\n \n     if not dataset:\n         abort(404)\n \n     return render_template(\"dataset/view_dataset.html\", dataset=dataset)\n+\n+\n+@dataset_bp.route(\"/dataset/publish\", methods=[\"POST\"])\n+@login_required\n+def publish_all_datasets():\n+    datasets = dataset_service.get_unsynchronized(current_user.id)\n+    errors = []\n+\n+    for dataset in datasets:\n+        try:\n+            zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n+            response_data = json.dumps(zenodo_response_json)\n+            data = json.loads(response_data)\n+\n+            if not data.get(\"conceptrecid\"):\n+                errors.append(f\"Dataset ID {dataset.id}: Failed to create deposition on Zenodo.\")\n+                continue\n+\n+            deposition_id = data.get(\"id\")\n+\n+            try:\n+                dataset_service.update_dsmetadata(dataset.ds_meta_data_id, deposition_id=deposition_id)\n+\n+                for feature_model in dataset.feature_models:\n+                    try:\n+                        zenodo_service.upload_file(dataset, deposition_id, feature_model)\n+                    except Exception as e:\n+                        errors.append(f\"Dataset ID {dataset.id}: Error uploading feature model. {str(e)}\")\n+\n+                zenodo_service.publish_deposition(deposition_id)\n+                deposition_doi = zenodo_service.get_doi(deposition_id)\n+                dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n+\n+            except Exception as e:\n+                errors.append(f\"Dataset ID {dataset.id}: Error during publication process. {str(e)}\")\n+\n+        except Exception as e:\n+            errors.append(f\"Dataset ID {dataset.id}: Error creating dataset in Zenodo. {str(e)}\")\n+\n+    if errors:\n+        return jsonify({\"message\": \"Publication completed with errors.\", \"errors\": errors}), 207\n+\n+    dataset_service.publish_datasets(current_user_id=current_user.id)\n+    return redirect(\"/dataset/list\")\n+\n+\n+@dataset_bp.route(\"/dataset/<int:dataset_id>/publish\", methods=[\"POST\"])\n+@login_required\n+def publish_dataset(dataset_id):\n+\n+    dataset = dataset_service.get_or_404(dataset_id)\n+\n+    if dataset.ds_meta_data.ds_status == Status.PUBLISHED:\n+        return jsonify({\"message\": \"Dataset is already published.\"}), 400\n+\n+    dataset_service.publish_specific_dataset(current_user.id, dataset_id)\n+\n+    try:\n+        zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n+        data = json.loads(json.dumps(zenodo_response_json))\n+\n+        if not data.get(\"conceptrecid\"):\n+            return jsonify({\"message\": \"Failed to create deposition on Zenodo.\"}), 400\n+\n+        deposition_id = data.get(\"id\")\n+        dataset_service.update_dsmetadata(dataset.ds_meta_data_id, deposition_id=deposition_id)\n+\n+        for feature_model in dataset.feature_models:\n+            try:\n+                zenodo_service.upload_file(dataset, deposition_id, feature_model)\n+            except Exception as e:\n+                # Log the error instead of using continue\n+                logger.error(f\"Error uploading feature model for dataset {dataset.id}: {str(e)}\")\n+\n+        zenodo_service.publish_deposition(deposition_id)\n+        deposition_doi = zenodo_service.get_doi(deposition_id)\n+        dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n+\n+        return redirect(\"/dataset/list\")\n+\n+    except Exception as exc:\n+        return jsonify({\"message\": f\"Error during Zenodo publication process: {exc}\"}), 500"
      },
      {
        "sha": "e03ee2ba240c4e42f300ebab042ececb4b1e1333",
        "filename": "app/modules/dataset/seeders.py",
        "status": "modified",
        "additions": 31,
        "deletions": 8,
        "changes": 39,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fseeders.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -9,7 +9,8 @@\n     DSMetaData,\n     PublicationType,\n     DSMetrics,\n-    Author)\n+    Author,\n+    Status)\n from datetime import datetime, timezone\n from dotenv import load_dotenv\n \n@@ -40,9 +41,23 @@ def run(self):\n                 publication_doi=f'10.1234/dataset{i+1}',\n                 dataset_doi=f'10.1234/dataset{i+1}',\n                 tags='tag1, tag2',\n-                ds_metrics_id=seeded_ds_metrics.id\n+                ds_metrics_id=seeded_ds_metrics.id,\n+                ds_status=Status.PUBLISHED\n             ) for i in range(4)\n         ]\n+\n+        # Addition of a Unpublished sample datatset metadata\n+        unpublished_dataset_meta_data = DSMetaData(\n+            deposition_id=5,\n+            title='UNPUBLISHED DATASET',\n+            description='Description for dataset 5',\n+            publication_type=PublicationType.DATA_MANAGEMENT_PLAN,\n+            publication_doi=None,\n+            dataset_doi=None,\n+            tags='tag1, tag2',\n+            ds_metrics_id=seeded_ds_metrics.id\n+        )\n+        ds_meta_data_list.append(unpublished_dataset_meta_data)\n         seeded_ds_meta_data = self.seed(ds_meta_data_list)\n \n         # Create Author instances and associate with DSMetaData\n@@ -51,8 +66,8 @@ def run(self):\n                 name=f'Author {i+1}',\n                 affiliation=f'Affiliation {i+1}',\n                 orcid=f'0000-0000-0000-000{i}',\n-                ds_meta_data_id=seeded_ds_meta_data[i % 4].id\n-            ) for i in range(4)\n+                ds_meta_data_id=seeded_ds_meta_data[i % 5].id\n+            ) for i in range(5)\n         ]\n         self.seed(authors)\n \n@@ -64,6 +79,14 @@ def run(self):\n                 created_at=datetime.now(timezone.utc)\n             ) for i in range(4)\n         ]\n+\n+        # Addition of a Unpublished sample datatset metadata\n+        unpublished_dataset = DataSet(\n+            user_id=user1.id,\n+            ds_meta_data_id=unpublished_dataset_meta_data.id,\n+            created_at=datetime.now(timezone.utc)\n+        )\n+        datasets.append(unpublished_dataset)\n         seeded_datasets = self.seed(datasets)\n \n         # Assume there are 12 UVL files, create corresponding FMMetaData and FeatureModel\n@@ -76,7 +99,7 @@ def run(self):\n                 publication_doi=f'10.1234/fm{i+1}',\n                 tags='tag1, tag2',\n                 uvl_version='1.0'\n-            ) for i in range(12)\n+            ) for i in range(15)\n         ]\n         seeded_fm_meta_data = self.seed(fm_meta_data_list)\n \n@@ -87,23 +110,23 @@ def run(self):\n                 affiliation=f'Affiliation {i+5}',\n                 orcid=f'0000-0000-0000-000{i+5}',\n                 fm_meta_data_id=seeded_fm_meta_data[i].id\n-            ) for i in range(12)\n+            ) for i in range(15)\n         ]\n         self.seed(fm_authors)\n \n         feature_models = [\n             FeatureModel(\n                 data_set_id=seeded_datasets[i // 3].id,\n                 fm_meta_data_id=seeded_fm_meta_data[i].id\n-            ) for i in range(12)\n+            ) for i in range(15)\n         ]\n         seeded_feature_models = self.seed(feature_models)\n \n         # Create files, associate them with FeatureModels and copy files\n         load_dotenv()\n         working_dir = os.getenv('WORKING_DIR', '')\n         src_folder = os.path.join(working_dir, 'app', 'modules', 'dataset', 'uvl_examples')\n-        for i in range(12):\n+        for i in range(15):\n             file_name = f'file{i+1}.uvl'\n             feature_model = seeded_feature_models[i]\n             dataset = next(ds for ds in seeded_datasets if ds.id == feature_model.data_set_id)"
      },
      {
        "sha": "8fe0abb35b5ae9ed00f937ba4a0903cfe574d3f2",
        "filename": "app/modules/dataset/services.py",
        "status": "modified",
        "additions": 26,
        "deletions": 1,
        "changes": 27,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fservices.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -8,7 +8,7 @@\n from flask import request\n \n from app.modules.auth.services import AuthenticationService\n-from app.modules.dataset.models import DSViewRecord, DataSet, DSMetaData\n+from app.modules.dataset.models import DSViewRecord, DataSet, DSMetaData, Status\n from app.modules.dataset.repositories import (\n     AuthorRepository,\n     DOIMappingRepository,\n@@ -140,6 +140,31 @@ def get_uvlhub_doi(self, dataset: DataSet) -> str:\n         domain = os.getenv('DOMAIN', 'localhost')\n         return f'http://{domain}/doi/{dataset.ds_meta_data.dataset_doi}'\n \n+    def get_all_datasets(self):\n+        return self.repository.get_all_datasets()\n+\n+    # This method will help in the proccess of publishing datasets\n+    def publish_datasets(self, current_user_id):\n+        try:\n+            datasets = self.repository.get_unsynchronized(current_user_id)\n+            for dataset in datasets:\n+                if (dataset.ds_meta_data.ds_status == Status.UNPUBLISHED):\n+                    dataset.ds_meta_data.ds_status = Status.PUBLISHED\n+                    self.repository.session.commit()\n+                else:\n+                    raise ValueError(\"Dataset is not in 'UNPUBLISHED' status\")\n+        except Exception:\n+            self.repository.session.rollback()\n+\n+    # This method will help in the proccess of publishing a specific dataset\n+    def publish_specific_dataset(self, current_user_id, dataset_id):\n+        try:\n+            dataset = self.repository.get_unsynchronized_dataset(current_user_id, dataset_id)\n+            dataset.ds_meta_data.ds_status = Status.PUBLISHED\n+            self.repository.session.commit()\n+        except Exception:\n+            self.repository.session.rollback()\n+\n \n class AuthorService(BaseService):\n     def __init__(self):"
      },
      {
        "sha": "1fd87c410d1d79539276c115f7f1d13ca64a0a2a",
        "filename": "app/modules/dataset/templates/dataset/list_datasets.html",
        "status": "modified",
        "additions": 71,
        "deletions": 63,
        "changes": 134,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -6,11 +6,16 @@\n \n     <h1 class=\"h3 mb-3\">My datasets</h1>\n \n-    {% if datasets %}\n-        <div class=\" col-12\">\n+    {% if local_datasets %}\n+        <div class=\"col-12\">\n             <div class=\"card\">\n-\n                 <div class=\"card-body\">\n+                    <form action=\"{{ url_for('dataset.publish_all_datasets') }}\" method=\"POST\">\n+                        <button type=\"submit\" class=\"btn btn-primary\">Publish All datasets to Zenodo</button>\n+                    </form>\n+                    <div class=\"card-header\">\n+                        <h5 class=\"card-title\">My unpublished datasets (stagging area)</h5>\n+                    </div>\n                     <table class=\"table\">\n                         <thead>\n                         <tr>\n@@ -22,33 +27,36 @@ <h1 class=\"h3 mb-3\">My datasets</h1>\n                         </tr>\n                         </thead>\n                         <tbody>\n-                        {% for dataset in datasets %}\n-                            <tr>\n-                                <td>\n-                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n-                                        {{ dataset.ds_meta_data.title }}\n-                                    </a>\n-                                </td>\n-                                <td>{{ dataset.ds_meta_data.description }}</td>\n-                                <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n-                                <td><a href=\"{{ dataset.get_uvlhub_doi() }}\"\n-                                       target=\"_blank\">{{ dataset.get_uvlhub_doi() }}</a></td>\n-                                <td>\n-                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n-                                        <i data-feather=\"eye\"></i>\n-                                    </a>\n-                                    <a href=\"{{ url_for('dataset.download_dataset', dataset_id=dataset.id) }}\">\n-                                        <i data-feather=\"download\"></i>\n-                                    </a>\n-                                </td>\n-                            </tr>\n+                        {% for dataset in local_datasets %}\n+                            {% if dataset.ds_meta_data.ds_status  == status.UNPUBLISHED %}\n+                                <tr>\n+                                    <td>\n+                                        <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=dataset.id) }}\">\n+                                            {{ dataset.ds_meta_data.title }}\n+                                        </a>\n+                                    </td>\n+                                    <td>{{ dataset.ds_meta_data.description }}</td>\n+                                    <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                    <td> Unpublished datasets dont have a DOI </td>\n+                                    <td>\n+                                        <a href=\"{{ url_for('dataset.download_dataset', dataset_id=dataset.id) }}\">\n+                                            <i data-feather=\"download\"></i>\n+                                        </a>\n+                                    </td>\n+                                    <td>\n+                                        {% if dataset.user_id == current_user.id and dataset.ds_meta_data.ds_status  == status.UNPUBLISHED %}\n+                                            <form action=\"{{ url_for('dataset.publish_dataset', dataset_id=dataset.id) }}\" method=\"POST\">\n+                                                <button type=\"submit\" class=\"btn btn-primary\">Publish to Zenodo</button>\n+                                            </form>\n+                                        {% endif %}\n+                                    </td>\n+                                </tr>\n+                            {% endif %}\n                         {% endfor %}\n                         </tbody>\n                     </table>\n                 </div>\n-\n             </div>\n-\n         </div>\n     {% else %}\n         <div class=\"col-12 col-md-6\">\n@@ -58,7 +66,7 @@ <h5 class=\"card-title mb-0\">No datasets found</h5>\n                 </div>\n                 <div class=\"card-body\">\n                     <p class=\"card-text\">\n-                        You have not created any dataset synchronized with Zenodo, are you up for it?\n+                        You don't have unpublished datasets\n                     </p>\n                     <a href=\"{{ url_for('dataset.create_dataset') }}\" class=\"btn btn-primary\">\n                         Upload dataset</a>\n@@ -67,52 +75,52 @@ <h5 class=\"card-title mb-0\">No datasets found</h5>\n         </div>\n     {% endif %}\n \n-    <div class=\"row\">\n-\n-\n+    <div class=\"row mt-5\">\n         <div class=\"col-12\">\n-            {% if local_datasets %}\n-                <div class=\"card\">\n+            <div class=\"card\">\n+                <div class=\"card-body\">\n+                    <div class=\"card-header\">\n+                        <h5 class=\"card-title\">Published datasets in zenodo</h5>\n+                    </div>\n                     <div class=\"card-body\">\n-                        <div class=\"card-header\">\n-                            <h5 class=\"card-title\">Unsynchronized datasets</h5>\n-                        </div>\n-                        <div class=\"card-body\">\n+                        {% if datasets %}\n                             <table class=\"table\">\n                                 <thead>\n-                                <tr>\n-                                    <th>Title</th>\n-                                    <th>Description</th>\n-                                    <th>Publication type</th>\n-                                    <th>Options</th>\n-                                </tr>\n-                                </thead>\n-                                <tbody>\n-                                {% for local_dataset in local_datasets %}\n                                     <tr>\n-                                        <td>\n-                                            <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=local_dataset.id) }}\">\n-                                                {{ local_dataset.ds_meta_data.title }}\n-                                            </a>\n-                                        </td>\n-                                        <td>{{ local_dataset.ds_meta_data.description }}</td>\n-                                        <td>{{ local_dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n-                                        <td>\n-                                            <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=local_dataset.id) }}\">\n-                                                <i data-feather=\"eye\"></i>\n-                                            </a>\n-                                            <a href=\"{{ url_for('dataset.download_dataset', dataset_id=local_dataset.id) }}\">\n-                                                <i data-feather=\"download\"></i>\n-                                            </a>\n-                                        </td>\n+                                        <th>Title</th>\n+                                        <th>Description</th>\n+                                        <th>Publication type</th>\n+                                        <th>DOI</th>\n                                     </tr>\n-                                {% endfor %}\n+                                </thead>\n+                                <tbody>\n+                                    {% for dataset in datasets %}\n+                                        {% if dataset.ds_meta_data.ds_status == status.PUBLISHED %}\n+                                            <tr>\n+                                                <td>\n+                                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                                        {{ dataset.ds_meta_data.title }}\n+                                                    </a>\n+                                                </td>\n+                                                <td>{{ dataset.ds_meta_data.description }}</td>\n+                                                <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                                <td>\n+                                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\" target=\"_blank\">\n+                                                        {{ dataset.get_uvlhub_doi() }}\n+                                                    </a>\n+                                                </td>\n+                                            </tr>\n+                                        {% endif %}\n+                                    {% endfor %}\n                                 </tbody>\n                             </table>\n-                        </div>\n+                        {% else %}\n+                            <p>No datasets synchronized with Zenodo.</p>\n+                        {% endif %}\n                     </div>\n                 </div>\n-            {% endif %}\n+            </div>\n         </div>\n+    </div>\n \n-{% endblock %}\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "5d813ac93806d6fbe64d0696b5558e6e7bd4da68",
        "filename": "app/modules/dataset/templates/dataset/view_dataset.html",
        "status": "modified",
        "additions": 132,
        "deletions": 7,
        "changes": 139,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -64,7 +64,7 @@ <h1><b>{{ dataset.ds_meta_data.title }}</b></h1>\n                         </span>\n                     </div>\n                     <div class=\"col-md-8 col-12\">\n-                        <a href=\"#\">{{ dataset.user.profile.surname }}, {{ dataset.user.profile.name }}</a>\n+                        <a href=\"{{ url_for('profile.my_profile', user_id=dataset.user_id) }}\">{{ dataset.user.profile.surname }}, {{ dataset.user.profile.name }}</a>\n                     </div>\n \n                 </div>\n@@ -174,10 +174,20 @@ <h1><b>{{ dataset.ds_meta_data.title }}</b></h1>\n                         {{ dataset.get_uvlhub_doi() }}\n                     </span>\n                 </button>\n+\n+                \n                 \n                 <div id=\"dataset_doi_uvlhub\" style=\"display: none\">\n                     {{ dataset.get_uvlhub_doi() }}\n                 </div>\n+                {% if current_user.is_authenticated %}\n+                    <button type=\"button\" class=\"btn btn-sm btn-primary\" style=\"margin-top: 10px; border-radius: 5px\" onclick=\"addRating('{{ dataset.id }}', '{{current_user.id}}')\">\n+                        <i id=\"unrated-icon\" data-feather=\"star\" class=\"center-button-icon\" style=\"cursor: pointer\"></i>\n+                        <i id=\"rated-icon\" class=\"fas fa-star\" style=\"cursor: pointer\"></i>\n+                        <b>Star</b>\n+                        <span id=\"rating-count-{{ dataset.id }}\">{{dataset_ratings}}</span>\n+                    </button>\n+                {% endif %}\n                 \n             </div>\n             {% endif %}\n@@ -268,6 +278,11 @@ <h4 style=\"margin-bottom: 0px;\"><span class=\"badge bg-dark\">{{ dataset.get_files\n                                 \n                             </div>\n                             <div class=\"col-12 text-end\" >\n+                                {% if current_user.id == dataset.user_id %}\n+                                    <button onclick=\"editFile('{{ file.id }}')\" class=\"btn btn-outline-secondary btn-sm\" style=\"border-radius: 5px;\">\n+                                        <i data-feather=\"edit-2\"></i> Edit\n+                                    </button>\n+                                {% endif %}\n \n                                 <button onclick=\"viewFile('{{ file.id }}')\" class=\"btn btn-outline-secondary btn-sm\" style=\"border-radius: 5px;\">\n                                     <i data-feather=\"eye\"></i> View\n@@ -334,7 +349,7 @@ <h4 style=\"margin-bottom: 0px;\"><span class=\"badge bg-dark\">{{ dataset.get_files\n     \n </div>\n \n-<!-- Modal-->\n+<!-- Modal view -->\n <div class=\"modal fade\" id=\"fileViewerModal\" tabindex=\"-1\" aria-labelledby=\"fileViewerModalLabel\" aria-hidden=\"true\">\n     <div class=\"modal-dialog modal-lg\" style=\"height: 80vh; display: flex; align-items: center;\">\n         <div class=\"modal-content\" style=\"height: 80vh;\">\n@@ -345,15 +360,42 @@ <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n                         style=\"margin-right: 5px; margin-bottom: 5px; border-radius: 5px;\">\n                         <i data-feather=\"download\"></i>\n                     </a>\n-                    <button onclick=\"copyToClipboard()\" class=\"btn btn-outline-secondary btn-sm\"\n+                    <button onclick=\"copyToClipboard('fileContentView')\" class=\"btn btn-outline-secondary btn-sm\"\n                         style=\"margin-right: 5px; margin-bottom: 5px; border-radius: 5px;\">\n                         <i data-feather=\"copy\"></i>\n                     </button>\n                     <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                 </div>\n             </div>\n             <div class=\"modal-body\" style=\"overflow-y: auto; height: calc(100vh - 50px);\">\n-                <pre id=\"fileContent\" style=\"height: 100%; overflow-y: auto; white-space: pre-wrap; word-wrap: break-word; background-color: #f5f5f5; padding: 20px; border-radius: 5px; border: 1px solid #ccc;\"></pre>\n+                <pre id=\"fileContentView\" style=\"height: 100%; overflow-y: auto; white-space: pre-wrap; word-wrap: break-word; background-color: #f5f5f5; padding: 20px; border-radius: 5px; border: 1px solid #ccc;\"></pre>\n+\n+            </div>\n+        </div>\n+    </div>\n+</div>\n+\n+<!-- Modal edit-->\n+<div class=\"modal fade\" id=\"fileEditorModal\" tabindex=\"-1\" aria-labelledby=\"fileViewerModalLabel\" aria-hidden=\"true\">\n+    <div class=\"modal-dialog modal-lg\" style=\"height: 80vh; display: flex; align-items: center;\">\n+        <div class=\"modal-content\" style=\"height: 80vh;\">\n+            <div class=\"modal-header\" style=\"display: flex; justify-content: space-between; align-items: center;\">\n+                <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n+                <div>\n+                    <button onclick=\"save()\" class=\"btn btn-outline-primary btn-sm\" id=\"saveButton\"\n+                        style=\"margin-right: 5px; margin-bottom: 5px; border-radius: 5px;\">\n+                        <i data-feather=\"save\"></i>\n+                        <input type=\"hidden\" id=\"file_id\" value=\"0\">\n+                    </button>\n+                    <button onclick=\"copyToClipboard('fileContentEdit')\" class=\"btn btn-outline-secondary btn-sm\"\n+                        style=\"margin-right: 5px; margin-bottom: 5px; border-radius: 5px;\">\n+                        <i data-feather=\"copy\"></i>\n+                    </button>\n+                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n+                </div>\n+            </div>\n+            <div class=\"modal-body\" style=\"overflow-y: auto; height: calc(100vh - 50px);\">\n+                <pre id=\"fileContentEdit\" contenteditable=\"true\" style=\"height: 100%; overflow-y: auto; white-space: pre-wrap; word-wrap: break-word; background-color: #f5f5f5; padding: 20px; border-radius: 5px; border: 1px solid #ccc;\"></pre>\n \n             </div>\n         </div>\n@@ -375,7 +417,7 @@ <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n         fetch(`/file/view/${fileId}`)\n             .then(response => response.json())\n             .then(data => {\n-                document.getElementById('fileContent').textContent = data.content;\n+                document.getElementById('fileContentView').textContent = data.content;\n                 currentFileId = fileId;\n                 document.getElementById('downloadButton').href = `/file/download/${fileId}`;\n                 var modal = new bootstrap.Modal(document.getElementById('fileViewerModal'));\n@@ -384,6 +426,20 @@ <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n             .catch(error => console.error('Error loading file:', error));\n     }\n \n+    function editFile(fileId) {\n+        fetch(`/file/view/${fileId}`)\n+            .then(response => response.json())\n+            .then(data => {\n+                document.getElementById('fileContentEdit').textContent = data.content;\n+                currentFileId = fileId;\n+                document.getElementById('downloadButton').href = `/file/download/${fileId}`;\n+                var modal = new bootstrap.Modal(document.getElementById('fileEditorModal'));\n+                document.getElementById('file_id').value = fileId;\n+                modal.show();\n+            })\n+            .catch(error => console.error('Error loading file:', error));\n+    }\n+\n     function showLoading() {\n         document.getElementById(\"loading\").style.display = \"initial\";\n     }\n@@ -484,14 +540,83 @@ <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n         }\n     }\n     */\n-    function copyToClipboard() {\n-        const text = document.getElementById('fileContent').textContent;\n+    function copyToClipboard(elementName) {\n+        const text = document.getElementById(elementName).textContent;\n         navigator.clipboard.writeText(text).then(() => {\n             console.log('Text copied to clipboard');\n         }).catch(err => {\n             console.error('Failed to copy text: ', err);\n         });\n     }\n+\n+    function save(){\n+        const fileId = document.getElementById('file_id').value;\n+        fetch(`/file/edit/${fileId}`, {\n+            method: 'POST',\n+            headers: {\n+                'Content-Type': 'application/json'\n+            },\n+            body: JSON.stringify({\n+                content: document.getElementById('fileContentEdit').textContent\n+            })\n+        })\n+        .then(response => response.json())\n+        .then(data => {\n+            if(data.error) {\n+                alert(\"You are not allowed to edit this file\");\n+            }\n+            else{\n+                alert(\"File saved successfully\");\n+            }\n+        })\n+        .catch(error => console.error('Error loading file:', error));\n+    }\n+\n+    function addRating(datasetId, user_id) {\n+            fetch('/rating/add', {\n+                method: 'POST',\n+                headers: {\n+                    'Content-Type': 'application/json'\n+                },\n+                body: JSON.stringify({\n+                    dataset_id: datasetId,\n+                    user_id: user_id,\n+                })\n+            })\n+            .then(response => response.json())\n+            .then(data => {\n+                updateRatingCount(datasetId);\n+            })\n+            .catch(error => {\n+                console.error('Error:', error);\n+            });\n+    }\n+\n+    let user_already_rated = {{ user_already_rated | tojson }};\n+    if (user_already_rated) {\n+        document.getElementById('unrated-icon').style.display = \"none\";\n+    } else {\n+        document.getElementById('rated-icon').style.display = \"none\";\n+    }\n+\n+    function updateRatingCount(datasetId) {\n+        fetch(`/rating/total/dataset/${datasetId}`)\n+            .then(response => response.json())\n+            .then(data => {\n+                document.getElementById(`rating-count-${datasetId}`).innerText = data.total_ratings;\n+                user_already_rated = data.user_already_rated;\n+                if (user_already_rated) {\n+                    document.getElementById('unrated-icon').style.display = \"none\";\n+                    document.getElementById('rated-icon').style.display = \"inline\";\n+                } else {\n+                    document.getElementById('rated-icon').style.display = \"none\";\n+                    document.getElementById('unrated-icon').style.display = \"inline\";\n+                }\n+            })\n+            .catch(error => {\n+                console.error('Error:', error);\n+            });\n+    }\n </script>\n \n {% endblock %}"
      },
      {
        "sha": "0f5ad315a582910237e077ccd7ae2dec54d3d397",
        "filename": "app/modules/dataset/tests/checksum_file_test.txt",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Ftests%2Fchecksum_file_test.txt",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Ftests%2Fchecksum_file_test.txt",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Fchecksum_file_test.txt?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1 @@\n+Test file for datasets module.\n\\ No newline at end of file"
      },
      {
        "sha": "53462ff65e23cb4256c89cee3baa2a7524c2043f",
        "filename": "app/modules/dataset/tests/locustfile.py",
        "status": "modified",
        "additions": 16,
        "deletions": 0,
        "changes": 16,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -1,6 +1,7 @@\n from locust import HttpUser, TaskSet, task\n from core.locust.common import get_csrf_token\n from core.environment.host import get_host_for_locust_testing\n+import secrets\n \n \n class DatasetBehavior(TaskSet):\n@@ -18,3 +19,18 @@ class DatasetUser(HttpUser):\n     min_wait = 5000\n     max_wait = 9000\n     host = get_host_for_locust_testing()\n+\n+\n+class DatasetPublishBehavior(TaskSet):\n+    @task\n+    def publish_dataset(self):\n+        # Genera un n\u00famero aleatorio seguro para la publicaci\u00f3n del dataset\n+        dataset_id = secrets.randbelow(100) + 1  # Genera un n\u00famero entre 1 y 100\n+        response = self.client.post(f\"/dataset/{dataset_id}/publish\")\n+\n+        if response.status_code == 200:\n+            print(f\"Dataset {dataset_id} publicado con \u00e9xito\")\n+        elif response.status_code == 400:\n+            print(f\"Dataset {dataset_id} ya estaba publicado o tuvo un error: {response.json()}\")\n+        else:\n+            print(f\"Error en la publicaci\u00f3n del dataset {dataset_id}: {response.status_code}\")"
      },
      {
        "sha": "57eae050b27661f3f46ea9e8c83736ef19752cae",
        "filename": "app/modules/dataset/tests/test_selenium.py",
        "status": "modified",
        "additions": 48,
        "deletions": 0,
        "changes": 48,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -131,5 +131,53 @@ def test_upload_dataset():\n         close_driver(driver)\n \n \n+def test_downloadall():\n+    driver = initialize_driver()\n+    driver.get(\"http://127.0.0.1:5000/\")\n+    driver.set_window_size(1702, 963)\n+    driver.find_element(By.LINK_TEXT, \"Download all datasets\").click()\n+\n+\n+def test_publish_datset():\n+    driver = initialize_driver()\n+    driver.get(\"http://127.0.0.1:5000/\")\n+    driver.set_window_size(1854, 1048)\n+    driver.find_element(By.CSS_SELECTOR, \".nav-link:nth-child(2)\").click()\n+    driver.find_element(By.ID, \"email\").click()\n+    driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+    driver.find_element(By.ID, \"password\").click()\n+    driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+    driver.find_element(By.ID, \"submit\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".sidebar-item:nth-child(7) .align-middle:nth-child(2)\").click()\n+    wait_for_page_to_load(driver)\n+    driver.find_element(By.CSS_SELECTOR, \"tr:nth-child(1) .btn\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".btn\").click()\n+\n+\n+def test_publish_All_datasets():\n+\n+    test_upload_dataset()\n+    # redneck fix: invoke a test that creates a dataset and using the \"fixture created\" does the current test\n+\n+    driver = initialize_driver()\n+    driver.get(\"http://127.0.0.1:5000/\")\n+    driver.set_window_size(1854, 1048)\n+    driver.find_element(By.CSS_SELECTOR, \".nav-link:nth-child(2)\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".row:nth-child(2) > .col-md-6 > .mb-3\").click()\n+    driver.find_element(By.ID, \"email\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".row:nth-child(2) > .col-md-6\").click()\n+    driver.find_element(By.ID, \"email\").click()\n+    driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+    driver.find_element(By.ID, \"password\").click()\n+    driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+    driver.find_element(By.ID, \"submit\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".sidebar-item:nth-child(7) .align-middle:nth-child(2)\").click()\n+    wait_for_page_to_load(driver)\n+    driver.find_element(By.CSS_SELECTOR, \".card-body > form > .btn\").click()\n+\n+\n # Call the test function\n+test_publish_All_datasets()\n test_upload_dataset()\n+test_downloadall()\n+test_publish_datset()"
      },
      {
        "sha": "53bede865f533b1ebf6270a8729df4ffc45e84a2",
        "filename": "app/modules/dataset/tests/test_unit.py",
        "status": "added",
        "additions": 174,
        "deletions": 0,
        "changes": 174,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,174 @@\n+import pytest\n+\n+from app.modules.dataset import services\n+from unittest.mock import patch, MagicMock\n+from app.modules.conftest import login, logout\n+from app.modules.auth.models import User\n+from app.modules.dataset.models import Status\n+from app import db\n+\n+\n+@pytest.fixture(scope=\"module\")\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    \"\"\"\n+    with test_client.application.app_context():\n+        # Add HERE new elements to the database that you want to exist in the test context.\n+        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+        # Create a test user\n+        user_test = User(email=\"testuser@example.com\", password=\"1234\")\n+        db.session.add(user_test)\n+        db.session.commit()\n+\n+    yield test_client\n+\n+\n+def test_download_all_dataset(test_client):\n+    response = test_client.get(\n+        \"/dataset/download_all_datasets\", follow_redirects=True\n+    )\n+\n+    assert response.status_code == 200, \"Download all datasets was unsuccessful\"\n+\n+    test_client.get(\"/logout\", follow_redirects=True)\n+\n+\n+def test_checksum_and_size():\n+    checksum, size = services.calculate_checksum_and_size(\"app/modules/dataset/tests/checksum_file_test.txt\")\n+    assert checksum == \"1ca813544406308899f8764f9d5a3422\"\n+    assert size == 30\n+\n+\n+@pytest.mark.local\n+def test_publish_dataset_success(test_client):\n+    \"\"\"\n+    Positive case: Publish an unpublished dataset.\n+    \"\"\"\n+    dataset_id = 500\n+    login_response = login(test_client, \"testuser@example.com\", \"1234\")\n+    assert login_response.status_code == 200, \"Login was failed.\"\n+\n+    with patch(\"app.modules.dataset.services.DataSetService.get_or_404\") as mock_get_dataset, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.create_new_deposition\") as mock_zenodo, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.upload_file\") as mock_upload_file:\n+\n+        mock_get_dataset.return_value = MagicMock(\n+            id=dataset_id,\n+            ds_meta_data_id=1000,\n+            ds_meta_data=MagicMock(\n+                ds_status=\"unpublished\",\n+                title=\"Dataset 1\",\n+                description=\"Description of dataset 1\",\n+                publication_type=\"DATA_MANAGEMENT_PLAN\",\n+                dataset_doi=None,\n+            ),\n+            feature_models=[\n+                MagicMock(id=101, name=\"FeatureModel1\"),\n+                MagicMock(id=102, name=\"FeatureModel2\"),\n+            ],\n+        )\n+\n+        mock_upload_file.return_value = None\n+        mock_zenodo.return_value = {\"conceptrecid\": \"12345\", \"id\": \"67890\"}\n+\n+        response = test_client.post(f\"/dataset/{dataset_id}/publish\", follow_redirects=True)\n+        print(\"Response\", response.get_json())\n+        assert response.status_code == 200, \"Publishing the unpublished dataset failed.\"\n+        mock_get_dataset.assert_called_once_with(dataset_id)\n+\n+    logout(test_client)\n+\n+\n+@pytest.mark.local\n+def test_publish_all_datasets_success(test_client):\n+    \"\"\"\n+    Positive case: Publish all unpublished datasets.\n+    \"\"\"\n+    login_response = login(test_client, \"testuser@example.com\", \"1234\")\n+    assert login_response.status_code == 200, \"Login was failed.\"\n+\n+    with patch(\"app.modules.dataset.services.DataSetService.get_unsynchronized\") as mock_get_datasets, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.create_new_deposition\") as mock_zenodo, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.upload_file\") as mock_upload_file:\n+\n+        mock_upload_file.return_value = None\n+        mock_get_datasets.return_value = [\n+            MagicMock(\n+                id=500,\n+                ds_meta_data_id=1000,\n+                ds_meta_data=MagicMock(\n+                    ds_status=\"unpublished\",\n+                    title=\"Dataset 1\",\n+                    description=\"Description of dataset 1\",\n+                    publication_type=\"DATA_MANAGEMENT_PLAN\",\n+                    dataset_doi=None,\n+                ),\n+                feature_models=[\n+                    MagicMock(id=101, name=\"FeatureModel1\"),\n+                    MagicMock(id=102, name=\"FeatureModel2\"),\n+                ],\n+            ),\n+            MagicMock(\n+                id=501,\n+                ds_meta_data_id=1001,\n+                ds_meta_data=MagicMock(\n+                    ds_status=\"unpublished\",\n+                    title=\"Dataset 2\",\n+                    description=\"Description of dataset 2\",\n+                    publication_type=\"DATA_MANAGEMENT_PLAN\",\n+                    dataset_doi=None,\n+                ),\n+                feature_models=[\n+                    MagicMock(id=103, name=\"FeatureModel3\"),\n+                ],\n+            ),\n+        ]\n+\n+        mock_zenodo.return_value = {\"conceptrecid\": \"12345\", \"id\": \"67890\"}\n+\n+        print(\"Mocked datasets:\", mock_get_datasets.return_value)\n+        print(\"Mocked Zenodo response:\", mock_zenodo.return_value)\n+        response = test_client.post(\"/dataset/publish\", follow_redirects=True)\n+        print(\"Response\", response.get_json())\n+        assert response.status_code == 200, \"Publishing all unpublished datasets failed.\"\n+        mock_get_datasets.assert_called()\n+\n+    logout(test_client)\n+\n+\n+def test_publish_dataset_already_published(test_client):\n+    \"\"\"\n+    Negative case: Try to publish an already published dataset.\n+    \"\"\"\n+    dataset_id = 1\n+    login_response = login(test_client, \"testuser@example.com\", \"1234\")\n+    assert login_response.status_code == 200, \"Login was failed.\"\n+\n+    with patch(\"app.modules.dataset.services.DataSetService.get_or_404\") as mock_get_dataset:\n+        mock_get_dataset.return_value = MagicMock(ds_meta_data=MagicMock(ds_status=Status.PUBLISHED))\n+\n+        response = test_client.post(f\"/dataset/{dataset_id}/publish\", follow_redirects=True)\n+        assert response.status_code == 400, \"It should not allow publishing an already published dataset.\"\n+        assert response.json[\"message\"] == \"Dataset is already published.\"\n+\n+    logout(test_client)\n+\n+\n+def test_publish_all_datasets_with_errors(test_client):\n+    \"\"\"\n+    Negative case: Publish all unpublished datasets with some errors\n+    \"\"\"\n+    login_response = login(test_client, \"testuser@example.com\", \"1234\")\n+    assert login_response.status_code == 200, \"Login fue fallido.\"\n+\n+    with patch(\"app.modules.dataset.services.DataSetService.get_unsynchronized\") as mock_get_datasets, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.create_new_deposition\") as mock_zenodo:\n+        mock_get_datasets.return_value = [MagicMock(id=2), MagicMock(id=3)]\n+        mock_zenodo.side_effect = Exception(\"Error creating deposition\")\n+\n+        response = test_client.post(\"/dataset/publish\", follow_redirects=True)\n+        assert response.status_code == 207, \"The errored publication did not return the expected status.\"\n+        assert \"Publication completed with errors.\" in response.json[\"message\"]\n+\n+    logout(test_client)"
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file13.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile13.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile13.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile13.uvl?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file14.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile14.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile14.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile14.uvl?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file15.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile15.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile15.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile15.uvl?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "dcae33bec481e6fc3d931c097cf5e52f603aa055",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "modified",
        "additions": 7,
        "deletions": 2,
        "changes": 9,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -2,18 +2,23 @@\n from app.modules.fakenodo import fakenodo_bp\n import json\n import uuid\n+import os\n \n \n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['GET'])\n def get_all_depositions():\n-    with open('app/modules/fakenodo/placeholders/depositions.json') as f:\n+    workdir = os.getenv(\"WORKING_DIR\")\n+    path = f\"{workdir}app/modules/fakenodo/placeholders/deposition.json\"\n+    with open(path) as f:\n         data = json.load(f)\n     return jsonify(data)\n \n \n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['GET'])\n def get_deposition(id):\n-    with open('app/modules/fakenodo/placeholders/deposition.json') as f:\n+    workdir = os.getenv(\"WORKING_DIR\")\n+    path = f\"{workdir}app/modules/fakenodo/placeholders/deposition.json\"\n+    with open(path) as f:\n         data = json.load(f)\n         data['doi'] = str(uuid.uuid4())\n "
      },
      {
        "sha": "f930a79c48dc9a1a7305cc29fc17d8dc5c1ea53f",
        "filename": "app/modules/featuremodel/models.py",
        "status": "modified",
        "additions": 9,
        "deletions": 0,
        "changes": 9,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Ffeaturemodel%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Ffeaturemodel%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffeaturemodel%2Fmodels.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -14,6 +14,15 @@ class FeatureModel(db.Model):\n     def __repr__(self):\n         return f'FeatureModel<{self.id}>'\n \n+    def to_dict(self):\n+        return {\n+            'id': self.id,\n+            'data_set_id': self.data_set_id,\n+            'fm_meta_data_id': self.fm_meta_data_id,\n+            'files': [file.to_dict() for file in self.files],\n+            'fm_meta_data': self.fm_meta_data.to_dict()\n+        }\n+\n \n class FMMetaData(db.Model):\n     id = db.Column(db.Integer, primary_key=True)"
      },
      {
        "sha": "429322138dde42bebd170a5963c3fc955921d6eb",
        "filename": "app/modules/hubfile/routes.py",
        "status": "modified",
        "additions": 40,
        "deletions": 0,
        "changes": 40,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fhubfile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fhubfile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Froutes.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -96,3 +96,43 @@ def view_file(file_id):\n             return jsonify({'success': False, 'error': 'File not found'}), 404\n     except Exception as e:\n         return jsonify({'success': False, 'error': str(e)}), 500\n+\n+\n+@hubfile_bp.route('/file/edit/<int:file_id>', methods=['POST'])\n+def edit_file(file_id):\n+    file = HubfileService().get_or_404(file_id)\n+    filename = file.name\n+\n+    directory_path = f\"uploads/user_{file.feature_model.data_set.user_id}/dataset_{file.feature_model.data_set_id}/\"\n+    parent_directory_path = os.path.dirname(current_app.root_path)\n+    file_path = os.path.join(parent_directory_path, directory_path, filename)\n+\n+    # Get conent from request\n+    content = request.json.get('content')\n+\n+    # Check if the user is the owner of the file\n+\n+    try:\n+\n+        if current_user.id != file.feature_model.data_set.user_id:\n+            return jsonify({'success': False, 'error': 'You are not authorized to edit this file'}), 403\n+\n+        if os.path.exists(file_path):\n+            with open(file_path, 'w') as f:\n+                f.write(content)\n+\n+            user_cookie = request.cookies.get('view_cookie')\n+            if not user_cookie:\n+                user_cookie = str(uuid.uuid4())\n+\n+            # Prepare response\n+            response = jsonify({'success': True, 'content': content})\n+            if not request.cookies.get('view_cookie'):\n+                response = make_response(response)\n+                response.set_cookie('view_cookie', user_cookie, max_age=60*60*24*365*2)\n+\n+            return response\n+        else:\n+            return jsonify({'success': False, 'error': 'File not found'}), 404\n+    except Exception as e:\n+        return jsonify({'success': False, 'error': str(e)}), 500"
      },
      {
        "sha": "ae8c0f6c07de43a75679910c14bc614c9e5dceaa",
        "filename": "app/modules/hubfile/tests/test_selenium.py",
        "status": "modified",
        "additions": 38,
        "deletions": 0,
        "changes": 38,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_selenium.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -3,6 +3,10 @@\n \n from core.environment.host import get_host_for_selenium_testing\n from core.selenium.common import initialize_driver, close_driver\n+from selenium.webdriver.common.by import By\n+from selenium.webdriver.support import expected_conditions\n+from selenium.webdriver.support.wait import WebDriverWait\n+from selenium.webdriver.common.action_chains import ActionChains\n \n \n def test_hubfile_index():\n@@ -31,5 +35,39 @@ def test_hubfile_index():\n         close_driver(driver)\n \n \n+def test_edit():\n+    driver = initialize_driver()\n+    driver.get(\"http://127.0.0.1:5000/\")\n+    driver.set_window_size(912, 1028)\n+    driver.find_element(By.LINK_TEXT, \"Login\").click()\n+    driver.find_element(By.ID, \"email\").click()\n+    driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+    driver.find_element(By.ID, \"password\").click()\n+    driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+    driver.find_element(By.ID, \"submit\").click()\n+    driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".hamburger\").click()\n+    WebDriverWait(driver, 10).until(\n+        expected_conditions.element_to_be_clickable((By.LINK_TEXT, \"Home\"))\n+    )\n+    driver.find_element(By.LINK_TEXT, \"Home\").click()\n+    driver.find_element(By.LINK_TEXT, \"Sample dataset 3\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\").click()\n+    element = driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\")\n+    actions = ActionChains(driver)\n+    actions.move_to_element(element).perform()\n+    element = driver.find_element(By.CSS_SELECTOR, \"body\")\n+    actions = ActionChains(driver)\n+    actions.move_to_element(element).perform()\n+    driver.find_element(By.ID, \"fileContentEdit\").click()\n+    element = driver.find_element(By.ID, \"fileContentEdit\")\n+    driver.execute_script(\n+        \"if(arguments[0].contentEditable === 'true') {arguments[0].innerText = 'adios'}\",\n+        element\n+    )\n+    driver.find_element(By.CSS_SELECTOR, \".feather-save\").click()\n+\n+\n # Call the test function\n test_hubfile_index()\n+test_edit()"
      },
      {
        "sha": "67deaac42fef0341466219f80dea2b59501083af",
        "filename": "app/modules/notepad/models.py",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fnotepad%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fnotepad%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Fmodels.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -11,3 +11,11 @@ class Notepad(db.Model):\n \n     def __repr__(self):\n         return f'Notepad<{self.id}, Title={self.title}, Author={self.user.username}>'\n+\n+    def to_dict(self):\n+        return {\n+            'id': self.id,\n+            'title': self.title,\n+            'body': self.body,\n+            'user_id': self.user_id\n+        }"
      },
      {
        "sha": "cb566a6efa514ce95061292f5a4d601982ea8e16",
        "filename": "app/modules/profile/routes.py",
        "status": "modified",
        "additions": 25,
        "deletions": 9,
        "changes": 34,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fprofile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fprofile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Froutes.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -1,6 +1,7 @@\n+from app.modules.auth.models import User\n from app.modules.auth.services import AuthenticationService\n-from app.modules.dataset.models import DataSet\n-from flask import render_template, redirect, url_for, request\n+from app.modules.dataset.models import DataSet, Status\n+from flask import abort, render_template, redirect, url_for, request\n from flask_login import login_required, current_user\n \n from app import db\n@@ -28,28 +29,43 @@ def edit_profile():\n     return render_template(\"profile/edit.html\", form=form)\n \n \n-@profile_bp.route('/profile/summary')\n+@profile_bp.route('/profile/summary', defaults={'user_id': None})\n+@profile_bp.route('/profile/summary/<int:user_id>')\n @login_required\n-def my_profile():\n+def my_profile(user_id):\n+    is_my_profile = False\n+    # ver si el user_id es none(mi perfil) o es alguno(perfil de otro)\n+    if user_id is None or user_id == current_user.id:\n+        user_id = current_user.id\n+        is_my_profile = True\n+\n     page = request.args.get('page', 1, type=int)\n     per_page = 5\n \n+    # se busca el perfil del usuario del id de la url par mostrarlo dsps\n+    user_found = db.session.query(User).filter(User.id == user_id).first()\n+\n+    if not user_found:\n+        abort(404)\n+\n     user_datasets_pagination = db.session.query(DataSet) \\\n-        .filter(DataSet.user_id == current_user.id) \\\n+        .filter(DataSet.user_id == user_id) \\\n         .order_by(DataSet.created_at.desc()) \\\n         .paginate(page=page, per_page=per_page, error_out=False)\n \n     total_datasets_count = db.session.query(DataSet) \\\n-        .filter(DataSet.user_id == current_user.id) \\\n+        .filter(DataSet.user_id == user_id) \\\n         .count()\n \n     print(user_datasets_pagination.items)\n \n     return render_template(\n         'profile/summary.html',\n-        user_profile=current_user.profile,\n-        user=current_user,\n+        user_profile=user_found.profile,\n+        user=user_found,\n         datasets=user_datasets_pagination.items,\n         pagination=user_datasets_pagination,\n-        total_datasets=total_datasets_count\n+        total_datasets=total_datasets_count,\n+        is_my_profile=is_my_profile,\n+        status=Status\n     )"
      },
      {
        "sha": "b7b5a030effc61363bbb7d631679693689ac4191",
        "filename": "app/modules/profile/templates/profile/summary.html",
        "status": "modified",
        "additions": 62,
        "deletions": 25,
        "changes": 87,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -1,11 +1,26 @@\n {% extends \"base_template.html\" %}\n \n \n-{% block title %}User Profile{% endblock %}\n+{% block title %}\n+    {% if is_my_profile %}\n+        My profile\n+    {% else %}\n+        User Profile\n+    {% endif %}\n+\n+{% endblock %}\n \n {% block content %}\n \n-<h1 class=\"h3 mb-3\">User profile</h1>\n+<h1 class=\"h3 mb-3\">\n+    {% if is_my_profile %}\n+        My profile\n+    {% else %}\n+        User Profile\n+    {% endif %}\n+\n+\n+</h1>\n \n <div class=\"row\">\n \n@@ -45,31 +60,53 @@ <h1 class=\"h3 mb-3\">User datasets</h1>\n                             </tr>\n                         </thead>\n                         <tbody>\n-                          \n-                            {% for dataset in datasets %}\n-                            <tr>\n-                                <td>\n-\n-                                    {% if dataset.ds_meta_data.dataset_doi %}\n-                                        <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n-                                            {{ dataset.ds_meta_data.title }}\n-                                        </a>\n-                                    {% else %}\n-                                        <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=dataset.id) }}\">\n-                                            {{ dataset.ds_meta_data.title }}\n-                                        </a>                                    \n-                                    {% endif %}\n+                            {% if is_my_profile %}\n+                                {% for dataset in datasets %}\n+                                <tr>\n+                                    <td>\n+\n+                                        {% if dataset.ds_meta_data.dataset_doi %}\n+                                            <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                                {{ dataset.ds_meta_data.title }}\n+                                            </a>\n+                                        {% else %}\n+                                            <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=dataset.id) }}\">\n+                                                {{ dataset.ds_meta_data.title }}\n+                                            </a>                               \n+                                        {% endif %}\n+\n+                                        \n+                                    </td>\n+                                    <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                </tr>\n+                                {% else %}\n+                            \n+                                <tr>\n+                                    <td colspan=\"2\">No datasets uploaded.</td>\n+                                </tr>\n+                                {% endfor %}\n \n-                                    \n-                                </td>\n-                                <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n-                            </tr>\n                             {% else %}\n-                          \n-                            <tr>\n-                                <td colspan=\"2\">No datasets uploaded.</td>\n-                            </tr>\n-                            {% endfor %}\n+                                \n+                                {% for dataset in datasets %}\n+                                    {% if dataset.ds_meta_data.ds_status == status.PUBLISHED %}\n+                                    <tr>\n+                                        <td>\n+                                             <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                                {{ dataset.ds_meta_data.title }}\n+                                             </a> \n+                                        </td>\n+                                        <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                    </tr>\n+                                    {% endif %}\n+\n+                                {% else %}\n+                                    <tr>\n+                                        <td colspan=\"2\">No datasets uploaded.</td>\n+                                    </tr>\n+                                {% endfor %}\n+                            {% endif %}\n+                            \n                         </tbody>\n                     </table>\n                 </div>"
      },
      {
        "sha": "904149bc280fd3172bb5b131665aa056d82a9543",
        "filename": "app/modules/profile/tests/test_selenium.py",
        "status": "added",
        "additions": 15,
        "deletions": 0,
        "changes": 15,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fprofile%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fprofile%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_selenium.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,15 @@\n+# Generated by Selenium IDE\n+from selenium.webdriver.common.by import By\n+from core.selenium.common import initialize_driver\n+\n+\n+def test_testProfile():\n+    driver = initialize_driver()\n+    driver.get(\"http://localhost:5000/\")\n+    driver.set_window_size(1854, 1048)\n+    driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n+    driver.find_element(By.LINK_TEXT, \"Doe, Jane\").click()\n+\n+\n+# Call the test function\n+test_testProfile()"
      },
      {
        "sha": "748c29c392e29a30da6707aec23b926ef998a237",
        "filename": "app/modules/profile/tests/test_unit.py",
        "status": "modified",
        "additions": 60,
        "deletions": 0,
        "changes": 60,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -36,3 +36,63 @@ def test_edit_profile_page_get(test_client):\n     assert b\"Edit profile\" in response.data, \"The expected content is not present on the page\"\n \n     logout(test_client)\n+\n+\n+def test_get_profile_page(test_client):\n+\n+    \"\"\"\n+    Will test that an user will be able to access to another user's profile using GET\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    response = test_client.get(\"/profile/summary/2\")\n+    assert response.status_code == 200, \"The profile page could not be accessed.\"\n+\n+    logout(test_client)\n+\n+\n+def test_get_unexisting_profile_page(test_client):\n+    \"\"\"\n+    Will test that a user wont be able to access a profile of a non existent user\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    response = test_client.get(\"/profile/summary/12\")\n+    assert response.status_code == 404, \"The profile page could not be accessed.\"\n+\n+    logout(test_client)\n+\n+\n+def test_get_my_profile_page(test_client):\n+    \"\"\"\n+    Will test that the current user will be able to access it's profile using GET\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    response = test_client.get(\"/profile/summary\")\n+    assert response.status_code == 200, \"The profile page could not be accessed.\"\n+    assert b\"My profile\" in response.data, \"The expected content is not present on the page\"\n+\n+    logout(test_client)\n+\n+\n+def test_get_my_profile_page_alternative_version(test_client):\n+    \"\"\"\n+    Will test that the current user will be able to access it's profile using GET\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    # Obtenemos el ID del usuario logueado desde la base de datos\n+    user = User.query.filter_by(email='user@example.com').first()\n+    assert user is not None, \"User not found in the database.\"\n+\n+    # Realizamos la solicitud GET con el ID del usuario en la URL\n+    response = test_client.get(f\"/profile/summary/{user.id}\")\n+    assert response.status_code == 200, \"The profile page could not be accessed.\"\n+    assert b\"My profile\" in response.data, \"The expected content is not present on the page\"\n+\n+    logout(test_client)"
      },
      {
        "sha": "f2a4903b9241dee43c6a89fd14270c2bd8b71313",
        "filename": "app/modules/pytest.ini",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fpytest.ini",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fpytest.ini",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fpytest.ini?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -1,3 +1,5 @@\n [pytest]\n filterwarnings =\n     ignore::DeprecationWarning\n+markers =\n+    local: Tests que solo se ejecutar\u00e1n en local\n\\ No newline at end of file"
      },
      {
        "sha": "c28c608f396998e6388e7bdec9b1d19dbeb67cc9",
        "filename": "app/modules/rating/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2F__init__.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+rating_bp = BaseBlueprint('rating', __name__, template_folder='templates')"
      },
      {
        "sha": "c4d1ae2d53558664b844fcaa48b709715aa489bd",
        "filename": "app/modules/rating/assets/scripts.js",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fassets%2Fscripts.js?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script loaded from rating module\");"
      },
      {
        "sha": "b2e9ea95960522fe1d23276d76cd20ea213ff17c",
        "filename": "app/modules/rating/forms.py",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fforms.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,6 @@\n+from flask_wtf import FlaskForm\n+from wtforms import SubmitField\n+\n+\n+class RatingForm(FlaskForm):\n+    submit = SubmitField('Save rating')"
      },
      {
        "sha": "90975f6de639b5651fd9cc3388b26a80266d87c3",
        "filename": "app/modules/rating/models.py",
        "status": "added",
        "additions": 10,
        "deletions": 0,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fmodels.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,10 @@\n+from app import db\n+\n+\n+class Rating(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+    dataset_id = db.Column(db.Integer, nullable=False)\n+    user_id = db.Column(db.Integer, nullable=False)\n+\n+    def __repr__(self):\n+        return f'Rating<{self.id}, Dataset<{self.dataset_id}>, User<{self.user_id}>>'"
      },
      {
        "sha": "3e604f880cb0428697ac61d4424496127ce084bf",
        "filename": "app/modules/rating/repositories.py",
        "status": "added",
        "additions": 31,
        "deletions": 0,
        "changes": 31,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Frepositories.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,31 @@\n+from app.modules.rating.models import Rating\n+from core.repositories.BaseRepository import BaseRepository\n+\n+\n+class RatingRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(Rating)\n+\n+    def add(self, rating):\n+        self.session.add(rating)\n+\n+    def delete(self, rating):\n+        self.session.delete(rating)\n+\n+    def get_by_id(self, rating_id):\n+        return self.session.query(Rating).filter_by(id=rating_id).first()\n+\n+    def get_by_dataset_id(self, dataset_id):\n+        return self.session.query(Rating).filter_by(dataset_id=dataset_id).all()\n+\n+    def get_by_dataset_id_and_user_id(self, dataset_id, user_id):\n+        return self.session.query(Rating).filter_by(dataset_id=dataset_id, user_id=user_id).all()\n+\n+    def commit(self):\n+        self.session.commit()\n+\n+    def get_query(self):\n+        return self.session.query(Rating)\n+\n+    def query(self):\n+        return self.get_query()"
      },
      {
        "sha": "f5145fcd56e87c5e02d641769e443b753a2e7cd5",
        "filename": "app/modules/rating/routes.py",
        "status": "added",
        "additions": 34,
        "deletions": 0,
        "changes": 34,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Froutes.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,34 @@\n+from flask import render_template, request, jsonify\n+from app.modules.rating import rating_bp\n+from app.modules.rating.services import RatingService\n+from flask_login import current_user\n+\n+rating_service = RatingService()\n+\n+\n+@rating_bp.route('/rating', methods=['GET'])\n+def index():\n+    return render_template('rating/index.html')\n+\n+\n+@rating_bp.route('/rating/add', methods=['POST'])\n+def add_rating():\n+    data = request.get_json()\n+    dataset_id = data.get('dataset_id')\n+    user_id = data.get('user_id')\n+\n+    rating_service.add_or_remove_rating(dataset_id, user_id)\n+    return jsonify({'message': 'Rating added successfully'}), 201\n+\n+\n+@rating_bp.route('/rating/remove/<int:rating_id>', methods=['DELETE'])\n+def remove_rating(rating_id):\n+    rating_service.remove_rating(rating_id)\n+    return jsonify({'message': 'Rating removed successfully'}), 200\n+\n+\n+@rating_bp.route('/rating/total/dataset/<int:dataset_id>', methods=['GET'])\n+def total_ratings_for_dataset(dataset_id):\n+    total = rating_service.get_total_ratings_for_dataset(dataset_id)\n+    user_already_rated = rating_service.user_already_rated_dataset(dataset_id, current_user.id)\n+    return jsonify({'total_ratings': total, 'user_already_rated': user_already_rated}), 200"
      },
      {
        "sha": "075e3cde25b2734ca2286d34ce0bc2cdff3fe24b",
        "filename": "app/modules/rating/seeders.py",
        "status": "added",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fseeders.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,12 @@\n+from core.seeders.BaseSeeder import BaseSeeder\n+\n+\n+class RatingSeeder(BaseSeeder):\n+\n+    def run(self):\n+\n+        data = [\n+            # Create any Model object you want to make seed\n+        ]\n+\n+        self.seed(data)"
      },
      {
        "sha": "0ef6e19762dd6ab6690d0d5d9a546976816bec5c",
        "filename": "app/modules/rating/services.py",
        "status": "added",
        "additions": 31,
        "deletions": 0,
        "changes": 31,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fservices.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,31 @@\n+from app.modules.rating.repositories import RatingRepository\n+from core.services.BaseService import BaseService\n+from app.modules.rating.models import Rating\n+\n+\n+class RatingService(BaseService):\n+    def __init__(self):\n+        super().__init__(RatingRepository())\n+\n+    def add_or_remove_rating(self, dataset_id, user_id):\n+        rating = Rating(dataset_id=dataset_id, user_id=user_id)\n+        if not self.user_already_rated_dataset(dataset_id, user_id):\n+            self.repository.add(rating)\n+            self.repository.commit()\n+        else:\n+            self.remove_ratings(dataset_id, user_id)\n+\n+    def remove_ratings(self, dataset_id, user_id):\n+        ratings = self.repository.get_by_dataset_id_and_user_id(dataset_id, user_id)\n+        if ratings:\n+            for rating in ratings:\n+                self.repository.delete(rating)\n+            self.repository.commit()\n+\n+    def user_already_rated_dataset(self, dataset_id, user_id):\n+        if self.repository.get_by_dataset_id_and_user_id(dataset_id, user_id):\n+            return True\n+        return False\n+\n+    def get_total_ratings_for_dataset(self, dataset_id):\n+        return self.repository.get_query().filter_by(dataset_id=dataset_id).count()"
      },
      {
        "sha": "bcab6018c51456a4a74fb515c761a74e6dd8542d",
        "filename": "app/modules/rating/templates/rating/index.html",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Ftemplates%2Frating%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Ftemplates%2Frating%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftemplates%2Frating%2Findex.html?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,11 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View rating{% endblock %}\n+\n+{% block content %}\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('rating.scripts') }}\"></script>\n+{% endblock %}"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/rating/tests/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2F__init__.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c"
      },
      {
        "sha": "e8e19f9a730f3ab6fb991d9f630bd150338f4d2d",
        "filename": "app/modules/rating/tests/locustfile.py",
        "status": "added",
        "additions": 21,
        "deletions": 0,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2Flocustfile.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,21 @@\n+from locust import HttpUser, TaskSet, task\n+from core.environment.host import get_host_for_locust_testing\n+\n+\n+class RatingBehavior(TaskSet):\n+    def on_start(self):\n+        self.index()\n+\n+    @task\n+    def index(self):\n+        response = self.client.get(\"/rating\")\n+\n+        if response.status_code != 200:\n+            print(f\"Rating index failed: {response.status_code}\")\n+\n+\n+class RatingUser(HttpUser):\n+    tasks = [RatingBehavior]\n+    min_wait = 5000\n+    max_wait = 9000\n+    host = get_host_for_locust_testing()"
      },
      {
        "sha": "7cd3074f4aee6a6ba628f013e281ed907b3d9c02",
        "filename": "app/modules/rating/tests/test_selenium.py",
        "status": "added",
        "additions": 160,
        "deletions": 0,
        "changes": 160,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2Ftest_selenium.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,160 @@\n+from selenium.common.exceptions import NoSuchElementException\n+from selenium.webdriver.common.keys import Keys\n+import time\n+\n+from core.environment.host import get_host_for_selenium_testing\n+from core.selenium.common import initialize_driver, close_driver\n+\n+from selenium.webdriver.common.by import By\n+\n+\n+def test_rating_index():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}/rating')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(1)\n+\n+        try:\n+\n+            pass\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Test failed!')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+def test_rating_button_not_appear_no_login():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(1)\n+\n+        driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n+\n+        # Assert button not appear\n+        try:\n+            driver.find_element(By.XPATH, \"//*[contains(@id, 'rating-button-')]\")\n+            raise AssertionError('Rating button should not appear if user is not logged in')\n+        except NoSuchElementException:\n+            pass\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+def test_rating_button_appear_logged():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(1)\n+\n+        # Open the login page\n+        driver.get(f\"{host}/login\")\n+\n+        # Find the username and password field and enter the values\n+        email_field = driver.find_element(By.NAME, \"email\")\n+        password_field = driver.find_element(By.NAME, \"password\")\n+\n+        email_field.send_keys(\"user1@example.com\")\n+        password_field.send_keys(\"1234\")\n+\n+        # Send the form\n+        password_field.send_keys(Keys.RETURN)\n+\n+        driver.get(f\"{host}/doi/10.1234/dataset4/\")\n+\n+        # Assert button appear\n+\n+        try:\n+            driver.find_element(By.XPATH, \"//*[contains(text(), 'Star')]\")\n+        except NoSuchElementException:\n+            raise AssertionError('Rating button should appear if user is logged in')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+def test_rating_button_change():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(1)\n+\n+        # Open the login page\n+        driver.get(f\"{host}/login\")\n+\n+        # Find the username and password field and enter the values\n+        email_field = driver.find_element(By.NAME, \"email\")\n+        password_field = driver.find_element(By.NAME, \"password\")\n+\n+        email_field.send_keys(\"user1@example.com\")\n+        password_field.send_keys(\"1234\")\n+\n+        # Send the form\n+        password_field.send_keys(Keys.RETURN)\n+\n+        driver.get(f\"{host}/doi/10.1234/dataset4/\")\n+\n+        # Assert button change\n+\n+        try:\n+            star = driver.find_element(By.XPATH, \"//*[contains(text(), 'Star')]\")\n+\n+            # get parent\n+            button = star.find_element(By.XPATH, \"..\")\n+            button.find_element(By.XPATH, \"//*[contains(text(), '0')]\")\n+\n+            button.click()\n+\n+            button.find_element(By.XPATH, \"//*[contains(text(), '1')]\")\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Rating button should change')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+# Call the test function\n+test_rating_index()\n+test_rating_button_not_appear_no_login()\n+test_rating_button_appear_logged()\n+test_rating_button_change()"
      },
      {
        "sha": "b5836fb058a689fb35e5e64f2fe509273ce9229d",
        "filename": "app/modules/rating/tests/test_unit.py",
        "status": "added",
        "additions": 109,
        "deletions": 0,
        "changes": 109,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,109 @@\n+import pytest\n+from unittest.mock import patch, MagicMock\n+from app.modules.rating.services import RatingService\n+\n+\n+@pytest.fixture\n+def rating_service():\n+    return RatingService()\n+\n+\n+def test_add_or_remove_rating_add(rating_service):\n+    with patch.object(rating_service.repository, 'add') as mock_add, \\\n+         patch.object(rating_service.repository, 'commit') as mock_commit, \\\n+         patch.object(rating_service, 'user_already_rated_dataset', return_value=False) as mock_user_already_rated:\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        rating_service.add_or_remove_rating(dataset_id, user_id)\n+\n+        mock_add.assert_called_once()\n+        mock_commit.assert_called_once()\n+        mock_user_already_rated.assert_called_once_with(dataset_id, user_id)\n+\n+\n+def test_add_or_remove_rating_remove(rating_service):\n+    with patch.object(rating_service, 'remove_ratings') as mock_remove_ratings, \\\n+         patch.object(rating_service, 'user_already_rated_dataset', return_value=True) as mock_user_already_rated:\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        rating_service.add_or_remove_rating(dataset_id, user_id)\n+\n+        mock_remove_ratings.assert_called_once_with(dataset_id, user_id)\n+        mock_user_already_rated.assert_called_once_with(dataset_id, user_id)\n+\n+\n+def test_remove_ratings(rating_service):\n+    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_datasetid_and_userid, \\\n+         patch.object(rating_service.repository, 'delete') as mock_delete, \\\n+         patch.object(rating_service.repository, 'commit') as mock_commit:\n+\n+        mock_ratings = [MagicMock(id=1), MagicMock(id=2)]\n+        mock_get_by_datasetid_and_userid.return_value = mock_ratings\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        rating_service.remove_ratings(dataset_id, user_id)\n+\n+        assert mock_delete.call_count == len(mock_ratings)\n+        mock_commit.assert_called_once()\n+\n+\n+def test_user_already_rated_dataset(rating_service):\n+    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_datasetid_and_userid:\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        mock_get_by_datasetid_and_userid.return_value = [MagicMock(id=1)]\n+\n+        result = rating_service.user_already_rated_dataset(dataset_id, user_id)\n+\n+        assert result is True\n+        mock_get_by_datasetid_and_userid.assert_called_once_with(dataset_id, user_id)\n+\n+\n+def test_user_already_rated_dataset_no_ratings(rating_service):\n+    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_datasetid_and_userid:\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        mock_get_by_datasetid_and_userid.return_value = []\n+\n+        result = rating_service.user_already_rated_dataset(dataset_id, user_id)\n+\n+        assert result is False\n+        mock_get_by_datasetid_and_userid.assert_called_once_with(dataset_id, user_id)\n+\n+\n+def test_get_total_ratings_for_dataset(rating_service):\n+    with patch.object(rating_service.repository, 'get_query') as mock_get_query:\n+\n+        dataset_id = 1\n+        mock_query = MagicMock()\n+        mock_query.filter_by.return_value.count.return_value = 5\n+        mock_get_query.return_value = mock_query\n+\n+        result = rating_service.get_total_ratings_for_dataset(dataset_id)\n+\n+        assert result == 5\n+        mock_query.filter_by.assert_called_once_with(dataset_id=dataset_id)\n+\n+\n+def test_get_total_ratings_for_dataset_no_ratings(rating_service):\n+    with patch.object(rating_service.repository, 'get_query') as mock_get_query:\n+\n+        dataset_id = 1\n+        mock_query = MagicMock()\n+        mock_query.filter_by.return_value.count.return_value = 0\n+        mock_get_query.return_value = mock_query\n+\n+        result = rating_service.get_total_ratings_for_dataset(dataset_id)\n+\n+        assert result == 0\n+        mock_query.filter_by.assert_called_once_with(dataset_id=dataset_id)"
      },
      {
        "sha": "a0215907ed1aaa7f79a9cdc5cabf170e8f227b28",
        "filename": "app/modules/zenodo/services.py",
        "status": "modified",
        "additions": 1,
        "deletions": 16,
        "changes": 17,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fzenodo%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Fmodules%2Fzenodo%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Fservices.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -22,23 +22,8 @@\n class ZenodoService(BaseService):\n \n     def get_zenodo_url(self):\n-\n-        FLASK_ENV = os.getenv(\"FLASK_ENV\", \"development\")\n-        ZENODO_API_URL = \"\"\n-\n         LOCAL_SERVER = os.getenv(\"DOMAIN\", \"localhost:5000\")\n-        development_url = f\"http://{LOCAL_SERVER}/fakenodo/deposit/depositions\"\n-\n-        if FLASK_ENV == \"development\":\n-            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n-            ZENODO_API_URL = development_url\n-        elif FLASK_ENV == \"production\":\n-            ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://zenodo.org/api/deposit/depositions\")\n-        else:\n-            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n-            ZENODO_API_URL = development_url\n-\n-        return ZENODO_API_URL\n+        return f\"http://{LOCAL_SERVER}/fakenodo/deposit/depositions\"\n \n     def get_zenodo_access_token(self):\n         return os.getenv(\"ZENODO_ACCESS_TOKEN\")"
      },
      {
        "sha": "141a52fd5f775c63ffafd5925719234c7bb2e463",
        "filename": "app/templates/base_template.html",
        "status": "modified",
        "additions": 7,
        "deletions": 1,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Ftemplates%2Fbase_template.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/app%2Ftemplates%2Fbase_template.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Ftemplates%2Fbase_template.html?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -33,6 +33,8 @@\n \n     <link rel=\"stylesheet\" href=\"{{ url_for(\"static\", filename=\"css/own.css\") }}\">\n \n+    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css\">\n+\n </head>\n \n <body>\n@@ -162,8 +164,12 @@\n             <div class=\"navbar-collapse collapse\">\n                 <ul class=\"navbar-nav navbar-align\">\n                     <li class=\"nav-item dropdown\">\n-\n+                        <a href=\"/dataset/download_all_datasets\" class=\"btn btn-primary\">\n+                            <i data-feather=\"download\" class=\"center-button-icon\"></i>\n+                            Download all datasets\n+                        </a>\n                         {% if current_user.is_anonymous %}\n+                            \n                             <a class=\"nav-link  d-none d-sm-inline-block\" href=\"{{ url_for('auth.login') }}\">Login</a>\n                             <a class=\"nav-link  d-none d-sm-inline-block\" href=\"{{ url_for('auth.show_signup_form') }}\">Sign\n                                 up</a>"
      },
      {
        "sha": "82b37f72fd7b5a461e7ba5cf2e949e0423fd39dd",
        "filename": "docker/docker-compose.yml",
        "status": "added",
        "additions": 53,
        "deletions": 0,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/docker%2Fdocker-compose.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/docker%2Fdocker-compose.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fdocker-compose.yml?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,53 @@\n+services:\n+  web:\n+    container_name: web_app_container\n+    image: chipihub:dev\n+    env_file:\n+      - ../.env.docker.example\n+    expose:\n+      - \"5000\"\n+    depends_on:\n+      - db\n+    build:\n+      context: ../\n+      dockerfile: docker/images/Dockerfile.dev\n+    volumes:\n+      - ../:/app\n+      - /var/run/docker.sock:/var/run/docker.sock\n+    command: [ \"sh\", \"-c\", \"sh /app/docker/entrypoints/development_entrypoint.sh\" ]\n+    networks:\n+      - chipihub_network\n+\n+  db:\n+    container_name: mariadb_container\n+    env_file:\n+      - ../.env.docker.example\n+    build:\n+      context: ../\n+      dockerfile: docker/images/Dockerfile.mariadb\n+    restart: always\n+    ports:\n+      - \"3306:3306\"\n+    volumes:\n+      - db_data:/var/lib/mysql\n+    networks:\n+      - chipihub_network\n+\n+  nginx:\n+    container_name: nginx_web_server_container\n+    image: nginx:latest\n+    volumes:\n+      - ./nginx/nginx.dev.conf:/etc/nginx/nginx.conf\n+      - ./nginx/html:/usr/share/nginx/html\n+    ports:\n+      - \"80:80\"\n+    depends_on:\n+      - web\n+    networks:\n+      - chipihub_network\n+\n+volumes:\n+  db_data:\n+\n+networks:\n+  chipihub_network:"
      },
      {
        "sha": "296852391220bf3899f574a8fc5f1db8246690cc",
        "filename": "migrations/versions/37853c4079e5_.py",
        "status": "added",
        "additions": 51,
        "deletions": 0,
        "changes": 51,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/migrations%2Fversions%2F37853c4079e5_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/migrations%2Fversions%2F37853c4079e5_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F37853c4079e5_.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,51 @@\n+\"\"\"empty message\n+\n+Revision ID: 37853c4079e5\n+Revises: 001\n+Create Date: 2024-12-03 13:48:39.432689\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = '37853c4079e5'\n+down_revision = '001'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('rating',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('dataset_id', sa.Integer(), nullable=False),\n+    sa.Column('model_id', sa.Integer(), nullable=True),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('notepad',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('title', sa.String(length=256), nullable=False),\n+    sa.Column('body', sa.Text(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.drop_table('webhook')\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('webhook',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.drop_table('notepad')\n+    op.drop_table('rating')\n+    # ### end Alembic commands ###"
      },
      {
        "sha": "3f84c51a17885aba24ebfd013e706cfb2abb09fc",
        "filename": "migrations/versions/3931fcdc68c7_.py",
        "status": "added",
        "additions": 49,
        "deletions": 0,
        "changes": 49,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/migrations%2Fversions%2F3931fcdc68c7_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/migrations%2Fversions%2F3931fcdc68c7_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F3931fcdc68c7_.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,49 @@\n+\"\"\"empty message\n+\n+Revision ID: 3931fcdc68c7\n+Revises: 001\n+Create Date: 2024-12-03 18:27:22.612897\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = '3931fcdc68c7'\n+down_revision = '001'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('notepad',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('title', sa.String(length=256), nullable=False),\n+    sa.Column('body', sa.Text(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.drop_table('webhook')\n+    with op.batch_alter_table('ds_meta_data', schema=None) as batch_op:\n+        batch_op.add_column(sa.Column('ds_status', sa.Enum('UNPUBLISHED', 'PUBLISHED', name='status'), nullable=False))\n+\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('ds_meta_data', schema=None) as batch_op:\n+        batch_op.drop_column('ds_status')\n+\n+    op.create_table('webhook',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.drop_table('notepad')\n+    # ### end Alembic commands ###"
      },
      {
        "sha": "5c7ddcf0e72668b59afa29a571306b0405919a96",
        "filename": "migrations/versions/ba7297057859_.py",
        "status": "added",
        "additions": 59,
        "deletions": 0,
        "changes": 59,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/migrations%2Fversions%2Fba7297057859_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/migrations%2Fversions%2Fba7297057859_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2Fba7297057859_.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,59 @@\n+\"\"\"empty message\n+\n+Revision ID: ba7297057859\n+Revises: f5d9fcd69235\n+Create Date: 2024-12-09 12:07:24.556213\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = 'ba7297057859'\n+down_revision = 'f5d9fcd69235'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('rating',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('dataset_id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.drop_table('feature_model_ratings')\n+    op.drop_table('dataset_ratings')\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('dataset_ratings',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.Column('dataset_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.Column('user_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.Column('rating', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.ForeignKeyConstraint(['dataset_id'], ['data_set.id'], name='dataset_ratings_ibfk_1'),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], name='dataset_ratings_ibfk_2'),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.create_table('feature_model_ratings',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.Column('feature_model_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.Column('user_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.Column('rating', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.ForeignKeyConstraint(['feature_model_id'], ['feature_model.id'], name='feature_model_ratings_ibfk_1'),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], name='feature_model_ratings_ibfk_2'),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.drop_table('rating')\n+    # ### end Alembic commands ###"
      },
      {
        "sha": "f0687e5e7fe3d0f69805822900729dc87f40b01a",
        "filename": "migrations/versions/f5d9fcd69235_.py",
        "status": "added",
        "additions": 32,
        "deletions": 0,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c620013eccd42dd8890e03dd2f58c7dced67707c/migrations%2Fversions%2Ff5d9fcd69235_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c620013eccd42dd8890e03dd2f58c7dced67707c/migrations%2Fversions%2Ff5d9fcd69235_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2Ff5d9fcd69235_.py?ref=c620013eccd42dd8890e03dd2f58c7dced67707c",
        "patch": "@@ -0,0 +1,32 @@\n+\"\"\"empty message\n+\n+Revision ID: f5d9fcd69235\n+Revises: 37853c4079e5\n+Create Date: 2024-12-04 17:18:27.045262\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = 'f5d9fcd69235'\n+down_revision = '37853c4079e5'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('rating', schema=None) as batch_op:\n+        batch_op.drop_column('model_id')\n+\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('rating', schema=None) as batch_op:\n+        batch_op.add_column(sa.Column('model_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True))\n+\n+    # ### end Alembic commands ###"
      }
    ]
  },
  {
    "sha": "d759a0e654f42ec0f0f3a63248b5cb3caf5a7256",
    "node_id": "C_kwDONBuXkNoAKGQ3NTlhMGU2NTRmNDJlYzBmMGYzYTYzMjQ4YjVjYjNjYWY1YTcyNTY",
    "commit": {
      "author": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-16T18:19:03Z"
      },
      "committer": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-16T18:19:03Z"
      },
      "message": "refactor: fix flake8 format",
      "tree": {
        "sha": "3b7e16f046fbf99c2dfa82bb0df4d72b72b712ed",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/3b7e16f046fbf99c2dfa82bb0df4d72b72b712ed"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/d759a0e654f42ec0f0f3a63248b5cb3caf5a7256",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d759a0e654f42ec0f0f3a63248b5cb3caf5a7256",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/d759a0e654f42ec0f0f3a63248b5cb3caf5a7256",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d759a0e654f42ec0f0f3a63248b5cb3caf5a7256/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "491724007ffbc608d9e5b8fb73bb1e966d2302ba",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/491724007ffbc608d9e5b8fb73bb1e966d2302ba",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/491724007ffbc608d9e5b8fb73bb1e966d2302ba"
      }
    ],
    "files": [
      {
        "sha": "2499d126d081e36a7f60ed1b9430fb8c88f0cc41",
        "filename": "app/modules/fakenodo/tests/test_unit.py",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d759a0e654f42ec0f0f3a63248b5cb3caf5a7256/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d759a0e654f42ec0f0f3a63248b5cb3caf5a7256/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py?ref=d759a0e654f42ec0f0f3a63248b5cb3caf5a7256",
        "patch": "@@ -87,4 +87,3 @@ def test_publish_deposition(test_client, fakenodo_service):\n         response = publish_deposition(1)\n         assert response.status_code == 202\n         assert response.json == {\"message\": \"Deposition 1 published\"}\n-"
      }
    ]
  },
  {
    "sha": "491724007ffbc608d9e5b8fb73bb1e966d2302ba",
    "node_id": "C_kwDONBuXkNoAKDQ5MTcyNDAwN2ZmYmM2MDhkOWU1YjhmYjczYmIxZTk2NmQyMzAyYmE",
    "commit": {
      "author": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-16T17:53:22Z"
      },
      "committer": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-16T17:53:22Z"
      },
      "message": "fix: include missing app context",
      "tree": {
        "sha": "eb126b7db53f27fc5357673c2cdf983134081a6d",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/eb126b7db53f27fc5357673c2cdf983134081a6d"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/491724007ffbc608d9e5b8fb73bb1e966d2302ba",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/491724007ffbc608d9e5b8fb73bb1e966d2302ba",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/491724007ffbc608d9e5b8fb73bb1e966d2302ba",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/491724007ffbc608d9e5b8fb73bb1e966d2302ba/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "2a434b4ab749f56e4b8e53b9589857703da87874",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/2a434b4ab749f56e4b8e53b9589857703da87874",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/2a434b4ab749f56e4b8e53b9589857703da87874"
      }
    ],
    "files": [
      {
        "sha": "615f32423ecdef919e07498992c3aef071ba6688",
        "filename": "app/modules/fakenodo/tests/test_unit.py",
        "status": "modified",
        "additions": 68,
        "deletions": 49,
        "changes": 117,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/491724007ffbc608d9e5b8fb73bb1e966d2302ba/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/491724007ffbc608d9e5b8fb73bb1e966d2302ba/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py?ref=491724007ffbc608d9e5b8fb73bb1e966d2302ba",
        "patch": "@@ -1,5 +1,6 @@\n import pytest\n from unittest.mock import patch, MagicMock\n+from flask import Flask\n from app.modules.fakenodo.services import FakenodoService\n from app.modules.fakenodo.routes import (\n     get_all_depositions,\n@@ -11,61 +12,79 @@\n )\n \n \n+@pytest.fixture(scope=\"module\")\n+def test_client():\n+    app = Flask(__name__)\n+    with app.test_client() as client:\n+        with app.app_context():\n+            # Add HERE new elements to the database that you want to exist in the test context.\n+            # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+            pass\n+        yield client\n+\n+\n @pytest.fixture\n def fakenodo_service():\n     return FakenodoService()\n \n \n-def test_get_all_depositions(fakenodo_service):\n-    with patch('app.modules.fakenodo.routes.os.getenv', return_value='/fake/path/'), \\\n-         patch('app.modules.fakenodo.routes.open', MagicMock(\n-             return_value=MagicMock(\n-                 __enter__=lambda s: s,\n-                 __exit__=lambda s, t, v, tb: None,\n-                 read=lambda: '{\"data\": \"fake\"}'\n-             )\n-         )):\n-\n-        response = get_all_depositions()\n-        assert response.status_code == 200\n-        assert response.json == {\"data\": \"fake\"}\n-\n-\n-def test_get_deposition(fakenodo_service):\n-    with patch('app.modules.fakenodo.routes.os.getenv', return_value='/fake/path/'), \\\n-         patch('app.modules.fakenodo.routes.open', MagicMock(\n-             return_value=MagicMock(\n-                 __enter__=lambda s: s,\n-                 __exit__=lambda s, t, v, tb: None,\n-                 read=lambda: '{\"data\": \"fake\"}'\n-             )\n-         )), \\\n-            patch('app.modules.fakenodo.routes.uuid.uuid4', return_value='fake-uuid'):\n-\n-        response = get_deposition(1)\n+def test_get_all_depositions(test_client, fakenodo_service):\n+    with test_client.application.app_context():\n+        with patch('app.modules.fakenodo.routes.os.getenv', return_value='/fake/path/'), \\\n+             patch('app.modules.fakenodo.routes.open', MagicMock(\n+                 return_value=MagicMock(\n+                     __enter__=lambda s: s,\n+                     __exit__=lambda s, t, v, tb: None,\n+                     read=lambda: '{\"data\": \"fake\"}'\n+                 )\n+             )):\n+\n+            response = get_all_depositions()\n+            assert response.status_code == 200\n+            assert response.json == {\"data\": \"fake\"}\n+\n+\n+def test_get_deposition(test_client, fakenodo_service):\n+    with test_client.application.app_context():\n+        with patch('app.modules.fakenodo.routes.os.getenv', return_value='/fake/path/'), \\\n+             patch('app.modules.fakenodo.routes.open', MagicMock(\n+                 return_value=MagicMock(\n+                     __enter__=lambda s: s,\n+                     __exit__=lambda s, t, v, tb: None,\n+                     read=lambda: '{\"data\": \"fake\"}'\n+                 )\n+             )), \\\n+                patch('app.modules.fakenodo.routes.uuid.uuid4', return_value='fake-uuid'):\n+\n+            response = get_deposition(1)\n+            assert response.status_code == 200\n+            assert response.json == {\"data\": \"fake\", \"doi\": \"fake-uuid\"}\n+\n+\n+def test_create_deposition(test_client, fakenodo_service):\n+    with test_client.application.app_context():\n+        response = create_deposition()\n+        assert response.status_code == 201\n+        assert response.json == {\"message\": \"Deposition created\", \"id\": 1, \"conceptrecid\": \"1234\"}\n+\n+\n+def test_upload_file(test_client, fakenodo_service):\n+    with test_client.application.app_context():\n+        response = upload_file(1)\n+        assert response.status_code == 201\n+        assert response.json == {\"message\": \"File uploaded to deposition 1\"}\n+\n+\n+def test_delete_deposition(test_client, fakenodo_service):\n+    with test_client.application.app_context():\n+        response = delete_deposition(1)\n         assert response.status_code == 200\n-        assert response.json == {\"data\": \"fake\", \"doi\": \"fake-uuid\"}\n-\n-\n-def test_create_deposition(fakenodo_service):\n-    response = create_deposition()\n-    assert response.status_code == 201\n-    assert response.json == {\"message\": \"Deposition created\", \"id\": 1, \"conceptrecid\": \"1234\"}\n-\n-\n-def test_upload_file(fakenodo_service):\n-    response = upload_file(1)\n-    assert response.status_code == 201\n-    assert response.json == {\"message\": \"File uploaded to deposition 1\"}\n-\n+        assert response.json == {\"message\": \"Deposition 1 deleted\"}\n \n-def test_delete_deposition(fakenodo_service):\n-    response = delete_deposition(1)\n-    assert response.status_code == 200\n-    assert response.json == {\"message\": \"Deposition 1 deleted\"}\n \n+def test_publish_deposition(test_client, fakenodo_service):\n+    with test_client.application.app_context():\n+        response = publish_deposition(1)\n+        assert response.status_code == 202\n+        assert response.json == {\"message\": \"Deposition 1 published\"}\n \n-def test_publish_deposition(fakenodo_service):\n-    response = publish_deposition(1)\n-    assert response.status_code == 202\n-    assert response.json == {\"message\": \"Deposition 1 published\"}"
      }
    ]
  },
  {
    "sha": "c9d0e1abe51781e316751e1321f5a41d84aba488",
    "node_id": "C_kwDONBuXkNoAKGM5ZDBlMWFiZTUxNzgxZTMxNjc1MWUxMzIxZjVhNDFkODRhYmE0ODg",
    "commit": {
      "author": {
        "name": "javramnun",
        "email": "javramnun@alum.us.es",
        "date": "2024-12-16T17:40:45Z"
      },
      "committer": {
        "name": "javramnun",
        "email": "javramnun@alum.us.es",
        "date": "2024-12-16T17:40:45Z"
      },
      "message": "fix: Update test_unit\n\nUpdate test_unit class from auth adding test_signup_user_successful",
      "tree": {
        "sha": "a8f2b0a659b36255b23865638fda7f0fea3600f4",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/a8f2b0a659b36255b23865638fda7f0fea3600f4"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/c9d0e1abe51781e316751e1321f5a41d84aba488",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c9d0e1abe51781e316751e1321f5a41d84aba488",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/c9d0e1abe51781e316751e1321f5a41d84aba488",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c9d0e1abe51781e316751e1321f5a41d84aba488/comments",
    "author": {
      "login": "javramnun",
      "id": 72883779,
      "node_id": "MDQ6VXNlcjcyODgzNzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72883779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javramnun",
      "html_url": "https://github.com/javramnun",
      "followers_url": "https://api.github.com/users/javramnun/followers",
      "following_url": "https://api.github.com/users/javramnun/following{/other_user}",
      "gists_url": "https://api.github.com/users/javramnun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javramnun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javramnun/subscriptions",
      "organizations_url": "https://api.github.com/users/javramnun/orgs",
      "repos_url": "https://api.github.com/users/javramnun/repos",
      "events_url": "https://api.github.com/users/javramnun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javramnun/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "javramnun",
      "id": 72883779,
      "node_id": "MDQ6VXNlcjcyODgzNzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72883779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javramnun",
      "html_url": "https://github.com/javramnun",
      "followers_url": "https://api.github.com/users/javramnun/followers",
      "following_url": "https://api.github.com/users/javramnun/following{/other_user}",
      "gists_url": "https://api.github.com/users/javramnun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javramnun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javramnun/subscriptions",
      "organizations_url": "https://api.github.com/users/javramnun/orgs",
      "repos_url": "https://api.github.com/users/javramnun/repos",
      "events_url": "https://api.github.com/users/javramnun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javramnun/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "14e8bbdded30cd5909bcf58b441fcdb1d0f75a94",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/14e8bbdded30cd5909bcf58b441fcdb1d0f75a94",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/14e8bbdded30cd5909bcf58b441fcdb1d0f75a94"
      }
    ],
    "files": [
      {
        "sha": "25aa126394a1d00c1cc131c67c4c2cc021e3436d",
        "filename": "app/modules/auth/tests/test_unit.py",
        "status": "modified",
        "additions": 11,
        "deletions": 44,
        "changes": 55,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c9d0e1abe51781e316751e1321f5a41d84aba488/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c9d0e1abe51781e316751e1321f5a41d84aba488/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py?ref=c9d0e1abe51781e316751e1321f5a41d84aba488",
        "patch": "@@ -1,9 +1,7 @@\n-import time\n from unittest.mock import patch\n import pytest\n from flask import url_for\n \n-from app import mail_service\n from app.modules.auth.services import AuthenticationService\n from app.modules.auth.repositories import UserRepository\n from app.modules.profile.repositories import UserProfileRepository\n@@ -70,12 +68,17 @@ def test_signup_user_unsuccessful(test_client):\n \n \n def test_signup_user_successful(test_client):\n-    response = test_client.post(\n-        \"/signup\",\n-        data=dict(name=\"Foo\", surname=\"Example\", email=\"foo@example.com\", password=\"foo1234\"),\n-        follow_redirects=True,\n-    )\n-    assert response.request.path == url_for(\"public.index\"), \"Signup was unsuccessful\"\n+    with patch('app.modules.auth.services.AuthenticationService.send_email') as mock_send_email:\n+        mock_send_email.return_value = True\n+        response = test_client.post(\n+            \"/signup\",\n+            data=dict(name=\"Foo\", surname=\"Example\", email=\"foo@example.com\", password=\"foo1234\"),\n+            follow_redirects=True,\n+        )\n+        assert response.status_code == 200, \"Signup was unsuccessful\"\n+        assert response.request.path == url_for(\"auth.validate_email\"), \"Signup was unsuccessful\"\n+        assert b\"Validate Email\" in response.data, \"Signup was unsuccessful\"\n+        mock_send_email.assert_called_once()\n \n \n def test_service_create_with_profie_success(clean_database):\n@@ -120,39 +123,3 @@ def test_service_create_with_profile_fail_no_password(clean_database):\n \n     assert UserRepository().count() == 0\n     assert UserProfileRepository().count() == 0\n-\n-\n-def test_signup_send_confirmation_email(test_client, clean_database):\n-    data = {\n-        \"name\": \"Test\",\n-        \"surname\": \"Foo\",\n-        \"email\": \"test_confirmation@example.com\",\n-        \"password\": \"test1234\",\n-    }\n-\n-    with mail_service.mail.record_messages() as outbox:\n-        test_client.post(\"/signup\", data=data, follow_redirects=True)\n-        assert len(outbox) == 1\n-\n-\n-def test_confirm_user_token_expired(test_client):\n-    email = \"expired@example.com\"\n-\n-    with patch(\"time.time\", return_value=time.time() - (AuthenticationService.MAX_AGE + 1)):\n-        token = AuthenticationService().get_token_from_email(email)\n-\n-    url = url_for('auth.confirm_user', token=token, _external=False)\n-    response = test_client.get(url, follow_redirects=True)\n-    assert response.request.path == url_for(\"auth.show_signup_form\", _external=False)\n-\n-\n-def test_confirm_user_token_manipulated(test_client):\n-    email = \"manipulated@example.com\"\n-\n-    AuthenticationService.SALT = \"bad_salt\"\n-    token = AuthenticationService().get_token_from_email(email)\n-\n-    AuthenticationService.SALT = \"user-confirm\"\n-    url = url_for('auth.confirm_user', token=token, _external=False)\n-    response = test_client.get(url, follow_redirects=True)\n-    assert response.request.path == url_for(\"auth.show_signup_form\", _external=False)"
      }
    ]
  },
  {
    "sha": "2a434b4ab749f56e4b8e53b9589857703da87874",
    "node_id": "C_kwDONBuXkNoAKDJhNDM0YjRhYjc0OWY1NmU0YjhlNTNiOTU4OTg1NzcwM2RhODc4NzQ",
    "commit": {
      "author": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-16T17:13:36Z"
      },
      "committer": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-16T17:13:36Z"
      },
      "message": "test: perform unit testing on fakenodo services",
      "tree": {
        "sha": "3fb476e8b8751ffdccc527cb9ebe01639462dd9c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/3fb476e8b8751ffdccc527cb9ebe01639462dd9c"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/2a434b4ab749f56e4b8e53b9589857703da87874",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/2a434b4ab749f56e4b8e53b9589857703da87874",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/2a434b4ab749f56e4b8e53b9589857703da87874",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/2a434b4ab749f56e4b8e53b9589857703da87874/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/09b3bd144066b4774f9d6d1293bca5027c69c1e3"
      }
    ],
    "files": [
      {
        "sha": "82ed58fbf9a00d32773f1c9aae8646a2d0545441",
        "filename": "app/modules/fakenodo/tests/test_unit.py",
        "status": "modified",
        "additions": 65,
        "deletions": 18,
        "changes": 83,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/2a434b4ab749f56e4b8e53b9589857703da87874/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/2a434b4ab749f56e4b8e53b9589857703da87874/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py?ref=2a434b4ab749f56e4b8e53b9589857703da87874",
        "patch": "@@ -1,24 +1,71 @@\n import pytest\n+from unittest.mock import patch, MagicMock\n+from app.modules.fakenodo.services import FakenodoService\n+from app.modules.fakenodo.routes import (\n+    get_all_depositions,\n+    get_deposition,\n+    create_deposition,\n+    upload_file,\n+    delete_deposition,\n+    publish_deposition\n+)\n \n \n-@pytest.fixture(scope='module')\n-def test_client(test_client):\n-    \"\"\"\n-    Extends the test_client fixture to add additional specific data for module testing.\n-    \"\"\"\n-    with test_client.application.app_context():\n-        # Add HERE new elements to the database that you want to exist in the test context.\n-        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n-        pass\n+@pytest.fixture\n+def fakenodo_service():\n+    return FakenodoService()\n \n-    yield test_client\n \n+def test_get_all_depositions(fakenodo_service):\n+    with patch('app.modules.fakenodo.routes.os.getenv', return_value='/fake/path/'), \\\n+         patch('app.modules.fakenodo.routes.open', MagicMock(\n+             return_value=MagicMock(\n+                 __enter__=lambda s: s,\n+                 __exit__=lambda s, t, v, tb: None,\n+                 read=lambda: '{\"data\": \"fake\"}'\n+             )\n+         )):\n \n-def test_sample_assertion(test_client):\n-    \"\"\"\n-    Sample test to verify that the test framework and environment are working correctly.\n-    It does not communicate with the Flask application; it only performs a simple assertion to\n-    confirm that the tests in this module can be executed.\n-    \"\"\"\n-    greeting = \"Hello, World!\"\n-    assert greeting == \"Hello, World!\", \"The greeting does not coincide with 'Hello, World!'\"\n+        response = get_all_depositions()\n+        assert response.status_code == 200\n+        assert response.json == {\"data\": \"fake\"}\n+\n+\n+def test_get_deposition(fakenodo_service):\n+    with patch('app.modules.fakenodo.routes.os.getenv', return_value='/fake/path/'), \\\n+         patch('app.modules.fakenodo.routes.open', MagicMock(\n+             return_value=MagicMock(\n+                 __enter__=lambda s: s,\n+                 __exit__=lambda s, t, v, tb: None,\n+                 read=lambda: '{\"data\": \"fake\"}'\n+             )\n+         )), \\\n+            patch('app.modules.fakenodo.routes.uuid.uuid4', return_value='fake-uuid'):\n+\n+        response = get_deposition(1)\n+        assert response.status_code == 200\n+        assert response.json == {\"data\": \"fake\", \"doi\": \"fake-uuid\"}\n+\n+\n+def test_create_deposition(fakenodo_service):\n+    response = create_deposition()\n+    assert response.status_code == 201\n+    assert response.json == {\"message\": \"Deposition created\", \"id\": 1, \"conceptrecid\": \"1234\"}\n+\n+\n+def test_upload_file(fakenodo_service):\n+    response = upload_file(1)\n+    assert response.status_code == 201\n+    assert response.json == {\"message\": \"File uploaded to deposition 1\"}\n+\n+\n+def test_delete_deposition(fakenodo_service):\n+    response = delete_deposition(1)\n+    assert response.status_code == 200\n+    assert response.json == {\"message\": \"Deposition 1 deleted\"}\n+\n+\n+def test_publish_deposition(fakenodo_service):\n+    response = publish_deposition(1)\n+    assert response.status_code == 202\n+    assert response.json == {\"message\": \"Deposition 1 published\"}"
      }
    ]
  },
  {
    "sha": "3d052e79ab5d2295f242cbd06b51decaa38b6305",
    "node_id": "C_kwDONBuXkNoAKDNkMDUyZTc5YWI1ZDIyOTVmMjQyY2JkMDZiNTFkZWNhYTM4YjYzMDU",
    "commit": {
      "author": {
        "name": "Sergio Pons",
        "email": "92800868+sergiopons-1@users.noreply.github.com",
        "date": "2024-12-16T15:06:42Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-12-16T15:06:42Z"
      },
      "message": "Merge pull request #32 from chipi-hub-team/test/datasets\n\ntest: Checksum and size tested",
      "tree": {
        "sha": "7c4943ccdc674d4e8e5c0ccda0b24737c7509787",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/7c4943ccdc674d4e8e5c0ccda0b24737c7509787"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/3d052e79ab5d2295f242cbd06b51decaa38b6305",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnYEICCRC1aQ7uu5UhlAAAnFkQACc/MjyrKqOZFxMvn0oPQLV/\ngFyLjeh4SfhhDug2d9hQrI9DrPDLuVBGewerPf+iTOuZOBJx9AujTqnqZcpK3OZJ\ntymufyn+kJajtlx9x7Bk2BxsepJQtZhpCm6+rpsEsDhrXNvAIuB1WHxgNRNBItoy\niE5I9u2TdU3NnHyUBuIetNm8WzOUACqRuatK69lz6MvAVQdnTiGngf9CPY2YE1IT\ngEj/mM2CmgzyiMX3uvlVJN46LQb0EnEIPrIlwaVQQxr+B++6KuZIsbjuQfk+ThMC\nMXGEdQzKSnJnIHPH5kHfoqJxbS/eMvEzEsBfWwHeuBLpQrlNvOr2pPhGUy/EPiOE\niJ3eb6aQRUbPx/O3dpslgJyOt7ysIbWkfFT4J1AN5tlhZR+mn/NKrFXK9sEgX4XU\nnKO4Rc3Kcra5tfi9tLtjGBG38jLZxr2IeeX1aHe65VuEdmjrsoYF87Acn8FxqAf7\n3tN1KObQIGu9gxI/yWw5FkghBPPh8mQqXT72nT5xIOsWsILY3qNIKsFblVCXhTqw\nyaGQzOITgFYUNe1FLCzuZ0clUXpBt420hHCKwtq7cRW+ESenaJMqHCxXfGh3swxp\n+Eoa42aWXI5oIDcqyAt3WspSywns2DFPm/KVYlgXmKBkYO7ouG+XtX1uMx+T3T5c\nlUrjFpXQC4DqqK2SvplM\n=zgBp\n-----END PGP SIGNATURE-----\n",
        "payload": "tree 7c4943ccdc674d4e8e5c0ccda0b24737c7509787\nparent 09b3bd144066b4774f9d6d1293bca5027c69c1e3\nparent f8e5ebb9996fbf6aeda935f355fee61ca36796aa\nauthor Sergio Pons <92800868+sergiopons-1@users.noreply.github.com> 1734361602 +0100\ncommitter GitHub <noreply@github.com> 1734361602 +0100\n\nMerge pull request #32 from chipi-hub-team/test/datasets\n\ntest: Checksum and size tested",
        "verified_at": "2024-12-16T15:07:15Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3d052e79ab5d2295f242cbd06b51decaa38b6305",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3d052e79ab5d2295f242cbd06b51decaa38b6305",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3d052e79ab5d2295f242cbd06b51decaa38b6305/comments",
    "author": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/09b3bd144066b4774f9d6d1293bca5027c69c1e3"
      },
      {
        "sha": "f8e5ebb9996fbf6aeda935f355fee61ca36796aa",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f8e5ebb9996fbf6aeda935f355fee61ca36796aa",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/f8e5ebb9996fbf6aeda935f355fee61ca36796aa"
      }
    ],
    "files": [
      {
        "sha": "0f5ad315a582910237e077ccd7ae2dec54d3d397",
        "filename": "app/modules/dataset/tests/checksum_file_test.txt",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d052e79ab5d2295f242cbd06b51decaa38b6305/app%2Fmodules%2Fdataset%2Ftests%2Fchecksum_file_test.txt",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d052e79ab5d2295f242cbd06b51decaa38b6305/app%2Fmodules%2Fdataset%2Ftests%2Fchecksum_file_test.txt",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Fchecksum_file_test.txt?ref=3d052e79ab5d2295f242cbd06b51decaa38b6305",
        "patch": "@@ -0,0 +1 @@\n+Test file for datasets module.\n\\ No newline at end of file"
      },
      {
        "sha": "53bede865f533b1ebf6270a8729df4ffc45e84a2",
        "filename": "app/modules/dataset/tests/test_unit.py",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d052e79ab5d2295f242cbd06b51decaa38b6305/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d052e79ab5d2295f242cbd06b51decaa38b6305/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py?ref=3d052e79ab5d2295f242cbd06b51decaa38b6305",
        "patch": "@@ -1,4 +1,6 @@\n import pytest\n+\n+from app.modules.dataset import services\n from unittest.mock import patch, MagicMock\n from app.modules.conftest import login, logout\n from app.modules.auth.models import User\n@@ -32,6 +34,12 @@ def test_download_all_dataset(test_client):\n     test_client.get(\"/logout\", follow_redirects=True)\n \n \n+def test_checksum_and_size():\n+    checksum, size = services.calculate_checksum_and_size(\"app/modules/dataset/tests/checksum_file_test.txt\")\n+    assert checksum == \"1ca813544406308899f8764f9d5a3422\"\n+    assert size == 30\n+\n+\n @pytest.mark.local\n def test_publish_dataset_success(test_client):\n     \"\"\""
      }
    ]
  },
  {
    "sha": "f8e5ebb9996fbf6aeda935f355fee61ca36796aa",
    "node_id": "C_kwDONBuXkNoAKGY4ZTVlYmI5OTk2ZmJmNmFlZGE5MzVmMzU1ZmVlNjFjYTM2Nzk2YWE",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-16T10:46:32Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-16T10:46:32Z"
      },
      "message": "style: Flake8 fix\n\nFlake8 style fix",
      "tree": {
        "sha": "7c4943ccdc674d4e8e5c0ccda0b24737c7509787",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/7c4943ccdc674d4e8e5c0ccda0b24737c7509787"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/f8e5ebb9996fbf6aeda935f355fee61ca36796aa",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f8e5ebb9996fbf6aeda935f355fee61ca36796aa",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/f8e5ebb9996fbf6aeda935f355fee61ca36796aa",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f8e5ebb9996fbf6aeda935f355fee61ca36796aa/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3f211333393e2217d59904bcfe16f5d116ccab34",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3f211333393e2217d59904bcfe16f5d116ccab34",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3f211333393e2217d59904bcfe16f5d116ccab34"
      }
    ],
    "files": [
      {
        "sha": "53bede865f533b1ebf6270a8729df4ffc45e84a2",
        "filename": "app/modules/dataset/tests/test_unit.py",
        "status": "modified",
        "additions": 1,
        "deletions": 4,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/f8e5ebb9996fbf6aeda935f355fee61ca36796aa/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/f8e5ebb9996fbf6aeda935f355fee61ca36796aa/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py?ref=f8e5ebb9996fbf6aeda935f355fee61ca36796aa",
        "patch": "@@ -8,7 +8,6 @@\n from app import db\n \n \n-\n @pytest.fixture(scope=\"module\")\n def test_client(test_client):\n     \"\"\"\n@@ -35,13 +34,12 @@ def test_download_all_dataset(test_client):\n     test_client.get(\"/logout\", follow_redirects=True)\n \n \n-\n def test_checksum_and_size():\n     checksum, size = services.calculate_checksum_and_size(\"app/modules/dataset/tests/checksum_file_test.txt\")\n     assert checksum == \"1ca813544406308899f8764f9d5a3422\"\n     assert size == 30\n \n-    \n+\n @pytest.mark.local\n def test_publish_dataset_success(test_client):\n     \"\"\"\n@@ -174,4 +172,3 @@ def test_publish_all_datasets_with_errors(test_client):\n         assert \"Publication completed with errors.\" in response.json[\"message\"]\n \n     logout(test_client)\n-"
      }
    ]
  },
  {
    "sha": "3f211333393e2217d59904bcfe16f5d116ccab34",
    "node_id": "C_kwDONBuXkNoAKDNmMjExMzMzMzkzZTIyMTdkNTk5MDRiY2ZlMTZmNWQxMTZjY2FiMzQ",
    "commit": {
      "author": {
        "name": "YatoDev",
        "email": "59254702+Yato03@users.noreply.github.com",
        "date": "2024-12-16T10:42:03Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-12-16T10:42:03Z"
      },
      "message": "Merge branch 'master' into test/datasets",
      "tree": {
        "sha": "44f1216ca47312fdba8c5461117560e21a61eacb",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/44f1216ca47312fdba8c5461117560e21a61eacb"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/3f211333393e2217d59904bcfe16f5d116ccab34",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnYAP7CRC1aQ7uu5UhlAAAhekQAD3cNokIh6Sif6SSVK4Blwar\nANPI06omv82C8zbjty5S5vyi4hOPguBzixJTB0DieUcr0YTwPCF/fwTXs0HqFz3B\nGtCGbi/dteXtqZTIY3yRp4iq/N/0XfvnRscHFPuVLkKfm3MoJtd+yIAphGTV7oxL\nNJSf1geZEU6yB8A8gn8Hq+p0/VCRRxZskxStqEL1FOFRPFZ+fBVL1EQIi8HNQsYq\nZwS1UluVQsAL0eDwgavdEXpp32x/9305m1jJNdbF8NhEOGffQhXFl7XOfwdPaN5Y\njOXPyFi0P25V02UMnxQhsok8sXt+1/MBKIoEBuUnLpdb4h0CgSLZZOpc26hI5e7W\n6qo3eei6rYGX/gJaFmCPchgeSZ4LbNabn17N9whhcCBYl9MEcOQbIp1tb3bLStBH\nMPTSoI0lXpSTbYicmRBin38SnNqAhl9BeZ+mglNWIq853Qjs+C6PTr9A6E4GQSU3\nskU9O42SJMuzxxzUDcTBYkrhyZw42bxkYPZEOYTHEGU0+3xcg8Nin0L2rBqsm3K1\n6+jEG34W98nsoQK+KZxcbaG6S9rmRTYlErWNCnRq+tXqSzHdou4YpMlwV60XpKqA\nosl1M9yCnKeA5/baf4Vzfva8lVK4QpkK72l+xyZODlAXmppbyuGRwiIc7aLs6Les\n5oF9HFBeDpvqBA+6MsRF\n=v53J\n-----END PGP SIGNATURE-----\n",
        "payload": "tree 44f1216ca47312fdba8c5461117560e21a61eacb\nparent 685585e3d813c64d54afd3dc5173cdf6bdbce147\nparent 09b3bd144066b4774f9d6d1293bca5027c69c1e3\nauthor YatoDev <59254702+Yato03@users.noreply.github.com> 1734345723 +0100\ncommitter GitHub <noreply@github.com> 1734345723 +0100\n\nMerge branch 'master' into test/datasets",
        "verified_at": "2024-12-16T10:42:05Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3f211333393e2217d59904bcfe16f5d116ccab34",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3f211333393e2217d59904bcfe16f5d116ccab34",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3f211333393e2217d59904bcfe16f5d116ccab34/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "685585e3d813c64d54afd3dc5173cdf6bdbce147",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/685585e3d813c64d54afd3dc5173cdf6bdbce147",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/685585e3d813c64d54afd3dc5173cdf6bdbce147"
      },
      {
        "sha": "09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/09b3bd144066b4774f9d6d1293bca5027c69c1e3"
      }
    ],
    "files": [
      {
        "sha": "3c87d318518de1cbf2552f63c3a94bc1fc28613f",
        "filename": ".github/workflows/tests.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/.github%2Fworkflows%2Ftests.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/.github%2Fworkflows%2Ftests.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Ftests.yml?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -62,7 +62,7 @@ jobs:\n     - name: Upload coverage to Codacy\n       run: |\n         pip install codacy-coverage\n-        coverage run -m pytest app/modules/ --ignore-glob='*selenium*'\n+        coverage run -m pytest app/modules/ -m \"not local\" --ignore-glob='*selenium*'\n         coverage xml \n         python-codacy-coverage -r coverage.xml\n       env:\n@@ -83,5 +83,5 @@ jobs:\n         MARIADB_USER: uvlhub_user\n         MARIADB_PASSWORD: uvlhub_password\n       run: |\n-        pytest app/modules/ --ignore-glob='*selenium*'\n+        pytest app/modules/ -m \"not local\" --ignore-glob='*selenium*'\n "
      },
      {
        "sha": "d990ad2a28243a658a6ea3914a20a57fee3e5b74",
        "filename": ".moduleignore",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/.moduleignore",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/.moduleignore",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.moduleignore?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1 @@\n+webhook\n\\ No newline at end of file"
      },
      {
        "sha": "9cd0c5b7a5e68b23953c86e3f83321412d9a5b64",
        "filename": "app.log.1",
        "status": "added",
        "additions": 132,
        "deletions": 0,
        "changes": 132,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app.log.1",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app.log.1",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app.log.1?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,132 @@\n+2024-12-03 13:28:41,889 - app - ERROR - Exception on /doi/10.1234/dataset4/ [GET]\n+Traceback (most recent call last):\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 1473, in wsgi_app\n+    response = self.full_dispatch_request()\n+               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 882, in full_dispatch_request\n+    rv = self.handle_user_exception(e)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 298, in error_router\n+    return original_handler(e)\n+           ^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 880, in full_dispatch_request\n+    rv = self.dispatch_request()\n+         ^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 865, in dispatch_request\n+    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/routes.py\", line 296, in subdomain_index\n+    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user))\n+                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 150, in render_template\n+    return _render(app, template, context)\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 131, in _render\n+    rv = template.render(context)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 1304, in render\n+    self.environment.handle_exception()\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 939, in handle_exception\n+    raise rewrite_traceback_stack(source=source)\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 1, in top-level template code\n+    {% extends \"base_template.html\" %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/templates/base_template.html\", line 204, in top-level template code\n+    {% block content %}{% endblock %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 184, in block 'content'\n+    <button type=\"button\" class=\"btn btn-sm btn-primary\" onclick=\"addRating('{{ dataset.id }}', null, '{{request.user.id}}')\">\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 487, in getattr\n+    return getattr(obj, attribute)\n+           ^^^^^^^^^^^^^^^^^^^^^^^\n+jinja2.exceptions.UndefinedError: 'flask.wrappers.Request object' has no attribute 'user'\n+2024-12-03 13:28:41,894 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.\n+2024-12-03 13:28:47,433 - app - ERROR - Exception on /doi/10.1234/dataset4/ [GET]\n+Traceback (most recent call last):\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 1473, in wsgi_app\n+    response = self.full_dispatch_request()\n+               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 882, in full_dispatch_request\n+    rv = self.handle_user_exception(e)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 298, in error_router\n+    return original_handler(e)\n+           ^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 880, in full_dispatch_request\n+    rv = self.dispatch_request()\n+         ^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 865, in dispatch_request\n+    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/routes.py\", line 296, in subdomain_index\n+    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user))\n+                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 150, in render_template\n+    return _render(app, template, context)\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 131, in _render\n+    rv = template.render(context)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 1304, in render\n+    self.environment.handle_exception()\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 939, in handle_exception\n+    raise rewrite_traceback_stack(source=source)\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 1, in top-level template code\n+    {% extends \"base_template.html\" %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/templates/base_template.html\", line 204, in top-level template code\n+    {% block content %}{% endblock %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 184, in block 'content'\n+    <button type=\"button\" class=\"btn btn-sm btn-primary\" onclick=\"addRating('{{ dataset.id }}', null, '{{request.user.id}}')\">\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 487, in getattr\n+    return getattr(obj, attribute)\n+           ^^^^^^^^^^^^^^^^^^^^^^^\n+jinja2.exceptions.UndefinedError: 'flask.wrappers.Request object' has no attribute 'user'\n+2024-12-03 13:28:47,434 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.\n+2024-12-03 13:28:48,345 - app - ERROR - Exception on /doi/10.1234/dataset4/ [GET]\n+Traceback (most recent call last):\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 1473, in wsgi_app\n+    response = self.full_dispatch_request()\n+               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 882, in full_dispatch_request\n+    rv = self.handle_user_exception(e)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 298, in error_router\n+    return original_handler(e)\n+           ^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 880, in full_dispatch_request\n+    rv = self.dispatch_request()\n+         ^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 865, in dispatch_request\n+    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/routes.py\", line 296, in subdomain_index\n+    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user))\n+                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 150, in render_template\n+    return _render(app, template, context)\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 131, in _render\n+    rv = template.render(context)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 1304, in render\n+    self.environment.handle_exception()\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 939, in handle_exception\n+    raise rewrite_traceback_stack(source=source)\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 1, in top-level template code\n+    {% extends \"base_template.html\" %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/templates/base_template.html\", line 204, in top-level template code\n+    {% block content %}{% endblock %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 184, in block 'content'\n+    <button type=\"button\" class=\"btn btn-sm btn-primary\" onclick=\"addRating('{{ dataset.id }}', null, '{{request.user.id}}')\">\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 487, in getattr\n+    return getattr(obj, attribute)\n+           ^^^^^^^^^^^^^^^^^^^^^^^\n+jinja2.exceptions.UndefinedError: 'flask.wrappers.Request object' has no attribute 'user'\n+2024-12-03 13:28:48,347 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application."
      },
      {
        "sha": "67af7d3021550f32b2b0e7f679a8cbf1fd8fb546",
        "filename": "app/modules/dataset/models.py",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fmodels.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -29,6 +29,11 @@ class PublicationType(Enum):\n     OTHER = 'other'\n \n \n+class Status(Enum):\n+    UNPUBLISHED = 'unpublished'  # This state will serve  as the state needed to be in the stage area\n+    PUBLISHED = 'published'  # this state will indicate that the dataset is published to Fakenodo\n+\n+\n class Author(db.Model):\n     id = db.Column(db.Integer, primary_key=True)\n     name = db.Column(db.String(120), nullable=False)\n@@ -66,6 +71,7 @@ class DSMetaData(db.Model):\n     ds_metrics_id = db.Column(db.Integer, db.ForeignKey('ds_metrics.id'))\n     ds_metrics = db.relationship('DSMetrics', uselist=False, backref='ds_meta_data', cascade=\"all, delete\")\n     authors = db.relationship('Author', backref='ds_meta_data', lazy=True, cascade=\"all, delete\")\n+    ds_status = db.Column(SQLAlchemyEnum(Status), nullable=False, default=Status.UNPUBLISHED)\n \n \n class DataSet(db.Model):"
      },
      {
        "sha": "1024c1621fd469751b117dd16f0ed03ebcb17798",
        "filename": "app/modules/dataset/repositories.py",
        "status": "modified",
        "additions": 9,
        "deletions": 7,
        "changes": 16,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Frepositories.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -11,7 +11,8 @@\n     DSDownloadRecord,\n     DSMetaData,\n     DSViewRecord,\n-    DataSet\n+    DataSet,\n+    Status\n )\n from core.repositories.BaseRepository import BaseRepository\n \n@@ -71,44 +72,45 @@ def __init__(self):\n     def get_synchronized(self, current_user_id: int) -> DataSet:\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DataSet.user_id == current_user_id, DSMetaData.dataset_doi.isnot(None))\n+            .filter(DataSet.user_id == current_user_id, DSMetaData.ds_status != Status.UNPUBLISHED)\n             .order_by(self.model.created_at.desc())\n             .all()\n         )\n \n     def get_unsynchronized(self, current_user_id: int) -> DataSet:\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DataSet.user_id == current_user_id, DSMetaData.dataset_doi.is_(None))\n+            .filter(DataSet.user_id == current_user_id, DSMetaData.ds_status == Status.UNPUBLISHED)\n             .order_by(self.model.created_at.desc())\n             .all()\n         )\n \n     def get_unsynchronized_dataset(self, current_user_id: int, dataset_id: int) -> DataSet:\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DataSet.user_id == current_user_id, DataSet.id == dataset_id, DSMetaData.dataset_doi.is_(None))\n+            .filter(DataSet.user_id == current_user_id, DataSet.id == dataset_id,\n+                    DSMetaData.ds_status == Status.UNPUBLISHED)\n             .first()\n         )\n \n     def count_synchronized_datasets(self):\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DSMetaData.dataset_doi.isnot(None))\n+            .filter(DSMetaData.ds_status != Status.UNPUBLISHED)\n             .count()\n         )\n \n     def count_unsynchronized_datasets(self):\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DSMetaData.dataset_doi.is_(None))\n+            .filter(DSMetaData.ds_status == Status.UNPUBLISHED)\n             .count()\n         )\n \n     def latest_synchronized(self):\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DSMetaData.dataset_doi.isnot(None))\n+            .filter(DSMetaData.ds_status != Status.UNPUBLISHED)\n             .order_by(desc(self.model.id))\n             .limit(5)\n             .all()"
      },
      {
        "sha": "e83692193d993674eedeed8fb10e39dea56cb002",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 118,
        "deletions": 48,
        "changes": 166,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -21,7 +21,8 @@\n \n from app.modules.dataset.forms import DataSetForm\n from app.modules.dataset.models import (\n-    DSDownloadRecord\n+    DSDownloadRecord,\n+    Status\n )\n from app.modules.dataset import dataset_bp\n from app.modules.dataset.services import (\n@@ -32,12 +33,14 @@\n     DataSetService,\n     DOIMappingService\n )\n+from app.modules.rating.services import RatingService\n from app.modules.zenodo.services import ZenodoService\n \n logger = logging.getLogger(__name__)\n \n \n dataset_service = DataSetService()\n+rating_service = RatingService()\n author_service = AuthorService()\n dsmetadata_service = DSMetaDataService()\n zenodo_service = ZenodoService()\n@@ -49,72 +52,42 @@\n @login_required\n def create_dataset():\n     form = DataSetForm()\n-    if request.method == \"POST\":\n \n-        dataset = None\n+    if request.method == \"POST\":\n \n         if not form.validate_on_submit():\n             return jsonify({\"message\": form.errors}), 400\n \n         try:\n-            logger.info(\"Creating dataset...\")\n-            dataset = dataset_service.create_from_form(form=form, current_user=current_user)\n-            logger.info(f\"Created dataset: {dataset}\")\n-            dataset_service.move_feature_models(dataset)\n-        except Exception as exc:\n-            logger.exception(f\"Exception while create dataset data in local {exc}\")\n-            return jsonify({\"Exception while create dataset data in local: \": str(exc)}), 400\n \n-        # send dataset as deposition to Zenodo\n-        data = {}\n-        try:\n-            zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n-            response_data = json.dumps(zenodo_response_json)\n-            data = json.loads(response_data)\n-        except Exception as exc:\n-            data = {}\n-            zenodo_response_json = {}\n-            logger.exception(f\"Exception while create dataset data in Zenodo {exc}\")\n-\n-        if data.get(\"conceptrecid\"):\n-            deposition_id = data.get(\"id\")\n-\n-            # update dataset with deposition id in Zenodo\n-            dataset_service.update_dsmetadata(dataset.ds_meta_data_id, deposition_id=deposition_id)\n-\n-            try:\n-                # iterate for each feature model (one feature model = one request to Zenodo)\n-                for feature_model in dataset.feature_models:\n-                    zenodo_service.upload_file(dataset, deposition_id, feature_model)\n+            dataset = dataset_service.create_from_form(form=form, current_user=current_user)\n+            logger.info(f\"Dataset created successfully: {dataset}\")\n \n-                # publish deposition\n-                zenodo_service.publish_deposition(deposition_id)\n+            # Mover los modelos de caracter\u00edsticas asociados\n+            dataset_service.move_feature_models(dataset)\n \n-                # update DOI\n-                deposition_doi = zenodo_service.get_doi(deposition_id)\n-                dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n-            except Exception as e:\n-                msg = f\"it has not been possible upload feature models in Zenodo and update the DOI: {e}\"\n-                return jsonify({\"message\": msg}), 200\n+            # Eliminar carpeta temporal del usuario\n+            file_path = current_user.temp_folder()\n+            if os.path.exists(file_path) and os.path.isdir(file_path):\n+                shutil.rmtree(file_path)\n \n-        # Delete temp folder\n-        file_path = current_user.temp_folder()\n-        if os.path.exists(file_path) and os.path.isdir(file_path):\n-            shutil.rmtree(file_path)\n+            return jsonify({\"message\": \"Dataset created successfully!\"}), 200\n \n-        msg = \"Everything works!\"\n-        return jsonify({\"message\": msg}), 200\n+        except Exception as exc:\n+            return jsonify({\"message\": f\"Error during dataset creation: {str(exc)}\"}), 500\n \n     return render_template(\"dataset/upload_dataset.html\", form=form)\n \n \n @dataset_bp.route(\"/dataset/list\", methods=[\"GET\", \"POST\"])\n @login_required\n def list_dataset():\n+\n     return render_template(\n         \"dataset/list_datasets.html\",\n         datasets=dataset_service.get_synchronized(current_user.id),\n         local_datasets=dataset_service.get_unsynchronized(current_user.id),\n+        status=Status,\n     )\n \n \n@@ -288,12 +261,24 @@ def subdomain_index(doi):\n     if not ds_meta_data:\n         abort(404)\n \n-    # Get dataset\n+    # Get dataset data\n     dataset = ds_meta_data.data_set\n+    dataset_ratings = rating_service.get_total_ratings_for_dataset(dataset.id)\n+    user_already_rated = False\n+    if current_user.is_authenticated:\n+        user_already_rated = rating_service.user_already_rated_dataset(dataset.id, current_user.id)\n \n     # Save the cookie to the user's browser\n     user_cookie = ds_view_record_service.create_cookie(dataset=dataset)\n-    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user))\n+    resp = make_response(\n+        render_template(\n+            \"dataset/view_dataset.html\",\n+            dataset=dataset,\n+            current_user=current_user,\n+            dataset_ratings=dataset_ratings,\n+            user_already_rated=user_already_rated\n+        )\n+    )\n     resp.set_cookie(\"view_cookie\", user_cookie)\n \n     return resp\n@@ -303,10 +288,95 @@ def subdomain_index(doi):\n @login_required\n def get_unsynchronized_dataset(dataset_id):\n \n-    # Get dataset\n+    if (dataset_service.get_by_id(dataset_id).user_id != current_user.id):\n+        abort(403)\n+\n+    # Get dataset in case is from the current user\n     dataset = dataset_service.get_unsynchronized_dataset(current_user.id, dataset_id)\n \n     if not dataset:\n         abort(404)\n \n     return render_template(\"dataset/view_dataset.html\", dataset=dataset)\n+\n+\n+@dataset_bp.route(\"/dataset/publish\", methods=[\"POST\"])\n+@login_required\n+def publish_all_datasets():\n+    datasets = dataset_service.get_unsynchronized(current_user.id)\n+    errors = []\n+\n+    for dataset in datasets:\n+        try:\n+            zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n+            response_data = json.dumps(zenodo_response_json)\n+            data = json.loads(response_data)\n+\n+            if not data.get(\"conceptrecid\"):\n+                errors.append(f\"Dataset ID {dataset.id}: Failed to create deposition on Zenodo.\")\n+                continue\n+\n+            deposition_id = data.get(\"id\")\n+\n+            try:\n+                dataset_service.update_dsmetadata(dataset.ds_meta_data_id, deposition_id=deposition_id)\n+\n+                for feature_model in dataset.feature_models:\n+                    try:\n+                        zenodo_service.upload_file(dataset, deposition_id, feature_model)\n+                    except Exception as e:\n+                        errors.append(f\"Dataset ID {dataset.id}: Error uploading feature model. {str(e)}\")\n+\n+                zenodo_service.publish_deposition(deposition_id)\n+                deposition_doi = zenodo_service.get_doi(deposition_id)\n+                dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n+\n+            except Exception as e:\n+                errors.append(f\"Dataset ID {dataset.id}: Error during publication process. {str(e)}\")\n+\n+        except Exception as e:\n+            errors.append(f\"Dataset ID {dataset.id}: Error creating dataset in Zenodo. {str(e)}\")\n+\n+    if errors:\n+        return jsonify({\"message\": \"Publication completed with errors.\", \"errors\": errors}), 207\n+\n+    dataset_service.publish_datasets(current_user_id=current_user.id)\n+    return redirect(\"/dataset/list\")\n+\n+\n+@dataset_bp.route(\"/dataset/<int:dataset_id>/publish\", methods=[\"POST\"])\n+@login_required\n+def publish_dataset(dataset_id):\n+\n+    dataset = dataset_service.get_or_404(dataset_id)\n+\n+    if dataset.ds_meta_data.ds_status == Status.PUBLISHED:\n+        return jsonify({\"message\": \"Dataset is already published.\"}), 400\n+\n+    dataset_service.publish_specific_dataset(current_user.id, dataset_id)\n+\n+    try:\n+        zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n+        data = json.loads(json.dumps(zenodo_response_json))\n+\n+        if not data.get(\"conceptrecid\"):\n+            return jsonify({\"message\": \"Failed to create deposition on Zenodo.\"}), 400\n+\n+        deposition_id = data.get(\"id\")\n+        dataset_service.update_dsmetadata(dataset.ds_meta_data_id, deposition_id=deposition_id)\n+\n+        for feature_model in dataset.feature_models:\n+            try:\n+                zenodo_service.upload_file(dataset, deposition_id, feature_model)\n+            except Exception as e:\n+                # Log the error instead of using continue\n+                logger.error(f\"Error uploading feature model for dataset {dataset.id}: {str(e)}\")\n+\n+        zenodo_service.publish_deposition(deposition_id)\n+        deposition_doi = zenodo_service.get_doi(deposition_id)\n+        dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n+\n+        return redirect(\"/dataset/list\")\n+\n+    except Exception as exc:\n+        return jsonify({\"message\": f\"Error during Zenodo publication process: {exc}\"}), 500"
      },
      {
        "sha": "e03ee2ba240c4e42f300ebab042ececb4b1e1333",
        "filename": "app/modules/dataset/seeders.py",
        "status": "modified",
        "additions": 31,
        "deletions": 8,
        "changes": 39,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fseeders.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -9,7 +9,8 @@\n     DSMetaData,\n     PublicationType,\n     DSMetrics,\n-    Author)\n+    Author,\n+    Status)\n from datetime import datetime, timezone\n from dotenv import load_dotenv\n \n@@ -40,9 +41,23 @@ def run(self):\n                 publication_doi=f'10.1234/dataset{i+1}',\n                 dataset_doi=f'10.1234/dataset{i+1}',\n                 tags='tag1, tag2',\n-                ds_metrics_id=seeded_ds_metrics.id\n+                ds_metrics_id=seeded_ds_metrics.id,\n+                ds_status=Status.PUBLISHED\n             ) for i in range(4)\n         ]\n+\n+        # Addition of a Unpublished sample datatset metadata\n+        unpublished_dataset_meta_data = DSMetaData(\n+            deposition_id=5,\n+            title='UNPUBLISHED DATASET',\n+            description='Description for dataset 5',\n+            publication_type=PublicationType.DATA_MANAGEMENT_PLAN,\n+            publication_doi=None,\n+            dataset_doi=None,\n+            tags='tag1, tag2',\n+            ds_metrics_id=seeded_ds_metrics.id\n+        )\n+        ds_meta_data_list.append(unpublished_dataset_meta_data)\n         seeded_ds_meta_data = self.seed(ds_meta_data_list)\n \n         # Create Author instances and associate with DSMetaData\n@@ -51,8 +66,8 @@ def run(self):\n                 name=f'Author {i+1}',\n                 affiliation=f'Affiliation {i+1}',\n                 orcid=f'0000-0000-0000-000{i}',\n-                ds_meta_data_id=seeded_ds_meta_data[i % 4].id\n-            ) for i in range(4)\n+                ds_meta_data_id=seeded_ds_meta_data[i % 5].id\n+            ) for i in range(5)\n         ]\n         self.seed(authors)\n \n@@ -64,6 +79,14 @@ def run(self):\n                 created_at=datetime.now(timezone.utc)\n             ) for i in range(4)\n         ]\n+\n+        # Addition of a Unpublished sample datatset metadata\n+        unpublished_dataset = DataSet(\n+            user_id=user1.id,\n+            ds_meta_data_id=unpublished_dataset_meta_data.id,\n+            created_at=datetime.now(timezone.utc)\n+        )\n+        datasets.append(unpublished_dataset)\n         seeded_datasets = self.seed(datasets)\n \n         # Assume there are 12 UVL files, create corresponding FMMetaData and FeatureModel\n@@ -76,7 +99,7 @@ def run(self):\n                 publication_doi=f'10.1234/fm{i+1}',\n                 tags='tag1, tag2',\n                 uvl_version='1.0'\n-            ) for i in range(12)\n+            ) for i in range(15)\n         ]\n         seeded_fm_meta_data = self.seed(fm_meta_data_list)\n \n@@ -87,23 +110,23 @@ def run(self):\n                 affiliation=f'Affiliation {i+5}',\n                 orcid=f'0000-0000-0000-000{i+5}',\n                 fm_meta_data_id=seeded_fm_meta_data[i].id\n-            ) for i in range(12)\n+            ) for i in range(15)\n         ]\n         self.seed(fm_authors)\n \n         feature_models = [\n             FeatureModel(\n                 data_set_id=seeded_datasets[i // 3].id,\n                 fm_meta_data_id=seeded_fm_meta_data[i].id\n-            ) for i in range(12)\n+            ) for i in range(15)\n         ]\n         seeded_feature_models = self.seed(feature_models)\n \n         # Create files, associate them with FeatureModels and copy files\n         load_dotenv()\n         working_dir = os.getenv('WORKING_DIR', '')\n         src_folder = os.path.join(working_dir, 'app', 'modules', 'dataset', 'uvl_examples')\n-        for i in range(12):\n+        for i in range(15):\n             file_name = f'file{i+1}.uvl'\n             feature_model = seeded_feature_models[i]\n             dataset = next(ds for ds in seeded_datasets if ds.id == feature_model.data_set_id)"
      },
      {
        "sha": "8fe0abb35b5ae9ed00f937ba4a0903cfe574d3f2",
        "filename": "app/modules/dataset/services.py",
        "status": "modified",
        "additions": 23,
        "deletions": 1,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fservices.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -8,7 +8,7 @@\n from flask import request\n \n from app.modules.auth.services import AuthenticationService\n-from app.modules.dataset.models import DSViewRecord, DataSet, DSMetaData\n+from app.modules.dataset.models import DSViewRecord, DataSet, DSMetaData, Status\n from app.modules.dataset.repositories import (\n     AuthorRepository,\n     DOIMappingRepository,\n@@ -143,6 +143,28 @@ def get_uvlhub_doi(self, dataset: DataSet) -> str:\n     def get_all_datasets(self):\n         return self.repository.get_all_datasets()\n \n+    # This method will help in the proccess of publishing datasets\n+    def publish_datasets(self, current_user_id):\n+        try:\n+            datasets = self.repository.get_unsynchronized(current_user_id)\n+            for dataset in datasets:\n+                if (dataset.ds_meta_data.ds_status == Status.UNPUBLISHED):\n+                    dataset.ds_meta_data.ds_status = Status.PUBLISHED\n+                    self.repository.session.commit()\n+                else:\n+                    raise ValueError(\"Dataset is not in 'UNPUBLISHED' status\")\n+        except Exception:\n+            self.repository.session.rollback()\n+\n+    # This method will help in the proccess of publishing a specific dataset\n+    def publish_specific_dataset(self, current_user_id, dataset_id):\n+        try:\n+            dataset = self.repository.get_unsynchronized_dataset(current_user_id, dataset_id)\n+            dataset.ds_meta_data.ds_status = Status.PUBLISHED\n+            self.repository.session.commit()\n+        except Exception:\n+            self.repository.session.rollback()\n+\n \n class AuthorService(BaseService):\n     def __init__(self):"
      },
      {
        "sha": "1fd87c410d1d79539276c115f7f1d13ca64a0a2a",
        "filename": "app/modules/dataset/templates/dataset/list_datasets.html",
        "status": "modified",
        "additions": 71,
        "deletions": 63,
        "changes": 134,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -6,11 +6,16 @@\n \n     <h1 class=\"h3 mb-3\">My datasets</h1>\n \n-    {% if datasets %}\n-        <div class=\" col-12\">\n+    {% if local_datasets %}\n+        <div class=\"col-12\">\n             <div class=\"card\">\n-\n                 <div class=\"card-body\">\n+                    <form action=\"{{ url_for('dataset.publish_all_datasets') }}\" method=\"POST\">\n+                        <button type=\"submit\" class=\"btn btn-primary\">Publish All datasets to Zenodo</button>\n+                    </form>\n+                    <div class=\"card-header\">\n+                        <h5 class=\"card-title\">My unpublished datasets (stagging area)</h5>\n+                    </div>\n                     <table class=\"table\">\n                         <thead>\n                         <tr>\n@@ -22,33 +27,36 @@ <h1 class=\"h3 mb-3\">My datasets</h1>\n                         </tr>\n                         </thead>\n                         <tbody>\n-                        {% for dataset in datasets %}\n-                            <tr>\n-                                <td>\n-                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n-                                        {{ dataset.ds_meta_data.title }}\n-                                    </a>\n-                                </td>\n-                                <td>{{ dataset.ds_meta_data.description }}</td>\n-                                <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n-                                <td><a href=\"{{ dataset.get_uvlhub_doi() }}\"\n-                                       target=\"_blank\">{{ dataset.get_uvlhub_doi() }}</a></td>\n-                                <td>\n-                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n-                                        <i data-feather=\"eye\"></i>\n-                                    </a>\n-                                    <a href=\"{{ url_for('dataset.download_dataset', dataset_id=dataset.id) }}\">\n-                                        <i data-feather=\"download\"></i>\n-                                    </a>\n-                                </td>\n-                            </tr>\n+                        {% for dataset in local_datasets %}\n+                            {% if dataset.ds_meta_data.ds_status  == status.UNPUBLISHED %}\n+                                <tr>\n+                                    <td>\n+                                        <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=dataset.id) }}\">\n+                                            {{ dataset.ds_meta_data.title }}\n+                                        </a>\n+                                    </td>\n+                                    <td>{{ dataset.ds_meta_data.description }}</td>\n+                                    <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                    <td> Unpublished datasets dont have a DOI </td>\n+                                    <td>\n+                                        <a href=\"{{ url_for('dataset.download_dataset', dataset_id=dataset.id) }}\">\n+                                            <i data-feather=\"download\"></i>\n+                                        </a>\n+                                    </td>\n+                                    <td>\n+                                        {% if dataset.user_id == current_user.id and dataset.ds_meta_data.ds_status  == status.UNPUBLISHED %}\n+                                            <form action=\"{{ url_for('dataset.publish_dataset', dataset_id=dataset.id) }}\" method=\"POST\">\n+                                                <button type=\"submit\" class=\"btn btn-primary\">Publish to Zenodo</button>\n+                                            </form>\n+                                        {% endif %}\n+                                    </td>\n+                                </tr>\n+                            {% endif %}\n                         {% endfor %}\n                         </tbody>\n                     </table>\n                 </div>\n-\n             </div>\n-\n         </div>\n     {% else %}\n         <div class=\"col-12 col-md-6\">\n@@ -58,7 +66,7 @@ <h5 class=\"card-title mb-0\">No datasets found</h5>\n                 </div>\n                 <div class=\"card-body\">\n                     <p class=\"card-text\">\n-                        You have not created any dataset synchronized with Zenodo, are you up for it?\n+                        You don't have unpublished datasets\n                     </p>\n                     <a href=\"{{ url_for('dataset.create_dataset') }}\" class=\"btn btn-primary\">\n                         Upload dataset</a>\n@@ -67,52 +75,52 @@ <h5 class=\"card-title mb-0\">No datasets found</h5>\n         </div>\n     {% endif %}\n \n-    <div class=\"row\">\n-\n-\n+    <div class=\"row mt-5\">\n         <div class=\"col-12\">\n-            {% if local_datasets %}\n-                <div class=\"card\">\n+            <div class=\"card\">\n+                <div class=\"card-body\">\n+                    <div class=\"card-header\">\n+                        <h5 class=\"card-title\">Published datasets in zenodo</h5>\n+                    </div>\n                     <div class=\"card-body\">\n-                        <div class=\"card-header\">\n-                            <h5 class=\"card-title\">Unsynchronized datasets</h5>\n-                        </div>\n-                        <div class=\"card-body\">\n+                        {% if datasets %}\n                             <table class=\"table\">\n                                 <thead>\n-                                <tr>\n-                                    <th>Title</th>\n-                                    <th>Description</th>\n-                                    <th>Publication type</th>\n-                                    <th>Options</th>\n-                                </tr>\n-                                </thead>\n-                                <tbody>\n-                                {% for local_dataset in local_datasets %}\n                                     <tr>\n-                                        <td>\n-                                            <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=local_dataset.id) }}\">\n-                                                {{ local_dataset.ds_meta_data.title }}\n-                                            </a>\n-                                        </td>\n-                                        <td>{{ local_dataset.ds_meta_data.description }}</td>\n-                                        <td>{{ local_dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n-                                        <td>\n-                                            <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=local_dataset.id) }}\">\n-                                                <i data-feather=\"eye\"></i>\n-                                            </a>\n-                                            <a href=\"{{ url_for('dataset.download_dataset', dataset_id=local_dataset.id) }}\">\n-                                                <i data-feather=\"download\"></i>\n-                                            </a>\n-                                        </td>\n+                                        <th>Title</th>\n+                                        <th>Description</th>\n+                                        <th>Publication type</th>\n+                                        <th>DOI</th>\n                                     </tr>\n-                                {% endfor %}\n+                                </thead>\n+                                <tbody>\n+                                    {% for dataset in datasets %}\n+                                        {% if dataset.ds_meta_data.ds_status == status.PUBLISHED %}\n+                                            <tr>\n+                                                <td>\n+                                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                                        {{ dataset.ds_meta_data.title }}\n+                                                    </a>\n+                                                </td>\n+                                                <td>{{ dataset.ds_meta_data.description }}</td>\n+                                                <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                                <td>\n+                                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\" target=\"_blank\">\n+                                                        {{ dataset.get_uvlhub_doi() }}\n+                                                    </a>\n+                                                </td>\n+                                            </tr>\n+                                        {% endif %}\n+                                    {% endfor %}\n                                 </tbody>\n                             </table>\n-                        </div>\n+                        {% else %}\n+                            <p>No datasets synchronized with Zenodo.</p>\n+                        {% endif %}\n                     </div>\n                 </div>\n-            {% endif %}\n+            </div>\n         </div>\n+    </div>\n \n-{% endblock %}\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "5d813ac93806d6fbe64d0696b5558e6e7bd4da68",
        "filename": "app/modules/dataset/templates/dataset/view_dataset.html",
        "status": "modified",
        "additions": 55,
        "deletions": 0,
        "changes": 55,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -174,10 +174,20 @@ <h1><b>{{ dataset.ds_meta_data.title }}</b></h1>\n                         {{ dataset.get_uvlhub_doi() }}\n                     </span>\n                 </button>\n+\n+                \n                 \n                 <div id=\"dataset_doi_uvlhub\" style=\"display: none\">\n                     {{ dataset.get_uvlhub_doi() }}\n                 </div>\n+                {% if current_user.is_authenticated %}\n+                    <button type=\"button\" class=\"btn btn-sm btn-primary\" style=\"margin-top: 10px; border-radius: 5px\" onclick=\"addRating('{{ dataset.id }}', '{{current_user.id}}')\">\n+                        <i id=\"unrated-icon\" data-feather=\"star\" class=\"center-button-icon\" style=\"cursor: pointer\"></i>\n+                        <i id=\"rated-icon\" class=\"fas fa-star\" style=\"cursor: pointer\"></i>\n+                        <b>Star</b>\n+                        <span id=\"rating-count-{{ dataset.id }}\">{{dataset_ratings}}</span>\n+                    </button>\n+                {% endif %}\n                 \n             </div>\n             {% endif %}\n@@ -562,6 +572,51 @@ <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n         .catch(error => console.error('Error loading file:', error));\n     }\n \n+    function addRating(datasetId, user_id) {\n+            fetch('/rating/add', {\n+                method: 'POST',\n+                headers: {\n+                    'Content-Type': 'application/json'\n+                },\n+                body: JSON.stringify({\n+                    dataset_id: datasetId,\n+                    user_id: user_id,\n+                })\n+            })\n+            .then(response => response.json())\n+            .then(data => {\n+                updateRatingCount(datasetId);\n+            })\n+            .catch(error => {\n+                console.error('Error:', error);\n+            });\n+    }\n+\n+    let user_already_rated = {{ user_already_rated | tojson }};\n+    if (user_already_rated) {\n+        document.getElementById('unrated-icon').style.display = \"none\";\n+    } else {\n+        document.getElementById('rated-icon').style.display = \"none\";\n+    }\n+\n+    function updateRatingCount(datasetId) {\n+        fetch(`/rating/total/dataset/${datasetId}`)\n+            .then(response => response.json())\n+            .then(data => {\n+                document.getElementById(`rating-count-${datasetId}`).innerText = data.total_ratings;\n+                user_already_rated = data.user_already_rated;\n+                if (user_already_rated) {\n+                    document.getElementById('unrated-icon').style.display = \"none\";\n+                    document.getElementById('rated-icon').style.display = \"inline\";\n+                } else {\n+                    document.getElementById('rated-icon').style.display = \"none\";\n+                    document.getElementById('unrated-icon').style.display = \"inline\";\n+                }\n+            })\n+            .catch(error => {\n+                console.error('Error:', error);\n+            });\n+    }\n </script>\n \n {% endblock %}"
      },
      {
        "sha": "53462ff65e23cb4256c89cee3baa2a7524c2043f",
        "filename": "app/modules/dataset/tests/locustfile.py",
        "status": "modified",
        "additions": 16,
        "deletions": 0,
        "changes": 16,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -1,6 +1,7 @@\n from locust import HttpUser, TaskSet, task\n from core.locust.common import get_csrf_token\n from core.environment.host import get_host_for_locust_testing\n+import secrets\n \n \n class DatasetBehavior(TaskSet):\n@@ -18,3 +19,18 @@ class DatasetUser(HttpUser):\n     min_wait = 5000\n     max_wait = 9000\n     host = get_host_for_locust_testing()\n+\n+\n+class DatasetPublishBehavior(TaskSet):\n+    @task\n+    def publish_dataset(self):\n+        # Genera un n\u00famero aleatorio seguro para la publicaci\u00f3n del dataset\n+        dataset_id = secrets.randbelow(100) + 1  # Genera un n\u00famero entre 1 y 100\n+        response = self.client.post(f\"/dataset/{dataset_id}/publish\")\n+\n+        if response.status_code == 200:\n+            print(f\"Dataset {dataset_id} publicado con \u00e9xito\")\n+        elif response.status_code == 400:\n+            print(f\"Dataset {dataset_id} ya estaba publicado o tuvo un error: {response.json()}\")\n+        else:\n+            print(f\"Error en la publicaci\u00f3n del dataset {dataset_id}: {response.status_code}\")"
      },
      {
        "sha": "57eae050b27661f3f46ea9e8c83736ef19752cae",
        "filename": "app/modules/dataset/tests/test_selenium.py",
        "status": "modified",
        "additions": 40,
        "deletions": 0,
        "changes": 40,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -138,6 +138,46 @@ def test_downloadall():\n     driver.find_element(By.LINK_TEXT, \"Download all datasets\").click()\n \n \n+def test_publish_datset():\n+    driver = initialize_driver()\n+    driver.get(\"http://127.0.0.1:5000/\")\n+    driver.set_window_size(1854, 1048)\n+    driver.find_element(By.CSS_SELECTOR, \".nav-link:nth-child(2)\").click()\n+    driver.find_element(By.ID, \"email\").click()\n+    driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+    driver.find_element(By.ID, \"password\").click()\n+    driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+    driver.find_element(By.ID, \"submit\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".sidebar-item:nth-child(7) .align-middle:nth-child(2)\").click()\n+    wait_for_page_to_load(driver)\n+    driver.find_element(By.CSS_SELECTOR, \"tr:nth-child(1) .btn\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".btn\").click()\n+\n+\n+def test_publish_All_datasets():\n+\n+    test_upload_dataset()\n+    # redneck fix: invoke a test that creates a dataset and using the \"fixture created\" does the current test\n+\n+    driver = initialize_driver()\n+    driver.get(\"http://127.0.0.1:5000/\")\n+    driver.set_window_size(1854, 1048)\n+    driver.find_element(By.CSS_SELECTOR, \".nav-link:nth-child(2)\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".row:nth-child(2) > .col-md-6 > .mb-3\").click()\n+    driver.find_element(By.ID, \"email\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".row:nth-child(2) > .col-md-6\").click()\n+    driver.find_element(By.ID, \"email\").click()\n+    driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+    driver.find_element(By.ID, \"password\").click()\n+    driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+    driver.find_element(By.ID, \"submit\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".sidebar-item:nth-child(7) .align-middle:nth-child(2)\").click()\n+    wait_for_page_to_load(driver)\n+    driver.find_element(By.CSS_SELECTOR, \".card-body > form > .btn\").click()\n+\n+\n # Call the test function\n+test_publish_All_datasets()\n test_upload_dataset()\n test_downloadall()\n+test_publish_datset()"
      },
      {
        "sha": "cf75f447002da25c269e322965180fc7bb16489c",
        "filename": "app/modules/dataset/tests/test_unit.py",
        "status": "modified",
        "additions": 147,
        "deletions": 1,
        "changes": 148,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -1,5 +1,12 @@\n import pytest\n+\n from app.modules.dataset import services\n+from unittest.mock import patch, MagicMock\n+from app.modules.conftest import login, logout\n+from app.modules.auth.models import User\n+from app.modules.dataset.models import Status\n+from app import db\n+\n \n \n @pytest.fixture(scope=\"module\")\n@@ -10,7 +17,10 @@ def test_client(test_client):\n     with test_client.application.app_context():\n         # Add HERE new elements to the database that you want to exist in the test context.\n         # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n-        pass\n+        # Create a test user\n+        user_test = User(email=\"testuser@example.com\", password=\"1234\")\n+        db.session.add(user_test)\n+        db.session.commit()\n \n     yield test_client\n \n@@ -25,7 +35,143 @@ def test_download_all_dataset(test_client):\n     test_client.get(\"/logout\", follow_redirects=True)\n \n \n+\n def test_checksum_and_size():\n     checksum, size = services.calculate_checksum_and_size(\"app/modules/dataset/tests/checksum_file_test.txt\")\n     assert checksum == \"1ca813544406308899f8764f9d5a3422\"\n     assert size == 30\n+\n+    \n+@pytest.mark.local\n+def test_publish_dataset_success(test_client):\n+    \"\"\"\n+    Positive case: Publish an unpublished dataset.\n+    \"\"\"\n+    dataset_id = 500\n+    login_response = login(test_client, \"testuser@example.com\", \"1234\")\n+    assert login_response.status_code == 200, \"Login was failed.\"\n+\n+    with patch(\"app.modules.dataset.services.DataSetService.get_or_404\") as mock_get_dataset, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.create_new_deposition\") as mock_zenodo, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.upload_file\") as mock_upload_file:\n+\n+        mock_get_dataset.return_value = MagicMock(\n+            id=dataset_id,\n+            ds_meta_data_id=1000,\n+            ds_meta_data=MagicMock(\n+                ds_status=\"unpublished\",\n+                title=\"Dataset 1\",\n+                description=\"Description of dataset 1\",\n+                publication_type=\"DATA_MANAGEMENT_PLAN\",\n+                dataset_doi=None,\n+            ),\n+            feature_models=[\n+                MagicMock(id=101, name=\"FeatureModel1\"),\n+                MagicMock(id=102, name=\"FeatureModel2\"),\n+            ],\n+        )\n+\n+        mock_upload_file.return_value = None\n+        mock_zenodo.return_value = {\"conceptrecid\": \"12345\", \"id\": \"67890\"}\n+\n+        response = test_client.post(f\"/dataset/{dataset_id}/publish\", follow_redirects=True)\n+        print(\"Response\", response.get_json())\n+        assert response.status_code == 200, \"Publishing the unpublished dataset failed.\"\n+        mock_get_dataset.assert_called_once_with(dataset_id)\n+\n+    logout(test_client)\n+\n+\n+@pytest.mark.local\n+def test_publish_all_datasets_success(test_client):\n+    \"\"\"\n+    Positive case: Publish all unpublished datasets.\n+    \"\"\"\n+    login_response = login(test_client, \"testuser@example.com\", \"1234\")\n+    assert login_response.status_code == 200, \"Login was failed.\"\n+\n+    with patch(\"app.modules.dataset.services.DataSetService.get_unsynchronized\") as mock_get_datasets, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.create_new_deposition\") as mock_zenodo, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.upload_file\") as mock_upload_file:\n+\n+        mock_upload_file.return_value = None\n+        mock_get_datasets.return_value = [\n+            MagicMock(\n+                id=500,\n+                ds_meta_data_id=1000,\n+                ds_meta_data=MagicMock(\n+                    ds_status=\"unpublished\",\n+                    title=\"Dataset 1\",\n+                    description=\"Description of dataset 1\",\n+                    publication_type=\"DATA_MANAGEMENT_PLAN\",\n+                    dataset_doi=None,\n+                ),\n+                feature_models=[\n+                    MagicMock(id=101, name=\"FeatureModel1\"),\n+                    MagicMock(id=102, name=\"FeatureModel2\"),\n+                ],\n+            ),\n+            MagicMock(\n+                id=501,\n+                ds_meta_data_id=1001,\n+                ds_meta_data=MagicMock(\n+                    ds_status=\"unpublished\",\n+                    title=\"Dataset 2\",\n+                    description=\"Description of dataset 2\",\n+                    publication_type=\"DATA_MANAGEMENT_PLAN\",\n+                    dataset_doi=None,\n+                ),\n+                feature_models=[\n+                    MagicMock(id=103, name=\"FeatureModel3\"),\n+                ],\n+            ),\n+        ]\n+\n+        mock_zenodo.return_value = {\"conceptrecid\": \"12345\", \"id\": \"67890\"}\n+\n+        print(\"Mocked datasets:\", mock_get_datasets.return_value)\n+        print(\"Mocked Zenodo response:\", mock_zenodo.return_value)\n+        response = test_client.post(\"/dataset/publish\", follow_redirects=True)\n+        print(\"Response\", response.get_json())\n+        assert response.status_code == 200, \"Publishing all unpublished datasets failed.\"\n+        mock_get_datasets.assert_called()\n+\n+    logout(test_client)\n+\n+\n+def test_publish_dataset_already_published(test_client):\n+    \"\"\"\n+    Negative case: Try to publish an already published dataset.\n+    \"\"\"\n+    dataset_id = 1\n+    login_response = login(test_client, \"testuser@example.com\", \"1234\")\n+    assert login_response.status_code == 200, \"Login was failed.\"\n+\n+    with patch(\"app.modules.dataset.services.DataSetService.get_or_404\") as mock_get_dataset:\n+        mock_get_dataset.return_value = MagicMock(ds_meta_data=MagicMock(ds_status=Status.PUBLISHED))\n+\n+        response = test_client.post(f\"/dataset/{dataset_id}/publish\", follow_redirects=True)\n+        assert response.status_code == 400, \"It should not allow publishing an already published dataset.\"\n+        assert response.json[\"message\"] == \"Dataset is already published.\"\n+\n+    logout(test_client)\n+\n+\n+def test_publish_all_datasets_with_errors(test_client):\n+    \"\"\"\n+    Negative case: Publish all unpublished datasets with some errors\n+    \"\"\"\n+    login_response = login(test_client, \"testuser@example.com\", \"1234\")\n+    assert login_response.status_code == 200, \"Login fue fallido.\"\n+\n+    with patch(\"app.modules.dataset.services.DataSetService.get_unsynchronized\") as mock_get_datasets, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.create_new_deposition\") as mock_zenodo:\n+        mock_get_datasets.return_value = [MagicMock(id=2), MagicMock(id=3)]\n+        mock_zenodo.side_effect = Exception(\"Error creating deposition\")\n+\n+        response = test_client.post(\"/dataset/publish\", follow_redirects=True)\n+        assert response.status_code == 207, \"The errored publication did not return the expected status.\"\n+        assert \"Publication completed with errors.\" in response.json[\"message\"]\n+\n+    logout(test_client)\n+"
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file13.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile13.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile13.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile13.uvl?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file14.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile14.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile14.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile14.uvl?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file15.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile15.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile15.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile15.uvl?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "dcae33bec481e6fc3d931c097cf5e52f603aa055",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -17,7 +17,7 @@ def get_all_depositions():\n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['GET'])\n def get_deposition(id):\n     workdir = os.getenv(\"WORKING_DIR\")\n-    path = f\"{workdir}/app/modules/fakenodo/placeholders/deposition.json\"\n+    path = f\"{workdir}app/modules/fakenodo/placeholders/deposition.json\"\n     with open(path) as f:\n         data = json.load(f)\n         data['doi'] = str(uuid.uuid4())"
      },
      {
        "sha": "f930a79c48dc9a1a7305cc29fc17d8dc5c1ea53f",
        "filename": "app/modules/featuremodel/models.py",
        "status": "modified",
        "additions": 9,
        "deletions": 0,
        "changes": 9,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Ffeaturemodel%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Ffeaturemodel%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffeaturemodel%2Fmodels.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -14,6 +14,15 @@ class FeatureModel(db.Model):\n     def __repr__(self):\n         return f'FeatureModel<{self.id}>'\n \n+    def to_dict(self):\n+        return {\n+            'id': self.id,\n+            'data_set_id': self.data_set_id,\n+            'fm_meta_data_id': self.fm_meta_data_id,\n+            'files': [file.to_dict() for file in self.files],\n+            'fm_meta_data': self.fm_meta_data.to_dict()\n+        }\n+\n \n class FMMetaData(db.Model):\n     id = db.Column(db.Integer, primary_key=True)"
      },
      {
        "sha": "67deaac42fef0341466219f80dea2b59501083af",
        "filename": "app/modules/notepad/models.py",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fnotepad%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fnotepad%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Fmodels.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -11,3 +11,11 @@ class Notepad(db.Model):\n \n     def __repr__(self):\n         return f'Notepad<{self.id}, Title={self.title}, Author={self.user.username}>'\n+\n+    def to_dict(self):\n+        return {\n+            'id': self.id,\n+            'title': self.title,\n+            'body': self.body,\n+            'user_id': self.user_id\n+        }"
      },
      {
        "sha": "cb566a6efa514ce95061292f5a4d601982ea8e16",
        "filename": "app/modules/profile/routes.py",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fprofile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fprofile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Froutes.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -1,6 +1,6 @@\n from app.modules.auth.models import User\n from app.modules.auth.services import AuthenticationService\n-from app.modules.dataset.models import DataSet\n+from app.modules.dataset.models import DataSet, Status\n from flask import abort, render_template, redirect, url_for, request\n from flask_login import login_required, current_user\n \n@@ -66,5 +66,6 @@ def my_profile(user_id):\n         datasets=user_datasets_pagination.items,\n         pagination=user_datasets_pagination,\n         total_datasets=total_datasets_count,\n-        is_my_profile=is_my_profile\n+        is_my_profile=is_my_profile,\n+        status=Status\n     )"
      },
      {
        "sha": "b7b5a030effc61363bbb7d631679693689ac4191",
        "filename": "app/modules/profile/templates/profile/summary.html",
        "status": "modified",
        "additions": 45,
        "deletions": 23,
        "changes": 68,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -60,31 +60,53 @@ <h1 class=\"h3 mb-3\">User datasets</h1>\n                             </tr>\n                         </thead>\n                         <tbody>\n-                          \n-                            {% for dataset in datasets %}\n-                            <tr>\n-                                <td>\n-\n-                                    {% if dataset.ds_meta_data.dataset_doi %}\n-                                        <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n-                                            {{ dataset.ds_meta_data.title }}\n-                                        </a>\n-                                    {% else %}\n-                                        <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=dataset.id) }}\">\n-                                            {{ dataset.ds_meta_data.title }}\n-                                        </a>                                    \n-                                    {% endif %}\n+                            {% if is_my_profile %}\n+                                {% for dataset in datasets %}\n+                                <tr>\n+                                    <td>\n+\n+                                        {% if dataset.ds_meta_data.dataset_doi %}\n+                                            <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                                {{ dataset.ds_meta_data.title }}\n+                                            </a>\n+                                        {% else %}\n+                                            <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=dataset.id) }}\">\n+                                                {{ dataset.ds_meta_data.title }}\n+                                            </a>                               \n+                                        {% endif %}\n+\n+                                        \n+                                    </td>\n+                                    <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                </tr>\n+                                {% else %}\n+                            \n+                                <tr>\n+                                    <td colspan=\"2\">No datasets uploaded.</td>\n+                                </tr>\n+                                {% endfor %}\n \n-                                    \n-                                </td>\n-                                <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n-                            </tr>\n                             {% else %}\n-                          \n-                            <tr>\n-                                <td colspan=\"2\">No datasets uploaded.</td>\n-                            </tr>\n-                            {% endfor %}\n+                                \n+                                {% for dataset in datasets %}\n+                                    {% if dataset.ds_meta_data.ds_status == status.PUBLISHED %}\n+                                    <tr>\n+                                        <td>\n+                                             <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                                {{ dataset.ds_meta_data.title }}\n+                                             </a> \n+                                        </td>\n+                                        <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                    </tr>\n+                                    {% endif %}\n+\n+                                {% else %}\n+                                    <tr>\n+                                        <td colspan=\"2\">No datasets uploaded.</td>\n+                                    </tr>\n+                                {% endfor %}\n+                            {% endif %}\n+                            \n                         </tbody>\n                     </table>\n                 </div>"
      },
      {
        "sha": "f2a4903b9241dee43c6a89fd14270c2bd8b71313",
        "filename": "app/modules/pytest.ini",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fpytest.ini",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Fpytest.ini",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fpytest.ini?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -1,3 +1,5 @@\n [pytest]\n filterwarnings =\n     ignore::DeprecationWarning\n+markers =\n+    local: Tests que solo se ejecutar\u00e1n en local\n\\ No newline at end of file"
      },
      {
        "sha": "c28c608f396998e6388e7bdec9b1d19dbeb67cc9",
        "filename": "app/modules/rating/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2F__init__.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+rating_bp = BaseBlueprint('rating', __name__, template_folder='templates')"
      },
      {
        "sha": "c4d1ae2d53558664b844fcaa48b709715aa489bd",
        "filename": "app/modules/rating/assets/scripts.js",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fassets%2Fscripts.js?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script loaded from rating module\");"
      },
      {
        "sha": "b2e9ea95960522fe1d23276d76cd20ea213ff17c",
        "filename": "app/modules/rating/forms.py",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fforms.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,6 @@\n+from flask_wtf import FlaskForm\n+from wtforms import SubmitField\n+\n+\n+class RatingForm(FlaskForm):\n+    submit = SubmitField('Save rating')"
      },
      {
        "sha": "90975f6de639b5651fd9cc3388b26a80266d87c3",
        "filename": "app/modules/rating/models.py",
        "status": "added",
        "additions": 10,
        "deletions": 0,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fmodels.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,10 @@\n+from app import db\n+\n+\n+class Rating(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+    dataset_id = db.Column(db.Integer, nullable=False)\n+    user_id = db.Column(db.Integer, nullable=False)\n+\n+    def __repr__(self):\n+        return f'Rating<{self.id}, Dataset<{self.dataset_id}>, User<{self.user_id}>>'"
      },
      {
        "sha": "3e604f880cb0428697ac61d4424496127ce084bf",
        "filename": "app/modules/rating/repositories.py",
        "status": "added",
        "additions": 31,
        "deletions": 0,
        "changes": 31,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Frepositories.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,31 @@\n+from app.modules.rating.models import Rating\n+from core.repositories.BaseRepository import BaseRepository\n+\n+\n+class RatingRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(Rating)\n+\n+    def add(self, rating):\n+        self.session.add(rating)\n+\n+    def delete(self, rating):\n+        self.session.delete(rating)\n+\n+    def get_by_id(self, rating_id):\n+        return self.session.query(Rating).filter_by(id=rating_id).first()\n+\n+    def get_by_dataset_id(self, dataset_id):\n+        return self.session.query(Rating).filter_by(dataset_id=dataset_id).all()\n+\n+    def get_by_dataset_id_and_user_id(self, dataset_id, user_id):\n+        return self.session.query(Rating).filter_by(dataset_id=dataset_id, user_id=user_id).all()\n+\n+    def commit(self):\n+        self.session.commit()\n+\n+    def get_query(self):\n+        return self.session.query(Rating)\n+\n+    def query(self):\n+        return self.get_query()"
      },
      {
        "sha": "f5145fcd56e87c5e02d641769e443b753a2e7cd5",
        "filename": "app/modules/rating/routes.py",
        "status": "added",
        "additions": 34,
        "deletions": 0,
        "changes": 34,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Froutes.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,34 @@\n+from flask import render_template, request, jsonify\n+from app.modules.rating import rating_bp\n+from app.modules.rating.services import RatingService\n+from flask_login import current_user\n+\n+rating_service = RatingService()\n+\n+\n+@rating_bp.route('/rating', methods=['GET'])\n+def index():\n+    return render_template('rating/index.html')\n+\n+\n+@rating_bp.route('/rating/add', methods=['POST'])\n+def add_rating():\n+    data = request.get_json()\n+    dataset_id = data.get('dataset_id')\n+    user_id = data.get('user_id')\n+\n+    rating_service.add_or_remove_rating(dataset_id, user_id)\n+    return jsonify({'message': 'Rating added successfully'}), 201\n+\n+\n+@rating_bp.route('/rating/remove/<int:rating_id>', methods=['DELETE'])\n+def remove_rating(rating_id):\n+    rating_service.remove_rating(rating_id)\n+    return jsonify({'message': 'Rating removed successfully'}), 200\n+\n+\n+@rating_bp.route('/rating/total/dataset/<int:dataset_id>', methods=['GET'])\n+def total_ratings_for_dataset(dataset_id):\n+    total = rating_service.get_total_ratings_for_dataset(dataset_id)\n+    user_already_rated = rating_service.user_already_rated_dataset(dataset_id, current_user.id)\n+    return jsonify({'total_ratings': total, 'user_already_rated': user_already_rated}), 200"
      },
      {
        "sha": "075e3cde25b2734ca2286d34ce0bc2cdff3fe24b",
        "filename": "app/modules/rating/seeders.py",
        "status": "added",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fseeders.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,12 @@\n+from core.seeders.BaseSeeder import BaseSeeder\n+\n+\n+class RatingSeeder(BaseSeeder):\n+\n+    def run(self):\n+\n+        data = [\n+            # Create any Model object you want to make seed\n+        ]\n+\n+        self.seed(data)"
      },
      {
        "sha": "0ef6e19762dd6ab6690d0d5d9a546976816bec5c",
        "filename": "app/modules/rating/services.py",
        "status": "added",
        "additions": 31,
        "deletions": 0,
        "changes": 31,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fservices.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,31 @@\n+from app.modules.rating.repositories import RatingRepository\n+from core.services.BaseService import BaseService\n+from app.modules.rating.models import Rating\n+\n+\n+class RatingService(BaseService):\n+    def __init__(self):\n+        super().__init__(RatingRepository())\n+\n+    def add_or_remove_rating(self, dataset_id, user_id):\n+        rating = Rating(dataset_id=dataset_id, user_id=user_id)\n+        if not self.user_already_rated_dataset(dataset_id, user_id):\n+            self.repository.add(rating)\n+            self.repository.commit()\n+        else:\n+            self.remove_ratings(dataset_id, user_id)\n+\n+    def remove_ratings(self, dataset_id, user_id):\n+        ratings = self.repository.get_by_dataset_id_and_user_id(dataset_id, user_id)\n+        if ratings:\n+            for rating in ratings:\n+                self.repository.delete(rating)\n+            self.repository.commit()\n+\n+    def user_already_rated_dataset(self, dataset_id, user_id):\n+        if self.repository.get_by_dataset_id_and_user_id(dataset_id, user_id):\n+            return True\n+        return False\n+\n+    def get_total_ratings_for_dataset(self, dataset_id):\n+        return self.repository.get_query().filter_by(dataset_id=dataset_id).count()"
      },
      {
        "sha": "bcab6018c51456a4a74fb515c761a74e6dd8542d",
        "filename": "app/modules/rating/templates/rating/index.html",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Ftemplates%2Frating%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Ftemplates%2Frating%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftemplates%2Frating%2Findex.html?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,11 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View rating{% endblock %}\n+\n+{% block content %}\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('rating.scripts') }}\"></script>\n+{% endblock %}"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/rating/tests/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2F__init__.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34"
      },
      {
        "sha": "e8e19f9a730f3ab6fb991d9f630bd150338f4d2d",
        "filename": "app/modules/rating/tests/locustfile.py",
        "status": "added",
        "additions": 21,
        "deletions": 0,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2Flocustfile.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,21 @@\n+from locust import HttpUser, TaskSet, task\n+from core.environment.host import get_host_for_locust_testing\n+\n+\n+class RatingBehavior(TaskSet):\n+    def on_start(self):\n+        self.index()\n+\n+    @task\n+    def index(self):\n+        response = self.client.get(\"/rating\")\n+\n+        if response.status_code != 200:\n+            print(f\"Rating index failed: {response.status_code}\")\n+\n+\n+class RatingUser(HttpUser):\n+    tasks = [RatingBehavior]\n+    min_wait = 5000\n+    max_wait = 9000\n+    host = get_host_for_locust_testing()"
      },
      {
        "sha": "7cd3074f4aee6a6ba628f013e281ed907b3d9c02",
        "filename": "app/modules/rating/tests/test_selenium.py",
        "status": "added",
        "additions": 160,
        "deletions": 0,
        "changes": 160,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2Ftest_selenium.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,160 @@\n+from selenium.common.exceptions import NoSuchElementException\n+from selenium.webdriver.common.keys import Keys\n+import time\n+\n+from core.environment.host import get_host_for_selenium_testing\n+from core.selenium.common import initialize_driver, close_driver\n+\n+from selenium.webdriver.common.by import By\n+\n+\n+def test_rating_index():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}/rating')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(1)\n+\n+        try:\n+\n+            pass\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Test failed!')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+def test_rating_button_not_appear_no_login():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(1)\n+\n+        driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n+\n+        # Assert button not appear\n+        try:\n+            driver.find_element(By.XPATH, \"//*[contains(@id, 'rating-button-')]\")\n+            raise AssertionError('Rating button should not appear if user is not logged in')\n+        except NoSuchElementException:\n+            pass\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+def test_rating_button_appear_logged():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(1)\n+\n+        # Open the login page\n+        driver.get(f\"{host}/login\")\n+\n+        # Find the username and password field and enter the values\n+        email_field = driver.find_element(By.NAME, \"email\")\n+        password_field = driver.find_element(By.NAME, \"password\")\n+\n+        email_field.send_keys(\"user1@example.com\")\n+        password_field.send_keys(\"1234\")\n+\n+        # Send the form\n+        password_field.send_keys(Keys.RETURN)\n+\n+        driver.get(f\"{host}/doi/10.1234/dataset4/\")\n+\n+        # Assert button appear\n+\n+        try:\n+            driver.find_element(By.XPATH, \"//*[contains(text(), 'Star')]\")\n+        except NoSuchElementException:\n+            raise AssertionError('Rating button should appear if user is logged in')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+def test_rating_button_change():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(1)\n+\n+        # Open the login page\n+        driver.get(f\"{host}/login\")\n+\n+        # Find the username and password field and enter the values\n+        email_field = driver.find_element(By.NAME, \"email\")\n+        password_field = driver.find_element(By.NAME, \"password\")\n+\n+        email_field.send_keys(\"user1@example.com\")\n+        password_field.send_keys(\"1234\")\n+\n+        # Send the form\n+        password_field.send_keys(Keys.RETURN)\n+\n+        driver.get(f\"{host}/doi/10.1234/dataset4/\")\n+\n+        # Assert button change\n+\n+        try:\n+            star = driver.find_element(By.XPATH, \"//*[contains(text(), 'Star')]\")\n+\n+            # get parent\n+            button = star.find_element(By.XPATH, \"..\")\n+            button.find_element(By.XPATH, \"//*[contains(text(), '0')]\")\n+\n+            button.click()\n+\n+            button.find_element(By.XPATH, \"//*[contains(text(), '1')]\")\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Rating button should change')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+# Call the test function\n+test_rating_index()\n+test_rating_button_not_appear_no_login()\n+test_rating_button_appear_logged()\n+test_rating_button_change()"
      },
      {
        "sha": "b5836fb058a689fb35e5e64f2fe509273ce9229d",
        "filename": "app/modules/rating/tests/test_unit.py",
        "status": "added",
        "additions": 109,
        "deletions": 0,
        "changes": 109,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,109 @@\n+import pytest\n+from unittest.mock import patch, MagicMock\n+from app.modules.rating.services import RatingService\n+\n+\n+@pytest.fixture\n+def rating_service():\n+    return RatingService()\n+\n+\n+def test_add_or_remove_rating_add(rating_service):\n+    with patch.object(rating_service.repository, 'add') as mock_add, \\\n+         patch.object(rating_service.repository, 'commit') as mock_commit, \\\n+         patch.object(rating_service, 'user_already_rated_dataset', return_value=False) as mock_user_already_rated:\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        rating_service.add_or_remove_rating(dataset_id, user_id)\n+\n+        mock_add.assert_called_once()\n+        mock_commit.assert_called_once()\n+        mock_user_already_rated.assert_called_once_with(dataset_id, user_id)\n+\n+\n+def test_add_or_remove_rating_remove(rating_service):\n+    with patch.object(rating_service, 'remove_ratings') as mock_remove_ratings, \\\n+         patch.object(rating_service, 'user_already_rated_dataset', return_value=True) as mock_user_already_rated:\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        rating_service.add_or_remove_rating(dataset_id, user_id)\n+\n+        mock_remove_ratings.assert_called_once_with(dataset_id, user_id)\n+        mock_user_already_rated.assert_called_once_with(dataset_id, user_id)\n+\n+\n+def test_remove_ratings(rating_service):\n+    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_datasetid_and_userid, \\\n+         patch.object(rating_service.repository, 'delete') as mock_delete, \\\n+         patch.object(rating_service.repository, 'commit') as mock_commit:\n+\n+        mock_ratings = [MagicMock(id=1), MagicMock(id=2)]\n+        mock_get_by_datasetid_and_userid.return_value = mock_ratings\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        rating_service.remove_ratings(dataset_id, user_id)\n+\n+        assert mock_delete.call_count == len(mock_ratings)\n+        mock_commit.assert_called_once()\n+\n+\n+def test_user_already_rated_dataset(rating_service):\n+    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_datasetid_and_userid:\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        mock_get_by_datasetid_and_userid.return_value = [MagicMock(id=1)]\n+\n+        result = rating_service.user_already_rated_dataset(dataset_id, user_id)\n+\n+        assert result is True\n+        mock_get_by_datasetid_and_userid.assert_called_once_with(dataset_id, user_id)\n+\n+\n+def test_user_already_rated_dataset_no_ratings(rating_service):\n+    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_datasetid_and_userid:\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        mock_get_by_datasetid_and_userid.return_value = []\n+\n+        result = rating_service.user_already_rated_dataset(dataset_id, user_id)\n+\n+        assert result is False\n+        mock_get_by_datasetid_and_userid.assert_called_once_with(dataset_id, user_id)\n+\n+\n+def test_get_total_ratings_for_dataset(rating_service):\n+    with patch.object(rating_service.repository, 'get_query') as mock_get_query:\n+\n+        dataset_id = 1\n+        mock_query = MagicMock()\n+        mock_query.filter_by.return_value.count.return_value = 5\n+        mock_get_query.return_value = mock_query\n+\n+        result = rating_service.get_total_ratings_for_dataset(dataset_id)\n+\n+        assert result == 5\n+        mock_query.filter_by.assert_called_once_with(dataset_id=dataset_id)\n+\n+\n+def test_get_total_ratings_for_dataset_no_ratings(rating_service):\n+    with patch.object(rating_service.repository, 'get_query') as mock_get_query:\n+\n+        dataset_id = 1\n+        mock_query = MagicMock()\n+        mock_query.filter_by.return_value.count.return_value = 0\n+        mock_get_query.return_value = mock_query\n+\n+        result = rating_service.get_total_ratings_for_dataset(dataset_id)\n+\n+        assert result == 0\n+        mock_query.filter_by.assert_called_once_with(dataset_id=dataset_id)"
      },
      {
        "sha": "141a52fd5f775c63ffafd5925719234c7bb2e463",
        "filename": "app/templates/base_template.html",
        "status": "modified",
        "additions": 7,
        "deletions": 5,
        "changes": 12,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Ftemplates%2Fbase_template.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/app%2Ftemplates%2Fbase_template.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Ftemplates%2Fbase_template.html?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -33,6 +33,8 @@\n \n     <link rel=\"stylesheet\" href=\"{{ url_for(\"static\", filename=\"css/own.css\") }}\">\n \n+    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css\">\n+\n </head>\n \n <body>\n@@ -162,12 +164,12 @@\n             <div class=\"navbar-collapse collapse\">\n                 <ul class=\"navbar-nav navbar-align\">\n                     <li class=\"nav-item dropdown\">\n-\n+                        <a href=\"/dataset/download_all_datasets\" class=\"btn btn-primary\">\n+                            <i data-feather=\"download\" class=\"center-button-icon\"></i>\n+                            Download all datasets\n+                        </a>\n                         {% if current_user.is_anonymous %}\n-                            <a href=\"/dataset/download_all_datasets\" class=\"btn btn-primary\">\n-                                <i data-feather=\"download\" class=\"center-button-icon\"></i>\n-                                Download all datasets\n-                            </a>\n+                            \n                             <a class=\"nav-link  d-none d-sm-inline-block\" href=\"{{ url_for('auth.login') }}\">Login</a>\n                             <a class=\"nav-link  d-none d-sm-inline-block\" href=\"{{ url_for('auth.show_signup_form') }}\">Sign\n                                 up</a>"
      },
      {
        "sha": "296852391220bf3899f574a8fc5f1db8246690cc",
        "filename": "migrations/versions/37853c4079e5_.py",
        "status": "added",
        "additions": 51,
        "deletions": 0,
        "changes": 51,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/migrations%2Fversions%2F37853c4079e5_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/migrations%2Fversions%2F37853c4079e5_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F37853c4079e5_.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,51 @@\n+\"\"\"empty message\n+\n+Revision ID: 37853c4079e5\n+Revises: 001\n+Create Date: 2024-12-03 13:48:39.432689\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = '37853c4079e5'\n+down_revision = '001'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('rating',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('dataset_id', sa.Integer(), nullable=False),\n+    sa.Column('model_id', sa.Integer(), nullable=True),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('notepad',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('title', sa.String(length=256), nullable=False),\n+    sa.Column('body', sa.Text(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.drop_table('webhook')\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('webhook',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.drop_table('notepad')\n+    op.drop_table('rating')\n+    # ### end Alembic commands ###"
      },
      {
        "sha": "3f84c51a17885aba24ebfd013e706cfb2abb09fc",
        "filename": "migrations/versions/3931fcdc68c7_.py",
        "status": "added",
        "additions": 49,
        "deletions": 0,
        "changes": 49,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/migrations%2Fversions%2F3931fcdc68c7_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/migrations%2Fversions%2F3931fcdc68c7_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F3931fcdc68c7_.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,49 @@\n+\"\"\"empty message\n+\n+Revision ID: 3931fcdc68c7\n+Revises: 001\n+Create Date: 2024-12-03 18:27:22.612897\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = '3931fcdc68c7'\n+down_revision = '001'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('notepad',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('title', sa.String(length=256), nullable=False),\n+    sa.Column('body', sa.Text(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.drop_table('webhook')\n+    with op.batch_alter_table('ds_meta_data', schema=None) as batch_op:\n+        batch_op.add_column(sa.Column('ds_status', sa.Enum('UNPUBLISHED', 'PUBLISHED', name='status'), nullable=False))\n+\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('ds_meta_data', schema=None) as batch_op:\n+        batch_op.drop_column('ds_status')\n+\n+    op.create_table('webhook',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.drop_table('notepad')\n+    # ### end Alembic commands ###"
      },
      {
        "sha": "5c7ddcf0e72668b59afa29a571306b0405919a96",
        "filename": "migrations/versions/ba7297057859_.py",
        "status": "added",
        "additions": 59,
        "deletions": 0,
        "changes": 59,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/migrations%2Fversions%2Fba7297057859_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/migrations%2Fversions%2Fba7297057859_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2Fba7297057859_.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,59 @@\n+\"\"\"empty message\n+\n+Revision ID: ba7297057859\n+Revises: f5d9fcd69235\n+Create Date: 2024-12-09 12:07:24.556213\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = 'ba7297057859'\n+down_revision = 'f5d9fcd69235'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('rating',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('dataset_id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.drop_table('feature_model_ratings')\n+    op.drop_table('dataset_ratings')\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('dataset_ratings',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.Column('dataset_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.Column('user_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.Column('rating', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.ForeignKeyConstraint(['dataset_id'], ['data_set.id'], name='dataset_ratings_ibfk_1'),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], name='dataset_ratings_ibfk_2'),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.create_table('feature_model_ratings',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.Column('feature_model_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.Column('user_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.Column('rating', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.ForeignKeyConstraint(['feature_model_id'], ['feature_model.id'], name='feature_model_ratings_ibfk_1'),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], name='feature_model_ratings_ibfk_2'),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.drop_table('rating')\n+    # ### end Alembic commands ###"
      },
      {
        "sha": "f0687e5e7fe3d0f69805822900729dc87f40b01a",
        "filename": "migrations/versions/f5d9fcd69235_.py",
        "status": "added",
        "additions": 32,
        "deletions": 0,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3f211333393e2217d59904bcfe16f5d116ccab34/migrations%2Fversions%2Ff5d9fcd69235_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3f211333393e2217d59904bcfe16f5d116ccab34/migrations%2Fversions%2Ff5d9fcd69235_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2Ff5d9fcd69235_.py?ref=3f211333393e2217d59904bcfe16f5d116ccab34",
        "patch": "@@ -0,0 +1,32 @@\n+\"\"\"empty message\n+\n+Revision ID: f5d9fcd69235\n+Revises: 37853c4079e5\n+Create Date: 2024-12-04 17:18:27.045262\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = 'f5d9fcd69235'\n+down_revision = '37853c4079e5'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('rating', schema=None) as batch_op:\n+        batch_op.drop_column('model_id')\n+\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('rating', schema=None) as batch_op:\n+        batch_op.add_column(sa.Column('model_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True))\n+\n+    # ### end Alembic commands ###"
      }
    ]
  },
  {
    "sha": "685585e3d813c64d54afd3dc5173cdf6bdbce147",
    "node_id": "C_kwDONBuXkNoAKDY4NTU4NWUzZDgxM2M2NGQ1NGFmZDNkYzUxNzNjZGY2YmRiY2UxNDc",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-16T10:39:31Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-16T10:39:31Z"
      },
      "message": "fix: Checksum file added\n\nChecksum file added to run test in CI",
      "tree": {
        "sha": "39bf76890d48040c0926cdae941ff6afa9c332ef",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/39bf76890d48040c0926cdae941ff6afa9c332ef"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/685585e3d813c64d54afd3dc5173cdf6bdbce147",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/685585e3d813c64d54afd3dc5173cdf6bdbce147",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/685585e3d813c64d54afd3dc5173cdf6bdbce147",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/685585e3d813c64d54afd3dc5173cdf6bdbce147/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b853e1aebc8624765ef59c8b426d7e88b7f59694",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b853e1aebc8624765ef59c8b426d7e88b7f59694",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/b853e1aebc8624765ef59c8b426d7e88b7f59694"
      }
    ],
    "files": [
      {
        "sha": "0f5ad315a582910237e077ccd7ae2dec54d3d397",
        "filename": "app/modules/dataset/tests/checksum_file_test.txt",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/685585e3d813c64d54afd3dc5173cdf6bdbce147/app%2Fmodules%2Fdataset%2Ftests%2Fchecksum_file_test.txt",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/685585e3d813c64d54afd3dc5173cdf6bdbce147/app%2Fmodules%2Fdataset%2Ftests%2Fchecksum_file_test.txt",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Fchecksum_file_test.txt?ref=685585e3d813c64d54afd3dc5173cdf6bdbce147",
        "patch": "@@ -0,0 +1 @@\n+Test file for datasets module.\n\\ No newline at end of file"
      },
      {
        "sha": "abf9ce718c6ae46aa287ff0ca8f63195c45ac256",
        "filename": "app/modules/dataset/tests/test_unit.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/685585e3d813c64d54afd3dc5173cdf6bdbce147/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/685585e3d813c64d54afd3dc5173cdf6bdbce147/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py?ref=685585e3d813c64d54afd3dc5173cdf6bdbce147",
        "patch": "@@ -26,6 +26,6 @@ def test_download_all_dataset(test_client):\n \n \n def test_checksum_and_size():\n-    checksum, size = services.calculate_checksum_and_size(\"app/modules/dataset/tests/test_file.txt\")\n+    checksum, size = services.calculate_checksum_and_size(\"app/modules/dataset/tests/checksum_file_test.txt\")\n     assert checksum == \"1ca813544406308899f8764f9d5a3422\"\n     assert size == 30"
      }
    ]
  },
  {
    "sha": "09b3bd144066b4774f9d6d1293bca5027c69c1e3",
    "node_id": "C_kwDONBuXkNoAKDA5YjNiZDE0NDA2NmI0Nzc0ZjlkNmQxMjkzYmNhNTAyN2M2OWMxZTM",
    "commit": {
      "author": {
        "name": "Gon",
        "email": "92763979+gonnavrem@users.noreply.github.com",
        "date": "2024-12-16T10:34:55Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-12-16T10:34:55Z"
      },
      "message": "Merge pull request #28 from chipi-hub-team/feat/stagging-area\n\nFeat/stagging area",
      "tree": {
        "sha": "dd3b65cb51c7c8f2e081c04de13bc9f95649fb9a",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/dd3b65cb51c7c8f2e081c04de13bc9f95649fb9a"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/09b3bd144066b4774f9d6d1293bca5027c69c1e3",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnYAJPCRC1aQ7uu5UhlAAANDYQAEeQ7LQSnRB3kcKeZR61Naku\npF98c89FmoqZcsK0OtjFMEiTR5iDsANHVr4OtGjDnECYwSTcV3xl/bd0H8w2Fo5W\nkNMRlV5wUpTSnRiCWk7/CcMwZqWNL9uKwUFNZVAVIU1y1fp7qfUJ6uC0ULMEz9uo\nimBvyaIYJYUq4I1Tv1Kcwhy7SCjPevASbrbAc5l/x0joqcSxssCqvrAJkQHnaeK9\nLUZT1dHVYJrqbheAEza03YEheg8qs8yTFB+wlmidqcdtm3iD2rPb7N8IEZRL2YOR\nG2GBlX/611Sd5qCQWbb0PZcKVHdhz8uUfGZDfH3nYBsMYCU7Iubl3ANKP1OOFbrZ\nHA/KFknKExwVblQ5x+qHANy2fRm8TAns1TEGhVZpJ0FaaM3vMnWkuqibiCWlwKb8\nS9sCQO2anYGbmVmoMHaa296eFWAapwl+oDiNUZzBrjrc0GRj4KgzDU6D0BjnUCBf\nhDY9G2TobvxnZDwZzZwf7hX2tc+I8gaZTPGoWPH7+G6qnacBW+5jW/8pwrY+QLup\nGSAQfhvbv+qdgdWwcQg78ja1xpuVCUi1USyQ36F+P7L3SlJOmmsW4VyBN6Xkh+Uw\ncwDAScxB+6+I8C3h1dkeLWb1ONjhCtiZDe9fg8Yyb7+GgoKOHnlwJzfN6R77twY+\n2lR9HUIOzfnLBPFe4fzU\n=ClC7\n-----END PGP SIGNATURE-----\n",
        "payload": "tree dd3b65cb51c7c8f2e081c04de13bc9f95649fb9a\nparent 537143d0cc4acefaea7aa586c18fa2b2878a8c93\nparent 1c3f7ba2d9f9abdcd91e81e1f121e775836d90be\nauthor Gon <92763979+gonnavrem@users.noreply.github.com> 1734345295 +0100\ncommitter GitHub <noreply@github.com> 1734345295 +0100\n\nMerge pull request #28 from chipi-hub-team/feat/stagging-area\n\nFeat/stagging area",
        "verified_at": "2024-12-16T10:35:27Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/09b3bd144066b4774f9d6d1293bca5027c69c1e3",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/09b3bd144066b4774f9d6d1293bca5027c69c1e3",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/09b3bd144066b4774f9d6d1293bca5027c69c1e3/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/537143d0cc4acefaea7aa586c18fa2b2878a8c93"
      },
      {
        "sha": "1c3f7ba2d9f9abdcd91e81e1f121e775836d90be",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/1c3f7ba2d9f9abdcd91e81e1f121e775836d90be",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/1c3f7ba2d9f9abdcd91e81e1f121e775836d90be"
      }
    ],
    "files": [
      {
        "sha": "3c87d318518de1cbf2552f63c3a94bc1fc28613f",
        "filename": ".github/workflows/tests.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/.github%2Fworkflows%2Ftests.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/.github%2Fworkflows%2Ftests.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Ftests.yml?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -62,7 +62,7 @@ jobs:\n     - name: Upload coverage to Codacy\n       run: |\n         pip install codacy-coverage\n-        coverage run -m pytest app/modules/ --ignore-glob='*selenium*'\n+        coverage run -m pytest app/modules/ -m \"not local\" --ignore-glob='*selenium*'\n         coverage xml \n         python-codacy-coverage -r coverage.xml\n       env:\n@@ -83,5 +83,5 @@ jobs:\n         MARIADB_USER: uvlhub_user\n         MARIADB_PASSWORD: uvlhub_password\n       run: |\n-        pytest app/modules/ --ignore-glob='*selenium*'\n+        pytest app/modules/ -m \"not local\" --ignore-glob='*selenium*'\n "
      },
      {
        "sha": "67af7d3021550f32b2b0e7f679a8cbf1fd8fb546",
        "filename": "app/modules/dataset/models.py",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fmodels.py?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -29,6 +29,11 @@ class PublicationType(Enum):\n     OTHER = 'other'\n \n \n+class Status(Enum):\n+    UNPUBLISHED = 'unpublished'  # This state will serve  as the state needed to be in the stage area\n+    PUBLISHED = 'published'  # this state will indicate that the dataset is published to Fakenodo\n+\n+\n class Author(db.Model):\n     id = db.Column(db.Integer, primary_key=True)\n     name = db.Column(db.String(120), nullable=False)\n@@ -66,6 +71,7 @@ class DSMetaData(db.Model):\n     ds_metrics_id = db.Column(db.Integer, db.ForeignKey('ds_metrics.id'))\n     ds_metrics = db.relationship('DSMetrics', uselist=False, backref='ds_meta_data', cascade=\"all, delete\")\n     authors = db.relationship('Author', backref='ds_meta_data', lazy=True, cascade=\"all, delete\")\n+    ds_status = db.Column(SQLAlchemyEnum(Status), nullable=False, default=Status.UNPUBLISHED)\n \n \n class DataSet(db.Model):"
      },
      {
        "sha": "1024c1621fd469751b117dd16f0ed03ebcb17798",
        "filename": "app/modules/dataset/repositories.py",
        "status": "modified",
        "additions": 9,
        "deletions": 7,
        "changes": 16,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Frepositories.py?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -11,7 +11,8 @@\n     DSDownloadRecord,\n     DSMetaData,\n     DSViewRecord,\n-    DataSet\n+    DataSet,\n+    Status\n )\n from core.repositories.BaseRepository import BaseRepository\n \n@@ -71,44 +72,45 @@ def __init__(self):\n     def get_synchronized(self, current_user_id: int) -> DataSet:\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DataSet.user_id == current_user_id, DSMetaData.dataset_doi.isnot(None))\n+            .filter(DataSet.user_id == current_user_id, DSMetaData.ds_status != Status.UNPUBLISHED)\n             .order_by(self.model.created_at.desc())\n             .all()\n         )\n \n     def get_unsynchronized(self, current_user_id: int) -> DataSet:\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DataSet.user_id == current_user_id, DSMetaData.dataset_doi.is_(None))\n+            .filter(DataSet.user_id == current_user_id, DSMetaData.ds_status == Status.UNPUBLISHED)\n             .order_by(self.model.created_at.desc())\n             .all()\n         )\n \n     def get_unsynchronized_dataset(self, current_user_id: int, dataset_id: int) -> DataSet:\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DataSet.user_id == current_user_id, DataSet.id == dataset_id, DSMetaData.dataset_doi.is_(None))\n+            .filter(DataSet.user_id == current_user_id, DataSet.id == dataset_id,\n+                    DSMetaData.ds_status == Status.UNPUBLISHED)\n             .first()\n         )\n \n     def count_synchronized_datasets(self):\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DSMetaData.dataset_doi.isnot(None))\n+            .filter(DSMetaData.ds_status != Status.UNPUBLISHED)\n             .count()\n         )\n \n     def count_unsynchronized_datasets(self):\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DSMetaData.dataset_doi.is_(None))\n+            .filter(DSMetaData.ds_status == Status.UNPUBLISHED)\n             .count()\n         )\n \n     def latest_synchronized(self):\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DSMetaData.dataset_doi.isnot(None))\n+            .filter(DSMetaData.ds_status != Status.UNPUBLISHED)\n             .order_by(desc(self.model.id))\n             .limit(5)\n             .all()"
      },
      {
        "sha": "e83692193d993674eedeed8fb10e39dea56cb002",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 102,
        "deletions": 46,
        "changes": 148,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -21,7 +21,8 @@\n \n from app.modules.dataset.forms import DataSetForm\n from app.modules.dataset.models import (\n-    DSDownloadRecord\n+    DSDownloadRecord,\n+    Status\n )\n from app.modules.dataset import dataset_bp\n from app.modules.dataset.services import (\n@@ -51,72 +52,42 @@\n @login_required\n def create_dataset():\n     form = DataSetForm()\n-    if request.method == \"POST\":\n \n-        dataset = None\n+    if request.method == \"POST\":\n \n         if not form.validate_on_submit():\n             return jsonify({\"message\": form.errors}), 400\n \n         try:\n-            logger.info(\"Creating dataset...\")\n-            dataset = dataset_service.create_from_form(form=form, current_user=current_user)\n-            logger.info(f\"Created dataset: {dataset}\")\n-            dataset_service.move_feature_models(dataset)\n-        except Exception as exc:\n-            logger.exception(f\"Exception while create dataset data in local {exc}\")\n-            return jsonify({\"Exception while create dataset data in local: \": str(exc)}), 400\n \n-        # send dataset as deposition to Zenodo\n-        data = {}\n-        try:\n-            zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n-            response_data = json.dumps(zenodo_response_json)\n-            data = json.loads(response_data)\n-        except Exception as exc:\n-            data = {}\n-            zenodo_response_json = {}\n-            logger.exception(f\"Exception while create dataset data in Zenodo {exc}\")\n-\n-        if data.get(\"conceptrecid\"):\n-            deposition_id = data.get(\"id\")\n-\n-            # update dataset with deposition id in Zenodo\n-            dataset_service.update_dsmetadata(dataset.ds_meta_data_id, deposition_id=deposition_id)\n-\n-            try:\n-                # iterate for each feature model (one feature model = one request to Zenodo)\n-                for feature_model in dataset.feature_models:\n-                    zenodo_service.upload_file(dataset, deposition_id, feature_model)\n+            dataset = dataset_service.create_from_form(form=form, current_user=current_user)\n+            logger.info(f\"Dataset created successfully: {dataset}\")\n \n-                # publish deposition\n-                zenodo_service.publish_deposition(deposition_id)\n+            # Mover los modelos de caracter\u00edsticas asociados\n+            dataset_service.move_feature_models(dataset)\n \n-                # update DOI\n-                deposition_doi = zenodo_service.get_doi(deposition_id)\n-                dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n-            except Exception as e:\n-                msg = f\"it has not been possible upload feature models in Zenodo and update the DOI: {e}\"\n-                return jsonify({\"message\": msg}), 200\n+            # Eliminar carpeta temporal del usuario\n+            file_path = current_user.temp_folder()\n+            if os.path.exists(file_path) and os.path.isdir(file_path):\n+                shutil.rmtree(file_path)\n \n-        # Delete temp folder\n-        file_path = current_user.temp_folder()\n-        if os.path.exists(file_path) and os.path.isdir(file_path):\n-            shutil.rmtree(file_path)\n+            return jsonify({\"message\": \"Dataset created successfully!\"}), 200\n \n-        msg = \"Everything works!\"\n-        return jsonify({\"message\": msg}), 200\n+        except Exception as exc:\n+            return jsonify({\"message\": f\"Error during dataset creation: {str(exc)}\"}), 500\n \n     return render_template(\"dataset/upload_dataset.html\", form=form)\n \n \n @dataset_bp.route(\"/dataset/list\", methods=[\"GET\", \"POST\"])\n @login_required\n def list_dataset():\n+\n     return render_template(\n         \"dataset/list_datasets.html\",\n         datasets=dataset_service.get_synchronized(current_user.id),\n         local_datasets=dataset_service.get_unsynchronized(current_user.id),\n+        status=Status,\n     )\n \n \n@@ -317,10 +288,95 @@ def subdomain_index(doi):\n @login_required\n def get_unsynchronized_dataset(dataset_id):\n \n-    # Get dataset\n+    if (dataset_service.get_by_id(dataset_id).user_id != current_user.id):\n+        abort(403)\n+\n+    # Get dataset in case is from the current user\n     dataset = dataset_service.get_unsynchronized_dataset(current_user.id, dataset_id)\n \n     if not dataset:\n         abort(404)\n \n     return render_template(\"dataset/view_dataset.html\", dataset=dataset)\n+\n+\n+@dataset_bp.route(\"/dataset/publish\", methods=[\"POST\"])\n+@login_required\n+def publish_all_datasets():\n+    datasets = dataset_service.get_unsynchronized(current_user.id)\n+    errors = []\n+\n+    for dataset in datasets:\n+        try:\n+            zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n+            response_data = json.dumps(zenodo_response_json)\n+            data = json.loads(response_data)\n+\n+            if not data.get(\"conceptrecid\"):\n+                errors.append(f\"Dataset ID {dataset.id}: Failed to create deposition on Zenodo.\")\n+                continue\n+\n+            deposition_id = data.get(\"id\")\n+\n+            try:\n+                dataset_service.update_dsmetadata(dataset.ds_meta_data_id, deposition_id=deposition_id)\n+\n+                for feature_model in dataset.feature_models:\n+                    try:\n+                        zenodo_service.upload_file(dataset, deposition_id, feature_model)\n+                    except Exception as e:\n+                        errors.append(f\"Dataset ID {dataset.id}: Error uploading feature model. {str(e)}\")\n+\n+                zenodo_service.publish_deposition(deposition_id)\n+                deposition_doi = zenodo_service.get_doi(deposition_id)\n+                dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n+\n+            except Exception as e:\n+                errors.append(f\"Dataset ID {dataset.id}: Error during publication process. {str(e)}\")\n+\n+        except Exception as e:\n+            errors.append(f\"Dataset ID {dataset.id}: Error creating dataset in Zenodo. {str(e)}\")\n+\n+    if errors:\n+        return jsonify({\"message\": \"Publication completed with errors.\", \"errors\": errors}), 207\n+\n+    dataset_service.publish_datasets(current_user_id=current_user.id)\n+    return redirect(\"/dataset/list\")\n+\n+\n+@dataset_bp.route(\"/dataset/<int:dataset_id>/publish\", methods=[\"POST\"])\n+@login_required\n+def publish_dataset(dataset_id):\n+\n+    dataset = dataset_service.get_or_404(dataset_id)\n+\n+    if dataset.ds_meta_data.ds_status == Status.PUBLISHED:\n+        return jsonify({\"message\": \"Dataset is already published.\"}), 400\n+\n+    dataset_service.publish_specific_dataset(current_user.id, dataset_id)\n+\n+    try:\n+        zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n+        data = json.loads(json.dumps(zenodo_response_json))\n+\n+        if not data.get(\"conceptrecid\"):\n+            return jsonify({\"message\": \"Failed to create deposition on Zenodo.\"}), 400\n+\n+        deposition_id = data.get(\"id\")\n+        dataset_service.update_dsmetadata(dataset.ds_meta_data_id, deposition_id=deposition_id)\n+\n+        for feature_model in dataset.feature_models:\n+            try:\n+                zenodo_service.upload_file(dataset, deposition_id, feature_model)\n+            except Exception as e:\n+                # Log the error instead of using continue\n+                logger.error(f\"Error uploading feature model for dataset {dataset.id}: {str(e)}\")\n+\n+        zenodo_service.publish_deposition(deposition_id)\n+        deposition_doi = zenodo_service.get_doi(deposition_id)\n+        dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n+\n+        return redirect(\"/dataset/list\")\n+\n+    except Exception as exc:\n+        return jsonify({\"message\": f\"Error during Zenodo publication process: {exc}\"}), 500"
      },
      {
        "sha": "e03ee2ba240c4e42f300ebab042ececb4b1e1333",
        "filename": "app/modules/dataset/seeders.py",
        "status": "modified",
        "additions": 31,
        "deletions": 8,
        "changes": 39,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fseeders.py?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -9,7 +9,8 @@\n     DSMetaData,\n     PublicationType,\n     DSMetrics,\n-    Author)\n+    Author,\n+    Status)\n from datetime import datetime, timezone\n from dotenv import load_dotenv\n \n@@ -40,9 +41,23 @@ def run(self):\n                 publication_doi=f'10.1234/dataset{i+1}',\n                 dataset_doi=f'10.1234/dataset{i+1}',\n                 tags='tag1, tag2',\n-                ds_metrics_id=seeded_ds_metrics.id\n+                ds_metrics_id=seeded_ds_metrics.id,\n+                ds_status=Status.PUBLISHED\n             ) for i in range(4)\n         ]\n+\n+        # Addition of a Unpublished sample datatset metadata\n+        unpublished_dataset_meta_data = DSMetaData(\n+            deposition_id=5,\n+            title='UNPUBLISHED DATASET',\n+            description='Description for dataset 5',\n+            publication_type=PublicationType.DATA_MANAGEMENT_PLAN,\n+            publication_doi=None,\n+            dataset_doi=None,\n+            tags='tag1, tag2',\n+            ds_metrics_id=seeded_ds_metrics.id\n+        )\n+        ds_meta_data_list.append(unpublished_dataset_meta_data)\n         seeded_ds_meta_data = self.seed(ds_meta_data_list)\n \n         # Create Author instances and associate with DSMetaData\n@@ -51,8 +66,8 @@ def run(self):\n                 name=f'Author {i+1}',\n                 affiliation=f'Affiliation {i+1}',\n                 orcid=f'0000-0000-0000-000{i}',\n-                ds_meta_data_id=seeded_ds_meta_data[i % 4].id\n-            ) for i in range(4)\n+                ds_meta_data_id=seeded_ds_meta_data[i % 5].id\n+            ) for i in range(5)\n         ]\n         self.seed(authors)\n \n@@ -64,6 +79,14 @@ def run(self):\n                 created_at=datetime.now(timezone.utc)\n             ) for i in range(4)\n         ]\n+\n+        # Addition of a Unpublished sample datatset metadata\n+        unpublished_dataset = DataSet(\n+            user_id=user1.id,\n+            ds_meta_data_id=unpublished_dataset_meta_data.id,\n+            created_at=datetime.now(timezone.utc)\n+        )\n+        datasets.append(unpublished_dataset)\n         seeded_datasets = self.seed(datasets)\n \n         # Assume there are 12 UVL files, create corresponding FMMetaData and FeatureModel\n@@ -76,7 +99,7 @@ def run(self):\n                 publication_doi=f'10.1234/fm{i+1}',\n                 tags='tag1, tag2',\n                 uvl_version='1.0'\n-            ) for i in range(12)\n+            ) for i in range(15)\n         ]\n         seeded_fm_meta_data = self.seed(fm_meta_data_list)\n \n@@ -87,23 +110,23 @@ def run(self):\n                 affiliation=f'Affiliation {i+5}',\n                 orcid=f'0000-0000-0000-000{i+5}',\n                 fm_meta_data_id=seeded_fm_meta_data[i].id\n-            ) for i in range(12)\n+            ) for i in range(15)\n         ]\n         self.seed(fm_authors)\n \n         feature_models = [\n             FeatureModel(\n                 data_set_id=seeded_datasets[i // 3].id,\n                 fm_meta_data_id=seeded_fm_meta_data[i].id\n-            ) for i in range(12)\n+            ) for i in range(15)\n         ]\n         seeded_feature_models = self.seed(feature_models)\n \n         # Create files, associate them with FeatureModels and copy files\n         load_dotenv()\n         working_dir = os.getenv('WORKING_DIR', '')\n         src_folder = os.path.join(working_dir, 'app', 'modules', 'dataset', 'uvl_examples')\n-        for i in range(12):\n+        for i in range(15):\n             file_name = f'file{i+1}.uvl'\n             feature_model = seeded_feature_models[i]\n             dataset = next(ds for ds in seeded_datasets if ds.id == feature_model.data_set_id)"
      },
      {
        "sha": "8fe0abb35b5ae9ed00f937ba4a0903cfe574d3f2",
        "filename": "app/modules/dataset/services.py",
        "status": "modified",
        "additions": 23,
        "deletions": 1,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fservices.py?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -8,7 +8,7 @@\n from flask import request\n \n from app.modules.auth.services import AuthenticationService\n-from app.modules.dataset.models import DSViewRecord, DataSet, DSMetaData\n+from app.modules.dataset.models import DSViewRecord, DataSet, DSMetaData, Status\n from app.modules.dataset.repositories import (\n     AuthorRepository,\n     DOIMappingRepository,\n@@ -143,6 +143,28 @@ def get_uvlhub_doi(self, dataset: DataSet) -> str:\n     def get_all_datasets(self):\n         return self.repository.get_all_datasets()\n \n+    # This method will help in the proccess of publishing datasets\n+    def publish_datasets(self, current_user_id):\n+        try:\n+            datasets = self.repository.get_unsynchronized(current_user_id)\n+            for dataset in datasets:\n+                if (dataset.ds_meta_data.ds_status == Status.UNPUBLISHED):\n+                    dataset.ds_meta_data.ds_status = Status.PUBLISHED\n+                    self.repository.session.commit()\n+                else:\n+                    raise ValueError(\"Dataset is not in 'UNPUBLISHED' status\")\n+        except Exception:\n+            self.repository.session.rollback()\n+\n+    # This method will help in the proccess of publishing a specific dataset\n+    def publish_specific_dataset(self, current_user_id, dataset_id):\n+        try:\n+            dataset = self.repository.get_unsynchronized_dataset(current_user_id, dataset_id)\n+            dataset.ds_meta_data.ds_status = Status.PUBLISHED\n+            self.repository.session.commit()\n+        except Exception:\n+            self.repository.session.rollback()\n+\n \n class AuthorService(BaseService):\n     def __init__(self):"
      },
      {
        "sha": "1fd87c410d1d79539276c115f7f1d13ca64a0a2a",
        "filename": "app/modules/dataset/templates/dataset/list_datasets.html",
        "status": "modified",
        "additions": 71,
        "deletions": 63,
        "changes": 134,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -6,11 +6,16 @@\n \n     <h1 class=\"h3 mb-3\">My datasets</h1>\n \n-    {% if datasets %}\n-        <div class=\" col-12\">\n+    {% if local_datasets %}\n+        <div class=\"col-12\">\n             <div class=\"card\">\n-\n                 <div class=\"card-body\">\n+                    <form action=\"{{ url_for('dataset.publish_all_datasets') }}\" method=\"POST\">\n+                        <button type=\"submit\" class=\"btn btn-primary\">Publish All datasets to Zenodo</button>\n+                    </form>\n+                    <div class=\"card-header\">\n+                        <h5 class=\"card-title\">My unpublished datasets (stagging area)</h5>\n+                    </div>\n                     <table class=\"table\">\n                         <thead>\n                         <tr>\n@@ -22,33 +27,36 @@ <h1 class=\"h3 mb-3\">My datasets</h1>\n                         </tr>\n                         </thead>\n                         <tbody>\n-                        {% for dataset in datasets %}\n-                            <tr>\n-                                <td>\n-                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n-                                        {{ dataset.ds_meta_data.title }}\n-                                    </a>\n-                                </td>\n-                                <td>{{ dataset.ds_meta_data.description }}</td>\n-                                <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n-                                <td><a href=\"{{ dataset.get_uvlhub_doi() }}\"\n-                                       target=\"_blank\">{{ dataset.get_uvlhub_doi() }}</a></td>\n-                                <td>\n-                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n-                                        <i data-feather=\"eye\"></i>\n-                                    </a>\n-                                    <a href=\"{{ url_for('dataset.download_dataset', dataset_id=dataset.id) }}\">\n-                                        <i data-feather=\"download\"></i>\n-                                    </a>\n-                                </td>\n-                            </tr>\n+                        {% for dataset in local_datasets %}\n+                            {% if dataset.ds_meta_data.ds_status  == status.UNPUBLISHED %}\n+                                <tr>\n+                                    <td>\n+                                        <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=dataset.id) }}\">\n+                                            {{ dataset.ds_meta_data.title }}\n+                                        </a>\n+                                    </td>\n+                                    <td>{{ dataset.ds_meta_data.description }}</td>\n+                                    <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                    <td> Unpublished datasets dont have a DOI </td>\n+                                    <td>\n+                                        <a href=\"{{ url_for('dataset.download_dataset', dataset_id=dataset.id) }}\">\n+                                            <i data-feather=\"download\"></i>\n+                                        </a>\n+                                    </td>\n+                                    <td>\n+                                        {% if dataset.user_id == current_user.id and dataset.ds_meta_data.ds_status  == status.UNPUBLISHED %}\n+                                            <form action=\"{{ url_for('dataset.publish_dataset', dataset_id=dataset.id) }}\" method=\"POST\">\n+                                                <button type=\"submit\" class=\"btn btn-primary\">Publish to Zenodo</button>\n+                                            </form>\n+                                        {% endif %}\n+                                    </td>\n+                                </tr>\n+                            {% endif %}\n                         {% endfor %}\n                         </tbody>\n                     </table>\n                 </div>\n-\n             </div>\n-\n         </div>\n     {% else %}\n         <div class=\"col-12 col-md-6\">\n@@ -58,7 +66,7 @@ <h5 class=\"card-title mb-0\">No datasets found</h5>\n                 </div>\n                 <div class=\"card-body\">\n                     <p class=\"card-text\">\n-                        You have not created any dataset synchronized with Zenodo, are you up for it?\n+                        You don't have unpublished datasets\n                     </p>\n                     <a href=\"{{ url_for('dataset.create_dataset') }}\" class=\"btn btn-primary\">\n                         Upload dataset</a>\n@@ -67,52 +75,52 @@ <h5 class=\"card-title mb-0\">No datasets found</h5>\n         </div>\n     {% endif %}\n \n-    <div class=\"row\">\n-\n-\n+    <div class=\"row mt-5\">\n         <div class=\"col-12\">\n-            {% if local_datasets %}\n-                <div class=\"card\">\n+            <div class=\"card\">\n+                <div class=\"card-body\">\n+                    <div class=\"card-header\">\n+                        <h5 class=\"card-title\">Published datasets in zenodo</h5>\n+                    </div>\n                     <div class=\"card-body\">\n-                        <div class=\"card-header\">\n-                            <h5 class=\"card-title\">Unsynchronized datasets</h5>\n-                        </div>\n-                        <div class=\"card-body\">\n+                        {% if datasets %}\n                             <table class=\"table\">\n                                 <thead>\n-                                <tr>\n-                                    <th>Title</th>\n-                                    <th>Description</th>\n-                                    <th>Publication type</th>\n-                                    <th>Options</th>\n-                                </tr>\n-                                </thead>\n-                                <tbody>\n-                                {% for local_dataset in local_datasets %}\n                                     <tr>\n-                                        <td>\n-                                            <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=local_dataset.id) }}\">\n-                                                {{ local_dataset.ds_meta_data.title }}\n-                                            </a>\n-                                        </td>\n-                                        <td>{{ local_dataset.ds_meta_data.description }}</td>\n-                                        <td>{{ local_dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n-                                        <td>\n-                                            <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=local_dataset.id) }}\">\n-                                                <i data-feather=\"eye\"></i>\n-                                            </a>\n-                                            <a href=\"{{ url_for('dataset.download_dataset', dataset_id=local_dataset.id) }}\">\n-                                                <i data-feather=\"download\"></i>\n-                                            </a>\n-                                        </td>\n+                                        <th>Title</th>\n+                                        <th>Description</th>\n+                                        <th>Publication type</th>\n+                                        <th>DOI</th>\n                                     </tr>\n-                                {% endfor %}\n+                                </thead>\n+                                <tbody>\n+                                    {% for dataset in datasets %}\n+                                        {% if dataset.ds_meta_data.ds_status == status.PUBLISHED %}\n+                                            <tr>\n+                                                <td>\n+                                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                                        {{ dataset.ds_meta_data.title }}\n+                                                    </a>\n+                                                </td>\n+                                                <td>{{ dataset.ds_meta_data.description }}</td>\n+                                                <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                                <td>\n+                                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\" target=\"_blank\">\n+                                                        {{ dataset.get_uvlhub_doi() }}\n+                                                    </a>\n+                                                </td>\n+                                            </tr>\n+                                        {% endif %}\n+                                    {% endfor %}\n                                 </tbody>\n                             </table>\n-                        </div>\n+                        {% else %}\n+                            <p>No datasets synchronized with Zenodo.</p>\n+                        {% endif %}\n                     </div>\n                 </div>\n-            {% endif %}\n+            </div>\n         </div>\n+    </div>\n \n-{% endblock %}\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "53462ff65e23cb4256c89cee3baa2a7524c2043f",
        "filename": "app/modules/dataset/tests/locustfile.py",
        "status": "modified",
        "additions": 16,
        "deletions": 0,
        "changes": 16,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -1,6 +1,7 @@\n from locust import HttpUser, TaskSet, task\n from core.locust.common import get_csrf_token\n from core.environment.host import get_host_for_locust_testing\n+import secrets\n \n \n class DatasetBehavior(TaskSet):\n@@ -18,3 +19,18 @@ class DatasetUser(HttpUser):\n     min_wait = 5000\n     max_wait = 9000\n     host = get_host_for_locust_testing()\n+\n+\n+class DatasetPublishBehavior(TaskSet):\n+    @task\n+    def publish_dataset(self):\n+        # Genera un n\u00famero aleatorio seguro para la publicaci\u00f3n del dataset\n+        dataset_id = secrets.randbelow(100) + 1  # Genera un n\u00famero entre 1 y 100\n+        response = self.client.post(f\"/dataset/{dataset_id}/publish\")\n+\n+        if response.status_code == 200:\n+            print(f\"Dataset {dataset_id} publicado con \u00e9xito\")\n+        elif response.status_code == 400:\n+            print(f\"Dataset {dataset_id} ya estaba publicado o tuvo un error: {response.json()}\")\n+        else:\n+            print(f\"Error en la publicaci\u00f3n del dataset {dataset_id}: {response.status_code}\")"
      },
      {
        "sha": "57eae050b27661f3f46ea9e8c83736ef19752cae",
        "filename": "app/modules/dataset/tests/test_selenium.py",
        "status": "modified",
        "additions": 40,
        "deletions": 0,
        "changes": 40,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -138,6 +138,46 @@ def test_downloadall():\n     driver.find_element(By.LINK_TEXT, \"Download all datasets\").click()\n \n \n+def test_publish_datset():\n+    driver = initialize_driver()\n+    driver.get(\"http://127.0.0.1:5000/\")\n+    driver.set_window_size(1854, 1048)\n+    driver.find_element(By.CSS_SELECTOR, \".nav-link:nth-child(2)\").click()\n+    driver.find_element(By.ID, \"email\").click()\n+    driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+    driver.find_element(By.ID, \"password\").click()\n+    driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+    driver.find_element(By.ID, \"submit\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".sidebar-item:nth-child(7) .align-middle:nth-child(2)\").click()\n+    wait_for_page_to_load(driver)\n+    driver.find_element(By.CSS_SELECTOR, \"tr:nth-child(1) .btn\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".btn\").click()\n+\n+\n+def test_publish_All_datasets():\n+\n+    test_upload_dataset()\n+    # redneck fix: invoke a test that creates a dataset and using the \"fixture created\" does the current test\n+\n+    driver = initialize_driver()\n+    driver.get(\"http://127.0.0.1:5000/\")\n+    driver.set_window_size(1854, 1048)\n+    driver.find_element(By.CSS_SELECTOR, \".nav-link:nth-child(2)\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".row:nth-child(2) > .col-md-6 > .mb-3\").click()\n+    driver.find_element(By.ID, \"email\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".row:nth-child(2) > .col-md-6\").click()\n+    driver.find_element(By.ID, \"email\").click()\n+    driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+    driver.find_element(By.ID, \"password\").click()\n+    driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+    driver.find_element(By.ID, \"submit\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".sidebar-item:nth-child(7) .align-middle:nth-child(2)\").click()\n+    wait_for_page_to_load(driver)\n+    driver.find_element(By.CSS_SELECTOR, \".card-body > form > .btn\").click()\n+\n+\n # Call the test function\n+test_publish_All_datasets()\n test_upload_dataset()\n test_downloadall()\n+test_publish_datset()"
      },
      {
        "sha": "85267e2667cb3e93654b45f7078630d47ea6f9eb",
        "filename": "app/modules/dataset/tests/test_unit.py",
        "status": "modified",
        "additions": 143,
        "deletions": 1,
        "changes": 144,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -1,4 +1,9 @@\n import pytest\n+from unittest.mock import patch, MagicMock\n+from app.modules.conftest import login, logout\n+from app.modules.auth.models import User\n+from app.modules.dataset.models import Status\n+from app import db\n \n \n @pytest.fixture(scope=\"module\")\n@@ -9,7 +14,10 @@ def test_client(test_client):\n     with test_client.application.app_context():\n         # Add HERE new elements to the database that you want to exist in the test context.\n         # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n-        pass\n+        # Create a test user\n+        user_test = User(email=\"testuser@example.com\", password=\"1234\")\n+        db.session.add(user_test)\n+        db.session.commit()\n \n     yield test_client\n \n@@ -22,3 +30,137 @@ def test_download_all_dataset(test_client):\n     assert response.status_code == 200, \"Download all datasets was unsuccessful\"\n \n     test_client.get(\"/logout\", follow_redirects=True)\n+\n+\n+@pytest.mark.local\n+def test_publish_dataset_success(test_client):\n+    \"\"\"\n+    Positive case: Publish an unpublished dataset.\n+    \"\"\"\n+    dataset_id = 500\n+    login_response = login(test_client, \"testuser@example.com\", \"1234\")\n+    assert login_response.status_code == 200, \"Login was failed.\"\n+\n+    with patch(\"app.modules.dataset.services.DataSetService.get_or_404\") as mock_get_dataset, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.create_new_deposition\") as mock_zenodo, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.upload_file\") as mock_upload_file:\n+\n+        mock_get_dataset.return_value = MagicMock(\n+            id=dataset_id,\n+            ds_meta_data_id=1000,\n+            ds_meta_data=MagicMock(\n+                ds_status=\"unpublished\",\n+                title=\"Dataset 1\",\n+                description=\"Description of dataset 1\",\n+                publication_type=\"DATA_MANAGEMENT_PLAN\",\n+                dataset_doi=None,\n+            ),\n+            feature_models=[\n+                MagicMock(id=101, name=\"FeatureModel1\"),\n+                MagicMock(id=102, name=\"FeatureModel2\"),\n+            ],\n+        )\n+\n+        mock_upload_file.return_value = None\n+        mock_zenodo.return_value = {\"conceptrecid\": \"12345\", \"id\": \"67890\"}\n+\n+        response = test_client.post(f\"/dataset/{dataset_id}/publish\", follow_redirects=True)\n+        print(\"Response\", response.get_json())\n+        assert response.status_code == 200, \"Publishing the unpublished dataset failed.\"\n+        mock_get_dataset.assert_called_once_with(dataset_id)\n+\n+    logout(test_client)\n+\n+\n+@pytest.mark.local\n+def test_publish_all_datasets_success(test_client):\n+    \"\"\"\n+    Positive case: Publish all unpublished datasets.\n+    \"\"\"\n+    login_response = login(test_client, \"testuser@example.com\", \"1234\")\n+    assert login_response.status_code == 200, \"Login was failed.\"\n+\n+    with patch(\"app.modules.dataset.services.DataSetService.get_unsynchronized\") as mock_get_datasets, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.create_new_deposition\") as mock_zenodo, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.upload_file\") as mock_upload_file:\n+\n+        mock_upload_file.return_value = None\n+        mock_get_datasets.return_value = [\n+            MagicMock(\n+                id=500,\n+                ds_meta_data_id=1000,\n+                ds_meta_data=MagicMock(\n+                    ds_status=\"unpublished\",\n+                    title=\"Dataset 1\",\n+                    description=\"Description of dataset 1\",\n+                    publication_type=\"DATA_MANAGEMENT_PLAN\",\n+                    dataset_doi=None,\n+                ),\n+                feature_models=[\n+                    MagicMock(id=101, name=\"FeatureModel1\"),\n+                    MagicMock(id=102, name=\"FeatureModel2\"),\n+                ],\n+            ),\n+            MagicMock(\n+                id=501,\n+                ds_meta_data_id=1001,\n+                ds_meta_data=MagicMock(\n+                    ds_status=\"unpublished\",\n+                    title=\"Dataset 2\",\n+                    description=\"Description of dataset 2\",\n+                    publication_type=\"DATA_MANAGEMENT_PLAN\",\n+                    dataset_doi=None,\n+                ),\n+                feature_models=[\n+                    MagicMock(id=103, name=\"FeatureModel3\"),\n+                ],\n+            ),\n+        ]\n+\n+        mock_zenodo.return_value = {\"conceptrecid\": \"12345\", \"id\": \"67890\"}\n+\n+        print(\"Mocked datasets:\", mock_get_datasets.return_value)\n+        print(\"Mocked Zenodo response:\", mock_zenodo.return_value)\n+        response = test_client.post(\"/dataset/publish\", follow_redirects=True)\n+        print(\"Response\", response.get_json())\n+        assert response.status_code == 200, \"Publishing all unpublished datasets failed.\"\n+        mock_get_datasets.assert_called()\n+\n+    logout(test_client)\n+\n+\n+def test_publish_dataset_already_published(test_client):\n+    \"\"\"\n+    Negative case: Try to publish an already published dataset.\n+    \"\"\"\n+    dataset_id = 1\n+    login_response = login(test_client, \"testuser@example.com\", \"1234\")\n+    assert login_response.status_code == 200, \"Login was failed.\"\n+\n+    with patch(\"app.modules.dataset.services.DataSetService.get_or_404\") as mock_get_dataset:\n+        mock_get_dataset.return_value = MagicMock(ds_meta_data=MagicMock(ds_status=Status.PUBLISHED))\n+\n+        response = test_client.post(f\"/dataset/{dataset_id}/publish\", follow_redirects=True)\n+        assert response.status_code == 400, \"It should not allow publishing an already published dataset.\"\n+        assert response.json[\"message\"] == \"Dataset is already published.\"\n+\n+    logout(test_client)\n+\n+\n+def test_publish_all_datasets_with_errors(test_client):\n+    \"\"\"\n+    Negative case: Publish all unpublished datasets with some errors\n+    \"\"\"\n+    login_response = login(test_client, \"testuser@example.com\", \"1234\")\n+    assert login_response.status_code == 200, \"Login fue fallido.\"\n+\n+    with patch(\"app.modules.dataset.services.DataSetService.get_unsynchronized\") as mock_get_datasets, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.create_new_deposition\") as mock_zenodo:\n+        mock_get_datasets.return_value = [MagicMock(id=2), MagicMock(id=3)]\n+        mock_zenodo.side_effect = Exception(\"Error creating deposition\")\n+\n+        response = test_client.post(\"/dataset/publish\", follow_redirects=True)\n+        assert response.status_code == 207, \"The errored publication did not return the expected status.\"\n+        assert \"Publication completed with errors.\" in response.json[\"message\"]\n+\n+    logout(test_client)"
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file13.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile13.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile13.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile13.uvl?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file14.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile14.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile14.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile14.uvl?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file15.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile15.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile15.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile15.uvl?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "dcae33bec481e6fc3d931c097cf5e52f603aa055",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -17,7 +17,7 @@ def get_all_depositions():\n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['GET'])\n def get_deposition(id):\n     workdir = os.getenv(\"WORKING_DIR\")\n-    path = f\"{workdir}/app/modules/fakenodo/placeholders/deposition.json\"\n+    path = f\"{workdir}app/modules/fakenodo/placeholders/deposition.json\"\n     with open(path) as f:\n         data = json.load(f)\n         data['doi'] = str(uuid.uuid4())"
      },
      {
        "sha": "cb566a6efa514ce95061292f5a4d601982ea8e16",
        "filename": "app/modules/profile/routes.py",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fprofile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fprofile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Froutes.py?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -1,6 +1,6 @@\n from app.modules.auth.models import User\n from app.modules.auth.services import AuthenticationService\n-from app.modules.dataset.models import DataSet\n+from app.modules.dataset.models import DataSet, Status\n from flask import abort, render_template, redirect, url_for, request\n from flask_login import login_required, current_user\n \n@@ -66,5 +66,6 @@ def my_profile(user_id):\n         datasets=user_datasets_pagination.items,\n         pagination=user_datasets_pagination,\n         total_datasets=total_datasets_count,\n-        is_my_profile=is_my_profile\n+        is_my_profile=is_my_profile,\n+        status=Status\n     )"
      },
      {
        "sha": "b7b5a030effc61363bbb7d631679693689ac4191",
        "filename": "app/modules/profile/templates/profile/summary.html",
        "status": "modified",
        "additions": 45,
        "deletions": 23,
        "changes": 68,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -60,31 +60,53 @@ <h1 class=\"h3 mb-3\">User datasets</h1>\n                             </tr>\n                         </thead>\n                         <tbody>\n-                          \n-                            {% for dataset in datasets %}\n-                            <tr>\n-                                <td>\n-\n-                                    {% if dataset.ds_meta_data.dataset_doi %}\n-                                        <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n-                                            {{ dataset.ds_meta_data.title }}\n-                                        </a>\n-                                    {% else %}\n-                                        <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=dataset.id) }}\">\n-                                            {{ dataset.ds_meta_data.title }}\n-                                        </a>                                    \n-                                    {% endif %}\n+                            {% if is_my_profile %}\n+                                {% for dataset in datasets %}\n+                                <tr>\n+                                    <td>\n+\n+                                        {% if dataset.ds_meta_data.dataset_doi %}\n+                                            <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                                {{ dataset.ds_meta_data.title }}\n+                                            </a>\n+                                        {% else %}\n+                                            <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=dataset.id) }}\">\n+                                                {{ dataset.ds_meta_data.title }}\n+                                            </a>                               \n+                                        {% endif %}\n+\n+                                        \n+                                    </td>\n+                                    <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                </tr>\n+                                {% else %}\n+                            \n+                                <tr>\n+                                    <td colspan=\"2\">No datasets uploaded.</td>\n+                                </tr>\n+                                {% endfor %}\n \n-                                    \n-                                </td>\n-                                <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n-                            </tr>\n                             {% else %}\n-                          \n-                            <tr>\n-                                <td colspan=\"2\">No datasets uploaded.</td>\n-                            </tr>\n-                            {% endfor %}\n+                                \n+                                {% for dataset in datasets %}\n+                                    {% if dataset.ds_meta_data.ds_status == status.PUBLISHED %}\n+                                    <tr>\n+                                        <td>\n+                                             <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                                {{ dataset.ds_meta_data.title }}\n+                                             </a> \n+                                        </td>\n+                                        <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                    </tr>\n+                                    {% endif %}\n+\n+                                {% else %}\n+                                    <tr>\n+                                        <td colspan=\"2\">No datasets uploaded.</td>\n+                                    </tr>\n+                                {% endfor %}\n+                            {% endif %}\n+                            \n                         </tbody>\n                     </table>\n                 </div>"
      },
      {
        "sha": "f2a4903b9241dee43c6a89fd14270c2bd8b71313",
        "filename": "app/modules/pytest.ini",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fpytest.ini",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/app%2Fmodules%2Fpytest.ini",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fpytest.ini?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -1,3 +1,5 @@\n [pytest]\n filterwarnings =\n     ignore::DeprecationWarning\n+markers =\n+    local: Tests que solo se ejecutar\u00e1n en local\n\\ No newline at end of file"
      },
      {
        "sha": "3f84c51a17885aba24ebfd013e706cfb2abb09fc",
        "filename": "migrations/versions/3931fcdc68c7_.py",
        "status": "added",
        "additions": 49,
        "deletions": 0,
        "changes": 49,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09b3bd144066b4774f9d6d1293bca5027c69c1e3/migrations%2Fversions%2F3931fcdc68c7_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09b3bd144066b4774f9d6d1293bca5027c69c1e3/migrations%2Fversions%2F3931fcdc68c7_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F3931fcdc68c7_.py?ref=09b3bd144066b4774f9d6d1293bca5027c69c1e3",
        "patch": "@@ -0,0 +1,49 @@\n+\"\"\"empty message\n+\n+Revision ID: 3931fcdc68c7\n+Revises: 001\n+Create Date: 2024-12-03 18:27:22.612897\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = '3931fcdc68c7'\n+down_revision = '001'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('notepad',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('title', sa.String(length=256), nullable=False),\n+    sa.Column('body', sa.Text(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.drop_table('webhook')\n+    with op.batch_alter_table('ds_meta_data', schema=None) as batch_op:\n+        batch_op.add_column(sa.Column('ds_status', sa.Enum('UNPUBLISHED', 'PUBLISHED', name='status'), nullable=False))\n+\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('ds_meta_data', schema=None) as batch_op:\n+        batch_op.drop_column('ds_status')\n+\n+    op.create_table('webhook',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.drop_table('notepad')\n+    # ### end Alembic commands ###"
      }
    ]
  },
  {
    "sha": "14e8bbdded30cd5909bcf58b441fcdb1d0f75a94",
    "node_id": "C_kwDONBuXkNoAKDE0ZThiYmRkZWQzMGNkNTkwOWJjZjU4YjQ0MWZjZGIxZDBmNzVhOTQ",
    "commit": {
      "author": {
        "name": "javramnun",
        "email": "javramnun@alum.us.es",
        "date": "2024-12-16T10:11:13Z"
      },
      "committer": {
        "name": "javramnun",
        "email": "javramnun@alum.us.es",
        "date": "2024-12-16T10:11:13Z"
      },
      "message": "feat: Add pyotp",
      "tree": {
        "sha": "6fd6a1c658e4647d58cfa864b5aa58c3d6c0fab3",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/6fd6a1c658e4647d58cfa864b5aa58c3d6c0fab3"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/14e8bbdded30cd5909bcf58b441fcdb1d0f75a94",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/14e8bbdded30cd5909bcf58b441fcdb1d0f75a94",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/14e8bbdded30cd5909bcf58b441fcdb1d0f75a94",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/14e8bbdded30cd5909bcf58b441fcdb1d0f75a94/comments",
    "author": {
      "login": "javramnun",
      "id": 72883779,
      "node_id": "MDQ6VXNlcjcyODgzNzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72883779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javramnun",
      "html_url": "https://github.com/javramnun",
      "followers_url": "https://api.github.com/users/javramnun/followers",
      "following_url": "https://api.github.com/users/javramnun/following{/other_user}",
      "gists_url": "https://api.github.com/users/javramnun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javramnun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javramnun/subscriptions",
      "organizations_url": "https://api.github.com/users/javramnun/orgs",
      "repos_url": "https://api.github.com/users/javramnun/repos",
      "events_url": "https://api.github.com/users/javramnun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javramnun/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "javramnun",
      "id": 72883779,
      "node_id": "MDQ6VXNlcjcyODgzNzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72883779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javramnun",
      "html_url": "https://github.com/javramnun",
      "followers_url": "https://api.github.com/users/javramnun/followers",
      "following_url": "https://api.github.com/users/javramnun/following{/other_user}",
      "gists_url": "https://api.github.com/users/javramnun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javramnun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javramnun/subscriptions",
      "organizations_url": "https://api.github.com/users/javramnun/orgs",
      "repos_url": "https://api.github.com/users/javramnun/repos",
      "events_url": "https://api.github.com/users/javramnun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javramnun/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "351631f2f42be386d08c33c24975b5a7ef5b3245",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/351631f2f42be386d08c33c24975b5a7ef5b3245",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/351631f2f42be386d08c33c24975b5a7ef5b3245"
      }
    ],
    "files": [
      {
        "sha": "0ee69559c5fba48b8d09bd9e31ec9cc666e51aa6",
        "filename": "requirements.txt",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/14e8bbdded30cd5909bcf58b441fcdb1d0f75a94/requirements.txt",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/14e8bbdded30cd5909bcf58b441fcdb1d0f75a94/requirements.txt",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/requirements.txt?ref=14e8bbdded30cd5909bcf58b441fcdb1d0f75a94",
        "patch": "@@ -65,6 +65,7 @@ pycparser==2.22\n pyflakes==3.2.0\n PyMySQL==1.1.1\n pyOpenSSL==24.1.0\n+pyotp==2.9.0\n pyparsing==3.1.2\n PySocks==1.7.1\n pytest==8.2.2"
      }
    ]
  },
  {
    "sha": "351631f2f42be386d08c33c24975b5a7ef5b3245",
    "node_id": "C_kwDONBuXkNoAKDM1MTYzMWYyZjQyYmUzODZkMDhjMzNjMjQ5NzViNWE3ZWY1YjMyNDU",
    "commit": {
      "author": {
        "name": "javramnun",
        "email": "javramnun@alum.us.es",
        "date": "2024-12-16T10:06:01Z"
      },
      "committer": {
        "name": "javramnun",
        "email": "javramnun@alum.us.es",
        "date": "2024-12-16T10:06:01Z"
      },
      "message": "fix: send email validation\n\nUpdate the code of auth and remove mail",
      "tree": {
        "sha": "14478df1bb9dd657cf392bca2a8b5fad64a05094",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/14478df1bb9dd657cf392bca2a8b5fad64a05094"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/351631f2f42be386d08c33c24975b5a7ef5b3245",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/351631f2f42be386d08c33c24975b5a7ef5b3245",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/351631f2f42be386d08c33c24975b5a7ef5b3245",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/351631f2f42be386d08c33c24975b5a7ef5b3245/comments",
    "author": {
      "login": "javramnun",
      "id": 72883779,
      "node_id": "MDQ6VXNlcjcyODgzNzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72883779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javramnun",
      "html_url": "https://github.com/javramnun",
      "followers_url": "https://api.github.com/users/javramnun/followers",
      "following_url": "https://api.github.com/users/javramnun/following{/other_user}",
      "gists_url": "https://api.github.com/users/javramnun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javramnun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javramnun/subscriptions",
      "organizations_url": "https://api.github.com/users/javramnun/orgs",
      "repos_url": "https://api.github.com/users/javramnun/repos",
      "events_url": "https://api.github.com/users/javramnun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javramnun/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "javramnun",
      "id": 72883779,
      "node_id": "MDQ6VXNlcjcyODgzNzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72883779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javramnun",
      "html_url": "https://github.com/javramnun",
      "followers_url": "https://api.github.com/users/javramnun/followers",
      "following_url": "https://api.github.com/users/javramnun/following{/other_user}",
      "gists_url": "https://api.github.com/users/javramnun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javramnun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javramnun/subscriptions",
      "organizations_url": "https://api.github.com/users/javramnun/orgs",
      "repos_url": "https://api.github.com/users/javramnun/repos",
      "events_url": "https://api.github.com/users/javramnun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javramnun/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/6b3e85a2025a7fd0a784ba5096d413887525bbdf"
      }
    ],
    "files": [
      {
        "sha": "15139ef1193247bfb8361f1bfee9f437a0f705b3",
        "filename": ".env.local.example",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/351631f2f42be386d08c33c24975b5a7ef5b3245/.env.local.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/351631f2f42be386d08c33c24975b5a7ef5b3245/.env.local.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.env.local.example?ref=351631f2f42be386d08c33c24975b5a7ef5b3245",
        "patch": "@@ -9,3 +9,4 @@ MARIADB_USER=uvlhubdb_user\n MARIADB_PASSWORD=uvlhubdb_password\n MARIADB_ROOT_PASSWORD=uvlhubdb_root_password\n WORKING_DIR=\"\"\n+UVLHUB_EMAIL_PASSWORD=\"dvfn cerv ussd glzy \"\n\\ No newline at end of file"
      },
      {
        "sha": "12a212a78e0212d50ddb6e9473580a3a6ff3388f",
        "filename": "app/__init__.py",
        "status": "modified",
        "additions": 1,
        "deletions": 4,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2F__init__.py?ref=351631f2f42be386d08c33c24975b5a7ef5b3245",
        "patch": "@@ -6,7 +6,6 @@\n from dotenv import load_dotenv\n from flask_migrate import Migrate\n \n-from app.modules.mail.services import MailService\n from core.configuration.configuration import get_app_version\n from core.managers.module_manager import ModuleManager\n from core.managers.config_manager import ConfigManager\n@@ -19,7 +18,6 @@\n # Create the instances\n db = SQLAlchemy()\n migrate = Migrate()\n-mail_service = MailService()\n \n \n def create_app(config_name='development'):\n@@ -56,8 +54,6 @@ def load_user(user_id):\n     error_handler_manager = ErrorHandlerManager(app)\n     error_handler_manager.register_error_handlers()\n \n-    mail_service.init_app(app)\n-\n     # Injecting environment variables into jinja context\n     @app.context_processor\n     def inject_vars_into_jinja():\n@@ -72,3 +68,4 @@ def inject_vars_into_jinja():\n \n \n app = create_app()\n+"
      },
      {
        "sha": "f2a0dd4a183653c2650a9d180d9f24d30a4dc9df",
        "filename": "app/modules/auth/forms.py",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2Fmodules%2Fauth%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2Fmodules%2Fauth%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fforms.py?ref=351631f2f42be386d08c33c24975b5a7ef5b3245",
        "patch": "@@ -16,3 +16,9 @@ class LoginForm(FlaskForm):\n     password = PasswordField('Password', validators=[DataRequired()])\n     remember_me = BooleanField('Remember me')\n     submit = SubmitField('Login')\n+\n+\n+class ValidateEmailForm(FlaskForm):\n+    email = StringField('Email', validators=[DataRequired()])\n+    key = StringField('Key', validators=[DataRequired()])\n+    submit = SubmitField('Validate Email')\n\\ No newline at end of file"
      },
      {
        "sha": "ddb526f947f876bea7d1cf65414a24f071bd7f66",
        "filename": "app/modules/auth/models.py",
        "status": "modified",
        "additions": 1,
        "deletions": 2,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2Fmodules%2Fauth%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2Fmodules%2Fauth%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fmodels.py?ref=351631f2f42be386d08c33c24975b5a7ef5b3245",
        "patch": "@@ -12,7 +12,6 @@ class User(db.Model, UserMixin):\n     email = db.Column(db.String(256), unique=True, nullable=False)\n     password = db.Column(db.String(256), nullable=False)\n     created_at = db.Column(db.DateTime, nullable=False, default=lambda: datetime.now(timezone.utc))\n-    active = db.Column(db.Boolean, default=True, nullable=False)\n \n     data_sets = db.relationship('DataSet', backref='user', lazy=True)\n     profile = db.relationship('UserProfile', backref='user', uselist=False)\n@@ -33,4 +32,4 @@ def check_password(self, password):\n \n     def temp_folder(self) -> str:\n         from app.modules.auth.services import AuthenticationService\n-        return AuthenticationService().temp_folder_by_user(self)\n+        return AuthenticationService().temp_folder_by_user(self)\n\\ No newline at end of file"
      },
      {
        "sha": "f24e3bc9b3a6212119c15d718dc470d56305a8b9",
        "filename": "app/modules/auth/repositories.py",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2Fmodules%2Fauth%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2Fmodules%2Fauth%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Frepositories.py?ref=351631f2f42be386d08c33c24975b5a7ef5b3245",
        "patch": "@@ -17,5 +17,5 @@ def create(self, commit: bool = True, **kwargs):\n             self.session.flush()\n         return instance\n \n-    def get_by_email(self, email: str, active: bool = True):\n-        return self.model.query.filter_by(email=email, active=active).first()\n+    def get_by_email(self, email: str):\n+        return self.model.query.filter_by(email=email).first()"
      },
      {
        "sha": "403ba3f0749ae3a7184c40a1a6b29d34599e3d96",
        "filename": "app/modules/auth/routes.py",
        "status": "modified",
        "additions": 58,
        "deletions": 24,
        "changes": 82,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2Fmodules%2Fauth%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2Fmodules%2Fauth%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Froutes.py?ref=351631f2f42be386d08c33c24975b5a7ef5b3245",
        "patch": "@@ -1,10 +1,12 @@\n-from flask import flash, render_template, redirect, url_for, request\n-from flask_login import current_user, login_user, logout_user\n+from flask import render_template, redirect, session, url_for, request, make_response\n+from flask_login import current_user, logout_user\n \n from app.modules.auth import auth_bp\n-from app.modules.auth.forms import SignupForm, LoginForm\n+from app.modules.auth.forms import SignupForm, LoginForm, ValidateEmailForm\n from app.modules.auth.services import AuthenticationService\n from app.modules.profile.services import UserProfileService\n+import pyotp\n+import os\n \n authentication_service = AuthenticationService()\n user_profile_service = UserProfileService()\n@@ -18,50 +20,82 @@ def show_signup_form():\n     form = SignupForm()\n     if form.validate_on_submit():\n         email = form.email.data\n-        if not authentication_service.is_email_available(email):\n+        password = form.password.data\n+        if not authentication_service.is_email_valid(email):\n             return render_template(\"auth/signup_form.html\", form=form, error=f'Email {email} in use')\n \n         try:\n-            user = authentication_service.create_with_profile(**form.data)\n-            authentication_service.send_confirmation_email(user.email)\n-            flash(\"Please, confirm your email\", \"info\")\n+            authentication_service.create_with_profile(**form.data)\n         except Exception as exc:\n             return render_template(\"auth/signup_form.html\", form=form, error=f'Error creating user: {exc}')\n \n-        return redirect(url_for('public.index'))\n+        response = make_response(redirect(url_for('auth.validate_email')))\n+        session['email'] = email\n+        session['password'] = password\n+        return response\n \n     return render_template(\"auth/signup_form.html\", form=form)\n \n \n-@auth_bp.route(\"/confirm_user/<token>\", methods=[\"GET\"])\n-def confirm_user(token):\n-    try:\n-        user = authentication_service.confirm_user_with_token(token)\n-    except Exception as exc:\n-        flash(exc.args[0], \"danger\")\n-        return redirect(url_for('auth.show_signup_form'))\n-\n-    # Log user\n-    login_user(user, remember=True)\n-    return redirect(url_for('public.index'))\n-\n-\n @auth_bp.route('/login', methods=['GET', 'POST'])\n def login():\n     if current_user.is_authenticated:\n         return redirect(url_for('public.index'))\n \n     form = LoginForm()\n     if request.method == 'POST' and form.validate_on_submit():\n-        if authentication_service.login(form.email.data, form.password.data):\n-            return redirect(url_for('public.index'))\n+        email = request.form['email']\n+        password = request.form['password']\n+        if authentication_service.correct_credentials(email, password):\n+            response = make_response(redirect(url_for('auth.validate_email')))\n+            session['email'] = email\n+            session['password'] = password\n+            return response\n \n         return render_template(\"auth/login_form.html\", form=form, error='Invalid credentials')\n \n     return render_template('auth/login_form.html', form=form)\n \n \n+@auth_bp.route('/validate_email', methods=['GET', 'POST'])\n+def validate_email():\n+    if current_user.is_authenticated:\n+        return redirect(url_for('public.index'))\n+\n+    email = session['email']\n+    password = session['password']\n+    if not email or not password:\n+        return redirect(url_for('auth.login'))\n+\n+    form = ValidateEmailForm()\n+\n+    if request.method == 'POST':\n+        key = int(form.key.data.strip())\n+        if key == int(session.get('key')):\n+            authentication_service.login(email, password)\n+            response = make_response(redirect(url_for('public.index')))\n+            session.pop('email', None)\n+            session.pop('password', None)\n+            return response\n+\n+        return render_template(\n+            \"auth/validate_email_form.html\",\n+            form=form,\n+            key=key,\n+            error='The key does not match'\n+        )\n+\n+    if request.method == 'GET':\n+        random_key = pyotp.TOTP(str(os.getenv('SECRET_CODE_GENERATOR'))).now()\n+        session['key'] = random_key\n+        authentication_service.send_email(email, random_key)\n+    return render_template('auth/validate_email_form.html', form=form, email=email)\n+\n+\n @auth_bp.route('/logout')\n def logout():\n     logout_user()\n-    return redirect(url_for('public.index'))\n+    response = make_response(redirect(url_for('public.index')))\n+    session.pop('email', None)\n+    session.pop('password', None)\n+    return response"
      },
      {
        "sha": "d4af3998f125e10b5be89210adcb7accd24ffce9",
        "filename": "app/modules/auth/seeders.py",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2Fmodules%2Fauth%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2Fmodules%2Fauth%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fseeders.py?ref=351631f2f42be386d08c33c24975b5a7ef5b3245",
        "patch": "@@ -13,6 +13,7 @@ def run(self):\n         users = [\n             User(email='user1@example.com', password='1234'),\n             User(email='user2@example.com', password='1234'),\n+            User(email='chipihubteam@gmail.com', password='chipiteam'),\n         ]\n \n         # Inserted users with their assigned IDs are returned by `self.seed`."
      },
      {
        "sha": "1ac20f1d015b2fa965941572dcdc65a57959c014",
        "filename": "app/modules/auth/services.py",
        "status": "modified",
        "additions": 113,
        "deletions": 36,
        "changes": 149,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2Fmodules%2Fauth%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2Fmodules%2Fauth%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fservices.py?ref=351631f2f42be386d08c33c24975b5a7ef5b3245",
        "patch": "@@ -1,17 +1,22 @@\n import os\n-from flask import current_app, url_for\n from flask_login import login_user\n from flask_login import current_user\n-from itsdangerous import BadTimeSignature, SignatureExpired, URLSafeTimedSerializer\n \n-from app import mail_service\n from app.modules.auth.models import User\n from app.modules.auth.repositories import UserRepository\n from app.modules.profile.models import UserProfile\n from app.modules.profile.repositories import UserProfileRepository\n from core.configuration.configuration import uploads_folder_name\n from core.services.BaseService import BaseService\n \n+import smtplib\n+from email.mime.multipart import MIMEMultipart\n+from email.mime.text import MIMEText\n+import imaplib\n+import email\n+from email.header import decode_header\n+import re\n+\n \n class AuthenticationService(BaseService):\n     SALT = \"user-confirm\"\n@@ -21,17 +26,21 @@ def __init__(self):\n         super().__init__(UserRepository())\n         self.user_profile_repository = UserProfileRepository()\n \n-    def get_serializer(self):\n-        return URLSafeTimedSerializer(current_app.config['SECRET_KEY'])\n-\n     def login(self, email, password, remember=True):\n         user = self.repository.get_by_email(email)\n         if user is not None and user.check_password(password):\n             login_user(user, remember=remember)\n             return True\n         return False\n \n-    def is_email_available(self, email: str) -> bool:\n+    def correct_credentials(self, email, password, remember=True):\n+        user = self.repository.get_by_email(email)\n+        if user is not None and user.check_password(password):\n+            login_user(user, remember=remember)\n+            return True\n+        return False\n+\n+    def is_email_valid(self, email: str) -> bool:\n         return self.repository.get_by_email(email) is None\n \n     def create_with_profile(self, **kwargs):\n@@ -52,13 +61,12 @@ def create_with_profile(self, **kwargs):\n \n             user_data = {\n                 \"email\": email,\n-                \"password\": password,\n-                \"active\": False\n+                \"password\": password\n             }\n \n             profile_data = {\n                 \"name\": name,\n-                \"surname\": surname,\n+                \"surname\": surname\n             }\n \n             user = self.create(commit=False, **user_data)\n@@ -70,31 +78,6 @@ def create_with_profile(self, **kwargs):\n             raise exc\n         return user\n \n-    def get_token_from_email(self, email):\n-        s = self.get_serializer()\n-        return s.dumps(email, salt=self.SALT)\n-\n-    def send_confirmation_email(self, user_email):\n-        token = self.get_token_from_email(user_email)\n-        url = url_for(\"auth.confirm_user\", token=token)\n-        mail_service.send_email(\"Please, confirm your email\",\n-                                recipients=[user_email],\n-                                body=f\"<a href='{url}'>Please, confirm your email</a>\")\n-\n-    def confirm_user_with_token(self, token):\n-        s = self.get_serializer()\n-        try:\n-            email = s.loads(token, salt=self.SALT, max_age=self.MAX_AGE)\n-        except SignatureExpired:\n-            raise Exception(\"The confirmation link has expired.\")\n-        except BadTimeSignature:\n-            raise Exception(\"The confirmation link has been manipulated.\")\n-\n-        user = self.repository.get_by_email(email, active=False)\n-        user.active = True\n-        self.repository.session.commit()\n-        return user\n-\n     def update_profile(self, user_profile_id, form):\n         if form.validate():\n             updated_instance = self.update(user_profile_id, **form.data)\n@@ -113,4 +96,98 @@ def get_authenticated_user_profile(self) -> UserProfile | None:\n         return None\n \n     def temp_folder_by_user(self, user: User) -> str:\n-        return os.path.join(uploads_folder_name(), \"temp\", str(user.id))\n+        return os.path.join(uploads_folder_name, \"temp\", str(user.id))\n+\n+    def send_email(self, target_email, random_key):\n+        print(\"Intentando enviar correo a\", target_email)\n+        sender_email = \"chipihubteam@gmail.com\"\n+        receiver_email = target_email\n+        password = str(os.getenv('UVLHUB_EMAIL_PASSWORD'))\n+        subject = f\"[UVLHUB] Your key is {random_key}!\"\n+        body = f\"\"\"\n+                <html>\n+                <head>\n+                    <style>\n+                        body {{\n+                            font-family: Arial, sans-serif;\n+                            line-height: 1.6;\n+                        }}\n+                        .bold {{\n+                            font-weight: bold;\n+                        }}\n+                    </style>\n+                </head>\n+                <body>\n+                    <p>Hello,</p>\n+                    <p>Thank you for using <span class=\"bold\">UVLHUB</span>!</p>\n+                    <p>To verify your account, please use the following <span class=\"bold\">\n+                    authentication key</span>:</p>\n+                    <p class=\"bold\">{random_key}</p>\n+                    <p>Please enter this key in the authentication form to proceed. If you did not request this key or\n+                    believe this is an error, please ignore this email.</p>\n+                    <p>For your security, this key is valid for a limited time only.</p>\n+                    <p>Best regards,</p>\n+                    <p><span class=\"bold\">The UVLHUB Team</span></p>\n+                </body>\n+                </html>\n+                \"\"\"\n+        message = MIMEMultipart()\n+        message[\"From\"] = sender_email\n+        message[\"To\"] = receiver_email\n+        message[\"Subject\"] = subject\n+        message.attach(MIMEText(body, \"html\"))\n+        smtp_server = \"smtp.gmail.com\"\n+        smtp_port = 587\n+        try:\n+            with smtplib.SMTP(smtp_server, smtp_port) as server:\n+                server.starttls()\n+                server.login(sender_email, password)\n+                server.sendmail(sender_email, receiver_email, message.as_string())\n+                print(\"Email sent successfully to \"+str(target_email)+\"!\")\n+        except Exception as e:\n+            print(f\"Error: {e}\")\n+\n+    def get_validation_email_info(self, verbose=False):\n+        username = \"chipihubteam@gmail.com\"\n+        password = str(os.getenv('UVLHUB_EMAIL_PASSWORD'))\n+        mail = imaplib.IMAP4_SSL(\"imap.gmail.com\")\n+        mail.login(username, password)\n+        mail.select(\"inbox\")\n+        _, messages = mail.search(None, 'FROM', '\"chipihubteam@gmail.com\"')\n+        email_ids = messages[0].split()\n+        res = {}\n+\n+        if email_ids:\n+            latest_email_id = email_ids[-1]\n+            _, msg_data = mail.fetch(latest_email_id, \"(RFC822)\")\n+\n+            for response_part in msg_data:\n+                if isinstance(response_part, tuple):\n+                    msg = email.message_from_bytes(response_part[1])\n+                    # Decode the email subject\n+                    subject, encoding = decode_header(msg[\"Subject\"])[0]\n+                    if isinstance(subject, bytes):\n+                        subject = subject.decode(encoding if encoding else \"utf-8\")\n+                    res['Subject'] = subject\n+                    # Decode the sender\n+                    from_ = msg.get(\"From\")\n+                    res['From'] = from_\n+                    # Decode the key\n+                    key = re.sub(r'[^0-9]', '', subject)\n+                    res['Key'] = key\n+\n+                    if (verbose):\n+                        print(f\"Subject: {subject}\")\n+                        print(f\"From: {from_}\")\n+                        print(f\"Key: {key}\")\n+\n+        else:\n+            print(\"No emails found from chipihubteam@gmail.com.\")\n+\n+        # Logout and close the connection\n+        mail.logout()\n+        return res\n+\n+    def get_validation_email_key(self):\n+        res = self.get_validation_email_info(False)\n+        return res['Key']"
      },
      {
        "sha": "d0cc50c5a8f2ddeaaee3e820629b8af3d5416f9c",
        "filename": "app/modules/auth/templates/auth/validate_email_form.html",
        "status": "added",
        "additions": 59,
        "deletions": 0,
        "changes": 59,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2Fmodules%2Fauth%2Ftemplates%2Fauth%2Fvalidate_email_form.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2Fmodules%2Fauth%2Ftemplates%2Fauth%2Fvalidate_email_form.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Ftemplates%2Fauth%2Fvalidate_email_form.html?ref=351631f2f42be386d08c33c24975b5a7ef5b3245",
        "patch": "@@ -0,0 +1,59 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}Validate Email{% endblock %}\n+\n+{% block content %}\n+\n+<h1 class=\"h2 mb-3\"><b>Validate Email</b></h1>\n+\n+<div class=\"row\">\n+    <div class=\"col-12\">\n+\n+        <form action=\"\" method=\"post\" novalidate>\n+                    {{ form.hidden_tag() }}\n+\n+                    <div class=\"row\">\n+\n+                        <div class=\"col-md-6 col-lg-6 col-xs-12\">\n+                            <div class=\"mb-3\">\n+                                Enter the {{ form.key.label(class=\"form-label\") }} sent to {{email}}!\n+                                {{ form.key(class=\"form-control\",placeholder=\"Example: 000000\") }}\n+                                {% for error in form.key.errors %}\n+                                <span style=\"color: red;\">{{ error }}</span>\n+                                {% endfor %}\n+                            </div>\n+                        </div>\n+\n+                    </div>\n+\n+                    <div class=\"row\">\n+\n+                        <div class=\"col-lg-6 col-12\">\n+                            {{ form.submit(class=\"btn btn-primary\") }}\n+                        </div>\n+\n+                    </div>\n+\n+                    <div class=\"row\">\n+\n+                        {% if error %}\n+\n+                        <div class=\"mt-3 col-lg-6 col-12\">\n+                            <span style=\"color: red;\">{{ error }}</span>\n+                        </div>\n+\n+                        {% endif %}\n+\n+                    </div>\n+\n+                </form>\n+\n+    </div>\n+</div>\n+\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('auth.scripts') }}\"></script>\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "e0903e0f8913d92c21cb6317eb0c7367ab5e341c",
        "filename": "app/modules/auth/tests/test_unit.py",
        "status": "modified",
        "additions": 0,
        "deletions": 33,
        "changes": 33,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/351631f2f42be386d08c33c24975b5a7ef5b3245/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py?ref=351631f2f42be386d08c33c24975b5a7ef5b3245",
        "patch": "@@ -135,19 +135,6 @@ def test_signup_send_confirmation_email(test_client, clean_database):\n         assert len(outbox) == 1\n \n \n-def test_create_with_profile_create_inactive_user(test_client, clean_database):\n-    data = {\n-        \"name\": \"Test\",\n-        \"surname\": \"Foo\",\n-        \"email\": \"user@example.com\",\n-        \"password\": \"test1234\"\n-    }\n-    user = AuthenticationService().create_with_profile(**data)\n-    assert UserRepository().count() == 1\n-    assert UserProfileRepository().count() == 1\n-    assert user.active is False\n-\n-\n def test_confirm_user_token_expired(test_client):\n     email = \"expired@example.com\"\n \n@@ -169,23 +156,3 @@ def test_confirm_user_token_manipulated(test_client):\n     url = url_for('auth.confirm_user', token=token, _external=False)\n     response = test_client.get(url, follow_redirects=True)\n     assert response.request.path == url_for(\"auth.show_signup_form\", _external=False)\n-\n-\n-def test_confirm_user_active_user(test_client):\n-    data = {\n-        \"name\": \"Test\",\n-        \"surname\": \"Foo\",\n-        \"email\": \"user@example.com\",\n-        \"password\": \"test1234\"\n-    }\n-    user = AuthenticationService().create_with_profile(**data)\n-    assert user.active is False\n-\n-    token = AuthenticationService().get_token_from_email(user.email)\n-\n-    url = url_for('auth.confirm_user', token=token, _external=False)\n-    response = test_client.get(url, follow_redirects=True)\n-    assert response.request.path == url_for(\"public.index\", _external=False)\n-\n-    user = UserRepository().get_by_email(user.email)\n-    assert user.active is True"
      },
      {
        "sha": "461d2b6ad0594986737b9b1d2b83479e2c433b96",
        "filename": "app/modules/mail/.env.example",
        "status": "removed",
        "additions": 0,
        "deletions": 6,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2F.env.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2F.env.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2F.env.example?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -1,6 +0,0 @@\n-MAIL_SERVER=<CHANGE_THIS>\n-MAIL_PORT=587\n-MAIL_USE_TLS=True\n-MAIL_USE_SSL=False\n-MAIL_USERNAME=<CHANGE_THIS>\n-MAIL_PASSWORD=<CHANGE_THIS>\n\\ No newline at end of file"
      },
      {
        "sha": "105d0ee5c9bdb0ab1b2a724dd98883b624ad242a",
        "filename": "app/modules/mail/__init__.py",
        "status": "removed",
        "additions": 0,
        "deletions": 3,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2F__init__.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -1,3 +0,0 @@\n-from core.blueprints.base_blueprint import BaseBlueprint\n-\n-mail_bp = BaseBlueprint('mail', __name__, template_folder='templates')\n\\ No newline at end of file"
      },
      {
        "sha": "91c5fd996a099481c692b4f0db4823ed27c03a44",
        "filename": "app/modules/mail/assets/scripts.js",
        "status": "removed",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Fassets%2Fscripts.js?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -1 +0,0 @@\n-console.log(\"Hi, I am a script loaded from mail module\");\n\\ No newline at end of file"
      },
      {
        "sha": "f13cbc12a6e14cbb6fe824f09fe14f620878664a",
        "filename": "app/modules/mail/assets/webpack.config.js",
        "status": "removed",
        "additions": 0,
        "deletions": 15,
        "changes": 15,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Fassets%2Fwebpack.config.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Fassets%2Fwebpack.config.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Fassets%2Fwebpack.config.js?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -1,15 +0,0 @@\n-const path = require('path');\n-\n-module.exports = {\n-  entry: path.resolve(__dirname, './scripts.js'),\n-  output: {\n-    filename: 'mail.bundle.js',\n-    path: path.resolve(__dirname, '../dist'),\n-  },\n-  resolve: {\n-    fallback: {\n-      \"fs\": false \n-    }\n-  },\n-  mode: 'development',\n-};\n\\ No newline at end of file"
      },
      {
        "sha": "e6361ed710bc7c36a4bf8098d3c105d852319cf9",
        "filename": "app/modules/mail/forms.py",
        "status": "removed",
        "additions": 0,
        "deletions": 6,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Fforms.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -1,6 +0,0 @@\n-from flask_wtf import FlaskForm\n-from wtforms import SubmitField\n-\n-\n-class MailForm(FlaskForm):\n-    submit = SubmitField('Save mail')\n\\ No newline at end of file"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/mail/models.py",
        "status": "removed",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Fmodels.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf"
      },
      {
        "sha": "10723d84d3055596b019c092dd461243c944d9bd",
        "filename": "app/modules/mail/repositories.py",
        "status": "removed",
        "additions": 0,
        "deletions": 6,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Frepositories.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -1,6 +0,0 @@\n-from core.repositories.BaseRepository import BaseRepository\n-\n-\n-class MailRepository(BaseRepository):\n-    def __init__(self):\n-        pass\n\\ No newline at end of file"
      },
      {
        "sha": "157af92e2e0e600c4f75cb37f21e444de72f4360",
        "filename": "app/modules/mail/routes.py",
        "status": "removed",
        "additions": 0,
        "deletions": 7,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Froutes.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -1,7 +0,0 @@\n-from flask import render_template\n-from app.modules.mail import mail_bp\n-\n-\n-@mail_bp.route('/mail', methods=['GET'])\n-def index():\n-    return render_template('mail/index.html')\n\\ No newline at end of file"
      },
      {
        "sha": "f7a3606ff4f700d371690ec794ffb7d9b9013645",
        "filename": "app/modules/mail/seeders.py",
        "status": "removed",
        "additions": 0,
        "deletions": 12,
        "changes": 12,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Fseeders.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -1,12 +0,0 @@\n-from core.seeders.BaseSeeder import BaseSeeder\n-\n-\n-class MailSeeder(BaseSeeder):\n-\n-    def run(self):\n-\n-        data = [\n-            # Create any Model object you want to make seed\n-        ]\n-\n-        self.seed(data)\n\\ No newline at end of file"
      },
      {
        "sha": "58e5432ab71b5a26cfec0dc2b6b4c799cb8bd615",
        "filename": "app/modules/mail/services.py",
        "status": "removed",
        "additions": 0,
        "deletions": 33,
        "changes": 33,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Fservices.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -1,33 +0,0 @@\n-import os\n-\n-from flask_mail import Mail, Message\n-from app.modules.mail.repositories import MailRepository\n-from core.services.BaseService import BaseService\n-\n-\n-class MailService(BaseService):\n-\n-    def __init__(self):\n-        super().__init__(MailRepository())\n-        self.mail = None\n-        self.sender = None\n-\n-    def init_app(self, app):\n-        app.config['MAIL_SERVER'] = os.getenv('MAIL_SERVER', 'smtp.office365.com')\n-        app.config['MAIL_PORT'] = int(os.getenv('MAIL_PORT', '587'))\n-        app.config['MAIL_USE_TLS'] = os.getenv('MAIL_USE_TLS', 'True') == 'True'\n-        app.config['MAIL_USE_SSL'] = os.getenv('MAIL_USE_SSL', 'False') == 'True'\n-        app.config['MAIL_USERNAME'] = os.getenv('MAIL_USERNAME', 'tu_correo@tudominio.com')\n-        app.config['MAIL_PASSWORD'] = os.getenv('MAIL_PASSWORD', 'tu_password')\n-        app.config['MAIL_DEFAULT_SENDER'] = os.getenv('MAIL_USERNAME')\n-\n-        self.mail = Mail(app)\n-        self.sender = app.config['MAIL_USERNAME']\n-\n-    def send_email(self, subject, recipients, body, html_body=None):\n-        msg = Message(subject, sender=self.sender, recipients=recipients)\n-        msg.body = body\n-        if html_body:\n-            msg.html = html_body\n-\n-        self.mail.send(msg)"
      },
      {
        "sha": "c30fe7c2ff8406aff2565411aa6ff7802b4f919e",
        "filename": "app/modules/mail/templates/mail/index.html",
        "status": "removed",
        "additions": 0,
        "deletions": 11,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Ftemplates%2Fmail%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Ftemplates%2Fmail%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Ftemplates%2Fmail%2Findex.html?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -1,11 +0,0 @@\n-{% extends \"base_template.html\" %}\n-\n-{% block title %}View mail{% endblock %}\n-\n-{% block content %}\n-\n-{% endblock %}\n-\n-{% block scripts %}\n-    <script src=\"{{ url_for('mail.assets', subfolder='js', filename='scripts.js') }}\"></script>\n-{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/mail/tests/__init__.py",
        "status": "removed",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Ftests%2F__init__.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf"
      },
      {
        "sha": "222e0cf0da1c8e1f6e448d7f8ba188a294439226",
        "filename": "app/modules/mail/tests/locustfile.py",
        "status": "removed",
        "additions": 0,
        "deletions": 21,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Ftests%2Flocustfile.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -1,21 +0,0 @@\n-from locust import HttpUser, TaskSet, task\n-from core.environment.host import get_host_for_locust_testing\n-\n-\n-class MailBehavior(TaskSet):\n-    def on_start(self):\n-        self.index()\n-\n-    @task\n-    def index(self):\n-        response = self.client.get(\"/mail\")\n-\n-        if response.status_code != 200:\n-            print(f\"Mail index failed: {response.status_code}\")\n-\n-\n-class MailUser(HttpUser):\n-    tasks = [MailBehavior]\n-    min_wait = 5000\n-    max_wait = 9000\n-    host = get_host_for_locust_testing()\n\\ No newline at end of file"
      },
      {
        "sha": "f29b9be25ac939d00ee0537597963955c64cfaa7",
        "filename": "app/modules/mail/tests/test_selenium.py",
        "status": "removed",
        "additions": 0,
        "deletions": 35,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Ftests%2Ftest_selenium.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -1,35 +0,0 @@\n-from selenium.common.exceptions import NoSuchElementException\n-import time\n-\n-from core.environment.host import get_host_for_selenium_testing\n-from core.selenium.common import initialize_driver, close_driver\n-\n-\n-def test_mail_index():\n-\n-    driver = initialize_driver()\n-\n-    try:\n-        host = get_host_for_selenium_testing()\n-\n-        # Open the index page\n-        driver.get(f'{host}/mail')\n-\n-        # Wait a little while to make sure the page has loaded completely\n-        time.sleep(4)\n-\n-        try:\n-\n-            pass\n-\n-        except NoSuchElementException:\n-            raise AssertionError('Test failed!')\n-\n-    finally:\n-\n-        # Close the browser\n-        close_driver(driver)\n-\n-\n-# Call the test function\n-test_mail_index()\n\\ No newline at end of file"
      },
      {
        "sha": "d8257763a6bdfe8e4457eb9232944b12ef95b262",
        "filename": "app/modules/mail/tests/test_unit.py",
        "status": "removed",
        "additions": 0,
        "deletions": 24,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Ftests%2Ftest_unit.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -1,24 +0,0 @@\n-import pytest\n-\n-\n-@pytest.fixture(scope='module')\n-def test_client(test_client):\n-    \"\"\"\n-    Extends the test_client fixture to add additional specific data for module testing.\n-    \"\"\"\n-    with test_client.application.app_context():\n-        # Add HERE new elements to the database that you want to exist in the test context.\n-        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n-        pass\n-\n-    yield test_client\n-\n-\n-def test_sample_assertion(test_client):\n-    \"\"\"\n-    Sample test to verify that the test framework and environment are working correctly.\n-    It does not communicate with the Flask application; it only performs a simple assertion to\n-    confirm that the tests in this module can be executed.\n-    \"\"\"\n-    greeting = \"Hello, World!\"\n-    assert greeting == \"Hello, World!\", \"The greeting does not coincide with 'Hello, World!'\"\n\\ No newline at end of file"
      },
      {
        "sha": "8cac4e868cdd26a246d51612557b89593e99c27f",
        "filename": "migrations/versions/5e691cbc6265_quitar_columna_active.py",
        "status": "added",
        "additions": 32,
        "deletions": 0,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/351631f2f42be386d08c33c24975b5a7ef5b3245/migrations%2Fversions%2F5e691cbc6265_quitar_columna_active.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/351631f2f42be386d08c33c24975b5a7ef5b3245/migrations%2Fversions%2F5e691cbc6265_quitar_columna_active.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F5e691cbc6265_quitar_columna_active.py?ref=351631f2f42be386d08c33c24975b5a7ef5b3245",
        "patch": "@@ -0,0 +1,32 @@\n+\"\"\"Quitar columna active\n+\n+Revision ID: 5e691cbc6265\n+Revises: e1a48b0fba37\n+Create Date: 2024-12-15 01:07:30.443842\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = '5e691cbc6265'\n+down_revision = 'e1a48b0fba37'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('user', schema=None) as batch_op:\n+        batch_op.drop_column('active')\n+\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('user', schema=None) as batch_op:\n+        batch_op.add_column(sa.Column('active', mysql.TINYINT(display_width=1), autoincrement=False, nullable=False))\n+\n+    # ### end Alembic commands ###"
      },
      {
        "sha": "40f7c83f3384063b95f36a51d183cb86b6831f44",
        "filename": "migrations/versions/e1a48b0fba37_a\u00f1adir_columna_active.py",
        "status": "added",
        "additions": 49,
        "deletions": 0,
        "changes": 49,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/351631f2f42be386d08c33c24975b5a7ef5b3245/migrations%2Fversions%2Fe1a48b0fba37_a%C3%B1adir_columna_active.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/351631f2f42be386d08c33c24975b5a7ef5b3245/migrations%2Fversions%2Fe1a48b0fba37_a%C3%B1adir_columna_active.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2Fe1a48b0fba37_a%C3%B1adir_columna_active.py?ref=351631f2f42be386d08c33c24975b5a7ef5b3245",
        "patch": "@@ -0,0 +1,49 @@\n+\"\"\"A\u00f1adir columna active\n+\n+Revision ID: e1a48b0fba37\n+Revises: 409208c1be49\n+Create Date: 2024-12-14 12:41:25.662591\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = 'e1a48b0fba37'\n+down_revision = '409208c1be49'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('notepad',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('title', sa.String(length=256), nullable=False),\n+    sa.Column('body', sa.Text(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.drop_table('webhook')\n+    with op.batch_alter_table('user', schema=None) as batch_op:\n+        batch_op.add_column(sa.Column('active', sa.Boolean(), nullable=False))\n+\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('user', schema=None) as batch_op:\n+        batch_op.drop_column('active')\n+\n+    op.create_table('webhook',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.drop_table('notepad')\n+    # ### end Alembic commands ###"
      }
    ]
  },
  {
    "sha": "537143d0cc4acefaea7aa586c18fa2b2878a8c93",
    "node_id": "C_kwDONBuXkNoAKDUzNzE0M2QwY2M0YWNlZmFlYTdhYTU4NmMxOGZhMmIyODc4YThjOTM",
    "commit": {
      "author": {
        "name": "Gon",
        "email": "92763979+gonnavrem@users.noreply.github.com",
        "date": "2024-12-15T19:24:57Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-12-15T19:24:57Z"
      },
      "message": "Merge pull request #26 from chipi-hub-team/feat/rate-datasets\n\nFeat/rate datasets",
      "tree": {
        "sha": "be532c14e59b33fd5d29367a5c3c553d2bc54dd3",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/be532c14e59b33fd5d29367a5c3c553d2bc54dd3"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/537143d0cc4acefaea7aa586c18fa2b2878a8c93",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnXy0JCRC1aQ7uu5UhlAAAfVYQAJlJHmSqdkRjvPw5WMxbhPVo\nRSL+9UrjyS4MbSObX32XF4P4WlWcz7bfoHE0ZiAHud/QwnHJrMN0IHbqfqPLS0nO\nAK/5O80PqXVRvVvvcNNeYAhMGO9d3dREFXhzqN0wpAx8TFvFKBQez6FhF2Lk5nJi\npTca5IZC7Agk0AEqrQSiMHYw3g5AX/1mVC6aPMziQA+b7oWcuNuhFNogjRa5L5SP\nIGp2IE9ZokJ+FIWVAlDhEHlJe2UsJg9k41KyvsNwkXNv9rITTwXpNTD0Z8fJPnYS\nlin/JSk7RyIDQWME66LG18GBg14xLP4hvRCoYEjpeaDEIoyyw4EIF70yMdDduqfG\n3sWVn3zDH+/LdZbChoNjGxqfT0EFYxGt2QRXONLxA7h1ilCGiUdyndFQhyYpwkui\nY/LKxk+tSz1rnlXue5nOBik8WhX4z+0bSNbI8th6OTh+vm2Rqlj9saeZLA4dcJfY\nOE2mqZ70HbI/L5tXovFKENnB9Mlbf1k02Fk79yRAXEB+gIISOkjvqnnk4Eho5M/o\niZGZ8Gjc5WvnacuvhLI0vF9DD7UH66asim0034xnWOzQFZ69zPgflrR5+lmmlCWp\n4Py2H3bGAqb9p23+W9u6cXvcqZvgd+7gtK+o3/vzyBYTN820exVhFuFo/GgyGvKp\nXckvubRl5TMp7Maflnlw\n=Ysqt\n-----END PGP SIGNATURE-----\n",
        "payload": "tree be532c14e59b33fd5d29367a5c3c553d2bc54dd3\nparent ba7605952cd6f46e1983e82af8e729470ed54d99\nparent 7a341e32be45e0e13f7f3b72a56b88179dc430a1\nauthor Gon <92763979+gonnavrem@users.noreply.github.com> 1734290697 +0100\ncommitter GitHub <noreply@github.com> 1734290697 +0100\n\nMerge pull request #26 from chipi-hub-team/feat/rate-datasets\n\nFeat/rate datasets",
        "verified_at": "2024-12-15T19:25:25Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/537143d0cc4acefaea7aa586c18fa2b2878a8c93",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/537143d0cc4acefaea7aa586c18fa2b2878a8c93",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/537143d0cc4acefaea7aa586c18fa2b2878a8c93/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ba7605952cd6f46e1983e82af8e729470ed54d99",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/ba7605952cd6f46e1983e82af8e729470ed54d99",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/ba7605952cd6f46e1983e82af8e729470ed54d99"
      },
      {
        "sha": "7a341e32be45e0e13f7f3b72a56b88179dc430a1",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/7a341e32be45e0e13f7f3b72a56b88179dc430a1",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/7a341e32be45e0e13f7f3b72a56b88179dc430a1"
      }
    ],
    "files": [
      {
        "sha": "d990ad2a28243a658a6ea3914a20a57fee3e5b74",
        "filename": ".moduleignore",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/.moduleignore",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/.moduleignore",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.moduleignore?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -0,0 +1 @@\n+webhook\n\\ No newline at end of file"
      },
      {
        "sha": "9cd0c5b7a5e68b23953c86e3f83321412d9a5b64",
        "filename": "app.log.1",
        "status": "added",
        "additions": 132,
        "deletions": 0,
        "changes": 132,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app.log.1",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app.log.1",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app.log.1?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -0,0 +1,132 @@\n+2024-12-03 13:28:41,889 - app - ERROR - Exception on /doi/10.1234/dataset4/ [GET]\n+Traceback (most recent call last):\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 1473, in wsgi_app\n+    response = self.full_dispatch_request()\n+               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 882, in full_dispatch_request\n+    rv = self.handle_user_exception(e)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 298, in error_router\n+    return original_handler(e)\n+           ^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 880, in full_dispatch_request\n+    rv = self.dispatch_request()\n+         ^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 865, in dispatch_request\n+    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/routes.py\", line 296, in subdomain_index\n+    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user))\n+                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 150, in render_template\n+    return _render(app, template, context)\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 131, in _render\n+    rv = template.render(context)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 1304, in render\n+    self.environment.handle_exception()\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 939, in handle_exception\n+    raise rewrite_traceback_stack(source=source)\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 1, in top-level template code\n+    {% extends \"base_template.html\" %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/templates/base_template.html\", line 204, in top-level template code\n+    {% block content %}{% endblock %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 184, in block 'content'\n+    <button type=\"button\" class=\"btn btn-sm btn-primary\" onclick=\"addRating('{{ dataset.id }}', null, '{{request.user.id}}')\">\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 487, in getattr\n+    return getattr(obj, attribute)\n+           ^^^^^^^^^^^^^^^^^^^^^^^\n+jinja2.exceptions.UndefinedError: 'flask.wrappers.Request object' has no attribute 'user'\n+2024-12-03 13:28:41,894 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.\n+2024-12-03 13:28:47,433 - app - ERROR - Exception on /doi/10.1234/dataset4/ [GET]\n+Traceback (most recent call last):\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 1473, in wsgi_app\n+    response = self.full_dispatch_request()\n+               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 882, in full_dispatch_request\n+    rv = self.handle_user_exception(e)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 298, in error_router\n+    return original_handler(e)\n+           ^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 880, in full_dispatch_request\n+    rv = self.dispatch_request()\n+         ^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 865, in dispatch_request\n+    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/routes.py\", line 296, in subdomain_index\n+    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user))\n+                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 150, in render_template\n+    return _render(app, template, context)\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 131, in _render\n+    rv = template.render(context)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 1304, in render\n+    self.environment.handle_exception()\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 939, in handle_exception\n+    raise rewrite_traceback_stack(source=source)\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 1, in top-level template code\n+    {% extends \"base_template.html\" %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/templates/base_template.html\", line 204, in top-level template code\n+    {% block content %}{% endblock %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 184, in block 'content'\n+    <button type=\"button\" class=\"btn btn-sm btn-primary\" onclick=\"addRating('{{ dataset.id }}', null, '{{request.user.id}}')\">\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 487, in getattr\n+    return getattr(obj, attribute)\n+           ^^^^^^^^^^^^^^^^^^^^^^^\n+jinja2.exceptions.UndefinedError: 'flask.wrappers.Request object' has no attribute 'user'\n+2024-12-03 13:28:47,434 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.\n+2024-12-03 13:28:48,345 - app - ERROR - Exception on /doi/10.1234/dataset4/ [GET]\n+Traceback (most recent call last):\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 1473, in wsgi_app\n+    response = self.full_dispatch_request()\n+               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 882, in full_dispatch_request\n+    rv = self.handle_user_exception(e)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 298, in error_router\n+    return original_handler(e)\n+           ^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 880, in full_dispatch_request\n+    rv = self.dispatch_request()\n+         ^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 865, in dispatch_request\n+    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/routes.py\", line 296, in subdomain_index\n+    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user))\n+                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 150, in render_template\n+    return _render(app, template, context)\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 131, in _render\n+    rv = template.render(context)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 1304, in render\n+    self.environment.handle_exception()\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 939, in handle_exception\n+    raise rewrite_traceback_stack(source=source)\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 1, in top-level template code\n+    {% extends \"base_template.html\" %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/templates/base_template.html\", line 204, in top-level template code\n+    {% block content %}{% endblock %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 184, in block 'content'\n+    <button type=\"button\" class=\"btn btn-sm btn-primary\" onclick=\"addRating('{{ dataset.id }}', null, '{{request.user.id}}')\">\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 487, in getattr\n+    return getattr(obj, attribute)\n+           ^^^^^^^^^^^^^^^^^^^^^^^\n+jinja2.exceptions.UndefinedError: 'flask.wrappers.Request object' has no attribute 'user'\n+2024-12-03 13:28:48,347 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application."
      },
      {
        "sha": "7abdfb4929fdd2fd1bf6e8f42f424df24b979c5a",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 16,
        "deletions": 2,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -32,12 +32,14 @@\n     DataSetService,\n     DOIMappingService\n )\n+from app.modules.rating.services import RatingService\n from app.modules.zenodo.services import ZenodoService\n \n logger = logging.getLogger(__name__)\n \n \n dataset_service = DataSetService()\n+rating_service = RatingService()\n author_service = AuthorService()\n dsmetadata_service = DSMetaDataService()\n zenodo_service = ZenodoService()\n@@ -288,12 +290,24 @@ def subdomain_index(doi):\n     if not ds_meta_data:\n         abort(404)\n \n-    # Get dataset\n+    # Get dataset data\n     dataset = ds_meta_data.data_set\n+    dataset_ratings = rating_service.get_total_ratings_for_dataset(dataset.id)\n+    user_already_rated = False\n+    if current_user.is_authenticated:\n+        user_already_rated = rating_service.user_already_rated_dataset(dataset.id, current_user.id)\n \n     # Save the cookie to the user's browser\n     user_cookie = ds_view_record_service.create_cookie(dataset=dataset)\n-    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user))\n+    resp = make_response(\n+        render_template(\n+            \"dataset/view_dataset.html\",\n+            dataset=dataset,\n+            current_user=current_user,\n+            dataset_ratings=dataset_ratings,\n+            user_already_rated=user_already_rated\n+        )\n+    )\n     resp.set_cookie(\"view_cookie\", user_cookie)\n \n     return resp"
      },
      {
        "sha": "5d813ac93806d6fbe64d0696b5558e6e7bd4da68",
        "filename": "app/modules/dataset/templates/dataset/view_dataset.html",
        "status": "modified",
        "additions": 55,
        "deletions": 0,
        "changes": 55,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -174,10 +174,20 @@ <h1><b>{{ dataset.ds_meta_data.title }}</b></h1>\n                         {{ dataset.get_uvlhub_doi() }}\n                     </span>\n                 </button>\n+\n+                \n                 \n                 <div id=\"dataset_doi_uvlhub\" style=\"display: none\">\n                     {{ dataset.get_uvlhub_doi() }}\n                 </div>\n+                {% if current_user.is_authenticated %}\n+                    <button type=\"button\" class=\"btn btn-sm btn-primary\" style=\"margin-top: 10px; border-radius: 5px\" onclick=\"addRating('{{ dataset.id }}', '{{current_user.id}}')\">\n+                        <i id=\"unrated-icon\" data-feather=\"star\" class=\"center-button-icon\" style=\"cursor: pointer\"></i>\n+                        <i id=\"rated-icon\" class=\"fas fa-star\" style=\"cursor: pointer\"></i>\n+                        <b>Star</b>\n+                        <span id=\"rating-count-{{ dataset.id }}\">{{dataset_ratings}}</span>\n+                    </button>\n+                {% endif %}\n                 \n             </div>\n             {% endif %}\n@@ -562,6 +572,51 @@ <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n         .catch(error => console.error('Error loading file:', error));\n     }\n \n+    function addRating(datasetId, user_id) {\n+            fetch('/rating/add', {\n+                method: 'POST',\n+                headers: {\n+                    'Content-Type': 'application/json'\n+                },\n+                body: JSON.stringify({\n+                    dataset_id: datasetId,\n+                    user_id: user_id,\n+                })\n+            })\n+            .then(response => response.json())\n+            .then(data => {\n+                updateRatingCount(datasetId);\n+            })\n+            .catch(error => {\n+                console.error('Error:', error);\n+            });\n+    }\n+\n+    let user_already_rated = {{ user_already_rated | tojson }};\n+    if (user_already_rated) {\n+        document.getElementById('unrated-icon').style.display = \"none\";\n+    } else {\n+        document.getElementById('rated-icon').style.display = \"none\";\n+    }\n+\n+    function updateRatingCount(datasetId) {\n+        fetch(`/rating/total/dataset/${datasetId}`)\n+            .then(response => response.json())\n+            .then(data => {\n+                document.getElementById(`rating-count-${datasetId}`).innerText = data.total_ratings;\n+                user_already_rated = data.user_already_rated;\n+                if (user_already_rated) {\n+                    document.getElementById('unrated-icon').style.display = \"none\";\n+                    document.getElementById('rated-icon').style.display = \"inline\";\n+                } else {\n+                    document.getElementById('rated-icon').style.display = \"none\";\n+                    document.getElementById('unrated-icon').style.display = \"inline\";\n+                }\n+            })\n+            .catch(error => {\n+                console.error('Error:', error);\n+            });\n+    }\n </script>\n \n {% endblock %}"
      },
      {
        "sha": "f930a79c48dc9a1a7305cc29fc17d8dc5c1ea53f",
        "filename": "app/modules/featuremodel/models.py",
        "status": "modified",
        "additions": 9,
        "deletions": 0,
        "changes": 9,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Ffeaturemodel%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Ffeaturemodel%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffeaturemodel%2Fmodels.py?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -14,6 +14,15 @@ class FeatureModel(db.Model):\n     def __repr__(self):\n         return f'FeatureModel<{self.id}>'\n \n+    def to_dict(self):\n+        return {\n+            'id': self.id,\n+            'data_set_id': self.data_set_id,\n+            'fm_meta_data_id': self.fm_meta_data_id,\n+            'files': [file.to_dict() for file in self.files],\n+            'fm_meta_data': self.fm_meta_data.to_dict()\n+        }\n+\n \n class FMMetaData(db.Model):\n     id = db.Column(db.Integer, primary_key=True)"
      },
      {
        "sha": "67deaac42fef0341466219f80dea2b59501083af",
        "filename": "app/modules/notepad/models.py",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Fnotepad%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Fnotepad%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Fmodels.py?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -11,3 +11,11 @@ class Notepad(db.Model):\n \n     def __repr__(self):\n         return f'Notepad<{self.id}, Title={self.title}, Author={self.user.username}>'\n+\n+    def to_dict(self):\n+        return {\n+            'id': self.id,\n+            'title': self.title,\n+            'body': self.body,\n+            'user_id': self.user_id\n+        }"
      },
      {
        "sha": "c28c608f396998e6388e7bdec9b1d19dbeb67cc9",
        "filename": "app/modules/rating/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2F__init__.py?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+rating_bp = BaseBlueprint('rating', __name__, template_folder='templates')"
      },
      {
        "sha": "c4d1ae2d53558664b844fcaa48b709715aa489bd",
        "filename": "app/modules/rating/assets/scripts.js",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fassets%2Fscripts.js?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script loaded from rating module\");"
      },
      {
        "sha": "b2e9ea95960522fe1d23276d76cd20ea213ff17c",
        "filename": "app/modules/rating/forms.py",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fforms.py?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -0,0 +1,6 @@\n+from flask_wtf import FlaskForm\n+from wtforms import SubmitField\n+\n+\n+class RatingForm(FlaskForm):\n+    submit = SubmitField('Save rating')"
      },
      {
        "sha": "90975f6de639b5651fd9cc3388b26a80266d87c3",
        "filename": "app/modules/rating/models.py",
        "status": "added",
        "additions": 10,
        "deletions": 0,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fmodels.py?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -0,0 +1,10 @@\n+from app import db\n+\n+\n+class Rating(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+    dataset_id = db.Column(db.Integer, nullable=False)\n+    user_id = db.Column(db.Integer, nullable=False)\n+\n+    def __repr__(self):\n+        return f'Rating<{self.id}, Dataset<{self.dataset_id}>, User<{self.user_id}>>'"
      },
      {
        "sha": "3e604f880cb0428697ac61d4424496127ce084bf",
        "filename": "app/modules/rating/repositories.py",
        "status": "added",
        "additions": 31,
        "deletions": 0,
        "changes": 31,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Frepositories.py?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -0,0 +1,31 @@\n+from app.modules.rating.models import Rating\n+from core.repositories.BaseRepository import BaseRepository\n+\n+\n+class RatingRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(Rating)\n+\n+    def add(self, rating):\n+        self.session.add(rating)\n+\n+    def delete(self, rating):\n+        self.session.delete(rating)\n+\n+    def get_by_id(self, rating_id):\n+        return self.session.query(Rating).filter_by(id=rating_id).first()\n+\n+    def get_by_dataset_id(self, dataset_id):\n+        return self.session.query(Rating).filter_by(dataset_id=dataset_id).all()\n+\n+    def get_by_dataset_id_and_user_id(self, dataset_id, user_id):\n+        return self.session.query(Rating).filter_by(dataset_id=dataset_id, user_id=user_id).all()\n+\n+    def commit(self):\n+        self.session.commit()\n+\n+    def get_query(self):\n+        return self.session.query(Rating)\n+\n+    def query(self):\n+        return self.get_query()"
      },
      {
        "sha": "f5145fcd56e87c5e02d641769e443b753a2e7cd5",
        "filename": "app/modules/rating/routes.py",
        "status": "added",
        "additions": 34,
        "deletions": 0,
        "changes": 34,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Froutes.py?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -0,0 +1,34 @@\n+from flask import render_template, request, jsonify\n+from app.modules.rating import rating_bp\n+from app.modules.rating.services import RatingService\n+from flask_login import current_user\n+\n+rating_service = RatingService()\n+\n+\n+@rating_bp.route('/rating', methods=['GET'])\n+def index():\n+    return render_template('rating/index.html')\n+\n+\n+@rating_bp.route('/rating/add', methods=['POST'])\n+def add_rating():\n+    data = request.get_json()\n+    dataset_id = data.get('dataset_id')\n+    user_id = data.get('user_id')\n+\n+    rating_service.add_or_remove_rating(dataset_id, user_id)\n+    return jsonify({'message': 'Rating added successfully'}), 201\n+\n+\n+@rating_bp.route('/rating/remove/<int:rating_id>', methods=['DELETE'])\n+def remove_rating(rating_id):\n+    rating_service.remove_rating(rating_id)\n+    return jsonify({'message': 'Rating removed successfully'}), 200\n+\n+\n+@rating_bp.route('/rating/total/dataset/<int:dataset_id>', methods=['GET'])\n+def total_ratings_for_dataset(dataset_id):\n+    total = rating_service.get_total_ratings_for_dataset(dataset_id)\n+    user_already_rated = rating_service.user_already_rated_dataset(dataset_id, current_user.id)\n+    return jsonify({'total_ratings': total, 'user_already_rated': user_already_rated}), 200"
      },
      {
        "sha": "075e3cde25b2734ca2286d34ce0bc2cdff3fe24b",
        "filename": "app/modules/rating/seeders.py",
        "status": "added",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fseeders.py?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -0,0 +1,12 @@\n+from core.seeders.BaseSeeder import BaseSeeder\n+\n+\n+class RatingSeeder(BaseSeeder):\n+\n+    def run(self):\n+\n+        data = [\n+            # Create any Model object you want to make seed\n+        ]\n+\n+        self.seed(data)"
      },
      {
        "sha": "0ef6e19762dd6ab6690d0d5d9a546976816bec5c",
        "filename": "app/modules/rating/services.py",
        "status": "added",
        "additions": 31,
        "deletions": 0,
        "changes": 31,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fservices.py?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -0,0 +1,31 @@\n+from app.modules.rating.repositories import RatingRepository\n+from core.services.BaseService import BaseService\n+from app.modules.rating.models import Rating\n+\n+\n+class RatingService(BaseService):\n+    def __init__(self):\n+        super().__init__(RatingRepository())\n+\n+    def add_or_remove_rating(self, dataset_id, user_id):\n+        rating = Rating(dataset_id=dataset_id, user_id=user_id)\n+        if not self.user_already_rated_dataset(dataset_id, user_id):\n+            self.repository.add(rating)\n+            self.repository.commit()\n+        else:\n+            self.remove_ratings(dataset_id, user_id)\n+\n+    def remove_ratings(self, dataset_id, user_id):\n+        ratings = self.repository.get_by_dataset_id_and_user_id(dataset_id, user_id)\n+        if ratings:\n+            for rating in ratings:\n+                self.repository.delete(rating)\n+            self.repository.commit()\n+\n+    def user_already_rated_dataset(self, dataset_id, user_id):\n+        if self.repository.get_by_dataset_id_and_user_id(dataset_id, user_id):\n+            return True\n+        return False\n+\n+    def get_total_ratings_for_dataset(self, dataset_id):\n+        return self.repository.get_query().filter_by(dataset_id=dataset_id).count()"
      },
      {
        "sha": "bcab6018c51456a4a74fb515c761a74e6dd8542d",
        "filename": "app/modules/rating/templates/rating/index.html",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Ftemplates%2Frating%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Ftemplates%2Frating%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftemplates%2Frating%2Findex.html?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -0,0 +1,11 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View rating{% endblock %}\n+\n+{% block content %}\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('rating.scripts') }}\"></script>\n+{% endblock %}"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/rating/tests/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2F__init__.py?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93"
      },
      {
        "sha": "e8e19f9a730f3ab6fb991d9f630bd150338f4d2d",
        "filename": "app/modules/rating/tests/locustfile.py",
        "status": "added",
        "additions": 21,
        "deletions": 0,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2Flocustfile.py?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -0,0 +1,21 @@\n+from locust import HttpUser, TaskSet, task\n+from core.environment.host import get_host_for_locust_testing\n+\n+\n+class RatingBehavior(TaskSet):\n+    def on_start(self):\n+        self.index()\n+\n+    @task\n+    def index(self):\n+        response = self.client.get(\"/rating\")\n+\n+        if response.status_code != 200:\n+            print(f\"Rating index failed: {response.status_code}\")\n+\n+\n+class RatingUser(HttpUser):\n+    tasks = [RatingBehavior]\n+    min_wait = 5000\n+    max_wait = 9000\n+    host = get_host_for_locust_testing()"
      },
      {
        "sha": "7cd3074f4aee6a6ba628f013e281ed907b3d9c02",
        "filename": "app/modules/rating/tests/test_selenium.py",
        "status": "added",
        "additions": 160,
        "deletions": 0,
        "changes": 160,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2Ftest_selenium.py?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -0,0 +1,160 @@\n+from selenium.common.exceptions import NoSuchElementException\n+from selenium.webdriver.common.keys import Keys\n+import time\n+\n+from core.environment.host import get_host_for_selenium_testing\n+from core.selenium.common import initialize_driver, close_driver\n+\n+from selenium.webdriver.common.by import By\n+\n+\n+def test_rating_index():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}/rating')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(1)\n+\n+        try:\n+\n+            pass\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Test failed!')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+def test_rating_button_not_appear_no_login():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(1)\n+\n+        driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n+\n+        # Assert button not appear\n+        try:\n+            driver.find_element(By.XPATH, \"//*[contains(@id, 'rating-button-')]\")\n+            raise AssertionError('Rating button should not appear if user is not logged in')\n+        except NoSuchElementException:\n+            pass\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+def test_rating_button_appear_logged():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(1)\n+\n+        # Open the login page\n+        driver.get(f\"{host}/login\")\n+\n+        # Find the username and password field and enter the values\n+        email_field = driver.find_element(By.NAME, \"email\")\n+        password_field = driver.find_element(By.NAME, \"password\")\n+\n+        email_field.send_keys(\"user1@example.com\")\n+        password_field.send_keys(\"1234\")\n+\n+        # Send the form\n+        password_field.send_keys(Keys.RETURN)\n+\n+        driver.get(f\"{host}/doi/10.1234/dataset4/\")\n+\n+        # Assert button appear\n+\n+        try:\n+            driver.find_element(By.XPATH, \"//*[contains(text(), 'Star')]\")\n+        except NoSuchElementException:\n+            raise AssertionError('Rating button should appear if user is logged in')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+def test_rating_button_change():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(1)\n+\n+        # Open the login page\n+        driver.get(f\"{host}/login\")\n+\n+        # Find the username and password field and enter the values\n+        email_field = driver.find_element(By.NAME, \"email\")\n+        password_field = driver.find_element(By.NAME, \"password\")\n+\n+        email_field.send_keys(\"user1@example.com\")\n+        password_field.send_keys(\"1234\")\n+\n+        # Send the form\n+        password_field.send_keys(Keys.RETURN)\n+\n+        driver.get(f\"{host}/doi/10.1234/dataset4/\")\n+\n+        # Assert button change\n+\n+        try:\n+            star = driver.find_element(By.XPATH, \"//*[contains(text(), 'Star')]\")\n+\n+            # get parent\n+            button = star.find_element(By.XPATH, \"..\")\n+            button.find_element(By.XPATH, \"//*[contains(text(), '0')]\")\n+\n+            button.click()\n+\n+            button.find_element(By.XPATH, \"//*[contains(text(), '1')]\")\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Rating button should change')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+# Call the test function\n+test_rating_index()\n+test_rating_button_not_appear_no_login()\n+test_rating_button_appear_logged()\n+test_rating_button_change()"
      },
      {
        "sha": "b5836fb058a689fb35e5e64f2fe509273ce9229d",
        "filename": "app/modules/rating/tests/test_unit.py",
        "status": "added",
        "additions": 109,
        "deletions": 0,
        "changes": 109,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -0,0 +1,109 @@\n+import pytest\n+from unittest.mock import patch, MagicMock\n+from app.modules.rating.services import RatingService\n+\n+\n+@pytest.fixture\n+def rating_service():\n+    return RatingService()\n+\n+\n+def test_add_or_remove_rating_add(rating_service):\n+    with patch.object(rating_service.repository, 'add') as mock_add, \\\n+         patch.object(rating_service.repository, 'commit') as mock_commit, \\\n+         patch.object(rating_service, 'user_already_rated_dataset', return_value=False) as mock_user_already_rated:\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        rating_service.add_or_remove_rating(dataset_id, user_id)\n+\n+        mock_add.assert_called_once()\n+        mock_commit.assert_called_once()\n+        mock_user_already_rated.assert_called_once_with(dataset_id, user_id)\n+\n+\n+def test_add_or_remove_rating_remove(rating_service):\n+    with patch.object(rating_service, 'remove_ratings') as mock_remove_ratings, \\\n+         patch.object(rating_service, 'user_already_rated_dataset', return_value=True) as mock_user_already_rated:\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        rating_service.add_or_remove_rating(dataset_id, user_id)\n+\n+        mock_remove_ratings.assert_called_once_with(dataset_id, user_id)\n+        mock_user_already_rated.assert_called_once_with(dataset_id, user_id)\n+\n+\n+def test_remove_ratings(rating_service):\n+    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_datasetid_and_userid, \\\n+         patch.object(rating_service.repository, 'delete') as mock_delete, \\\n+         patch.object(rating_service.repository, 'commit') as mock_commit:\n+\n+        mock_ratings = [MagicMock(id=1), MagicMock(id=2)]\n+        mock_get_by_datasetid_and_userid.return_value = mock_ratings\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        rating_service.remove_ratings(dataset_id, user_id)\n+\n+        assert mock_delete.call_count == len(mock_ratings)\n+        mock_commit.assert_called_once()\n+\n+\n+def test_user_already_rated_dataset(rating_service):\n+    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_datasetid_and_userid:\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        mock_get_by_datasetid_and_userid.return_value = [MagicMock(id=1)]\n+\n+        result = rating_service.user_already_rated_dataset(dataset_id, user_id)\n+\n+        assert result is True\n+        mock_get_by_datasetid_and_userid.assert_called_once_with(dataset_id, user_id)\n+\n+\n+def test_user_already_rated_dataset_no_ratings(rating_service):\n+    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_datasetid_and_userid:\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        mock_get_by_datasetid_and_userid.return_value = []\n+\n+        result = rating_service.user_already_rated_dataset(dataset_id, user_id)\n+\n+        assert result is False\n+        mock_get_by_datasetid_and_userid.assert_called_once_with(dataset_id, user_id)\n+\n+\n+def test_get_total_ratings_for_dataset(rating_service):\n+    with patch.object(rating_service.repository, 'get_query') as mock_get_query:\n+\n+        dataset_id = 1\n+        mock_query = MagicMock()\n+        mock_query.filter_by.return_value.count.return_value = 5\n+        mock_get_query.return_value = mock_query\n+\n+        result = rating_service.get_total_ratings_for_dataset(dataset_id)\n+\n+        assert result == 5\n+        mock_query.filter_by.assert_called_once_with(dataset_id=dataset_id)\n+\n+\n+def test_get_total_ratings_for_dataset_no_ratings(rating_service):\n+    with patch.object(rating_service.repository, 'get_query') as mock_get_query:\n+\n+        dataset_id = 1\n+        mock_query = MagicMock()\n+        mock_query.filter_by.return_value.count.return_value = 0\n+        mock_get_query.return_value = mock_query\n+\n+        result = rating_service.get_total_ratings_for_dataset(dataset_id)\n+\n+        assert result == 0\n+        mock_query.filter_by.assert_called_once_with(dataset_id=dataset_id)"
      },
      {
        "sha": "141a52fd5f775c63ffafd5925719234c7bb2e463",
        "filename": "app/templates/base_template.html",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Ftemplates%2Fbase_template.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/app%2Ftemplates%2Fbase_template.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Ftemplates%2Fbase_template.html?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -33,6 +33,8 @@\n \n     <link rel=\"stylesheet\" href=\"{{ url_for(\"static\", filename=\"css/own.css\") }}\">\n \n+    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css\">\n+\n </head>\n \n <body>"
      },
      {
        "sha": "296852391220bf3899f574a8fc5f1db8246690cc",
        "filename": "migrations/versions/37853c4079e5_.py",
        "status": "added",
        "additions": 51,
        "deletions": 0,
        "changes": 51,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/migrations%2Fversions%2F37853c4079e5_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/migrations%2Fversions%2F37853c4079e5_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F37853c4079e5_.py?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -0,0 +1,51 @@\n+\"\"\"empty message\n+\n+Revision ID: 37853c4079e5\n+Revises: 001\n+Create Date: 2024-12-03 13:48:39.432689\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = '37853c4079e5'\n+down_revision = '001'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('rating',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('dataset_id', sa.Integer(), nullable=False),\n+    sa.Column('model_id', sa.Integer(), nullable=True),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('notepad',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('title', sa.String(length=256), nullable=False),\n+    sa.Column('body', sa.Text(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.drop_table('webhook')\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('webhook',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.drop_table('notepad')\n+    op.drop_table('rating')\n+    # ### end Alembic commands ###"
      },
      {
        "sha": "5c7ddcf0e72668b59afa29a571306b0405919a96",
        "filename": "migrations/versions/ba7297057859_.py",
        "status": "added",
        "additions": 59,
        "deletions": 0,
        "changes": 59,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/migrations%2Fversions%2Fba7297057859_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/migrations%2Fversions%2Fba7297057859_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2Fba7297057859_.py?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -0,0 +1,59 @@\n+\"\"\"empty message\n+\n+Revision ID: ba7297057859\n+Revises: f5d9fcd69235\n+Create Date: 2024-12-09 12:07:24.556213\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = 'ba7297057859'\n+down_revision = 'f5d9fcd69235'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('rating',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('dataset_id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.drop_table('feature_model_ratings')\n+    op.drop_table('dataset_ratings')\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('dataset_ratings',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.Column('dataset_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.Column('user_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.Column('rating', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.ForeignKeyConstraint(['dataset_id'], ['data_set.id'], name='dataset_ratings_ibfk_1'),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], name='dataset_ratings_ibfk_2'),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.create_table('feature_model_ratings',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.Column('feature_model_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.Column('user_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.Column('rating', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.ForeignKeyConstraint(['feature_model_id'], ['feature_model.id'], name='feature_model_ratings_ibfk_1'),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], name='feature_model_ratings_ibfk_2'),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.drop_table('rating')\n+    # ### end Alembic commands ###"
      },
      {
        "sha": "f0687e5e7fe3d0f69805822900729dc87f40b01a",
        "filename": "migrations/versions/f5d9fcd69235_.py",
        "status": "added",
        "additions": 32,
        "deletions": 0,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/537143d0cc4acefaea7aa586c18fa2b2878a8c93/migrations%2Fversions%2Ff5d9fcd69235_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/537143d0cc4acefaea7aa586c18fa2b2878a8c93/migrations%2Fversions%2Ff5d9fcd69235_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2Ff5d9fcd69235_.py?ref=537143d0cc4acefaea7aa586c18fa2b2878a8c93",
        "patch": "@@ -0,0 +1,32 @@\n+\"\"\"empty message\n+\n+Revision ID: f5d9fcd69235\n+Revises: 37853c4079e5\n+Create Date: 2024-12-04 17:18:27.045262\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = 'f5d9fcd69235'\n+down_revision = '37853c4079e5'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('rating', schema=None) as batch_op:\n+        batch_op.drop_column('model_id')\n+\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('rating', schema=None) as batch_op:\n+        batch_op.add_column(sa.Column('model_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True))\n+\n+    # ### end Alembic commands ###"
      }
    ]
  },
  {
    "sha": "1c3f7ba2d9f9abdcd91e81e1f121e775836d90be",
    "node_id": "C_kwDONBuXkNoAKDFjM2Y3YmEyZDlmOWFiZGNkOTFlODFlMWYxMjFlNzc1ODM2ZDkwYmU",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-15T12:41:31Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-15T12:41:31Z"
      },
      "message": "fix: Update test_unit to correctly mark the test\n\nUpdate the unit_test class from the datset module to mark the tests that cannot be done outside a local environment",
      "tree": {
        "sha": "e12950797475065434c6767a2b564710eb638f5c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/e12950797475065434c6767a2b564710eb638f5c"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/1c3f7ba2d9f9abdcd91e81e1f121e775836d90be",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/1c3f7ba2d9f9abdcd91e81e1f121e775836d90be",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/1c3f7ba2d9f9abdcd91e81e1f121e775836d90be",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/1c3f7ba2d9f9abdcd91e81e1f121e775836d90be/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d5773c45529d1fc0e0d5ced1ce811047a787b334",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d5773c45529d1fc0e0d5ced1ce811047a787b334",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/d5773c45529d1fc0e0d5ced1ce811047a787b334"
      }
    ],
    "files": [
      {
        "sha": "85267e2667cb3e93654b45f7078630d47ea6f9eb",
        "filename": "app/modules/dataset/tests/test_unit.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/1c3f7ba2d9f9abdcd91e81e1f121e775836d90be/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/1c3f7ba2d9f9abdcd91e81e1f121e775836d90be/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py?ref=1c3f7ba2d9f9abdcd91e81e1f121e775836d90be",
        "patch": "@@ -32,6 +32,7 @@ def test_download_all_dataset(test_client):\n     test_client.get(\"/logout\", follow_redirects=True)\n \n \n+@pytest.mark.local\n def test_publish_dataset_success(test_client):\n     \"\"\"\n     Positive case: Publish an unpublished dataset.\n@@ -128,7 +129,6 @@ def test_publish_all_datasets_success(test_client):\n     logout(test_client)\n \n \n-@pytest.mark.local\n def test_publish_dataset_already_published(test_client):\n     \"\"\"\n     Negative case: Try to publish an already published dataset."
      }
    ]
  },
  {
    "sha": "d5773c45529d1fc0e0d5ced1ce811047a787b334",
    "node_id": "C_kwDONBuXkNoAKGQ1NzczYzQ1NTI5ZDFmYzBlMGQ1Y2VkMWNlODExMDQ3YTc4N2IzMzQ",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-15T12:36:31Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-15T12:36:31Z"
      },
      "message": "fix: Correction of the unit testing\n\nUpdate the workflow to run only the tests that can be done without running the application",
      "tree": {
        "sha": "df6c6ac1fa8190d271b44e7c0fff8a187af975a4",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/df6c6ac1fa8190d271b44e7c0fff8a187af975a4"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/d5773c45529d1fc0e0d5ced1ce811047a787b334",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d5773c45529d1fc0e0d5ced1ce811047a787b334",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/d5773c45529d1fc0e0d5ced1ce811047a787b334",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d5773c45529d1fc0e0d5ced1ce811047a787b334/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "351e4658b482e79b6a6b47d905d656aaa9312803",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/351e4658b482e79b6a6b47d905d656aaa9312803",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/351e4658b482e79b6a6b47d905d656aaa9312803"
      }
    ],
    "files": [
      {
        "sha": "3c87d318518de1cbf2552f63c3a94bc1fc28613f",
        "filename": ".github/workflows/tests.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d5773c45529d1fc0e0d5ced1ce811047a787b334/.github%2Fworkflows%2Ftests.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d5773c45529d1fc0e0d5ced1ce811047a787b334/.github%2Fworkflows%2Ftests.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Ftests.yml?ref=d5773c45529d1fc0e0d5ced1ce811047a787b334",
        "patch": "@@ -62,7 +62,7 @@ jobs:\n     - name: Upload coverage to Codacy\n       run: |\n         pip install codacy-coverage\n-        coverage run -m pytest app/modules/ --ignore-glob='*selenium*'\n+        coverage run -m pytest app/modules/ -m \"not local\" --ignore-glob='*selenium*'\n         coverage xml \n         python-codacy-coverage -r coverage.xml\n       env:\n@@ -83,5 +83,5 @@ jobs:\n         MARIADB_USER: uvlhub_user\n         MARIADB_PASSWORD: uvlhub_password\n       run: |\n-        pytest app/modules/ --ignore-glob='*selenium*'\n+        pytest app/modules/ -m \"not local\" --ignore-glob='*selenium*'\n "
      },
      {
        "sha": "a9d8f67873e2b2350b03fed3aa1bd16ce66df956",
        "filename": "app/modules/dataset/tests/test_unit.py",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d5773c45529d1fc0e0d5ced1ce811047a787b334/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d5773c45529d1fc0e0d5ced1ce811047a787b334/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py?ref=d5773c45529d1fc0e0d5ced1ce811047a787b334",
        "patch": "@@ -71,6 +71,7 @@ def test_publish_dataset_success(test_client):\n     logout(test_client)\n \n \n+@pytest.mark.local\n def test_publish_all_datasets_success(test_client):\n     \"\"\"\n     Positive case: Publish all unpublished datasets.\n@@ -127,6 +128,7 @@ def test_publish_all_datasets_success(test_client):\n     logout(test_client)\n \n \n+@pytest.mark.local\n def test_publish_dataset_already_published(test_client):\n     \"\"\"\n     Negative case: Try to publish an already published dataset."
      },
      {
        "sha": "f2a4903b9241dee43c6a89fd14270c2bd8b71313",
        "filename": "app/modules/pytest.ini",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d5773c45529d1fc0e0d5ced1ce811047a787b334/app%2Fmodules%2Fpytest.ini",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d5773c45529d1fc0e0d5ced1ce811047a787b334/app%2Fmodules%2Fpytest.ini",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fpytest.ini?ref=d5773c45529d1fc0e0d5ced1ce811047a787b334",
        "patch": "@@ -1,3 +1,5 @@\n [pytest]\n filterwarnings =\n     ignore::DeprecationWarning\n+markers =\n+    local: Tests que solo se ejecutar\u00e1n en local\n\\ No newline at end of file"
      }
    ]
  },
  {
    "sha": "351e4658b482e79b6a6b47d905d656aaa9312803",
    "node_id": "C_kwDONBuXkNoAKDM1MWU0NjU4YjQ4MmU3OWI2YTZiNDdkOTA1ZDY1NmFhYTkzMTI4MDM",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-15T12:09:09Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-15T12:09:09Z"
      },
      "message": "fix: Update  publish_dataset route\n\nUpdate the publish_dataset route to fix the codacy Static Analisys warning",
      "tree": {
        "sha": "937fb484da5064c0aed9973af3e56e43e6709d0d",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/937fb484da5064c0aed9973af3e56e43e6709d0d"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/351e4658b482e79b6a6b47d905d656aaa9312803",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/351e4658b482e79b6a6b47d905d656aaa9312803",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/351e4658b482e79b6a6b47d905d656aaa9312803",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/351e4658b482e79b6a6b47d905d656aaa9312803/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "9179b85e4a42681a8deef380c8b42001ada376bb",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/9179b85e4a42681a8deef380c8b42001ada376bb",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/9179b85e4a42681a8deef380c8b42001ada376bb"
      }
    ],
    "files": [
      {
        "sha": "0576f9881af38f12adf472e9aa3358f5cb412369",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 3,
        "deletions": 5,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/351e4658b482e79b6a6b47d905d656aaa9312803/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/351e4658b482e79b6a6b47d905d656aaa9312803/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=351e4658b482e79b6a6b47d905d656aaa9312803",
        "patch": "@@ -317,8 +317,6 @@ def publish_all_datasets():\n                 deposition_doi = zenodo_service.get_doi(deposition_id)\n                 dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n \n-                logger.info(f\"Dataset ID {dataset.id}: Successfully published to Zenodo!\")\n-\n             except Exception as e:\n                 errors.append(f\"Dataset ID {dataset.id}: Error during publication process. {str(e)}\")\n \n@@ -356,14 +354,14 @@ def publish_dataset(dataset_id):\n         for feature_model in dataset.feature_models:\n             try:\n                 zenodo_service.upload_file(dataset, deposition_id, feature_model)\n-            except Exception:\n-                continue\n+            except Exception as e:\n+                # Log the error instead of using continue\n+                logger.error(f\"Error uploading feature model for dataset {dataset.id}: {str(e)}\")\n \n         zenodo_service.publish_deposition(deposition_id)\n         deposition_doi = zenodo_service.get_doi(deposition_id)\n         dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n \n-        logger.info(f\"Dataset ID {dataset.id}: Successfully published to Zenodo!\")\n         return redirect(\"/dataset/list\")\n \n     except Exception as exc:"
      }
    ]
  },
  {
    "sha": "9179b85e4a42681a8deef380c8b42001ada376bb",
    "node_id": "C_kwDONBuXkNoAKDkxNzliODVlNGE0MjY4MWE4ZGVlZjM4MGM4YjQyMDAxYWRhMzc2YmI",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-15T11:46:09Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-15T11:46:09Z"
      },
      "message": "fix: Locust test updated\n\nUpdated Locust test to fix Codacy Static Code Analysis",
      "tree": {
        "sha": "d545aa2b597409db2d5769deb3a45020e04a2e71",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/d545aa2b597409db2d5769deb3a45020e04a2e71"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/9179b85e4a42681a8deef380c8b42001ada376bb",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/9179b85e4a42681a8deef380c8b42001ada376bb",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/9179b85e4a42681a8deef380c8b42001ada376bb",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/9179b85e4a42681a8deef380c8b42001ada376bb/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f49605041d5aaabe7fedd61084b281756bda8a69",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f49605041d5aaabe7fedd61084b281756bda8a69",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/f49605041d5aaabe7fedd61084b281756bda8a69"
      }
    ],
    "files": [
      {
        "sha": "53462ff65e23cb4256c89cee3baa2a7524c2043f",
        "filename": "app/modules/dataset/tests/locustfile.py",
        "status": "modified",
        "additions": 4,
        "deletions": 2,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/9179b85e4a42681a8deef380c8b42001ada376bb/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/9179b85e4a42681a8deef380c8b42001ada376bb/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py?ref=9179b85e4a42681a8deef380c8b42001ada376bb",
        "patch": "@@ -1,7 +1,7 @@\n from locust import HttpUser, TaskSet, task\n from core.locust.common import get_csrf_token\n from core.environment.host import get_host_for_locust_testing\n-import random\n+import secrets\n \n \n class DatasetBehavior(TaskSet):\n@@ -24,8 +24,10 @@ class DatasetUser(HttpUser):\n class DatasetPublishBehavior(TaskSet):\n     @task\n     def publish_dataset(self):\n-        dataset_id = random.randint(1, 100)\n+        # Genera un n\u00famero aleatorio seguro para la publicaci\u00f3n del dataset\n+        dataset_id = secrets.randbelow(100) + 1  # Genera un n\u00famero entre 1 y 100\n         response = self.client.post(f\"/dataset/{dataset_id}/publish\")\n+\n         if response.status_code == 200:\n             print(f\"Dataset {dataset_id} publicado con \u00e9xito\")\n         elif response.status_code == 400:"
      }
    ]
  },
  {
    "sha": "f49605041d5aaabe7fedd61084b281756bda8a69",
    "node_id": "C_kwDONBuXkNoAKGY0OTYwNTA0MWQ1YWFhYmU3ZmVkZDYxMDg0YjI4MTc1NmJkYThhNjk",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-15T11:42:12Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-15T11:42:12Z"
      },
      "message": "fix: Add correct routes\n\nRoutes updated to fix Codacy Static Code Analysis",
      "tree": {
        "sha": "c8edbc4a1246daf4ae10071d4701845a904da30b",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/c8edbc4a1246daf4ae10071d4701845a904da30b"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/f49605041d5aaabe7fedd61084b281756bda8a69",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f49605041d5aaabe7fedd61084b281756bda8a69",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/f49605041d5aaabe7fedd61084b281756bda8a69",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f49605041d5aaabe7fedd61084b281756bda8a69/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b79933580a57188f7af86ebb49ee5285249d9182",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b79933580a57188f7af86ebb49ee5285249d9182",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/b79933580a57188f7af86ebb49ee5285249d9182"
      }
    ],
    "files": [
      {
        "sha": "8adb52313f0a71537d9f4d2e21c1ca0964664efb",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 20,
        "deletions": 25,
        "changes": 45,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/f49605041d5aaabe7fedd61084b281756bda8a69/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/f49605041d5aaabe7fedd61084b281756bda8a69/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=f49605041d5aaabe7fedd61084b281756bda8a69",
        "patch": "@@ -286,49 +286,44 @@ def get_unsynchronized_dataset(dataset_id):\n     return render_template(\"dataset/view_dataset.html\", dataset=dataset)\n \n \n-# this method will publish all unpublished datasets\n @dataset_bp.route(\"/dataset/publish\", methods=[\"POST\"])\n @login_required\n def publish_all_datasets():\n     datasets = dataset_service.get_unsynchronized(current_user.id)\n-\n     errors = []\n \n     for dataset in datasets:\n         try:\n             zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n             response_data = json.dumps(zenodo_response_json)\n             data = json.loads(response_data)\n-        except Exception:\n-            errors.append(f\"Dataset ID {dataset.id}: Error creating dataset in Zenodo.\")\n-            continue\n \n-        if not data.get(\"conceptrecid\"):\n-            errors.append(f\"Dataset ID {dataset.id}: Failed to create deposition on Zenodo.\")\n-            continue\n+            if not data.get(\"conceptrecid\"):\n+                errors.append(f\"Dataset ID {dataset.id}: Failed to create deposition on Zenodo.\")\n+                continue\n \n-        deposition_id = data.get(\"id\")\n+            deposition_id = data.get(\"id\")\n \n-        # Update dataset with deposition ID from Zenodo\n-        try:\n-            dataset_service.update_dsmetadata(dataset.ds_meta_data_id, deposition_id=deposition_id)\n+            try:\n+                dataset_service.update_dsmetadata(dataset.ds_meta_data_id, deposition_id=deposition_id)\n+\n+                for feature_model in dataset.feature_models:\n+                    try:\n+                        zenodo_service.upload_file(dataset, deposition_id, feature_model)\n+                    except Exception as e:\n+                        errors.append(f\"Dataset ID {dataset.id}: Error uploading feature model. {str(e)}\")\n \n-            for feature_model in dataset.feature_models:\n-                try:\n-                    zenodo_service.upload_file(dataset, deposition_id, feature_model)\n-                except Exception:\n-                    errors.append(f\"Dataset ID {dataset.id}: Error uploading feature model.\")\n-                    continue\n+                zenodo_service.publish_deposition(deposition_id)\n+                deposition_doi = zenodo_service.get_doi(deposition_id)\n+                dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n \n-            zenodo_service.publish_deposition(deposition_id)\n-            deposition_doi = zenodo_service.get_doi(deposition_id)\n-            dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n+                logger.info(f\"Dataset ID {dataset.id}: Successfully published to Zenodo!\")\n \n-            logger.info(f\"Dataset ID {dataset.id}: Successfully published to Zenodo!\")\n+            except Exception as e:\n+                errors.append(f\"Dataset ID {dataset.id}: Error during publication process. {str(e)}\")\n \n-        except Exception:\n-            errors.append(f\"Dataset ID {dataset.id}: Error during publication process.\")\n-            continue\n+        except Exception as e:\n+            errors.append(f\"Dataset ID {dataset.id}: Error creating dataset in Zenodo. {str(e)}\")\n \n     if errors:\n         return jsonify({\"message\": \"Publication completed with errors.\", \"errors\": errors}), 207"
      }
    ]
  },
  {
    "sha": "ba7605952cd6f46e1983e82af8e729470ed54d99",
    "node_id": "C_kwDONBuXkNoAKGJhNzYwNTk1MmNkNmY0NmUxOTgzZTgyYWY4ZTcyOTQ3MGVkNTRkOTk",
    "commit": {
      "author": {
        "name": "Sergio Pons",
        "email": "92800868+sergiopons-1@users.noreply.github.com",
        "date": "2024-12-15T11:40:38Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-12-15T11:40:38Z"
      },
      "message": "Merge pull request #30 from chipi-hub-team/hotfix\n\nfix: Download all datasets button missed",
      "tree": {
        "sha": "f4b1e0efea9d34cdbb45260566534bed8919a17c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/f4b1e0efea9d34cdbb45260566534bed8919a17c"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/ba7605952cd6f46e1983e82af8e729470ed54d99",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnXsA2CRC1aQ7uu5UhlAAAkTUQAEuIXyZqTorA5B3Bss7300pn\nHbOnnnYfHBUkmduf5fzF9FiDwLmhucczeDh+1rOFdfoDJkJA8eMbI2xJ+tEWc3O3\n6uZ2vJTUQuHrOr3NJUBNLynIsQL6MIW0DobyAqQszSLnU9rNkzx+xdTx5I1jTk7s\nLrVuqr1skJ1tJXhbzqTaJdbodFLoFFk1zpm6yAGYfMrGYs4CdapO77jyQra1N5QH\n7x4K4Aiyr/jACTJW5tulBUJLiZ4wuT/5fA3XeMOOUSq6R8rCFBU5PohQ6twbRoW6\nF7uWQW5Ke12Pub8czIBIux9h7sE+l6n27c7q6AI11lq4UlLzt2iv0Hd1Gf+PuVoX\nT3g8eG6jaRZu9xAqTV3aDacs/lp2otMcPyYLbw+5KSioJVLm5OHpPbXMNoX6q8Pf\n8fjDqNZ6WNaDPCIQamVSJYTVcmc31i+d4fiqC33oP0xgk8IMU6UeSyOCpu2FF6+g\nNl+tJiPrQQlIS69fpjphBC7BSCGSP7i7q9CeBtHPp4fmvOi3m3hk8zZ6Z45MIOUy\nKuATik0DCYRnjnzfqaZmUZ+w28GhPDV1DmGr6NpXVoISZ8IJL/D+BB6CchrtRBKY\nH5M/diCWRxSV2J/vGL/vn21NJYtniEVQ9keg/BPWbIM1MrDSqIof3lHHko88Yp/z\nLgzUJ/c1pqDPy6ZUzum6\n=dLt7\n-----END PGP SIGNATURE-----\n",
        "payload": "tree f4b1e0efea9d34cdbb45260566534bed8919a17c\nparent 532dfb19c4c07ce43f2cacba744021db0d2cde6c\nparent 01056af9ebfbb9f77b5f166aadbcd4c044e6a31c\nauthor Sergio Pons <92800868+sergiopons-1@users.noreply.github.com> 1734262838 +0100\ncommitter GitHub <noreply@github.com> 1734262838 +0100\n\nMerge pull request #30 from chipi-hub-team/hotfix\n\nfix: Download all datasets button missed",
        "verified_at": "2024-12-15T11:41:06Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/ba7605952cd6f46e1983e82af8e729470ed54d99",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/ba7605952cd6f46e1983e82af8e729470ed54d99",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/ba7605952cd6f46e1983e82af8e729470ed54d99/comments",
    "author": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "532dfb19c4c07ce43f2cacba744021db0d2cde6c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/532dfb19c4c07ce43f2cacba744021db0d2cde6c",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/532dfb19c4c07ce43f2cacba744021db0d2cde6c"
      },
      {
        "sha": "01056af9ebfbb9f77b5f166aadbcd4c044e6a31c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/01056af9ebfbb9f77b5f166aadbcd4c044e6a31c",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/01056af9ebfbb9f77b5f166aadbcd4c044e6a31c"
      }
    ],
    "files": [
      {
        "sha": "236c80e8e8b6095e93a67501575c112e7e130542",
        "filename": "app/templates/base_template.html",
        "status": "modified",
        "additions": 5,
        "deletions": 5,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/ba7605952cd6f46e1983e82af8e729470ed54d99/app%2Ftemplates%2Fbase_template.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/ba7605952cd6f46e1983e82af8e729470ed54d99/app%2Ftemplates%2Fbase_template.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Ftemplates%2Fbase_template.html?ref=ba7605952cd6f46e1983e82af8e729470ed54d99",
        "patch": "@@ -162,12 +162,12 @@\n             <div class=\"navbar-collapse collapse\">\n                 <ul class=\"navbar-nav navbar-align\">\n                     <li class=\"nav-item dropdown\">\n-\n+                        <a href=\"/dataset/download_all_datasets\" class=\"btn btn-primary\">\n+                            <i data-feather=\"download\" class=\"center-button-icon\"></i>\n+                            Download all datasets\n+                        </a>\n                         {% if current_user.is_anonymous %}\n-                            <a href=\"/dataset/download_all_datasets\" class=\"btn btn-primary\">\n-                                <i data-feather=\"download\" class=\"center-button-icon\"></i>\n-                                Download all datasets\n-                            </a>\n+                            \n                             <a class=\"nav-link  d-none d-sm-inline-block\" href=\"{{ url_for('auth.login') }}\">Login</a>\n                             <a class=\"nav-link  d-none d-sm-inline-block\" href=\"{{ url_for('auth.show_signup_form') }}\">Sign\n                                 up</a>"
      }
    ]
  },
  {
    "sha": "01056af9ebfbb9f77b5f166aadbcd4c044e6a31c",
    "node_id": "C_kwDONBuXkNoAKDAxMDU2YWY5ZWJmYmI5Zjc3YjVmMTY2YWFkYmNkNGMwNDRlNmEzMWM",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-15T11:30:57Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-15T11:30:57Z"
      },
      "message": "fix: Download all datasets button missed\n\nDownload all datasets button now appear for logged and not logged users.\n\nCloses #29",
      "tree": {
        "sha": "f4b1e0efea9d34cdbb45260566534bed8919a17c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/f4b1e0efea9d34cdbb45260566534bed8919a17c"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/01056af9ebfbb9f77b5f166aadbcd4c044e6a31c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/01056af9ebfbb9f77b5f166aadbcd4c044e6a31c",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/01056af9ebfbb9f77b5f166aadbcd4c044e6a31c",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/01056af9ebfbb9f77b5f166aadbcd4c044e6a31c/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "532dfb19c4c07ce43f2cacba744021db0d2cde6c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/532dfb19c4c07ce43f2cacba744021db0d2cde6c",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/532dfb19c4c07ce43f2cacba744021db0d2cde6c"
      }
    ],
    "files": [
      {
        "sha": "236c80e8e8b6095e93a67501575c112e7e130542",
        "filename": "app/templates/base_template.html",
        "status": "modified",
        "additions": 5,
        "deletions": 5,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/01056af9ebfbb9f77b5f166aadbcd4c044e6a31c/app%2Ftemplates%2Fbase_template.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/01056af9ebfbb9f77b5f166aadbcd4c044e6a31c/app%2Ftemplates%2Fbase_template.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Ftemplates%2Fbase_template.html?ref=01056af9ebfbb9f77b5f166aadbcd4c044e6a31c",
        "patch": "@@ -162,12 +162,12 @@\n             <div class=\"navbar-collapse collapse\">\n                 <ul class=\"navbar-nav navbar-align\">\n                     <li class=\"nav-item dropdown\">\n-\n+                        <a href=\"/dataset/download_all_datasets\" class=\"btn btn-primary\">\n+                            <i data-feather=\"download\" class=\"center-button-icon\"></i>\n+                            Download all datasets\n+                        </a>\n                         {% if current_user.is_anonymous %}\n-                            <a href=\"/dataset/download_all_datasets\" class=\"btn btn-primary\">\n-                                <i data-feather=\"download\" class=\"center-button-icon\"></i>\n-                                Download all datasets\n-                            </a>\n+                            \n                             <a class=\"nav-link  d-none d-sm-inline-block\" href=\"{{ url_for('auth.login') }}\">Login</a>\n                             <a class=\"nav-link  d-none d-sm-inline-block\" href=\"{{ url_for('auth.show_signup_form') }}\">Sign\n                                 up</a>"
      }
    ]
  },
  {
    "sha": "b79933580a57188f7af86ebb49ee5285249d9182",
    "node_id": "C_kwDONBuXkNoAKGI3OTkzMzU4MGE1NzE4OGY3YWY4NmViYjQ5ZWU1Mjg1MjQ5ZDkxODI",
    "commit": {
      "author": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-12-15T11:22:12Z"
      },
      "committer": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-12-15T11:22:12Z"
      },
      "message": "fix: Routes fakenodo\n\nFixed fakenodo routes to keep the correct funcionality.",
      "tree": {
        "sha": "45033edf0ca23f8b3db20478084499551dc5072f",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/45033edf0ca23f8b3db20478084499551dc5072f"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/b79933580a57188f7af86ebb49ee5285249d9182",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b79933580a57188f7af86ebb49ee5285249d9182",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/b79933580a57188f7af86ebb49ee5285249d9182",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b79933580a57188f7af86ebb49ee5285249d9182/comments",
    "author": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "edd49323c54498fefca7f760529e76e484b2d20c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/edd49323c54498fefca7f760529e76e484b2d20c",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/edd49323c54498fefca7f760529e76e484b2d20c"
      }
    ],
    "files": [
      {
        "sha": "dcae33bec481e6fc3d931c097cf5e52f603aa055",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b79933580a57188f7af86ebb49ee5285249d9182/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b79933580a57188f7af86ebb49ee5285249d9182/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=b79933580a57188f7af86ebb49ee5285249d9182",
        "patch": "@@ -17,7 +17,7 @@ def get_all_depositions():\n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['GET'])\n def get_deposition(id):\n     workdir = os.getenv(\"WORKING_DIR\")\n-    path = f\"{workdir}/app/modules/fakenodo/placeholders/deposition.json\"\n+    path = f\"{workdir}app/modules/fakenodo/placeholders/deposition.json\"\n     with open(path) as f:\n         data = json.load(f)\n         data['doi'] = str(uuid.uuid4())"
      }
    ]
  },
  {
    "sha": "edd49323c54498fefca7f760529e76e484b2d20c",
    "node_id": "C_kwDONBuXkNoAKGVkZDQ5MzIzYzU0NDk4ZmVmY2E3Zjc2MDUyOWU3NmU0ODRiMmQyMGM",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-15T11:03:35Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-15T11:03:35Z"
      },
      "message": "Merge branch 'chore/configuration' into feat/stagging-area",
      "tree": {
        "sha": "9ea03fe0539599e17e75f9752659c6b7aeb78ad1",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/9ea03fe0539599e17e75f9752659c6b7aeb78ad1"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/edd49323c54498fefca7f760529e76e484b2d20c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/edd49323c54498fefca7f760529e76e484b2d20c",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/edd49323c54498fefca7f760529e76e484b2d20c",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/edd49323c54498fefca7f760529e76e484b2d20c/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "61a97c8a283029609f95051b5f844ee2a9fe59a5",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/61a97c8a283029609f95051b5f844ee2a9fe59a5",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/61a97c8a283029609f95051b5f844ee2a9fe59a5"
      },
      {
        "sha": "9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd"
      }
    ],
    "files": [
      {
        "sha": "cc83e3c360fe5c756b3449d51f34b1a9cce1583b",
        "filename": ".env.docker.example",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/edd49323c54498fefca7f760529e76e484b2d20c/.env.docker.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/edd49323c54498fefca7f760529e76e484b2d20c/.env.docker.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.env.docker.example?ref=edd49323c54498fefca7f760529e76e484b2d20c",
        "patch": "@@ -1,11 +1,11 @@\n-FLASK_APP_NAME=\"UVLHUB.IO(dev)\"\n-FLASK_ENV=development\n-DOMAIN=localhost\n+FLASK_APP_NAME=\"CHIPIHUB.IO(dev)\"\n+FLASK_ENV=production\n+DOMAIN=localhost:5000\n MARIADB_HOSTNAME=db\n MARIADB_PORT=3306\n MARIADB_DATABASE=uvlhubdb\n MARIADB_TEST_DATABASE=uvlhubdb_test\n MARIADB_USER=uvlhubdb_user\n MARIADB_PASSWORD=uvlhubdb_password\n MARIADB_ROOT_PASSWORD=uvlhubdb_root_password\n-WORKING_DIR=/app/\n+WORKING_DIR=/app/\n\\ No newline at end of file"
      },
      {
        "sha": "c18685798a7983664d2ac20cf1fbfd698b524b47",
        "filename": ".github/workflows/deloyment_on_render.yml",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/edd49323c54498fefca7f760529e76e484b2d20c/.github%2Fworkflows%2Fdeloyment_on_render.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/edd49323c54498fefca7f760529e76e484b2d20c/.github%2Fworkflows%2Fdeloyment_on_render.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fdeloyment_on_render.yml?ref=edd49323c54498fefca7f760529e76e484b2d20c",
        "patch": "@@ -1,10 +1,10 @@\n-name: Deploy on Webhook\n+name: Deploy on Render \n \n on:\n   workflow_run:\n     workflows: \n-      - \"Python Lint\"\n-      - \"Run tests\"\n+      - \"Format checker\"\n+      - \"Tests\"\n     types:\n       - completed\n "
      },
      {
        "sha": "211a06db03f96508b3c92becfc0ac0bad6fac4c4",
        "filename": ".mailmap",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/edd49323c54498fefca7f760529e76e484b2d20c/.mailmap",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/edd49323c54498fefca7f760529e76e484b2d20c/.mailmap",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.mailmap?ref=edd49323c54498fefca7f760529e76e484b2d20c",
        "patch": "@@ -1 +1,4 @@\n-Miguel Hern\u00e1ndez S\u00e1nchez <mighersan1@alum.us.es> <59254702+Yato03@users.noreply.github.com>\n\\ No newline at end of file\n+Miguel Hern\u00e1ndez S\u00e1nchez <mighersan1@alum.us.es> <59254702+Yato03@users.noreply.github.com>\n+Miguel Hern\u00e1ndez S\u00e1nchez <mighersan1@alum.us.es> <miguelhs3523@gmail.com>\n+Gonzalo Navas Remmers <gonnavrem@alum.us.es> <92763979+gonnavrem@users.noreply.github.com>\n+d4niel980 <danbenhid@alum.us.es> <d4niel.bh@gmail.com>"
      },
      {
        "sha": "babaa6561fe3810001ed974206e69ced5b7883f7",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "modified",
        "additions": 4,
        "deletions": 6,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/edd49323c54498fefca7f760529e76e484b2d20c/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/edd49323c54498fefca7f760529e76e484b2d20c/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=edd49323c54498fefca7f760529e76e484b2d20c",
        "patch": "@@ -7,19 +7,17 @@\n \n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['GET'])\n def get_all_depositions():\n-    path = \"modules/fakenodo/placeholders/deposition.json\"\n-    if os.getenv(\"FLASK_ENV\") == \"development\":\n-        path = \"app/\" + path\n+    workdir = os.getenv(\"WORKING_DIR\")\n+    path = f\"{workdir}app/modules/fakenodo/placeholders/deposition.json\"\n     with open(path) as f:\n         data = json.load(f)\n     return jsonify(data)\n \n \n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['GET'])\n def get_deposition(id):\n-    path = \"modules/fakenodo/placeholders/deposition.json\"\n-    if os.getenv(\"FLASK_ENV\") == \"development\":\n-        path = \"app/\" + path\n+    workdir = os.getenv(\"WORKING_DIR\")\n+    path = f\"{workdir}/app/modules/fakenodo/placeholders/deposition.json\"\n     with open(path) as f:\n         data = json.load(f)\n         data['doi'] = str(uuid.uuid4())"
      },
      {
        "sha": "cb566a6efa514ce95061292f5a4d601982ea8e16",
        "filename": "app/modules/profile/routes.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/edd49323c54498fefca7f760529e76e484b2d20c/app%2Fmodules%2Fprofile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/edd49323c54498fefca7f760529e76e484b2d20c/app%2Fmodules%2Fprofile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Froutes.py?ref=edd49323c54498fefca7f760529e76e484b2d20c",
        "patch": "@@ -35,7 +35,7 @@ def edit_profile():\n def my_profile(user_id):\n     is_my_profile = False\n     # ver si el user_id es none(mi perfil) o es alguno(perfil de otro)\n-    if user_id is None:\n+    if user_id is None or user_id == current_user.id:\n         user_id = current_user.id\n         is_my_profile = True\n "
      },
      {
        "sha": "748c29c392e29a30da6707aec23b926ef998a237",
        "filename": "app/modules/profile/tests/test_unit.py",
        "status": "modified",
        "additions": 22,
        "deletions": 6,
        "changes": 28,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/edd49323c54498fefca7f760529e76e484b2d20c/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/edd49323c54498fefca7f760529e76e484b2d20c/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py?ref=edd49323c54498fefca7f760529e76e484b2d20c",
        "patch": "@@ -41,8 +41,7 @@ def test_edit_profile_page_get(test_client):\n def test_get_profile_page(test_client):\n \n     \"\"\"\n-    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n-    usuarios exsistentes mediante GET\n+    Will test that an user will be able to access to another user's profile using GET\n     \"\"\"\n     login_response = login(test_client, \"user@example.com\", \"test1234\")\n     assert login_response.status_code == 200, \"Login was unsuccessful.\"\n@@ -55,8 +54,7 @@ def test_get_profile_page(test_client):\n \n def test_get_unexisting_profile_page(test_client):\n     \"\"\"\n-    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n-    usuarios exsistentes mediante GET\n+    Will test that a user wont be able to access a profile of a non existent user\n     \"\"\"\n     login_response = login(test_client, \"user@example.com\", \"test1234\")\n     assert login_response.status_code == 200, \"Login was unsuccessful.\"\n@@ -69,8 +67,7 @@ def test_get_unexisting_profile_page(test_client):\n \n def test_get_my_profile_page(test_client):\n     \"\"\"\n-    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n-    usuarios exsistentes mediante GET\n+    Will test that the current user will be able to access it's profile using GET\n     \"\"\"\n     login_response = login(test_client, \"user@example.com\", \"test1234\")\n     assert login_response.status_code == 200, \"Login was unsuccessful.\"\n@@ -80,3 +77,22 @@ def test_get_my_profile_page(test_client):\n     assert b\"My profile\" in response.data, \"The expected content is not present on the page\"\n \n     logout(test_client)\n+\n+\n+def test_get_my_profile_page_alternative_version(test_client):\n+    \"\"\"\n+    Will test that the current user will be able to access it's profile using GET\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    # Obtenemos el ID del usuario logueado desde la base de datos\n+    user = User.query.filter_by(email='user@example.com').first()\n+    assert user is not None, \"User not found in the database.\"\n+\n+    # Realizamos la solicitud GET con el ID del usuario en la URL\n+    response = test_client.get(f\"/profile/summary/{user.id}\")\n+    assert response.status_code == 200, \"The profile page could not be accessed.\"\n+    assert b\"My profile\" in response.data, \"The expected content is not present on the page\"\n+\n+    logout(test_client)"
      },
      {
        "sha": "a0215907ed1aaa7f79a9cdc5cabf170e8f227b28",
        "filename": "app/modules/zenodo/services.py",
        "status": "modified",
        "additions": 1,
        "deletions": 17,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/edd49323c54498fefca7f760529e76e484b2d20c/app%2Fmodules%2Fzenodo%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/edd49323c54498fefca7f760529e76e484b2d20c/app%2Fmodules%2Fzenodo%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Fservices.py?ref=edd49323c54498fefca7f760529e76e484b2d20c",
        "patch": "@@ -22,24 +22,8 @@\n class ZenodoService(BaseService):\n \n     def get_zenodo_url(self):\n-\n-        FLASK_ENV = os.getenv(\"FLASK_ENV\", \"development\")\n-        ZENODO_API_URL = \"\"\n-\n         LOCAL_SERVER = os.getenv(\"DOMAIN\", \"localhost:5000\")\n-        development_url = f\"{LOCAL_SERVER}/fakenodo/deposit/depositions\"\n-\n-        if FLASK_ENV == \"development\":\n-            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n-            ZENODO_API_URL = f\"http://{development_url}\"\n-        elif FLASK_ENV == \"production\":\n-            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://zenodo.org/api/deposit/depositions\")\n-            ZENODO_API_URL = f\"https://{development_url}\"\n-        else:\n-            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n-            ZENODO_API_URL = f\"http://{development_url}\"\n-\n-        return ZENODO_API_URL\n+        return f\"http://{LOCAL_SERVER}/fakenodo/deposit/depositions\"\n \n     def get_zenodo_access_token(self):\n         return os.getenv(\"ZENODO_ACCESS_TOKEN\")"
      },
      {
        "sha": "82b37f72fd7b5a461e7ba5cf2e949e0423fd39dd",
        "filename": "docker/docker-compose.yml",
        "status": "added",
        "additions": 53,
        "deletions": 0,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/edd49323c54498fefca7f760529e76e484b2d20c/docker%2Fdocker-compose.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/edd49323c54498fefca7f760529e76e484b2d20c/docker%2Fdocker-compose.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fdocker-compose.yml?ref=edd49323c54498fefca7f760529e76e484b2d20c",
        "patch": "@@ -0,0 +1,53 @@\n+services:\n+  web:\n+    container_name: web_app_container\n+    image: chipihub:dev\n+    env_file:\n+      - ../.env.docker.example\n+    expose:\n+      - \"5000\"\n+    depends_on:\n+      - db\n+    build:\n+      context: ../\n+      dockerfile: docker/images/Dockerfile.dev\n+    volumes:\n+      - ../:/app\n+      - /var/run/docker.sock:/var/run/docker.sock\n+    command: [ \"sh\", \"-c\", \"sh /app/docker/entrypoints/development_entrypoint.sh\" ]\n+    networks:\n+      - chipihub_network\n+\n+  db:\n+    container_name: mariadb_container\n+    env_file:\n+      - ../.env.docker.example\n+    build:\n+      context: ../\n+      dockerfile: docker/images/Dockerfile.mariadb\n+    restart: always\n+    ports:\n+      - \"3306:3306\"\n+    volumes:\n+      - db_data:/var/lib/mysql\n+    networks:\n+      - chipihub_network\n+\n+  nginx:\n+    container_name: nginx_web_server_container\n+    image: nginx:latest\n+    volumes:\n+      - ./nginx/nginx.dev.conf:/etc/nginx/nginx.conf\n+      - ./nginx/html:/usr/share/nginx/html\n+    ports:\n+      - \"80:80\"\n+    depends_on:\n+      - web\n+    networks:\n+      - chipihub_network\n+\n+volumes:\n+  db_data:\n+\n+networks:\n+  chipihub_network:"
      }
    ]
  },
  {
    "sha": "61a97c8a283029609f95051b5f844ee2a9fe59a5",
    "node_id": "C_kwDONBuXkNoAKDYxYTk3YzhhMjgzMDI5NjA5Zjk1MDUxYjVmODQ0ZWUyYTlmZTU5YTU",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-15T10:31:50Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-15T10:31:50Z"
      },
      "message": "Merge remote-tracking branch 'origin/chore/configuration' into feat/stagging-area",
      "tree": {
        "sha": "a5b6882fe1f03b98fc5d2713b0e88c350fa6fa17",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/a5b6882fe1f03b98fc5d2713b0e88c350fa6fa17"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/61a97c8a283029609f95051b5f844ee2a9fe59a5",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/61a97c8a283029609f95051b5f844ee2a9fe59a5",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/61a97c8a283029609f95051b5f844ee2a9fe59a5",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/61a97c8a283029609f95051b5f844ee2a9fe59a5/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "35b63aef8556fffadb76dcbe31b3ad6f4c511976",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/35b63aef8556fffadb76dcbe31b3ad6f4c511976",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/35b63aef8556fffadb76dcbe31b3ad6f4c511976"
      },
      {
        "sha": "fe9387ef4cb1d71ec518cdb212dd048d3aab1df9",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/fe9387ef4cb1d71ec518cdb212dd048d3aab1df9",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/fe9387ef4cb1d71ec518cdb212dd048d3aab1df9"
      }
    ],
    "files": [
      {
        "sha": "31d6aa640494f20b41958b8b2fc9f22e42a2fbec",
        "filename": ".github/workflows/codacy.yml",
        "status": "removed",
        "additions": 0,
        "deletions": 53,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/35b63aef8556fffadb76dcbe31b3ad6f4c511976/.github%2Fworkflows%2Fcodacy.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/35b63aef8556fffadb76dcbe31b3ad6f4c511976/.github%2Fworkflows%2Fcodacy.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fcodacy.yml?ref=35b63aef8556fffadb76dcbe31b3ad6f4c511976",
        "patch": "@@ -1,53 +0,0 @@\n-name: Codacy CI\n-\n-on:\n-  push:\n-    branches:\n-      - master\n-  pull_request:\n-    branches:\n-      - master\n-\n-jobs:\n-  build:\n-    runs-on: ubuntu-latest\n-    services:\n-      mysql:\n-        image: mysql:5.7\n-        env:\n-          MYSQL_ROOT_PASSWORD: uvlhub_root_password\n-          MYSQL_DATABASE: uvlhubdb_test\n-          MYSQL_USER: uvlhub_user\n-          MYSQL_PASSWORD: uvlhub_password\n-        ports:\n-          - 3306:3306\n-        options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n-\n-    steps:\n-    - name: Checkout code\n-      uses: actions/checkout@v4\n-\n-    - name: Set up Python\n-      uses: actions/setup-python@v5\n-      with:\n-        python-version: '3.12'\n-\n-    - name: Install dependencies\n-      run: |\n-        python -m pip install --upgrade pip\n-        pip install -r requirements.txt\n-\n-    - name: Upload coverage to Codacy\n-      run: |\n-        pip install codacy-coverage\n-        coverage run -m pytest app/modules/ --ignore-glob='*selenium*'\n-        coverage xml \n-        python-codacy-coverage -r coverage.xml\n-      env:\n-        FLASK_ENV: testing\n-        MARIADB_HOSTNAME: 127.0.0.1\n-        MARIADB_PORT: 3306\n-        MARIADB_TEST_DATABASE: uvlhubdb_test\n-        MARIADB_USER: uvlhub_user\n-        MARIADB_PASSWORD: uvlhub_password\n-        CODACY_PROJECT_TOKEN: ${{ secrets.CODACY_PROJECT_TOKEN }}"
      },
      {
        "sha": "89be2d04416a9b7c491a2dcdca22f69ab38052b5",
        "filename": ".github/workflows/commits.yml",
        "status": "removed",
        "additions": 0,
        "deletions": 18,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/35b63aef8556fffadb76dcbe31b3ad6f4c511976/.github%2Fworkflows%2Fcommits.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/35b63aef8556fffadb76dcbe31b3ad6f4c511976/.github%2Fworkflows%2Fcommits.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fcommits.yml?ref=35b63aef8556fffadb76dcbe31b3ad6f4c511976",
        "patch": "@@ -1,18 +0,0 @@\n-name: Commits Syntax Checker\n-\n-on:\n-  pull_request:\n-    branches: [master]\n-    types: [opened, reopened, edited, review_requested, synchronize]\n-  push:\n-    branches:\n-      - \"master\"\n-  workflow_call:\n-\n-jobs:\n-  check:\n-    name: Conventional Commits\n-    runs-on: ubuntu-latest\n-    steps:\n-      - uses: actions/checkout@v2\n-      - uses: webiny/action-conventional-commits@v1.0.3\n\\ No newline at end of file"
      },
      {
        "sha": "2f2de2824bdaf64c2862196dc864ea2acf044f2f",
        "filename": ".github/workflows/deloyment_on_render.yml",
        "status": "renamed",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/61a97c8a283029609f95051b5f844ee2a9fe59a5/.github%2Fworkflows%2Fdeloyment_on_render.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/61a97c8a283029609f95051b5f844ee2a9fe59a5/.github%2Fworkflows%2Fdeloyment_on_render.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fdeloyment_on_render.yml?ref=61a97c8a283029609f95051b5f844ee2a9fe59a5",
        "patch": "@@ -24,7 +24,7 @@ jobs:\n           exit 1\n         fi\n \n-    - name: Trigger Deployment Webhook\n+    - name: Trigger Deployment Render\n       env:\n         WEBHOOK_URL: ${{ secrets.RENDER_DEPLOY_HOOK_URL }}\n       run: |",
        "previous_filename": ".github/workflows/deloyment_on_webhook.yml"
      },
      {
        "sha": "3dd2d7e0730616ba219b56172a4f8e1482f3c1a6",
        "filename": ".github/workflows/format.yml",
        "status": "renamed",
        "additions": 8,
        "deletions": 1,
        "changes": 9,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/61a97c8a283029609f95051b5f844ee2a9fe59a5/.github%2Fworkflows%2Fformat.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/61a97c8a283029609f95051b5f844ee2a9fe59a5/.github%2Fworkflows%2Fformat.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fformat.yml?ref=61a97c8a283029609f95051b5f844ee2a9fe59a5",
        "patch": "@@ -1,10 +1,11 @@\n-name: Python Lint\n+name: Format checker\n \n on:\n   push:\n     branches: [master]\n   pull_request:\n     branches: [master]\n+  workflow_dispatch:\n \n jobs:\n   lint:\n@@ -26,3 +27,9 @@ jobs:\n     - name: Lint with flake8\n       run: |\n         flake8 app\n+  check:\n+    name: Conventional Commits\n+    runs-on: ubuntu-latest\n+    steps:\n+      - uses: actions/checkout@v2\n+      - uses: webiny/action-conventional-commits@8bc41ff4e7d423d56fa4905f6ff79209a78776c7",
        "previous_filename": ".github/workflows/lint.yml"
      },
      {
        "sha": "3b534535769c72dce0247da0801ee8fab30a18bb",
        "filename": ".github/workflows/tests.yml",
        "status": "modified",
        "additions": 44,
        "deletions": 7,
        "changes": 51,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/61a97c8a283029609f95051b5f844ee2a9fe59a5/.github%2Fworkflows%2Ftests.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/61a97c8a283029609f95051b5f844ee2a9fe59a5/.github%2Fworkflows%2Ftests.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Ftests.yml?ref=61a97c8a283029609f95051b5f844ee2a9fe59a5",
        "patch": "@@ -1,14 +1,21 @@\n-name: Run tests\n+name: Tests\n \n on:\n   push:\n-    branches: [master]\n+    branches:\n+      - master\n   pull_request:\n-    branches: [master]\n+    branches:\n+      - master\n+  workflow_dispatch:\n \n jobs:\n-  pytest:\n+  build:\n     runs-on: ubuntu-latest\n+    strategy:\n+      fail-fast: false\n+      matrix:\n+        python-version: ['3.11', '3.12']\n \n     services:\n       mysql:\n@@ -23,11 +30,13 @@ jobs:\n         options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n \n     steps:\n-    - uses: actions/checkout@v4\n+    - name: Checkout code\n+      uses: actions/checkout@v4\n \n-    - uses: actions/setup-python@v5\n+    - name: Set up Python\n+      uses: actions/setup-python@v5\n       with:\n-        python-version: '3.12'\n+        python-version: ${{matrix.python-version}}\n \n     - name: Prepare environment\n       run: |\n@@ -37,6 +46,33 @@ jobs:\n       run: |\n         python -m pip install --upgrade pip\n         pip install -r requirements.txt\n+    \n+    - name: Check for outdated dependencies\n+      run: |\n+          pip list --outdated > outdated_dependencies.txt\n+    \n+    - name: Show outdated dependencies\n+      run: cat outdated_dependencies.txt\n+\n+    - name: Security audit with pip-audit\n+      run: |\n+        pip install pip-audit\n+        pip-audit || true\n+  \n+    - name: Upload coverage to Codacy\n+      run: |\n+        pip install codacy-coverage\n+        coverage run -m pytest app/modules/ --ignore-glob='*selenium*'\n+        coverage xml \n+        python-codacy-coverage -r coverage.xml\n+      env:\n+        FLASK_ENV: testing\n+        MARIADB_HOSTNAME: 127.0.0.1\n+        MARIADB_PORT: 3306\n+        MARIADB_TEST_DATABASE: uvlhubdb_test\n+        MARIADB_USER: uvlhub_user\n+        MARIADB_PASSWORD: uvlhub_password\n+        CODACY_PROJECT_TOKEN: ${{ secrets.CODACY_PROJECT_TOKEN }}\n \n     - name: Run Tests\n       env:\n@@ -48,3 +84,4 @@ jobs:\n         MARIADB_PASSWORD: uvlhub_password\n       run: |\n         pytest app/modules/ --ignore-glob='*selenium*'\n+"
      },
      {
        "sha": "f4026c2dfe58e40f9cf70399a1395b2f7b655027",
        "filename": ".mailmap",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/61a97c8a283029609f95051b5f844ee2a9fe59a5/.mailmap",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/61a97c8a283029609f95051b5f844ee2a9fe59a5/.mailmap",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.mailmap?ref=61a97c8a283029609f95051b5f844ee2a9fe59a5",
        "patch": "@@ -0,0 +1 @@\n+Miguel Hern\u00e1ndez S\u00e1nchez <mighersan1@alum.us.es> <59254702+Yato03@users.noreply.github.com>\n\\ No newline at end of file"
      }
    ]
  },
  {
    "sha": "35b63aef8556fffadb76dcbe31b3ad6f4c511976",
    "node_id": "C_kwDONBuXkNoAKDM1YjYzYWVmODU1NmZmZmFkYjc2ZGNiZTMxYjNhZDZmNGM1MTE5NzY",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-15T10:05:15Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-15T10:05:15Z"
      },
      "message": "refactor: Remove unused code\n\nRemoved repository functions and services that aren't used in the functionality of the WI",
      "tree": {
        "sha": "2af6cb73dc338493a5885e53ba9c36eb74d4eb04",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/2af6cb73dc338493a5885e53ba9c36eb74d4eb04"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/35b63aef8556fffadb76dcbe31b3ad6f4c511976",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/35b63aef8556fffadb76dcbe31b3ad6f4c511976",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/35b63aef8556fffadb76dcbe31b3ad6f4c511976",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/35b63aef8556fffadb76dcbe31b3ad6f4c511976/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "319fd3d1448a6782f4aa67b4130374135bd583f2",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/319fd3d1448a6782f4aa67b4130374135bd583f2",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/319fd3d1448a6782f4aa67b4130374135bd583f2"
      }
    ],
    "files": [
      {
        "sha": "1024c1621fd469751b117dd16f0ed03ebcb17798",
        "filename": "app/modules/dataset/repositories.py",
        "status": "modified",
        "additions": 0,
        "deletions": 20,
        "changes": 20,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/35b63aef8556fffadb76dcbe31b3ad6f4c511976/app%2Fmodules%2Fdataset%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/35b63aef8556fffadb76dcbe31b3ad6f4c511976/app%2Fmodules%2Fdataset%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Frepositories.py?ref=35b63aef8556fffadb76dcbe31b3ad6f4c511976",
        "patch": "@@ -119,26 +119,6 @@ def latest_synchronized(self):\n     def get_all_datasets(self):\n         return self.model.query.all()\n \n-    # These methods will help to access the datatests by status\n-    def get_user_unpublished_datasets(self, current_user_id: int):\n-        return (\n-            self.model.query.join(DSMetaData)\n-            .filter(DataSet.user_id == current_user_id, DSMetaData.ds_status == Status.UNPUBLISHED).all()\n-        )\n-\n-    def get_user_unpublished_specific_dataset(self, current_user_id: int, dataset_id: int):\n-        return (\n-            self.model.query.join(DSMetaData)\n-            .filter(DataSet.user_id == current_user_id, DataSet.id == dataset_id,\n-                    DSMetaData.ds_status == Status.UNPUBLISHED).first()\n-        )\n-\n-    def get_user_published_datasets(self, current_user_id: int):\n-        return (\n-            self.model.query.join(DSMetaData)\n-            .filter(DataSet.user_id == current_user_id, DSMetaData.ds_status == Status.PUBLISHED).all()\n-        )\n-\n \n class DOIMappingRepository(BaseRepository):\n     def __init__(self):"
      },
      {
        "sha": "701f4c5471c1060a58d3938bdb744cb8f72301ab",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/35b63aef8556fffadb76dcbe31b3ad6f4c511976/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/35b63aef8556fffadb76dcbe31b3ad6f4c511976/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=35b63aef8556fffadb76dcbe31b3ad6f4c511976",
        "patch": "@@ -290,7 +290,7 @@ def get_unsynchronized_dataset(dataset_id):\n @dataset_bp.route(\"/dataset/publish\", methods=[\"POST\"])\n @login_required\n def publish_all_datasets():\n-    datasets = dataset_service.get_all_user_unpublished_datasets(current_user.id)\n+    datasets = dataset_service.get_unsynchronized(current_user.id)\n \n     errors = []\n "
      },
      {
        "sha": "8fe0abb35b5ae9ed00f937ba4a0903cfe574d3f2",
        "filename": "app/modules/dataset/services.py",
        "status": "modified",
        "additions": 2,
        "deletions": 5,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/35b63aef8556fffadb76dcbe31b3ad6f4c511976/app%2Fmodules%2Fdataset%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/35b63aef8556fffadb76dcbe31b3ad6f4c511976/app%2Fmodules%2Fdataset%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fservices.py?ref=35b63aef8556fffadb76dcbe31b3ad6f4c511976",
        "patch": "@@ -143,13 +143,10 @@ def get_uvlhub_doi(self, dataset: DataSet) -> str:\n     def get_all_datasets(self):\n         return self.repository.get_all_datasets()\n \n-    def get_all_user_unpublished_datasets(self, user_id):\n-        return self.repository.get_user_unpublished_datasets(user_id)\n-\n     # This method will help in the proccess of publishing datasets\n     def publish_datasets(self, current_user_id):\n         try:\n-            datasets = self.repository.get_user_unpublished_datasets(current_user_id)\n+            datasets = self.repository.get_unsynchronized(current_user_id)\n             for dataset in datasets:\n                 if (dataset.ds_meta_data.ds_status == Status.UNPUBLISHED):\n                     dataset.ds_meta_data.ds_status = Status.PUBLISHED\n@@ -162,7 +159,7 @@ def publish_datasets(self, current_user_id):\n     # This method will help in the proccess of publishing a specific dataset\n     def publish_specific_dataset(self, current_user_id, dataset_id):\n         try:\n-            dataset = self.repository.get_user_unpublished_specific_dataset(current_user_id, dataset_id)\n+            dataset = self.repository.get_unsynchronized_dataset(current_user_id, dataset_id)\n             dataset.ds_meta_data.ds_status = Status.PUBLISHED\n             self.repository.session.commit()\n         except Exception:"
      },
      {
        "sha": "84cecf7c7b14242929b774db4011684c76190343",
        "filename": "app/modules/dataset/tests/test_unit.py",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/35b63aef8556fffadb76dcbe31b3ad6f4c511976/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/35b63aef8556fffadb76dcbe31b3ad6f4c511976/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py?ref=35b63aef8556fffadb76dcbe31b3ad6f4c511976",
        "patch": "@@ -78,7 +78,7 @@ def test_publish_all_datasets_success(test_client):\n     login_response = login(test_client, \"testuser@example.com\", \"1234\")\n     assert login_response.status_code == 200, \"Login was failed.\"\n \n-    with patch(\"app.modules.dataset.services.DataSetService.get_all_user_unpublished_datasets\") as mock_get_datasets, \\\n+    with patch(\"app.modules.dataset.services.DataSetService.get_unsynchronized\") as mock_get_datasets, \\\n          patch(\"app.modules.zenodo.services.ZenodoService.create_new_deposition\") as mock_zenodo, \\\n          patch(\"app.modules.zenodo.services.ZenodoService.upload_file\") as mock_upload_file:\n \n@@ -152,7 +152,7 @@ def test_publish_all_datasets_with_errors(test_client):\n     login_response = login(test_client, \"testuser@example.com\", \"1234\")\n     assert login_response.status_code == 200, \"Login fue fallido.\"\n \n-    with patch(\"app.modules.dataset.services.DataSetService.get_all_user_unpublished_datasets\") as mock_get_datasets, \\\n+    with patch(\"app.modules.dataset.services.DataSetService.get_unsynchronized\") as mock_get_datasets, \\\n          patch(\"app.modules.zenodo.services.ZenodoService.create_new_deposition\") as mock_zenodo:\n         mock_get_datasets.return_value = [MagicMock(id=2), MagicMock(id=3)]\n         mock_zenodo.side_effect = Exception(\"Error creating deposition\")"
      }
    ]
  },
  {
    "sha": "319fd3d1448a6782f4aa67b4130374135bd583f2",
    "node_id": "C_kwDONBuXkNoAKDMxOWZkM2QxNDQ4YTY3ODJmNGFhNjdiNDEzMDM3NDEzNWJkNTgzZjI",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-14T17:06:09Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-14T17:06:09Z"
      },
      "message": "feat: Add quality of life in list dataset template\n\nChanged title url for the unpublished datasets of the list_dataset template to redirect the user to the unpublished dataset details.",
      "tree": {
        "sha": "1be8088dc0490fb5ecd6ca737d8234e517786c3b",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/1be8088dc0490fb5ecd6ca737d8234e517786c3b"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/319fd3d1448a6782f4aa67b4130374135bd583f2",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/319fd3d1448a6782f4aa67b4130374135bd583f2",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/319fd3d1448a6782f4aa67b4130374135bd583f2",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/319fd3d1448a6782f4aa67b4130374135bd583f2/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "7518749e333ef0a3df2175d5f925465835b1b524",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/7518749e333ef0a3df2175d5f925465835b1b524",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/7518749e333ef0a3df2175d5f925465835b1b524"
      }
    ],
    "files": [
      {
        "sha": "1fd87c410d1d79539276c115f7f1d13ca64a0a2a",
        "filename": "app/modules/dataset/templates/dataset/list_datasets.html",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/319fd3d1448a6782f4aa67b4130374135bd583f2/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/319fd3d1448a6782f4aa67b4130374135bd583f2/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html?ref=319fd3d1448a6782f4aa67b4130374135bd583f2",
        "patch": "@@ -31,7 +31,7 @@ <h5 class=\"card-title\">My unpublished datasets (stagging area)</h5>\n                             {% if dataset.ds_meta_data.ds_status  == status.UNPUBLISHED %}\n                                 <tr>\n                                     <td>\n-                                        <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                        <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=dataset.id) }}\">\n                                             {{ dataset.ds_meta_data.title }}\n                                         </a>\n                                     </td>"
      }
    ]
  },
  {
    "sha": "7518749e333ef0a3df2175d5f925465835b1b524",
    "node_id": "C_kwDONBuXkNoAKDc1MTg3NDllMzMzZWYwYTNkZjIxNzVkNWY5MjU0NjU4MzViMWI1MjQ",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-14T16:53:01Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-14T16:53:01Z"
      },
      "message": "feat: Add correct functionality to profile\n\nAdd if statement to the profile summary template to control that only the owner of the unpublished datasets can see them in their profile.",
      "tree": {
        "sha": "800595a0c37a87ee2707c5e8f4cfa9c3b87635e3",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/800595a0c37a87ee2707c5e8f4cfa9c3b87635e3"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/7518749e333ef0a3df2175d5f925465835b1b524",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/7518749e333ef0a3df2175d5f925465835b1b524",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/7518749e333ef0a3df2175d5f925465835b1b524",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/7518749e333ef0a3df2175d5f925465835b1b524/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "021471de55d6466cf8d0b42809864c2d76b394ea",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/021471de55d6466cf8d0b42809864c2d76b394ea",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/021471de55d6466cf8d0b42809864c2d76b394ea"
      }
    ],
    "files": [
      {
        "sha": "6176ae72d296e1ce15786bfa4a35846603e970b8",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/7518749e333ef0a3df2175d5f925465835b1b524/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/7518749e333ef0a3df2175d5f925465835b1b524/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=7518749e333ef0a3df2175d5f925465835b1b524",
        "patch": "@@ -274,7 +274,10 @@ def subdomain_index(doi):\n @login_required\n def get_unsynchronized_dataset(dataset_id):\n \n-    # Get dataset\n+    if (dataset_service.get_by_id(dataset_id).user_id != current_user.id):\n+        abort(403)\n+\n+    # Get dataset in case is from the current user\n     dataset = dataset_service.get_unsynchronized_dataset(current_user.id, dataset_id)\n \n     if not dataset:"
      },
      {
        "sha": "8173f5b3238ade4743a8a8e381167d149ad3ff8f",
        "filename": "app/modules/profile/routes.py",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/7518749e333ef0a3df2175d5f925465835b1b524/app%2Fmodules%2Fprofile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/7518749e333ef0a3df2175d5f925465835b1b524/app%2Fmodules%2Fprofile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Froutes.py?ref=7518749e333ef0a3df2175d5f925465835b1b524",
        "patch": "@@ -1,6 +1,6 @@\n from app.modules.auth.models import User\n from app.modules.auth.services import AuthenticationService\n-from app.modules.dataset.models import DataSet\n+from app.modules.dataset.models import DataSet, Status\n from flask import abort, render_template, redirect, url_for, request\n from flask_login import login_required, current_user\n \n@@ -66,5 +66,6 @@ def my_profile(user_id):\n         datasets=user_datasets_pagination.items,\n         pagination=user_datasets_pagination,\n         total_datasets=total_datasets_count,\n-        is_my_profile=is_my_profile\n+        is_my_profile=is_my_profile,\n+        status=Status\n     )"
      },
      {
        "sha": "b7b5a030effc61363bbb7d631679693689ac4191",
        "filename": "app/modules/profile/templates/profile/summary.html",
        "status": "modified",
        "additions": 45,
        "deletions": 23,
        "changes": 68,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/7518749e333ef0a3df2175d5f925465835b1b524/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/7518749e333ef0a3df2175d5f925465835b1b524/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html?ref=7518749e333ef0a3df2175d5f925465835b1b524",
        "patch": "@@ -60,31 +60,53 @@ <h1 class=\"h3 mb-3\">User datasets</h1>\n                             </tr>\n                         </thead>\n                         <tbody>\n-                          \n-                            {% for dataset in datasets %}\n-                            <tr>\n-                                <td>\n-\n-                                    {% if dataset.ds_meta_data.dataset_doi %}\n-                                        <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n-                                            {{ dataset.ds_meta_data.title }}\n-                                        </a>\n-                                    {% else %}\n-                                        <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=dataset.id) }}\">\n-                                            {{ dataset.ds_meta_data.title }}\n-                                        </a>                                    \n-                                    {% endif %}\n+                            {% if is_my_profile %}\n+                                {% for dataset in datasets %}\n+                                <tr>\n+                                    <td>\n+\n+                                        {% if dataset.ds_meta_data.dataset_doi %}\n+                                            <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                                {{ dataset.ds_meta_data.title }}\n+                                            </a>\n+                                        {% else %}\n+                                            <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=dataset.id) }}\">\n+                                                {{ dataset.ds_meta_data.title }}\n+                                            </a>                               \n+                                        {% endif %}\n+\n+                                        \n+                                    </td>\n+                                    <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                </tr>\n+                                {% else %}\n+                            \n+                                <tr>\n+                                    <td colspan=\"2\">No datasets uploaded.</td>\n+                                </tr>\n+                                {% endfor %}\n \n-                                    \n-                                </td>\n-                                <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n-                            </tr>\n                             {% else %}\n-                          \n-                            <tr>\n-                                <td colspan=\"2\">No datasets uploaded.</td>\n-                            </tr>\n-                            {% endfor %}\n+                                \n+                                {% for dataset in datasets %}\n+                                    {% if dataset.ds_meta_data.ds_status == status.PUBLISHED %}\n+                                    <tr>\n+                                        <td>\n+                                             <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                                {{ dataset.ds_meta_data.title }}\n+                                             </a> \n+                                        </td>\n+                                        <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                    </tr>\n+                                    {% endif %}\n+\n+                                {% else %}\n+                                    <tr>\n+                                        <td colspan=\"2\">No datasets uploaded.</td>\n+                                    </tr>\n+                                {% endfor %}\n+                            {% endif %}\n+                            \n                         </tbody>\n                     </table>\n                 </div>"
      }
    ]
  },
  {
    "sha": "021471de55d6466cf8d0b42809864c2d76b394ea",
    "node_id": "C_kwDONBuXkNoAKDAyMTQ3MWRlNTVkNjQ2NmNmOGQwYjQyODA5ODY0YzJkNzZiMzk0ZWE",
    "commit": {
      "author": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-12-14T15:32:52Z"
      },
      "committer": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-12-14T15:32:52Z"
      },
      "message": "feat: Add correct buttons\n\nUpdate the button description to ensure clarity and avoid user confusion.",
      "tree": {
        "sha": "7cea9310a1857a2d5669c1553159ea2adec2ea9c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/7cea9310a1857a2d5669c1553159ea2adec2ea9c"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/021471de55d6466cf8d0b42809864c2d76b394ea",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/021471de55d6466cf8d0b42809864c2d76b394ea",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/021471de55d6466cf8d0b42809864c2d76b394ea",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/021471de55d6466cf8d0b42809864c2d76b394ea/comments",
    "author": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "2dffeb95d193ffa6be4dfd0ce86eceec1e56cb32",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/2dffeb95d193ffa6be4dfd0ce86eceec1e56cb32",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/2dffeb95d193ffa6be4dfd0ce86eceec1e56cb32"
      }
    ],
    "files": [
      {
        "sha": "24348ec8d70aeff80723176e8f4b0082dfa4b6d1",
        "filename": "app/modules/dataset/templates/dataset/list_datasets.html",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/021471de55d6466cf8d0b42809864c2d76b394ea/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/021471de55d6466cf8d0b42809864c2d76b394ea/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html?ref=021471de55d6466cf8d0b42809864c2d76b394ea",
        "patch": "@@ -11,7 +11,7 @@ <h1 class=\"h3 mb-3\">My datasets</h1>\n             <div class=\"card\">\n                 <div class=\"card-body\">\n                     <form action=\"{{ url_for('dataset.publish_all_datasets') }}\" method=\"POST\">\n-                        <button type=\"submit\" class=\"btn btn-primary\">Upload All datasets to Zenodo</button>\n+                        <button type=\"submit\" class=\"btn btn-primary\">Publish All datasets to Zenodo</button>\n                     </form>\n                     <div class=\"card-header\">\n                         <h5 class=\"card-title\">My unpublished datasets (stagging area)</h5>\n@@ -46,7 +46,7 @@ <h5 class=\"card-title\">My unpublished datasets (stagging area)</h5>\n                                     <td>\n                                         {% if dataset.user_id == current_user.id and dataset.ds_meta_data.ds_status  == status.UNPUBLISHED %}\n                                             <form action=\"{{ url_for('dataset.publish_dataset', dataset_id=dataset.id) }}\" method=\"POST\">\n-                                                <button type=\"submit\" class=\"btn btn-primary\">Upload to Zenodo</button>\n+                                                <button type=\"submit\" class=\"btn btn-primary\">Publish to Zenodo</button>\n                                             </form>\n                                         {% endif %}\n                                     </td>\n@@ -66,7 +66,7 @@ <h5 class=\"card-title mb-0\">No datasets found</h5>\n                 </div>\n                 <div class=\"card-body\">\n                     <p class=\"card-text\">\n-                        You have not created any dataset synchronized with Zenodo, are you up for it?\n+                        You don't have unpublished datasets\n                     </p>\n                     <a href=\"{{ url_for('dataset.create_dataset') }}\" class=\"btn btn-primary\">\n                         Upload dataset</a>"
      }
    ]
  },
  {
    "sha": "2dffeb95d193ffa6be4dfd0ce86eceec1e56cb32",
    "node_id": "C_kwDONBuXkNoAKDJkZmZlYjk1ZDE5M2ZmYTZiZTRkZmQwY2U4NmVjZWVjMWU1NmNiMzI",
    "commit": {
      "author": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-12-14T15:28:36Z"
      },
      "committer": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-12-14T15:28:36Z"
      },
      "message": "test: Add negative case of publish all datasets with errors\n\nAdd a unit test to ensure that a dataset cannot be published if it has some errors",
      "tree": {
        "sha": "2e9414c82268f93dcb9f681b9b45ae26252aade3",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/2e9414c82268f93dcb9f681b9b45ae26252aade3"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/2dffeb95d193ffa6be4dfd0ce86eceec1e56cb32",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/2dffeb95d193ffa6be4dfd0ce86eceec1e56cb32",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/2dffeb95d193ffa6be4dfd0ce86eceec1e56cb32",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/2dffeb95d193ffa6be4dfd0ce86eceec1e56cb32/comments",
    "author": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b6b72e06dd62d5a5134a9545bd04029710d96ece",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b6b72e06dd62d5a5134a9545bd04029710d96ece",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/b6b72e06dd62d5a5134a9545bd04029710d96ece"
      }
    ],
    "files": [
      {
        "sha": "a3ab5eb7ead0697b51a7cf0653726b76166c20d1",
        "filename": "app/modules/dataset/tests/test_unit.py",
        "status": "modified",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/2dffeb95d193ffa6be4dfd0ce86eceec1e56cb32/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/2dffeb95d193ffa6be4dfd0ce86eceec1e56cb32/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py?ref=2dffeb95d193ffa6be4dfd0ce86eceec1e56cb32",
        "patch": "@@ -143,3 +143,22 @@ def test_publish_dataset_already_published(test_client):\n         assert response.json[\"message\"] == \"Dataset is already published.\"\n \n     logout(test_client)\n+\n+\n+def test_publish_all_datasets_with_errors(test_client):\n+    \"\"\"\n+    Negative case: Publish all unpublished datasets with some errors\n+    \"\"\"\n+    login_response = login(test_client, \"testuser@example.com\", \"1234\")\n+    assert login_response.status_code == 200, \"Login fue fallido.\"\n+\n+    with patch(\"app.modules.dataset.services.DataSetService.get_all_user_unpublished_datasets\") as mock_get_datasets, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.create_new_deposition\") as mock_zenodo:\n+        mock_get_datasets.return_value = [MagicMock(id=2), MagicMock(id=3)]\n+        mock_zenodo.side_effect = Exception(\"Error creating deposition\")\n+\n+        response = test_client.post(\"/dataset/publish\", follow_redirects=True)\n+        assert response.status_code == 207, \"The errored publication did not return the expected status.\"\n+        assert \"Publication completed with errors.\" in response.json[\"message\"]\n+\n+    logout(test_client)"
      }
    ]
  },
  {
    "sha": "b6b72e06dd62d5a5134a9545bd04029710d96ece",
    "node_id": "C_kwDONBuXkNoAKGI2YjcyZTA2ZGQ2MmQ1YTUxMzRhOTU0NWJkMDQwMjk3MTBkOTZlY2U",
    "commit": {
      "author": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-12-14T14:25:19Z"
      },
      "committer": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-12-14T14:25:19Z"
      },
      "message": "test: Add negative case of publish dataset already published\n\nAdd a unit test to ensure that a dataset cannot be published if it has already been published.",
      "tree": {
        "sha": "ed33df53d68016a262a6a42ebdd159454f491cb5",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/ed33df53d68016a262a6a42ebdd159454f491cb5"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/b6b72e06dd62d5a5134a9545bd04029710d96ece",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b6b72e06dd62d5a5134a9545bd04029710d96ece",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/b6b72e06dd62d5a5134a9545bd04029710d96ece",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b6b72e06dd62d5a5134a9545bd04029710d96ece/comments",
    "author": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "df328cb3de0204b662cb5d9f669a26996356d66c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/df328cb3de0204b662cb5d9f669a26996356d66c",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/df328cb3de0204b662cb5d9f669a26996356d66c"
      }
    ],
    "files": [
      {
        "sha": "37aa4be4f72d6aa7fdf078746cd337dd085166aa",
        "filename": "app/modules/dataset/tests/test_unit.py",
        "status": "modified",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b6b72e06dd62d5a5134a9545bd04029710d96ece/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b6b72e06dd62d5a5134a9545bd04029710d96ece/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py?ref=b6b72e06dd62d5a5134a9545bd04029710d96ece",
        "patch": "@@ -2,6 +2,7 @@\n from unittest.mock import patch, MagicMock\n from app.modules.conftest import login, logout\n from app.modules.auth.models import User\n+from app.modules.dataset.models import Status\n from app import db\n \n \n@@ -124,3 +125,21 @@ def test_publish_all_datasets_success(test_client):\n         mock_get_datasets.assert_called()\n \n     logout(test_client)\n+\n+\n+def test_publish_dataset_already_published(test_client):\n+    \"\"\"\n+    Negative case: Try to publish an already published dataset.\n+    \"\"\"\n+    dataset_id = 1\n+    login_response = login(test_client, \"testuser@example.com\", \"1234\")\n+    assert login_response.status_code == 200, \"Login was failed.\"\n+\n+    with patch(\"app.modules.dataset.services.DataSetService.get_or_404\") as mock_get_dataset:\n+        mock_get_dataset.return_value = MagicMock(ds_meta_data=MagicMock(ds_status=Status.PUBLISHED))\n+\n+        response = test_client.post(f\"/dataset/{dataset_id}/publish\", follow_redirects=True)\n+        assert response.status_code == 400, \"It should not allow publishing an already published dataset.\"\n+        assert response.json[\"message\"] == \"Dataset is already published.\"\n+\n+    logout(test_client)"
      }
    ]
  },
  {
    "sha": "df328cb3de0204b662cb5d9f669a26996356d66c",
    "node_id": "C_kwDONBuXkNoAKGRmMzI4Y2IzZGUwMjA0YjY2MmNiNWQ5ZjY2OWEyNjk5NjM1NmQ2NmM",
    "commit": {
      "author": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-12-14T12:00:33Z"
      },
      "committer": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-12-14T12:00:33Z"
      },
      "message": "test: Unit test of pulish all dataset in stagging area\n\nThe positive case for the unit test of publishing all datasets in the staging area has been added.",
      "tree": {
        "sha": "d20f7a8129aa0305bc0b30c278a9be849c4c336d",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/d20f7a8129aa0305bc0b30c278a9be849c4c336d"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/df328cb3de0204b662cb5d9f669a26996356d66c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/df328cb3de0204b662cb5d9f669a26996356d66c",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/df328cb3de0204b662cb5d9f669a26996356d66c",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/df328cb3de0204b662cb5d9f669a26996356d66c/comments",
    "author": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3affa70878606cd1fb71d663a3957f8c2f04c9a4",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3affa70878606cd1fb71d663a3957f8c2f04c9a4",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3affa70878606cd1fb71d663a3957f8c2f04c9a4"
      }
    ],
    "files": [
      {
        "sha": "bde964b3a781d38a4bd5567cfffa3a48d6b978b9",
        "filename": "app/modules/dataset/tests/test_unit.py",
        "status": "modified",
        "additions": 56,
        "deletions": 0,
        "changes": 56,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/df328cb3de0204b662cb5d9f669a26996356d66c/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/df328cb3de0204b662cb5d9f669a26996356d66c/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py?ref=df328cb3de0204b662cb5d9f669a26996356d66c",
        "patch": "@@ -68,3 +68,59 @@ def test_publish_dataset_success(test_client):\n         mock_get_dataset.assert_called_once_with(dataset_id)\n \n     logout(test_client)\n+\n+\n+def test_publish_all_datasets_success(test_client):\n+    \"\"\"\n+    Positive case: Publish all unpublished datasets.\n+    \"\"\"\n+    login_response = login(test_client, \"testuser@example.com\", \"1234\")\n+    assert login_response.status_code == 200, \"Login was failed.\"\n+\n+    with patch(\"app.modules.dataset.services.DataSetService.get_all_user_unpublished_datasets\") as mock_get_datasets, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.create_new_deposition\") as mock_zenodo, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.upload_file\") as mock_upload_file:\n+\n+        mock_upload_file.return_value = None\n+        mock_get_datasets.return_value = [\n+            MagicMock(\n+                id=500,\n+                ds_meta_data_id=1000,\n+                ds_meta_data=MagicMock(\n+                    ds_status=\"unpublished\",\n+                    title=\"Dataset 1\",\n+                    description=\"Description of dataset 1\",\n+                    publication_type=\"DATA_MANAGEMENT_PLAN\",\n+                    dataset_doi=None,\n+                ),\n+                feature_models=[\n+                    MagicMock(id=101, name=\"FeatureModel1\"),\n+                    MagicMock(id=102, name=\"FeatureModel2\"),\n+                ],\n+            ),\n+            MagicMock(\n+                id=501,\n+                ds_meta_data_id=1001,\n+                ds_meta_data=MagicMock(\n+                    ds_status=\"unpublished\",\n+                    title=\"Dataset 2\",\n+                    description=\"Description of dataset 2\",\n+                    publication_type=\"DATA_MANAGEMENT_PLAN\",\n+                    dataset_doi=None,\n+                ),\n+                feature_models=[\n+                    MagicMock(id=103, name=\"FeatureModel3\"),\n+                ],\n+            ),\n+        ]\n+\n+        mock_zenodo.return_value = {\"conceptrecid\": \"12345\", \"id\": \"67890\"}\n+\n+        print(\"Mocked datasets:\", mock_get_datasets.return_value)\n+        print(\"Mocked Zenodo response:\", mock_zenodo.return_value)\n+        response = test_client.post(\"/dataset/publish\", follow_redirects=True)\n+        print(\"Response\", response.get_json())\n+        assert response.status_code == 200, \"Publishing all unpublished datasets failed.\"\n+        mock_get_datasets.assert_called()\n+\n+    logout(test_client)"
      }
    ]
  },
  {
    "sha": "3affa70878606cd1fb71d663a3957f8c2f04c9a4",
    "node_id": "C_kwDONBuXkNoAKDNhZmZhNzA4Nzg2MDZjZDFmYjcxZDY2M2EzOTU3ZjhjMmYwNGM5YTQ",
    "commit": {
      "author": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-12-14T11:34:51Z"
      },
      "committer": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-12-14T11:34:51Z"
      },
      "message": "test: Unit test publish dataset success added\n\nA unit test has been added for publishing a dataset in the stagging area.",
      "tree": {
        "sha": "1358f7be34dbf9b820590360f385bf283d660cd5",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/1358f7be34dbf9b820590360f385bf283d660cd5"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/3affa70878606cd1fb71d663a3957f8c2f04c9a4",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3affa70878606cd1fb71d663a3957f8c2f04c9a4",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3affa70878606cd1fb71d663a3957f8c2f04c9a4",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3affa70878606cd1fb71d663a3957f8c2f04c9a4/comments",
    "author": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "09fdcdd7e6f8131866758227cf7a8034ce13766d",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/09fdcdd7e6f8131866758227cf7a8034ce13766d",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/09fdcdd7e6f8131866758227cf7a8034ce13766d"
      }
    ],
    "files": [
      {
        "sha": "63999dfecae3db0e806c7f861708bf3123a819fa",
        "filename": "app/modules/dataset/tests/test_unit.py",
        "status": "modified",
        "additions": 47,
        "deletions": 1,
        "changes": 48,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3affa70878606cd1fb71d663a3957f8c2f04c9a4/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3affa70878606cd1fb71d663a3957f8c2f04c9a4/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py?ref=3affa70878606cd1fb71d663a3957f8c2f04c9a4",
        "patch": "@@ -1,4 +1,8 @@\n import pytest\n+from unittest.mock import patch, MagicMock\n+from app.modules.conftest import login, logout\n+from app.modules.auth.models import User\n+from app import db\n \n \n @pytest.fixture(scope=\"module\")\n@@ -9,7 +13,10 @@ def test_client(test_client):\n     with test_client.application.app_context():\n         # Add HERE new elements to the database that you want to exist in the test context.\n         # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n-        pass\n+        # Create a test user\n+        user_test = User(email=\"testuser@example.com\", password=\"1234\")\n+        db.session.add(user_test)\n+        db.session.commit()\n \n     yield test_client\n \n@@ -22,3 +29,42 @@ def test_download_all_dataset(test_client):\n     assert response.status_code == 200, \"Download all datasets was unsuccessful\"\n \n     test_client.get(\"/logout\", follow_redirects=True)\n+\n+\n+def test_publish_dataset_success(test_client):\n+    \"\"\"\n+    Positive case: Publish an unpublished dataset.\n+    \"\"\"\n+    dataset_id = 500\n+    login_response = login(test_client, \"testuser@example.com\", \"1234\")\n+    assert login_response.status_code == 200, \"Login was failed.\"\n+\n+    with patch(\"app.modules.dataset.services.DataSetService.get_or_404\") as mock_get_dataset, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.create_new_deposition\") as mock_zenodo, \\\n+         patch(\"app.modules.zenodo.services.ZenodoService.upload_file\") as mock_upload_file:\n+\n+        mock_get_dataset.return_value = MagicMock(\n+            id=dataset_id,\n+            ds_meta_data_id=1000,\n+            ds_meta_data=MagicMock(\n+                ds_status=\"unpublished\",\n+                title=\"Dataset 1\",\n+                description=\"Description of dataset 1\",\n+                publication_type=\"DATA_MANAGEMENT_PLAN\",\n+                dataset_doi=None,\n+            ),\n+            feature_models=[\n+                MagicMock(id=101, name=\"FeatureModel1\"),\n+                MagicMock(id=102, name=\"FeatureModel2\"),\n+            ],\n+        )\n+\n+        mock_upload_file.return_value = None\n+        mock_zenodo.return_value = {\"conceptrecid\": \"12345\", \"id\": \"67890\"}\n+\n+        response = test_client.post(f\"/dataset/{dataset_id}/publish\", follow_redirects=True)\n+        print(\"Response\", response.get_json())\n+        assert response.status_code == 200, \"Publishing the unpublished dataset failed.\"\n+        mock_get_dataset.assert_called_once_with(dataset_id)\n+\n+    logout(test_client)"
      }
    ]
  },
  {
    "sha": "6b3e85a2025a7fd0a784ba5096d413887525bbdf",
    "node_id": "C_kwDONBuXkNoAKDZiM2U4NWEyMDI1YTdmZDBhNzg0YmE1MDk2ZDQxMzg4NzUyNWJiZGY",
    "commit": {
      "author": {
        "name": "\u00a8Jesus",
        "email": "jesussalasm99@gmail.com",
        "date": "2024-12-13T20:55:58Z"
      },
      "committer": {
        "name": "\u00a8Jesus",
        "email": "jesussalasm99@gmail.com",
        "date": "2024-12-13T20:55:58Z"
      },
      "message": "fix: changed email validation base code (in auth)",
      "tree": {
        "sha": "9a33671bf7e31aead1e7f26a5189e9db55f90fe7",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/9a33671bf7e31aead1e7f26a5189e9db55f90fe7"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/6b3e85a2025a7fd0a784ba5096d413887525bbdf",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/6b3e85a2025a7fd0a784ba5096d413887525bbdf",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/6b3e85a2025a7fd0a784ba5096d413887525bbdf",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/6b3e85a2025a7fd0a784ba5096d413887525bbdf/comments",
    "author": {
      "login": "JSalasM5",
      "id": 134430759,
      "node_id": "U_kgDOCANAJw",
      "avatar_url": "https://avatars.githubusercontent.com/u/134430759?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JSalasM5",
      "html_url": "https://github.com/JSalasM5",
      "followers_url": "https://api.github.com/users/JSalasM5/followers",
      "following_url": "https://api.github.com/users/JSalasM5/following{/other_user}",
      "gists_url": "https://api.github.com/users/JSalasM5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JSalasM5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JSalasM5/subscriptions",
      "organizations_url": "https://api.github.com/users/JSalasM5/orgs",
      "repos_url": "https://api.github.com/users/JSalasM5/repos",
      "events_url": "https://api.github.com/users/JSalasM5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JSalasM5/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "JSalasM5",
      "id": 134430759,
      "node_id": "U_kgDOCANAJw",
      "avatar_url": "https://avatars.githubusercontent.com/u/134430759?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JSalasM5",
      "html_url": "https://github.com/JSalasM5",
      "followers_url": "https://api.github.com/users/JSalasM5/followers",
      "following_url": "https://api.github.com/users/JSalasM5/following{/other_user}",
      "gists_url": "https://api.github.com/users/JSalasM5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JSalasM5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JSalasM5/subscriptions",
      "organizations_url": "https://api.github.com/users/JSalasM5/orgs",
      "repos_url": "https://api.github.com/users/JSalasM5/repos",
      "events_url": "https://api.github.com/users/JSalasM5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JSalasM5/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/cfc41dbb7d311fdb9aa8e01f6999788417c632db"
      }
    ],
    "files": [
      {
        "sha": "3dbfa7b8e89259af62371937dc390bdebb151751",
        "filename": "app/modules/auth/models.py",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fauth%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fauth%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fmodels.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -12,6 +12,7 @@ class User(db.Model, UserMixin):\n     email = db.Column(db.String(256), unique=True, nullable=False)\n     password = db.Column(db.String(256), nullable=False)\n     created_at = db.Column(db.DateTime, nullable=False, default=lambda: datetime.now(timezone.utc))\n+    active = db.Column(db.Boolean, default=True, nullable=False)\n \n     data_sets = db.relationship('DataSet', backref='user', lazy=True)\n     profile = db.relationship('UserProfile', backref='user', uselist=False)"
      },
      {
        "sha": "e050dbf276166a570ab1bd4704169ecca6ac8a41",
        "filename": "app/modules/auth/repositories.py",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fauth%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fauth%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Frepositories.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -17,5 +17,5 @@ def create(self, commit: bool = True, **kwargs):\n             self.session.flush()\n         return instance\n \n-    def get_by_email(self, email: str):\n-        return self.model.query.filter_by(email=email).first()\n+    def get_by_email(self, email: str, active: bool = True):\n+        return self.model.query.filter_by(email=email, active=active).first()"
      },
      {
        "sha": "af5ab35a07d97b3f2c89b5185613f4f20fa4eeea",
        "filename": "app/modules/auth/routes.py",
        "status": "modified",
        "additions": 16,
        "deletions": 6,
        "changes": 22,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fauth%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fauth%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Froutes.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -1,15 +1,13 @@\n-from flask import render_template, redirect, url_for, request\n+from flask import flash, render_template, redirect, url_for, request\n from flask_login import current_user, login_user, logout_user\n \n from app.modules.auth import auth_bp\n from app.modules.auth.forms import SignupForm, LoginForm\n from app.modules.auth.services import AuthenticationService\n from app.modules.profile.services import UserProfileService\n-from app.modules.validatemail.services import ValidatemailService\n \n authentication_service = AuthenticationService()\n user_profile_service = UserProfileService()\n-validatemail_service = ValidatemailService()\n \n \n @auth_bp.route(\"/signup/\", methods=[\"GET\", \"POST\"])\n@@ -25,17 +23,29 @@ def show_signup_form():\n \n         try:\n             user = authentication_service.create_with_profile(**form.data)\n-            validatemail_service.send_confirmation_email(user.email)\n+            authentication_service.send_confirmation_email(user.email)\n+            flash(\"Please, confirm your email\", \"info\")\n         except Exception as exc:\n             return render_template(\"auth/signup_form.html\", form=form, error=f'Error creating user: {exc}')\n \n-        # Log user\n-        login_user(user, remember=True)\n         return redirect(url_for('public.index'))\n \n     return render_template(\"auth/signup_form.html\", form=form)\n \n \n+@auth_bp.route(\"/confirm_user/<token>\", methods=[\"GET\"])\n+def confirm_user(token):\n+    try:\n+        user = authentication_service.confirm_user_with_token(token)\n+    except Exception as exc:\n+        flash(exc.args[0], \"danger\")\n+        return redirect(url_for('auth.show_signup_form'))\n+\n+    # Log user\n+    login_user(user, remember=True)\n+    return redirect(url_for('public.index'))\n+\n+\n @auth_bp.route('/login', methods=['GET', 'POST'])\n def login():\n     if current_user.is_authenticated:"
      },
      {
        "sha": "c286a6b0764e57d7eb692b503f191b8c0bb023ca",
        "filename": "app/modules/auth/services.py",
        "status": "modified",
        "additions": 36,
        "deletions": 1,
        "changes": 37,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fauth%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fauth%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fservices.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -1,7 +1,10 @@\n import os\n+from flask import current_app, url_for\n from flask_login import login_user\n from flask_login import current_user\n+from itsdangerous import BadTimeSignature, SignatureExpired, URLSafeTimedSerializer\n \n+from app import mail_service\n from app.modules.auth.models import User\n from app.modules.auth.repositories import UserRepository\n from app.modules.profile.models import UserProfile\n@@ -11,10 +14,16 @@\n \n \n class AuthenticationService(BaseService):\n+    SALT = \"user-confirm\"\n+    MAX_AGE = 3600\n+\n     def __init__(self):\n         super().__init__(UserRepository())\n         self.user_profile_repository = UserProfileRepository()\n \n+    def get_serializer(self):\n+        return URLSafeTimedSerializer(current_app.config['SECRET_KEY'])\n+\n     def login(self, email, password, remember=True):\n         user = self.repository.get_by_email(email)\n         if user is not None and user.check_password(password):\n@@ -43,7 +52,8 @@ def create_with_profile(self, **kwargs):\n \n             user_data = {\n                 \"email\": email,\n-                \"password\": password\n+                \"password\": password,\n+                \"active\": False\n             }\n \n             profile_data = {\n@@ -60,6 +70,31 @@ def create_with_profile(self, **kwargs):\n             raise exc\n         return user\n \n+    def get_token_from_email(self, email):\n+        s = self.get_serializer()\n+        return s.dumps(email, salt=self.SALT)\n+\n+    def send_confirmation_email(self, user_email):\n+        token = self.get_token_from_email(user_email)\n+        url = url_for(\"auth.confirm_user\", token=token)\n+        mail_service.send_email(\"Please, confirm your email\",\n+                                recipients=[user_email],\n+                                body=f\"<a href='{url}'>Please, confirm your email</a>\")\n+\n+    def confirm_user_with_token(self, token):\n+        s = self.get_serializer()\n+        try:\n+            email = s.loads(token, salt=self.SALT, max_age=self.MAX_AGE)\n+        except SignatureExpired:\n+            raise Exception(\"The confirmation link has expired.\")\n+        except BadTimeSignature:\n+            raise Exception(\"The confirmation link has been manipulated.\")\n+\n+        user = self.repository.get_by_email(email, active=False)\n+        user.active = True\n+        self.repository.session.commit()\n+        return user\n+\n     def update_profile(self, user_profile_id, form):\n         if form.validate():\n             updated_instance = self.update(user_profile_id, **form.data)"
      },
      {
        "sha": "54dabffec6e0273b6854666b2987c746bb9850e7",
        "filename": "app/modules/auth/tests/test_unit.py",
        "status": "modified",
        "additions": 72,
        "deletions": 0,
        "changes": 72,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -1,6 +1,9 @@\n+import time\n+from unittest.mock import patch\n import pytest\n from flask import url_for\n \n+from app import mail_service\n from app.modules.auth.services import AuthenticationService\n from app.modules.auth.repositories import UserRepository\n from app.modules.profile.repositories import UserProfileRepository\n@@ -117,3 +120,72 @@ def test_service_create_with_profile_fail_no_password(clean_database):\n \n     assert UserRepository().count() == 0\n     assert UserProfileRepository().count() == 0\n+\n+\n+def test_signup_send_confirmation_email(test_client, clean_database):\n+    data = {\n+        \"name\": \"Test\",\n+        \"surname\": \"Foo\",\n+        \"email\": \"test_confirmation@example.com\",\n+        \"password\": \"test1234\",\n+    }\n+\n+    with mail_service.mail.record_messages() as outbox:\n+        test_client.post(\"/signup\", data=data, follow_redirects=True)\n+        assert len(outbox) == 1\n+\n+\n+def test_create_with_profile_create_inactive_user(test_client, clean_database):\n+    data = {\n+        \"name\": \"Test\",\n+        \"surname\": \"Foo\",\n+        \"email\": \"user@example.com\",\n+        \"password\": \"test1234\"\n+    }\n+    user = AuthenticationService().create_with_profile(**data)\n+    assert UserRepository().count() == 1\n+    assert UserProfileRepository().count() == 1\n+    assert user.active is False\n+\n+\n+def test_confirm_user_token_expired(test_client):\n+    email = \"expired@example.com\"\n+\n+    with patch(\"time.time\", return_value=time.time() - (AuthenticationService.MAX_AGE + 1)):\n+        token = AuthenticationService().get_token_from_email(email)\n+\n+    url = url_for('auth.confirm_user', token=token, _external=False)\n+    response = test_client.get(url, follow_redirects=True)\n+    assert response.request.path == url_for(\"auth.show_signup_form\", _external=False)\n+\n+\n+def test_confirm_user_token_manipulated(test_client):\n+    email = \"manipulated@example.com\"\n+\n+    AuthenticationService.SALT = \"bad_salt\"\n+    token = AuthenticationService().get_token_from_email(email)\n+\n+    AuthenticationService.SALT = \"user-confirm\"\n+    url = url_for('auth.confirm_user', token=token, _external=False)\n+    response = test_client.get(url, follow_redirects=True)\n+    assert response.request.path == url_for(\"auth.show_signup_form\", _external=False)\n+\n+\n+def test_confirm_user_active_user(test_client):\n+    data = {\n+        \"name\": \"Test\",\n+        \"surname\": \"Foo\",\n+        \"email\": \"user@example.com\",\n+        \"password\": \"test1234\"\n+    }\n+    user = AuthenticationService().create_with_profile(**data)\n+    assert user.active is False\n+\n+    token = AuthenticationService().get_token_from_email(user.email)\n+\n+    url = url_for('auth.confirm_user', token=token, _external=False)\n+    response = test_client.get(url, follow_redirects=True)\n+    assert response.request.path == url_for(\"public.index\", _external=False)\n+\n+    user = UserRepository().get_by_email(user.email)\n+    assert user.active is True"
      },
      {
        "sha": "58e5432ab71b5a26cfec0dc2b6b4c799cb8bd615",
        "filename": "app/modules/mail/services.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/app%2Fmodules%2Fmail%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Fservices.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -30,4 +30,4 @@ def send_email(self, subject, recipients, body, html_body=None):\n         if html_body:\n             msg.html = html_body\n \n-        self.mail.send(msg)\n\\ No newline at end of file\n+        self.mail.send(msg)"
      },
      {
        "sha": "796c88f6913b5b189f587ed5fdc41d74483454cd",
        "filename": "app/modules/validatemail/.env.example",
        "status": "removed",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2F.env.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2F.env.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2F.env.example?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -1,2 +0,0 @@\n-CONFIRM_EMAIL_TOKEN_SALT = \"sample_salt\"\n-CONFIRM_EMAIL_TOKEN_MAX_AGE = 3600\n\\ No newline at end of file"
      },
      {
        "sha": "8dfcacd1d90ddadd4b6a4580667b12121c1b4d72",
        "filename": "app/modules/validatemail/__init__.py",
        "status": "removed",
        "additions": 0,
        "deletions": 3,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2F__init__.py?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -1,3 +0,0 @@\n-from core.blueprints.base_blueprint import BaseBlueprint\n-\n-validatemail_bp = BaseBlueprint('validatemail', __name__, template_folder='templates')\n\\ No newline at end of file"
      },
      {
        "sha": "f0fb04f038f4a15dc662fcdb012c90ecbca2cdf6",
        "filename": "app/modules/validatemail/assets/scripts.js",
        "status": "removed",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Fassets%2Fscripts.js?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -1 +0,0 @@\n-console.log(\"Hi, I am a script loaded from validatemail module\");\n\\ No newline at end of file"
      },
      {
        "sha": "21d68e34be9e5e22c6b71cf2d901f0080d6ee3ed",
        "filename": "app/modules/validatemail/assets/webpack.config.js",
        "status": "removed",
        "additions": 0,
        "deletions": 16,
        "changes": 16,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Fassets%2Fwebpack.config.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Fassets%2Fwebpack.config.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Fassets%2Fwebpack.config.js?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -1,16 +0,0 @@\n-const path = require('path');\n-\n-module.exports = {\n-  entry: path.resolve(__dirname, './scripts.js'),\n-  output: {\n-    filename: 'validatemail.bundle.js',\n-    path: path.resolve(__dirname, '../dist'),\n-  },\n-  resolve: {\n-    fallback: {\n-      // The resolve.fallback in Webpack is used to provide replacements \n-      // for (or ignore) Node.js modules that are not available in the browser\n-    }\n-  },\n-  mode: 'development',\n-};\n\\ No newline at end of file"
      },
      {
        "sha": "7eff474f3a2fd818c49e132bcf66e21327cb4b35",
        "filename": "app/modules/validatemail/forms.py",
        "status": "removed",
        "additions": 0,
        "deletions": 6,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Fforms.py?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -1,6 +0,0 @@\n-from flask_wtf import FlaskForm\n-from wtforms import SubmitField\n-\n-\n-class ValidateMailForm(FlaskForm):\n-    submit = SubmitField('Save validatemail')\n\\ No newline at end of file"
      },
      {
        "sha": "f2e55e4165992d3d2018800611ad3ea63ac4a49e",
        "filename": "app/modules/validatemail/models.py",
        "status": "removed",
        "additions": 0,
        "deletions": 5,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Fmodels.py?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -1,5 +0,0 @@\n-from app import db\n-\n-\n-class Validatemail():\n-    id = db.Column(db.Integer, primary_key=True)\n\\ No newline at end of file"
      },
      {
        "sha": "83276a8b3748b097ffa83bab7f874fbd636a71a0",
        "filename": "app/modules/validatemail/repositories.py",
        "status": "removed",
        "additions": 0,
        "deletions": 7,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Frepositories.py?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -1,7 +0,0 @@\n-from app.modules.validatemail.models import Validatemail\n-from core.repositories.BaseRepository import BaseRepository\n-\n-\n-class ValidatemailRepository(BaseRepository):\n-    def __init__(self):\n-        super().__init__(Validatemail)\n\\ No newline at end of file"
      },
      {
        "sha": "d2f3d203ba0b98bd221be7c876ca83ee5fab464f",
        "filename": "app/modules/validatemail/routes.py",
        "status": "removed",
        "additions": 0,
        "deletions": 24,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Froutes.py?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -1,24 +0,0 @@\n-from flask import flash, redirect, render_template, url_for\n-from flask_login import login_user\n-from app.modules.validatemail import validatemail_bp\n-from app.modules.validatemail.services import ValidatemailService\n-\n-validatemail_service = ValidatemailService()\n-\n-\n-@validatemail_bp.route('/validatemail', methods=['GET'])\n-def index():\n-    return render_template('validatemail/index.html')\n-\n-\n-@validatemail_bp.route(\"/validate_user/<token>\", methods=[\"GET\"])\n-def validate_user(token):\n-    try:\n-        user = validatemail_service.validate_user_with_token(token)\n-    except Exception as exc:\n-        flash(exc.args[0], \"danger\")\n-        return redirect(url_for(\"auth.show_signup_form\"))\n-\n-    # Log user\n-    login_user(user, remember=True)\n-    return redirect(url_for(\"public.index\"))\n\\ No newline at end of file"
      },
      {
        "sha": "060bdd83892750025efe1d248859f0c1a9fc111c",
        "filename": "app/modules/validatemail/services.py",
        "status": "removed",
        "additions": 0,
        "deletions": 57,
        "changes": 57,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Fservices.py?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -1,57 +0,0 @@\n-import os\n-from app.modules.auth.services import AuthenticationService\n-from flask import current_app, url_for\n-from itsdangerous import BadTimeSignature, SignatureExpired, URLSafeTimedSerializer\n-from dotenv import load_dotenv\n-\n-from app import mail_service\n-from app.modules.validatemail.repositories import ValidatemailRepository\n-from core.services.BaseService import BaseService\n-\n-\n-# Load environment variables\n-load_dotenv()\n-\n-authentication_service = AuthenticationService()\n-\n-\n-class ValidatemailService(BaseService):\n-    def __init__(self):\n-        super().__init__(ValidatemailRepository())\n-        self.repository = ValidatemailRepository()\n-        self.CONFIRM_EMAIL_SALT = os.getenv('CONFIRM_EMAIL_SALT', 'sample_salt')\n-        self.CONFIRM_EMAIL_TOKEN_MAX_AGE = os.getenv('CONFIRM_EMAIL_TOKEN_MAX_AGE', 3600)\n-\n-    def get_serializer(self):\n-        return URLSafeTimedSerializer(current_app.config['SECRET_KEY'])\n-\n-    def get_token_from_email(self, email):\n-        s = self.get_serializer()\n-        return s.dumps(email, salt=self.CONFIRM_EMAIL_SALT)\n-\n-    def send_confirmation_email(self, user_email):\n-        token = self.get_token_from_email(user_email)\n-        url = url_for(\"validatemail.validate_user\", token=token, _external=True)\n-\n-        html_body = f\"<a href='{url}'>Please validate your email</a>\"\n-\n-        mail_service.send_email(\n-            \"Please validate your email\",\n-            recipients=[user_email],\n-            body=\"Please validate your email by clicking the link below.\",\n-            html_body=html_body\n-        )\n-\n-    def validate_user_with_token(self, token):\n-        s = self.get_serializer()\n-        try:\n-            email = s.loads(token, salt=self.CONFIRM_EMAIL_SALT, max_age=self.CONFIRM_EMAIL_TOKEN_MAX_AGE)\n-        except SignatureExpired:\n-            raise Exception(\"The validation link has expired.\")\n-        except BadTimeSignature:\n-            raise Exception(\"The validation link has been tampered with.\")\n-\n-        user = authentication_service.get_by_email(email, active=False)\n-        user.active = True\n-        self.repository.session.commit()\n-        return user\n\\ No newline at end of file"
      },
      {
        "sha": "be0e2be2012ca3894125676759b55ede4df3a38a",
        "filename": "app/modules/validatemail/templates/validatemail/index.html",
        "status": "removed",
        "additions": 0,
        "deletions": 11,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Ftemplates%2Fvalidatemail%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Ftemplates%2Fvalidatemail%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Ftemplates%2Fvalidatemail%2Findex.html?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -1,11 +0,0 @@\n-{% extends \"base_template.html\" %}\n-\n-{% block title %}View confirmemail{% endblock %}\n-\n-{% block content %}\n-\n-{% endblock %}\n-\n-{% block scripts %}\n-    <script src=\"{{ url_for('validatemail.assets', subfolder='js', filename='scripts.js') }}\"></script>\n-{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/validatemail/tests/__init__.py",
        "status": "removed",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Ftests%2F__init__.py?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db"
      },
      {
        "sha": "b1d2964f21295ca7a98e558a1bf94355ffc21811",
        "filename": "app/modules/validatemail/tests/locustfile.py",
        "status": "removed",
        "additions": 0,
        "deletions": 21,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Ftests%2Flocustfile.py?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -1,21 +0,0 @@\n-from locust import HttpUser, TaskSet, task\n-from core.environment.host import get_host_for_locust_testing\n-\n-\n-class ValidatemailBehavior(TaskSet):\n-    def on_start(self):\n-        self.index()\n-\n-    @task\n-    def index(self):\n-        response = self.client.get(\"/validatemail\")\n-\n-        if response.status_code != 200:\n-            print(f\"Validatemail index failed: {response.status_code}\")\n-\n-\n-class ValidatemailUser(HttpUser):\n-    tasks = [ValidatemailBehavior]\n-    min_wait = 5000\n-    max_wait = 9000\n-    host = get_host_for_locust_testing()\n\\ No newline at end of file"
      },
      {
        "sha": "fff11c9025f505a883c0dc8889f2d13ba1713eb5",
        "filename": "app/modules/validatemail/tests/test_selenium.py",
        "status": "removed",
        "additions": 0,
        "deletions": 35,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Ftests%2Ftest_selenium.py?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -1,35 +0,0 @@\n-from selenium.common.exceptions import NoSuchElementException\n-import time\n-\n-from core.environment.host import get_host_for_selenium_testing\n-from core.selenium.common import initialize_driver, close_driver\n-\n-\n-def test_validatemail_index():\n-\n-    driver = initialize_driver()\n-\n-    try:\n-        host = get_host_for_selenium_testing()\n-\n-        # Open the index page\n-        driver.get(f'{host}/validatemail')\n-\n-        # Wait a little while to make sure the page has loaded completely\n-        time.sleep(4)\n-\n-        try:\n-\n-            pass\n-\n-        except NoSuchElementException:\n-            raise AssertionError('Test failed!')\n-\n-    finally:\n-\n-        # Close the browser\n-        close_driver(driver)\n-\n-\n-# Call the test function\n-test_validatemail_index()\n\\ No newline at end of file"
      },
      {
        "sha": "d8257763a6bdfe8e4457eb9232944b12ef95b262",
        "filename": "app/modules/validatemail/tests/test_unit.py",
        "status": "removed",
        "additions": 0,
        "deletions": 24,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/app%2Fmodules%2Fvalidatemail%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Ftests%2Ftest_unit.py?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -1,24 +0,0 @@\n-import pytest\n-\n-\n-@pytest.fixture(scope='module')\n-def test_client(test_client):\n-    \"\"\"\n-    Extends the test_client fixture to add additional specific data for module testing.\n-    \"\"\"\n-    with test_client.application.app_context():\n-        # Add HERE new elements to the database that you want to exist in the test context.\n-        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n-        pass\n-\n-    yield test_client\n-\n-\n-def test_sample_assertion(test_client):\n-    \"\"\"\n-    Sample test to verify that the test framework and environment are working correctly.\n-    It does not communicate with the Flask application; it only performs a simple assertion to\n-    confirm that the tests in this module can be executed.\n-    \"\"\"\n-    greeting = \"Hello, World!\"\n-    assert greeting == \"Hello, World!\", \"The greeting does not coincide with 'Hello, World!'\"\n\\ No newline at end of file"
      },
      {
        "sha": "d7b0e62c7dcf3de68c22ab518d3990afc6957cf6",
        "filename": "migrations/versions/409208c1be49_added_active_column.py",
        "status": "added",
        "additions": 32,
        "deletions": 0,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/migrations%2Fversions%2F409208c1be49_added_active_column.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/migrations%2Fversions%2F409208c1be49_added_active_column.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F409208c1be49_added_active_column.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -0,0 +1,32 @@\n+\"\"\"Added active column\n+\n+Revision ID: 409208c1be49\n+Revises: 47b26adae59f\n+Create Date: 2024-12-13 19:26:52.889281\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+\n+\n+# revision identifiers, used by Alembic.\n+revision = '409208c1be49'\n+down_revision = '47b26adae59f'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('user', schema=None) as batch_op:\n+        batch_op.add_column(sa.Column('active', sa.Boolean(), nullable=False))\n+\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('user', schema=None) as batch_op:\n+        batch_op.drop_column('active')\n+\n+    # ### end Alembic commands ###"
      },
      {
        "sha": "f448760ec3b5291b08a71675749adbedb7210915",
        "filename": "migrations/versions/47b26adae59f_inicial.py",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6b3e85a2025a7fd0a784ba5096d413887525bbdf/migrations%2Fversions%2F47b26adae59f_inicial.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6b3e85a2025a7fd0a784ba5096d413887525bbdf/migrations%2Fversions%2F47b26adae59f_inicial.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F47b26adae59f_inicial.py?ref=6b3e85a2025a7fd0a784ba5096d413887525bbdf",
        "patch": "@@ -0,0 +1,35 @@\n+\"\"\"Inicial\n+\n+Revision ID: 47b26adae59f\n+Revises: 001\n+Create Date: 2024-11-12 17:30:20.988651\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = '47b26adae59f'\n+down_revision = '001'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('user', schema=None) as batch_op:\n+        batch_op.drop_column('confirmed_on')\n+        batch_op.drop_column('is_confirmed')\n+\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('user', schema=None) as batch_op:\n+        batch_op.add_column(sa.Column('is_confirmed', mysql.TINYINT(display_width=1), autoincrement=False,\n+                                      nullable=False))\n+        batch_op.add_column(sa.Column('confirmed_on', mysql.DATETIME(), nullable=True))\n+\n+    # ### end Alembic commands ###"
      }
    ]
  },
  {
    "sha": "b853e1aebc8624765ef59c8b426d7e88b7f59694",
    "node_id": "C_kwDONBuXkNoAKGI4NTNlMWFlYmM4NjI0NzY1ZWY1OWM4YjQyNmQ3ZTg4YjdmNTk2OTQ",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-13T17:15:14Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-13T17:15:14Z"
      },
      "message": "test: Checksum and size tested\n\nChecksum and size function tested in dataset module",
      "tree": {
        "sha": "806dfcd36ac2b51d3b491b7743df39c7a7211833",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/806dfcd36ac2b51d3b491b7743df39c7a7211833"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/b853e1aebc8624765ef59c8b426d7e88b7f59694",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b853e1aebc8624765ef59c8b426d7e88b7f59694",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/b853e1aebc8624765ef59c8b426d7e88b7f59694",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b853e1aebc8624765ef59c8b426d7e88b7f59694/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "532dfb19c4c07ce43f2cacba744021db0d2cde6c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/532dfb19c4c07ce43f2cacba744021db0d2cde6c",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/532dfb19c4c07ce43f2cacba744021db0d2cde6c"
      }
    ],
    "files": [
      {
        "sha": "37aa8d22b20fd6f301b5091261f367c3a85d7459",
        "filename": "app/modules/dataset/tests/test_unit.py",
        "status": "modified",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b853e1aebc8624765ef59c8b426d7e88b7f59694/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b853e1aebc8624765ef59c8b426d7e88b7f59694/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py?ref=b853e1aebc8624765ef59c8b426d7e88b7f59694",
        "patch": "@@ -1,4 +1,5 @@\n import pytest\n+from app.modules.dataset import services\n \n \n @pytest.fixture(scope=\"module\")\n@@ -22,3 +23,9 @@ def test_download_all_dataset(test_client):\n     assert response.status_code == 200, \"Download all datasets was unsuccessful\"\n \n     test_client.get(\"/logout\", follow_redirects=True)\n+\n+\n+def test_checksum_and_size():\n+    checksum, size = services.calculate_checksum_and_size(\"app/modules/dataset/tests/test_file.txt\")\n+    assert checksum == \"1ca813544406308899f8764f9d5a3422\"\n+    assert size == 30"
      }
    ]
  },
  {
    "sha": "7a341e32be45e0e13f7f3b72a56b88179dc430a1",
    "node_id": "C_kwDONBuXkNoAKDdhMzQxZTMyYmU0NWUwZTEzZjdmM2I3MmE1NmI4ODE3OWRjNDMwYTE",
    "commit": {
      "author": {
        "name": "YatoDev",
        "email": "59254702+Yato03@users.noreply.github.com",
        "date": "2024-12-13T16:24:11Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-12-13T16:24:11Z"
      },
      "message": "Merge branch 'master' into feat/rate-datasets",
      "tree": {
        "sha": "e714d3a9964f63a61a977c2de942c9f73af89cde",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/e714d3a9964f63a61a977c2de942c9f73af89cde"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/7a341e32be45e0e13f7f3b72a56b88179dc430a1",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnXF+rCRC1aQ7uu5UhlAAA06gQAHBU4ioXjiGzj4HiUh9Q/bg5\nk093QKjxvoiorXzriA6nTfljv3GFZbqG0TNSfXqYzM539een8WKVLh3WOBXMjTg/\nw0h/tOZgXEV0asrMTL18Dkf4m//lgwWulsHpRzUoyLSK8FBhJn3OMPXrexEDOxuw\nPtww4kXSwi/nAwKRqjh9drGKb8aGB3S3fKHFNC2Q4jUA9lzOf8Fvw55mKjCX6RNU\ncKVcwCFwaGOt4lUYkl/efo9JPEFcEDqxcsCAnGy1lQi01S1ZjBkc0r+zg6L16Snm\n7wJ+Kb4Y0Buz6Bx+HEHZFtG73KgxTgtCzQdv1yYYOmC1f3Gs2Qp4aYvVgODY5+rl\nVnVr7XAuddyxEv75wRDbMm+2MJGAQBNwgd3YoC4O0y/OQJLaOJcBlYSrXpEhYCKx\nb4Jd4Qa737IwpLk7n0U/70eD77CgGZttbtO3AlkI3CMpbZe5UZLHF9okd+ULiRgu\n/B4U/4vXrPyC2R7+D1Zl5pMWvNqfuJtigq7/qnvrW7eQi2qK4nhMJ0e1OeQO03IV\nE53DRRVhoYtnJfbdhDl/iWIXYR2iUMQLXSX22fAslduYxSCQZ1chi72bHgVugFCn\ny6BMdIE8Sq6OkJrL7GoRF51S4sYkYYWotM5CJhvmStX/PYKkoZ7EQEeMrqy2RMRY\n1e9Ww+kN/QWzj6DOGcIs\n=aZTu\n-----END PGP SIGNATURE-----\n",
        "payload": "tree e714d3a9964f63a61a977c2de942c9f73af89cde\nparent dcc0267fcd5f4842c54a42f4a9003e53bc4f994f\nparent 532dfb19c4c07ce43f2cacba744021db0d2cde6c\nauthor YatoDev <59254702+Yato03@users.noreply.github.com> 1734107051 +0100\ncommitter GitHub <noreply@github.com> 1734107051 +0100\n\nMerge branch 'master' into feat/rate-datasets",
        "verified_at": "2024-12-13T16:24:14Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/7a341e32be45e0e13f7f3b72a56b88179dc430a1",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/7a341e32be45e0e13f7f3b72a56b88179dc430a1",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/7a341e32be45e0e13f7f3b72a56b88179dc430a1/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "dcc0267fcd5f4842c54a42f4a9003e53bc4f994f",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f"
      },
      {
        "sha": "532dfb19c4c07ce43f2cacba744021db0d2cde6c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/532dfb19c4c07ce43f2cacba744021db0d2cde6c",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/532dfb19c4c07ce43f2cacba744021db0d2cde6c"
      }
    ],
    "files": [
      {
        "sha": "cc83e3c360fe5c756b3449d51f34b1a9cce1583b",
        "filename": ".env.docker.example",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/7a341e32be45e0e13f7f3b72a56b88179dc430a1/.env.docker.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/7a341e32be45e0e13f7f3b72a56b88179dc430a1/.env.docker.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.env.docker.example?ref=7a341e32be45e0e13f7f3b72a56b88179dc430a1",
        "patch": "@@ -1,4 +1,4 @@\n-FLASK_APP_NAME=\"UVLHUB.IO(dev)\"\n+FLASK_APP_NAME=\"CHIPIHUB.IO(dev)\"\n FLASK_ENV=production\n DOMAIN=localhost:5000\n MARIADB_HOSTNAME=db\n@@ -8,4 +8,4 @@ MARIADB_TEST_DATABASE=uvlhubdb_test\n MARIADB_USER=uvlhubdb_user\n MARIADB_PASSWORD=uvlhubdb_password\n MARIADB_ROOT_PASSWORD=uvlhubdb_root_password\n-WORKING_DIR=/app/\n+WORKING_DIR=/app/\n\\ No newline at end of file"
      },
      {
        "sha": "31d6aa640494f20b41958b8b2fc9f22e42a2fbec",
        "filename": ".github/workflows/codacy.yml",
        "status": "removed",
        "additions": 0,
        "deletions": 53,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f/.github%2Fworkflows%2Fcodacy.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f/.github%2Fworkflows%2Fcodacy.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fcodacy.yml?ref=dcc0267fcd5f4842c54a42f4a9003e53bc4f994f",
        "patch": "@@ -1,53 +0,0 @@\n-name: Codacy CI\n-\n-on:\n-  push:\n-    branches:\n-      - master\n-  pull_request:\n-    branches:\n-      - master\n-\n-jobs:\n-  build:\n-    runs-on: ubuntu-latest\n-    services:\n-      mysql:\n-        image: mysql:5.7\n-        env:\n-          MYSQL_ROOT_PASSWORD: uvlhub_root_password\n-          MYSQL_DATABASE: uvlhubdb_test\n-          MYSQL_USER: uvlhub_user\n-          MYSQL_PASSWORD: uvlhub_password\n-        ports:\n-          - 3306:3306\n-        options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n-\n-    steps:\n-    - name: Checkout code\n-      uses: actions/checkout@v4\n-\n-    - name: Set up Python\n-      uses: actions/setup-python@v5\n-      with:\n-        python-version: '3.12'\n-\n-    - name: Install dependencies\n-      run: |\n-        python -m pip install --upgrade pip\n-        pip install -r requirements.txt\n-\n-    - name: Upload coverage to Codacy\n-      run: |\n-        pip install codacy-coverage\n-        coverage run -m pytest app/modules/ --ignore-glob='*selenium*'\n-        coverage xml \n-        python-codacy-coverage -r coverage.xml\n-      env:\n-        FLASK_ENV: testing\n-        MARIADB_HOSTNAME: 127.0.0.1\n-        MARIADB_PORT: 3306\n-        MARIADB_TEST_DATABASE: uvlhubdb_test\n-        MARIADB_USER: uvlhub_user\n-        MARIADB_PASSWORD: uvlhub_password\n-        CODACY_PROJECT_TOKEN: ${{ secrets.CODACY_PROJECT_TOKEN }}"
      },
      {
        "sha": "89be2d04416a9b7c491a2dcdca22f69ab38052b5",
        "filename": ".github/workflows/commits.yml",
        "status": "removed",
        "additions": 0,
        "deletions": 18,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f/.github%2Fworkflows%2Fcommits.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f/.github%2Fworkflows%2Fcommits.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fcommits.yml?ref=dcc0267fcd5f4842c54a42f4a9003e53bc4f994f",
        "patch": "@@ -1,18 +0,0 @@\n-name: Commits Syntax Checker\n-\n-on:\n-  pull_request:\n-    branches: [master]\n-    types: [opened, reopened, edited, review_requested, synchronize]\n-  push:\n-    branches:\n-      - \"master\"\n-  workflow_call:\n-\n-jobs:\n-  check:\n-    name: Conventional Commits\n-    runs-on: ubuntu-latest\n-    steps:\n-      - uses: actions/checkout@v2\n-      - uses: webiny/action-conventional-commits@v1.0.3\n\\ No newline at end of file"
      },
      {
        "sha": "c18685798a7983664d2ac20cf1fbfd698b524b47",
        "filename": ".github/workflows/deloyment_on_render.yml",
        "status": "renamed",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/7a341e32be45e0e13f7f3b72a56b88179dc430a1/.github%2Fworkflows%2Fdeloyment_on_render.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/7a341e32be45e0e13f7f3b72a56b88179dc430a1/.github%2Fworkflows%2Fdeloyment_on_render.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fdeloyment_on_render.yml?ref=7a341e32be45e0e13f7f3b72a56b88179dc430a1",
        "patch": "@@ -1,10 +1,10 @@\n-name: Deploy on Webhook\n+name: Deploy on Render \n \n on:\n   workflow_run:\n     workflows: \n-      - \"Python Lint\"\n-      - \"Run tests\"\n+      - \"Format checker\"\n+      - \"Tests\"\n     types:\n       - completed\n \n@@ -24,7 +24,7 @@ jobs:\n           exit 1\n         fi\n \n-    - name: Trigger Deployment Webhook\n+    - name: Trigger Deployment Render\n       env:\n         WEBHOOK_URL: ${{ secrets.RENDER_DEPLOY_HOOK_URL }}\n       run: |",
        "previous_filename": ".github/workflows/deloyment_on_webhook.yml"
      },
      {
        "sha": "3dd2d7e0730616ba219b56172a4f8e1482f3c1a6",
        "filename": ".github/workflows/format.yml",
        "status": "renamed",
        "additions": 8,
        "deletions": 1,
        "changes": 9,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/7a341e32be45e0e13f7f3b72a56b88179dc430a1/.github%2Fworkflows%2Fformat.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/7a341e32be45e0e13f7f3b72a56b88179dc430a1/.github%2Fworkflows%2Fformat.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fformat.yml?ref=7a341e32be45e0e13f7f3b72a56b88179dc430a1",
        "patch": "@@ -1,10 +1,11 @@\n-name: Python Lint\n+name: Format checker\n \n on:\n   push:\n     branches: [master]\n   pull_request:\n     branches: [master]\n+  workflow_dispatch:\n \n jobs:\n   lint:\n@@ -26,3 +27,9 @@ jobs:\n     - name: Lint with flake8\n       run: |\n         flake8 app\n+  check:\n+    name: Conventional Commits\n+    runs-on: ubuntu-latest\n+    steps:\n+      - uses: actions/checkout@v2\n+      - uses: webiny/action-conventional-commits@8bc41ff4e7d423d56fa4905f6ff79209a78776c7",
        "previous_filename": ".github/workflows/lint.yml"
      },
      {
        "sha": "3b534535769c72dce0247da0801ee8fab30a18bb",
        "filename": ".github/workflows/tests.yml",
        "status": "modified",
        "additions": 44,
        "deletions": 7,
        "changes": 51,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/7a341e32be45e0e13f7f3b72a56b88179dc430a1/.github%2Fworkflows%2Ftests.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/7a341e32be45e0e13f7f3b72a56b88179dc430a1/.github%2Fworkflows%2Ftests.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Ftests.yml?ref=7a341e32be45e0e13f7f3b72a56b88179dc430a1",
        "patch": "@@ -1,14 +1,21 @@\n-name: Run tests\n+name: Tests\n \n on:\n   push:\n-    branches: [master]\n+    branches:\n+      - master\n   pull_request:\n-    branches: [master]\n+    branches:\n+      - master\n+  workflow_dispatch:\n \n jobs:\n-  pytest:\n+  build:\n     runs-on: ubuntu-latest\n+    strategy:\n+      fail-fast: false\n+      matrix:\n+        python-version: ['3.11', '3.12']\n \n     services:\n       mysql:\n@@ -23,11 +30,13 @@ jobs:\n         options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n \n     steps:\n-    - uses: actions/checkout@v4\n+    - name: Checkout code\n+      uses: actions/checkout@v4\n \n-    - uses: actions/setup-python@v5\n+    - name: Set up Python\n+      uses: actions/setup-python@v5\n       with:\n-        python-version: '3.12'\n+        python-version: ${{matrix.python-version}}\n \n     - name: Prepare environment\n       run: |\n@@ -37,6 +46,33 @@ jobs:\n       run: |\n         python -m pip install --upgrade pip\n         pip install -r requirements.txt\n+    \n+    - name: Check for outdated dependencies\n+      run: |\n+          pip list --outdated > outdated_dependencies.txt\n+    \n+    - name: Show outdated dependencies\n+      run: cat outdated_dependencies.txt\n+\n+    - name: Security audit with pip-audit\n+      run: |\n+        pip install pip-audit\n+        pip-audit || true\n+  \n+    - name: Upload coverage to Codacy\n+      run: |\n+        pip install codacy-coverage\n+        coverage run -m pytest app/modules/ --ignore-glob='*selenium*'\n+        coverage xml \n+        python-codacy-coverage -r coverage.xml\n+      env:\n+        FLASK_ENV: testing\n+        MARIADB_HOSTNAME: 127.0.0.1\n+        MARIADB_PORT: 3306\n+        MARIADB_TEST_DATABASE: uvlhubdb_test\n+        MARIADB_USER: uvlhub_user\n+        MARIADB_PASSWORD: uvlhub_password\n+        CODACY_PROJECT_TOKEN: ${{ secrets.CODACY_PROJECT_TOKEN }}\n \n     - name: Run Tests\n       env:\n@@ -48,3 +84,4 @@ jobs:\n         MARIADB_PASSWORD: uvlhub_password\n       run: |\n         pytest app/modules/ --ignore-glob='*selenium*'\n+"
      },
      {
        "sha": "211a06db03f96508b3c92becfc0ac0bad6fac4c4",
        "filename": ".mailmap",
        "status": "added",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/7a341e32be45e0e13f7f3b72a56b88179dc430a1/.mailmap",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/7a341e32be45e0e13f7f3b72a56b88179dc430a1/.mailmap",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.mailmap?ref=7a341e32be45e0e13f7f3b72a56b88179dc430a1",
        "patch": "@@ -0,0 +1,4 @@\n+Miguel Hern\u00e1ndez S\u00e1nchez <mighersan1@alum.us.es> <59254702+Yato03@users.noreply.github.com>\n+Miguel Hern\u00e1ndez S\u00e1nchez <mighersan1@alum.us.es> <miguelhs3523@gmail.com>\n+Gonzalo Navas Remmers <gonnavrem@alum.us.es> <92763979+gonnavrem@users.noreply.github.com>\n+d4niel980 <danbenhid@alum.us.es> <d4niel.bh@gmail.com>"
      },
      {
        "sha": "babaa6561fe3810001ed974206e69ced5b7883f7",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "modified",
        "additions": 4,
        "deletions": 6,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/7a341e32be45e0e13f7f3b72a56b88179dc430a1/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/7a341e32be45e0e13f7f3b72a56b88179dc430a1/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=7a341e32be45e0e13f7f3b72a56b88179dc430a1",
        "patch": "@@ -7,19 +7,17 @@\n \n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['GET'])\n def get_all_depositions():\n-    path = \"modules/fakenodo/placeholders/deposition.json\"\n-    if os.getenv(\"FLASK_ENV\") == \"development\":\n-        path = \"app/\" + path\n+    workdir = os.getenv(\"WORKING_DIR\")\n+    path = f\"{workdir}app/modules/fakenodo/placeholders/deposition.json\"\n     with open(path) as f:\n         data = json.load(f)\n     return jsonify(data)\n \n \n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['GET'])\n def get_deposition(id):\n-    path = \"modules/fakenodo/placeholders/deposition.json\"\n-    if os.getenv(\"FLASK_ENV\") == \"development\":\n-        path = \"app/\" + path\n+    workdir = os.getenv(\"WORKING_DIR\")\n+    path = f\"{workdir}/app/modules/fakenodo/placeholders/deposition.json\"\n     with open(path) as f:\n         data = json.load(f)\n         data['doi'] = str(uuid.uuid4())"
      },
      {
        "sha": "5f1bf2598bb50b28e200e1e28692475f126af713",
        "filename": "app/modules/profile/routes.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/7a341e32be45e0e13f7f3b72a56b88179dc430a1/app%2Fmodules%2Fprofile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/7a341e32be45e0e13f7f3b72a56b88179dc430a1/app%2Fmodules%2Fprofile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Froutes.py?ref=7a341e32be45e0e13f7f3b72a56b88179dc430a1",
        "patch": "@@ -35,7 +35,7 @@ def edit_profile():\n def my_profile(user_id):\n     is_my_profile = False\n     # ver si el user_id es none(mi perfil) o es alguno(perfil de otro)\n-    if user_id is None:\n+    if user_id is None or user_id == current_user.id:\n         user_id = current_user.id\n         is_my_profile = True\n "
      },
      {
        "sha": "748c29c392e29a30da6707aec23b926ef998a237",
        "filename": "app/modules/profile/tests/test_unit.py",
        "status": "modified",
        "additions": 22,
        "deletions": 6,
        "changes": 28,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/7a341e32be45e0e13f7f3b72a56b88179dc430a1/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/7a341e32be45e0e13f7f3b72a56b88179dc430a1/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py?ref=7a341e32be45e0e13f7f3b72a56b88179dc430a1",
        "patch": "@@ -41,8 +41,7 @@ def test_edit_profile_page_get(test_client):\n def test_get_profile_page(test_client):\n \n     \"\"\"\n-    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n-    usuarios exsistentes mediante GET\n+    Will test that an user will be able to access to another user's profile using GET\n     \"\"\"\n     login_response = login(test_client, \"user@example.com\", \"test1234\")\n     assert login_response.status_code == 200, \"Login was unsuccessful.\"\n@@ -55,8 +54,7 @@ def test_get_profile_page(test_client):\n \n def test_get_unexisting_profile_page(test_client):\n     \"\"\"\n-    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n-    usuarios exsistentes mediante GET\n+    Will test that a user wont be able to access a profile of a non existent user\n     \"\"\"\n     login_response = login(test_client, \"user@example.com\", \"test1234\")\n     assert login_response.status_code == 200, \"Login was unsuccessful.\"\n@@ -69,8 +67,7 @@ def test_get_unexisting_profile_page(test_client):\n \n def test_get_my_profile_page(test_client):\n     \"\"\"\n-    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n-    usuarios exsistentes mediante GET\n+    Will test that the current user will be able to access it's profile using GET\n     \"\"\"\n     login_response = login(test_client, \"user@example.com\", \"test1234\")\n     assert login_response.status_code == 200, \"Login was unsuccessful.\"\n@@ -80,3 +77,22 @@ def test_get_my_profile_page(test_client):\n     assert b\"My profile\" in response.data, \"The expected content is not present on the page\"\n \n     logout(test_client)\n+\n+\n+def test_get_my_profile_page_alternative_version(test_client):\n+    \"\"\"\n+    Will test that the current user will be able to access it's profile using GET\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    # Obtenemos el ID del usuario logueado desde la base de datos\n+    user = User.query.filter_by(email='user@example.com').first()\n+    assert user is not None, \"User not found in the database.\"\n+\n+    # Realizamos la solicitud GET con el ID del usuario en la URL\n+    response = test_client.get(f\"/profile/summary/{user.id}\")\n+    assert response.status_code == 200, \"The profile page could not be accessed.\"\n+    assert b\"My profile\" in response.data, \"The expected content is not present on the page\"\n+\n+    logout(test_client)"
      },
      {
        "sha": "a0215907ed1aaa7f79a9cdc5cabf170e8f227b28",
        "filename": "app/modules/zenodo/services.py",
        "status": "modified",
        "additions": 1,
        "deletions": 17,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/7a341e32be45e0e13f7f3b72a56b88179dc430a1/app%2Fmodules%2Fzenodo%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/7a341e32be45e0e13f7f3b72a56b88179dc430a1/app%2Fmodules%2Fzenodo%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Fservices.py?ref=7a341e32be45e0e13f7f3b72a56b88179dc430a1",
        "patch": "@@ -22,24 +22,8 @@\n class ZenodoService(BaseService):\n \n     def get_zenodo_url(self):\n-\n-        FLASK_ENV = os.getenv(\"FLASK_ENV\", \"development\")\n-        ZENODO_API_URL = \"\"\n-\n         LOCAL_SERVER = os.getenv(\"DOMAIN\", \"localhost:5000\")\n-        development_url = f\"{LOCAL_SERVER}/fakenodo/deposit/depositions\"\n-\n-        if FLASK_ENV == \"development\":\n-            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n-            ZENODO_API_URL = f\"http://{development_url}\"\n-        elif FLASK_ENV == \"production\":\n-            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://zenodo.org/api/deposit/depositions\")\n-            ZENODO_API_URL = f\"https://{development_url}\"\n-        else:\n-            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n-            ZENODO_API_URL = f\"http://{development_url}\"\n-\n-        return ZENODO_API_URL\n+        return f\"http://{LOCAL_SERVER}/fakenodo/deposit/depositions\"\n \n     def get_zenodo_access_token(self):\n         return os.getenv(\"ZENODO_ACCESS_TOKEN\")"
      },
      {
        "sha": "82b37f72fd7b5a461e7ba5cf2e949e0423fd39dd",
        "filename": "docker/docker-compose.yml",
        "status": "added",
        "additions": 53,
        "deletions": 0,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/7a341e32be45e0e13f7f3b72a56b88179dc430a1/docker%2Fdocker-compose.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/7a341e32be45e0e13f7f3b72a56b88179dc430a1/docker%2Fdocker-compose.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fdocker-compose.yml?ref=7a341e32be45e0e13f7f3b72a56b88179dc430a1",
        "patch": "@@ -0,0 +1,53 @@\n+services:\n+  web:\n+    container_name: web_app_container\n+    image: chipihub:dev\n+    env_file:\n+      - ../.env.docker.example\n+    expose:\n+      - \"5000\"\n+    depends_on:\n+      - db\n+    build:\n+      context: ../\n+      dockerfile: docker/images/Dockerfile.dev\n+    volumes:\n+      - ../:/app\n+      - /var/run/docker.sock:/var/run/docker.sock\n+    command: [ \"sh\", \"-c\", \"sh /app/docker/entrypoints/development_entrypoint.sh\" ]\n+    networks:\n+      - chipihub_network\n+\n+  db:\n+    container_name: mariadb_container\n+    env_file:\n+      - ../.env.docker.example\n+    build:\n+      context: ../\n+      dockerfile: docker/images/Dockerfile.mariadb\n+    restart: always\n+    ports:\n+      - \"3306:3306\"\n+    volumes:\n+      - db_data:/var/lib/mysql\n+    networks:\n+      - chipihub_network\n+\n+  nginx:\n+    container_name: nginx_web_server_container\n+    image: nginx:latest\n+    volumes:\n+      - ./nginx/nginx.dev.conf:/etc/nginx/nginx.conf\n+      - ./nginx/html:/usr/share/nginx/html\n+    ports:\n+      - \"80:80\"\n+    depends_on:\n+      - web\n+    networks:\n+      - chipihub_network\n+\n+volumes:\n+  db_data:\n+\n+networks:\n+  chipihub_network:"
      }
    ]
  },
  {
    "sha": "09fdcdd7e6f8131866758227cf7a8034ce13766d",
    "node_id": "C_kwDONBuXkNoAKDA5ZmRjZGQ3ZTZmODEzMTg2Njc1ODIyN2NmN2E4MDM0Y2UxMzc2NmQ",
    "commit": {
      "author": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-12-13T10:51:18Z"
      },
      "committer": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-12-13T10:51:18Z"
      },
      "message": "test: Locust test for stagging area.\n\nA locust test has been added for staging area routes.",
      "tree": {
        "sha": "48279a83ddfa3cafbf9ee8421c987b7ad6f96fb3",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/48279a83ddfa3cafbf9ee8421c987b7ad6f96fb3"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/09fdcdd7e6f8131866758227cf7a8034ce13766d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/09fdcdd7e6f8131866758227cf7a8034ce13766d",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/09fdcdd7e6f8131866758227cf7a8034ce13766d",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/09fdcdd7e6f8131866758227cf7a8034ce13766d/comments",
    "author": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a155eda3296604e847bb0a3fa3efaaace8e908da",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a155eda3296604e847bb0a3fa3efaaace8e908da",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/a155eda3296604e847bb0a3fa3efaaace8e908da"
      }
    ],
    "files": [
      {
        "sha": "35a64a97b864d7ca9826855912d0dc25397e5b21",
        "filename": "app/modules/dataset/tests/locustfile.py",
        "status": "modified",
        "additions": 14,
        "deletions": 0,
        "changes": 14,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/09fdcdd7e6f8131866758227cf7a8034ce13766d/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/09fdcdd7e6f8131866758227cf7a8034ce13766d/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py?ref=09fdcdd7e6f8131866758227cf7a8034ce13766d",
        "patch": "@@ -1,6 +1,7 @@\n from locust import HttpUser, TaskSet, task\n from core.locust.common import get_csrf_token\n from core.environment.host import get_host_for_locust_testing\n+import random\n \n \n class DatasetBehavior(TaskSet):\n@@ -18,3 +19,16 @@ class DatasetUser(HttpUser):\n     min_wait = 5000\n     max_wait = 9000\n     host = get_host_for_locust_testing()\n+\n+\n+class DatasetPublishBehavior(TaskSet):\n+    @task\n+    def publish_dataset(self):\n+        dataset_id = random.randint(1, 100)\n+        response = self.client.post(f\"/dataset/{dataset_id}/publish\")\n+        if response.status_code == 200:\n+            print(f\"Dataset {dataset_id} publicado con \u00e9xito\")\n+        elif response.status_code == 400:\n+            print(f\"Dataset {dataset_id} ya estaba publicado o tuvo un error: {response.json()}\")\n+        else:\n+            print(f\"Error en la publicaci\u00f3n del dataset {dataset_id}: {response.status_code}\")"
      }
    ]
  },
  {
    "sha": "a155eda3296604e847bb0a3fa3efaaace8e908da",
    "node_id": "C_kwDONBuXkNoAKGExNTVlZGEzMjk2NjA0ZTg0N2JiMGEzZmEzZWZhYWFjZThlOTA4ZGE",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-12T18:25:28Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-12T18:25:28Z"
      },
      "message": "test: Add selenium test\n\nAdd selenium test to assure everything works as it has to",
      "tree": {
        "sha": "643e67da5b9490f953880271d309fe266c05109d",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/643e67da5b9490f953880271d309fe266c05109d"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/a155eda3296604e847bb0a3fa3efaaace8e908da",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a155eda3296604e847bb0a3fa3efaaace8e908da",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/a155eda3296604e847bb0a3fa3efaaace8e908da",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a155eda3296604e847bb0a3fa3efaaace8e908da/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a40b57336a407d6cfe706f78d5ac5a08b315d13b",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a40b57336a407d6cfe706f78d5ac5a08b315d13b",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/a40b57336a407d6cfe706f78d5ac5a08b315d13b"
      }
    ],
    "files": [
      {
        "sha": "57eae050b27661f3f46ea9e8c83736ef19752cae",
        "filename": "app/modules/dataset/tests/test_selenium.py",
        "status": "modified",
        "additions": 40,
        "deletions": 0,
        "changes": 40,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a155eda3296604e847bb0a3fa3efaaace8e908da/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a155eda3296604e847bb0a3fa3efaaace8e908da/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py?ref=a155eda3296604e847bb0a3fa3efaaace8e908da",
        "patch": "@@ -138,6 +138,46 @@ def test_downloadall():\n     driver.find_element(By.LINK_TEXT, \"Download all datasets\").click()\n \n \n+def test_publish_datset():\n+    driver = initialize_driver()\n+    driver.get(\"http://127.0.0.1:5000/\")\n+    driver.set_window_size(1854, 1048)\n+    driver.find_element(By.CSS_SELECTOR, \".nav-link:nth-child(2)\").click()\n+    driver.find_element(By.ID, \"email\").click()\n+    driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+    driver.find_element(By.ID, \"password\").click()\n+    driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+    driver.find_element(By.ID, \"submit\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".sidebar-item:nth-child(7) .align-middle:nth-child(2)\").click()\n+    wait_for_page_to_load(driver)\n+    driver.find_element(By.CSS_SELECTOR, \"tr:nth-child(1) .btn\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".btn\").click()\n+\n+\n+def test_publish_All_datasets():\n+\n+    test_upload_dataset()\n+    # redneck fix: invoke a test that creates a dataset and using the \"fixture created\" does the current test\n+\n+    driver = initialize_driver()\n+    driver.get(\"http://127.0.0.1:5000/\")\n+    driver.set_window_size(1854, 1048)\n+    driver.find_element(By.CSS_SELECTOR, \".nav-link:nth-child(2)\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".row:nth-child(2) > .col-md-6 > .mb-3\").click()\n+    driver.find_element(By.ID, \"email\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".row:nth-child(2) > .col-md-6\").click()\n+    driver.find_element(By.ID, \"email\").click()\n+    driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+    driver.find_element(By.ID, \"password\").click()\n+    driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+    driver.find_element(By.ID, \"submit\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".sidebar-item:nth-child(7) .align-middle:nth-child(2)\").click()\n+    wait_for_page_to_load(driver)\n+    driver.find_element(By.CSS_SELECTOR, \".card-body > form > .btn\").click()\n+\n+\n # Call the test function\n+test_publish_All_datasets()\n test_upload_dataset()\n test_downloadall()\n+test_publish_datset()"
      }
    ]
  },
  {
    "sha": "a40b57336a407d6cfe706f78d5ac5a08b315d13b",
    "node_id": "C_kwDONBuXkNoAKGE0MGI1NzMzNmE0MDdkNmNmZTcwNmY3OGQ1YWM1YTA4YjMxNWQxM2I",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-12T18:24:15Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-12T18:24:15Z"
      },
      "message": "chore: Database updated\n\nAdd status to the sample datasets of the db and creation of a new, unpublished dataset to  show functionality",
      "tree": {
        "sha": "9287216469bf87d99b5e15250c79bf6379447f1f",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/9287216469bf87d99b5e15250c79bf6379447f1f"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/a40b57336a407d6cfe706f78d5ac5a08b315d13b",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a40b57336a407d6cfe706f78d5ac5a08b315d13b",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/a40b57336a407d6cfe706f78d5ac5a08b315d13b",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a40b57336a407d6cfe706f78d5ac5a08b315d13b/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "9479270353433c2b5ce51b5d9d7463d1c5a4b2af",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/9479270353433c2b5ce51b5d9d7463d1c5a4b2af",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/9479270353433c2b5ce51b5d9d7463d1c5a4b2af"
      }
    ],
    "files": [
      {
        "sha": "e03ee2ba240c4e42f300ebab042ececb4b1e1333",
        "filename": "app/modules/dataset/seeders.py",
        "status": "modified",
        "additions": 31,
        "deletions": 8,
        "changes": 39,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a40b57336a407d6cfe706f78d5ac5a08b315d13b/app%2Fmodules%2Fdataset%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a40b57336a407d6cfe706f78d5ac5a08b315d13b/app%2Fmodules%2Fdataset%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fseeders.py?ref=a40b57336a407d6cfe706f78d5ac5a08b315d13b",
        "patch": "@@ -9,7 +9,8 @@\n     DSMetaData,\n     PublicationType,\n     DSMetrics,\n-    Author)\n+    Author,\n+    Status)\n from datetime import datetime, timezone\n from dotenv import load_dotenv\n \n@@ -40,9 +41,23 @@ def run(self):\n                 publication_doi=f'10.1234/dataset{i+1}',\n                 dataset_doi=f'10.1234/dataset{i+1}',\n                 tags='tag1, tag2',\n-                ds_metrics_id=seeded_ds_metrics.id\n+                ds_metrics_id=seeded_ds_metrics.id,\n+                ds_status=Status.PUBLISHED\n             ) for i in range(4)\n         ]\n+\n+        # Addition of a Unpublished sample datatset metadata\n+        unpublished_dataset_meta_data = DSMetaData(\n+            deposition_id=5,\n+            title='UNPUBLISHED DATASET',\n+            description='Description for dataset 5',\n+            publication_type=PublicationType.DATA_MANAGEMENT_PLAN,\n+            publication_doi=None,\n+            dataset_doi=None,\n+            tags='tag1, tag2',\n+            ds_metrics_id=seeded_ds_metrics.id\n+        )\n+        ds_meta_data_list.append(unpublished_dataset_meta_data)\n         seeded_ds_meta_data = self.seed(ds_meta_data_list)\n \n         # Create Author instances and associate with DSMetaData\n@@ -51,8 +66,8 @@ def run(self):\n                 name=f'Author {i+1}',\n                 affiliation=f'Affiliation {i+1}',\n                 orcid=f'0000-0000-0000-000{i}',\n-                ds_meta_data_id=seeded_ds_meta_data[i % 4].id\n-            ) for i in range(4)\n+                ds_meta_data_id=seeded_ds_meta_data[i % 5].id\n+            ) for i in range(5)\n         ]\n         self.seed(authors)\n \n@@ -64,6 +79,14 @@ def run(self):\n                 created_at=datetime.now(timezone.utc)\n             ) for i in range(4)\n         ]\n+\n+        # Addition of a Unpublished sample datatset metadata\n+        unpublished_dataset = DataSet(\n+            user_id=user1.id,\n+            ds_meta_data_id=unpublished_dataset_meta_data.id,\n+            created_at=datetime.now(timezone.utc)\n+        )\n+        datasets.append(unpublished_dataset)\n         seeded_datasets = self.seed(datasets)\n \n         # Assume there are 12 UVL files, create corresponding FMMetaData and FeatureModel\n@@ -76,7 +99,7 @@ def run(self):\n                 publication_doi=f'10.1234/fm{i+1}',\n                 tags='tag1, tag2',\n                 uvl_version='1.0'\n-            ) for i in range(12)\n+            ) for i in range(15)\n         ]\n         seeded_fm_meta_data = self.seed(fm_meta_data_list)\n \n@@ -87,23 +110,23 @@ def run(self):\n                 affiliation=f'Affiliation {i+5}',\n                 orcid=f'0000-0000-0000-000{i+5}',\n                 fm_meta_data_id=seeded_fm_meta_data[i].id\n-            ) for i in range(12)\n+            ) for i in range(15)\n         ]\n         self.seed(fm_authors)\n \n         feature_models = [\n             FeatureModel(\n                 data_set_id=seeded_datasets[i // 3].id,\n                 fm_meta_data_id=seeded_fm_meta_data[i].id\n-            ) for i in range(12)\n+            ) for i in range(15)\n         ]\n         seeded_feature_models = self.seed(feature_models)\n \n         # Create files, associate them with FeatureModels and copy files\n         load_dotenv()\n         working_dir = os.getenv('WORKING_DIR', '')\n         src_folder = os.path.join(working_dir, 'app', 'modules', 'dataset', 'uvl_examples')\n-        for i in range(12):\n+        for i in range(15):\n             file_name = f'file{i+1}.uvl'\n             feature_model = seeded_feature_models[i]\n             dataset = next(ds for ds in seeded_datasets if ds.id == feature_model.data_set_id)"
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file13.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a40b57336a407d6cfe706f78d5ac5a08b315d13b/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile13.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a40b57336a407d6cfe706f78d5ac5a08b315d13b/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile13.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile13.uvl?ref=a40b57336a407d6cfe706f78d5ac5a08b315d13b",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file14.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a40b57336a407d6cfe706f78d5ac5a08b315d13b/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile14.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a40b57336a407d6cfe706f78d5ac5a08b315d13b/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile14.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile14.uvl?ref=a40b57336a407d6cfe706f78d5ac5a08b315d13b",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file15.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a40b57336a407d6cfe706f78d5ac5a08b315d13b/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile15.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a40b57336a407d6cfe706f78d5ac5a08b315d13b/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile15.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile15.uvl?ref=a40b57336a407d6cfe706f78d5ac5a08b315d13b",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      }
    ]
  },
  {
    "sha": "9479270353433c2b5ce51b5d9d7463d1c5a4b2af",
    "node_id": "C_kwDONBuXkNoAKDk0NzkyNzAzNTM0MzNjMmI1Y2U1MWI1ZDlkNzQ2M2QxYzVhNGIyYWY",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-12T18:17:22Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-12T18:17:22Z"
      },
      "message": "feat: Add correct functionality\n\nReworked the stagging system to work around the get_synchronized/unsynchronized functions, updated to use the status of the dataset.\nNow the unpublished datasets won't be able to be seen by other users in UVLHub.",
      "tree": {
        "sha": "821b6eb25e3306eabe6e0a94d03c0e7c67fe71f6",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/821b6eb25e3306eabe6e0a94d03c0e7c67fe71f6"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/9479270353433c2b5ce51b5d9d7463d1c5a4b2af",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/9479270353433c2b5ce51b5d9d7463d1c5a4b2af",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/9479270353433c2b5ce51b5d9d7463d1c5a4b2af",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/9479270353433c2b5ce51b5d9d7463d1c5a4b2af/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ab7c085a7b767bff22ade1b6007ad7c798ec8ed2",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/ab7c085a7b767bff22ade1b6007ad7c798ec8ed2",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/ab7c085a7b767bff22ade1b6007ad7c798ec8ed2"
      }
    ],
    "files": [
      {
        "sha": "c1fca12ee8b40a764e020f4382125bc615c6ce58",
        "filename": "app/modules/dataset/repositories.py",
        "status": "modified",
        "additions": 7,
        "deletions": 6,
        "changes": 13,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/9479270353433c2b5ce51b5d9d7463d1c5a4b2af/app%2Fmodules%2Fdataset%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/9479270353433c2b5ce51b5d9d7463d1c5a4b2af/app%2Fmodules%2Fdataset%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Frepositories.py?ref=9479270353433c2b5ce51b5d9d7463d1c5a4b2af",
        "patch": "@@ -72,44 +72,45 @@ def __init__(self):\n     def get_synchronized(self, current_user_id: int) -> DataSet:\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DataSet.user_id == current_user_id, DSMetaData.dataset_doi.isnot(None))\n+            .filter(DataSet.user_id == current_user_id, DSMetaData.ds_status != Status.UNPUBLISHED)\n             .order_by(self.model.created_at.desc())\n             .all()\n         )\n \n     def get_unsynchronized(self, current_user_id: int) -> DataSet:\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DataSet.user_id == current_user_id, DSMetaData.dataset_doi.is_(None))\n+            .filter(DataSet.user_id == current_user_id, DSMetaData.ds_status == Status.UNPUBLISHED)\n             .order_by(self.model.created_at.desc())\n             .all()\n         )\n \n     def get_unsynchronized_dataset(self, current_user_id: int, dataset_id: int) -> DataSet:\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DataSet.user_id == current_user_id, DataSet.id == dataset_id, DSMetaData.dataset_doi.is_(None))\n+            .filter(DataSet.user_id == current_user_id, DataSet.id == dataset_id,\n+                    DSMetaData.ds_status == Status.UNPUBLISHED)\n             .first()\n         )\n \n     def count_synchronized_datasets(self):\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DSMetaData.dataset_doi.isnot(None))\n+            .filter(DSMetaData.ds_status != Status.UNPUBLISHED)\n             .count()\n         )\n \n     def count_unsynchronized_datasets(self):\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DSMetaData.dataset_doi.is_(None))\n+            .filter(DSMetaData.ds_status == Status.UNPUBLISHED)\n             .count()\n         )\n \n     def latest_synchronized(self):\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DSMetaData.dataset_doi.isnot(None))\n+            .filter(DSMetaData.ds_status != Status.UNPUBLISHED)\n             .order_by(desc(self.model.id))\n             .limit(5)\n             .all()"
      },
      {
        "sha": "20c3deb75f9a74d2e6139585a96b3de305b3b7c0",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 19,
        "deletions": 25,
        "changes": 44,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/9479270353433c2b5ce51b5d9d7463d1c5a4b2af/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/9479270353433c2b5ce51b5d9d7463d1c5a4b2af/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=9479270353433c2b5ce51b5d9d7463d1c5a4b2af",
        "patch": "@@ -50,36 +50,37 @@\n @login_required\n def create_dataset():\n     form = DataSetForm()\n-    if request.method == \"POST\":\n \n-        dataset = None\n+    if request.method == \"POST\":\n \n         if not form.validate_on_submit():\n             return jsonify({\"message\": form.errors}), 400\n \n         try:\n-            logger.info(\"Creating dataset...\")\n+\n             dataset = dataset_service.create_from_form(form=form, current_user=current_user)\n-            logger.info(f\"Created dataset: {dataset}\")\n+            logger.info(f\"Dataset created successfully: {dataset}\")\n+\n+            # Mover los modelos de caracter\u00edsticas asociados\n             dataset_service.move_feature_models(dataset)\n-        except Exception as exc:\n-            logger.exception(f\"Exception while create dataset data in local {exc}\")\n-            return jsonify({\"Exception while create dataset data in local: \": str(exc)}), 400\n \n-        # Delete temp folder\n-        file_path = current_user.temp_folder()\n-        if os.path.exists(file_path) and os.path.isdir(file_path):\n-            shutil.rmtree(file_path)\n+            # Eliminar carpeta temporal del usuario\n+            file_path = current_user.temp_folder()\n+            if os.path.exists(file_path) and os.path.isdir(file_path):\n+                shutil.rmtree(file_path)\n \n-        msg = \"Everything works!\"\n-        return jsonify({\"message\": msg}), 200\n+            return jsonify({\"message\": \"Dataset created successfully!\"}), 200\n+\n+        except Exception as exc:\n+            return jsonify({\"message\": f\"Error during dataset creation: {str(exc)}\"}), 500\n \n     return render_template(\"dataset/upload_dataset.html\", form=form)\n \n \n @dataset_bp.route(\"/dataset/list\", methods=[\"GET\", \"POST\"])\n @login_required\n def list_dataset():\n+\n     return render_template(\n         \"dataset/list_datasets.html\",\n         datasets=dataset_service.get_synchronized(current_user.id),\n@@ -288,20 +289,18 @@ def get_unsynchronized_dataset(dataset_id):\n def publish_all_datasets():\n     datasets = dataset_service.get_all_user_unpublished_datasets(current_user.id)\n \n-    errors = []  # Para almacenar errores de publicaci\u00f3n\n+    errors = []\n \n     for dataset in datasets:\n         try:\n             zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n             response_data = json.dumps(zenodo_response_json)\n             data = json.loads(response_data)\n-        except Exception as exc:\n-            logger.exception(f\"Exception while creating dataset data in Zenodo: {exc}\")\n+        except Exception:\n             errors.append(f\"Dataset ID {dataset.id}: Error creating dataset in Zenodo.\")\n             continue\n \n         if not data.get(\"conceptrecid\"):\n-            logger.error(f\"Dataset ID {dataset.id}: Failed to create deposition on Zenodo.\")\n             errors.append(f\"Dataset ID {dataset.id}: Failed to create deposition on Zenodo.\")\n             continue\n \n@@ -314,8 +313,7 @@ def publish_all_datasets():\n             for feature_model in dataset.feature_models:\n                 try:\n                     zenodo_service.upload_file(dataset, deposition_id, feature_model)\n-                except Exception as e:\n-                    logger.exception(f\"Error uploading feature model to Zenodo: {e}\")\n+                except Exception:\n                     errors.append(f\"Dataset ID {dataset.id}: Error uploading feature model.\")\n                     continue\n \n@@ -325,8 +323,7 @@ def publish_all_datasets():\n \n             logger.info(f\"Dataset ID {dataset.id}: Successfully published to Zenodo!\")\n \n-        except Exception as e:\n-            logger.exception(f\"Error while processing Zenodo actions: {e}\")\n+        except Exception:\n             errors.append(f\"Dataset ID {dataset.id}: Error during publication process.\")\n             continue\n \n@@ -353,7 +350,6 @@ def publish_dataset(dataset_id):\n         data = json.loads(json.dumps(zenodo_response_json))\n \n         if not data.get(\"conceptrecid\"):\n-            logger.error(f\"Dataset ID {dataset.id}: Failed to create deposition on Zenodo.\")\n             return jsonify({\"message\": \"Failed to create deposition on Zenodo.\"}), 400\n \n         deposition_id = data.get(\"id\")\n@@ -362,8 +358,7 @@ def publish_dataset(dataset_id):\n         for feature_model in dataset.feature_models:\n             try:\n                 zenodo_service.upload_file(dataset, deposition_id, feature_model)\n-            except Exception as e:\n-                logger.exception(f\"Error uploading feature model to Zenodo: {e}\")\n+            except Exception:\n                 continue\n \n         zenodo_service.publish_deposition(deposition_id)\n@@ -374,5 +369,4 @@ def publish_dataset(dataset_id):\n         return redirect(\"/dataset/list\")\n \n     except Exception as exc:\n-        logger.exception(f\"Error during Zenodo publication process: {exc}\")\n         return jsonify({\"message\": f\"Error during Zenodo publication process: {exc}\"}), 500"
      },
      {
        "sha": "61a3047d2cee379069347a5facbd0c471b4b81da",
        "filename": "app/modules/dataset/services.py",
        "status": "modified",
        "additions": 2,
        "deletions": 4,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/9479270353433c2b5ce51b5d9d7463d1c5a4b2af/app%2Fmodules%2Fdataset%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/9479270353433c2b5ce51b5d9d7463d1c5a4b2af/app%2Fmodules%2Fdataset%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fservices.py?ref=9479270353433c2b5ce51b5d9d7463d1c5a4b2af",
        "patch": "@@ -156,8 +156,7 @@ def publish_datasets(self, current_user_id):\n                     self.repository.session.commit()\n                 else:\n                     raise ValueError(\"Dataset is not in 'UNPUBLISHED' status\")\n-        except Exception as exc:\n-            logger.error(f\"Exception setting dataset to published: {exc}\")\n+        except Exception:\n             self.repository.session.rollback()\n \n     # This method will help in the proccess of publishing a specific dataset\n@@ -166,8 +165,7 @@ def publish_specific_dataset(self, current_user_id, dataset_id):\n             dataset = self.repository.get_user_unpublished_specific_dataset(current_user_id, dataset_id)\n             dataset.ds_meta_data.ds_status = Status.PUBLISHED\n             self.repository.session.commit()\n-        except Exception as exc:\n-            logger.error(f\"Exception setting dataset to published: {exc}\")\n+        except Exception:\n             self.repository.session.rollback()\n \n "
      },
      {
        "sha": "95a70be3750308e8e2e4762287e3cde7d6416f85",
        "filename": "app/modules/dataset/templates/dataset/list_datasets.html",
        "status": "modified",
        "additions": 3,
        "deletions": 10,
        "changes": 13,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/9479270353433c2b5ce51b5d9d7463d1c5a4b2af/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/9479270353433c2b5ce51b5d9d7463d1c5a4b2af/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html?ref=9479270353433c2b5ce51b5d9d7463d1c5a4b2af",
        "patch": "@@ -6,15 +6,13 @@\n \n     <h1 class=\"h3 mb-3\">My datasets</h1>\n \n-    {% if datasets %}\n+    {% if local_datasets %}\n         <div class=\"col-12\">\n             <div class=\"card\">\n                 <div class=\"card-body\">\n-\n                     <form action=\"{{ url_for('dataset.publish_all_datasets') }}\" method=\"POST\">\n                         <button type=\"submit\" class=\"btn btn-primary\">Upload All datasets to Zenodo</button>\n                     </form>\n-\n                     <div class=\"card-header\">\n                         <h5 class=\"card-title\">My unpublished datasets (stagging area)</h5>\n                     </div>\n@@ -29,7 +27,7 @@ <h5 class=\"card-title\">My unpublished datasets (stagging area)</h5>\n                         </tr>\n                         </thead>\n                         <tbody>\n-                        {% for dataset in datasets %}\n+                        {% for dataset in local_datasets %}\n                             {% if dataset.ds_meta_data.ds_status  == status.UNPUBLISHED %}\n                                 <tr>\n                                     <td>\n@@ -39,18 +37,13 @@ <h5 class=\"card-title\">My unpublished datasets (stagging area)</h5>\n                                     </td>\n                                     <td>{{ dataset.ds_meta_data.description }}</td>\n                                     <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n-                                    <td><a href=\"{{ dataset.get_uvlhub_doi() }}\"\n-                                        target=\"_blank\">{{ dataset.get_uvlhub_doi() }}</a></td>\n+                                    <td> Unpublished datasets dont have a DOI </td>\n                                     <td>\n-                                        <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n-                                            <i data-feather=\"eye\"></i>\n-                                        </a>\n                                         <a href=\"{{ url_for('dataset.download_dataset', dataset_id=dataset.id) }}\">\n                                             <i data-feather=\"download\"></i>\n                                         </a>\n                                     </td>\n                                     <td>\n-                                        <!-- Bot\u00c3\u00b3n de Subir a Zenodo solo si el dataset es del usuario loggeado -->\n                                         {% if dataset.user_id == current_user.id and dataset.ds_meta_data.ds_status  == status.UNPUBLISHED %}\n                                             <form action=\"{{ url_for('dataset.publish_dataset', dataset_id=dataset.id) }}\" method=\"POST\">\n                                                 <button type=\"submit\" class=\"btn btn-primary\">Upload to Zenodo</button>"
      }
    ]
  },
  {
    "sha": "532dfb19c4c07ce43f2cacba744021db0d2cde6c",
    "node_id": "C_kwDONBuXkNoAKDUzMmRmYjE5YzRjMDdjZTQzZjJjYWNiYTc0NDAyMWRiMGQyY2RlNmM",
    "commit": {
      "author": {
        "name": "daniel",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-12T18:11:49Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-12-12T18:11:49Z"
      },
      "message": "Merge pull request #25 from chipi-hub-team/chore/configuration\n\nDocker renamed",
      "tree": {
        "sha": "be823257ee5065815ffd56ca863ec2b9caeb3e20",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/be823257ee5065815ffd56ca863ec2b9caeb3e20"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/532dfb19c4c07ce43f2cacba744021db0d2cde6c",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnWydlCRC1aQ7uu5UhlAAAaZUQAEn1UmsVRXuNzKq2EbnXyqvB\nQlecpbmOBk9bvqiFFfWlfOb88Z6eu52tA/+04YJTB6qrnbi9qCtHbdbsopsaQ1/Z\nxr3HtaqNEuQkgt2fJS0vnF6J6PPsJFh9Jqx44bezcJgw5vP5iINr/k1u8xAYKpnW\nMtfaIm4kt/Zv7V92naYfdE6w/Hsr6uSL+eG+WvOFbC8p6qYV5tyDraxtpFLGNYeh\nn1NdanKFYi/vKm6UYrrFITfxjfOQcXvYhuJXUTvKu3KUoOh27qx0NlOTkm9APyCE\nYBquZJNTWnaMCnJRGkpjsxs41Sr4++y2atAJZwFM9f5Wzz6QTXinm9wsoh6lA/aP\n8C2TD6E/K5ugY+BSluDCbO0AEcMaKDUjWC4t4k3wyuQNSHU+HnSHvDj1uCdHuT2P\nfWSvxCfTKme0ccSIUKsMW5vfrDj+lG/tF1mNiyCTDQqFD6WoMCjZcyIlIwgHL/N2\nBBjRlW0Y71IVKHdvAHBIxuPxUZhtWHV0seU5KvXEwMMy3mdixiwnTpxt/OCLiK5b\nW41BT2MKqD2KEEdXnu1NMZustqo3fEPQTOrDHisn7qJytmWeKH1LPV0stsnrJ2OO\nl144ChkbYH4V1SIJrNfd3lby0X5TuY5VTvxCtO2rmkyDodYMD6DgKA3d6q3AnZPA\nRSS5wNXwMSfunhd2DNKG\n=zhmT\n-----END PGP SIGNATURE-----\n",
        "payload": "tree be823257ee5065815ffd56ca863ec2b9caeb3e20\nparent 781dc3dc36227766f102be58189595ae32e64748\nparent 9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd\nauthor daniel <d4niel.bh@gmail.com> 1734027109 +0100\ncommitter GitHub <noreply@github.com> 1734027109 +0100\n\nMerge pull request #25 from chipi-hub-team/chore/configuration\n\nDocker renamed",
        "verified_at": "2024-12-12T18:12:26Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/532dfb19c4c07ce43f2cacba744021db0d2cde6c",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/532dfb19c4c07ce43f2cacba744021db0d2cde6c",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/532dfb19c4c07ce43f2cacba744021db0d2cde6c/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "781dc3dc36227766f102be58189595ae32e64748",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/781dc3dc36227766f102be58189595ae32e64748",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/781dc3dc36227766f102be58189595ae32e64748"
      },
      {
        "sha": "9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd"
      }
    ],
    "files": [
      {
        "sha": "cc83e3c360fe5c756b3449d51f34b1a9cce1583b",
        "filename": ".env.docker.example",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/532dfb19c4c07ce43f2cacba744021db0d2cde6c/.env.docker.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/532dfb19c4c07ce43f2cacba744021db0d2cde6c/.env.docker.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.env.docker.example?ref=532dfb19c4c07ce43f2cacba744021db0d2cde6c",
        "patch": "@@ -1,11 +1,11 @@\n-FLASK_APP_NAME=\"UVLHUB.IO(dev)\"\n-FLASK_ENV=development\n-DOMAIN=localhost\n+FLASK_APP_NAME=\"CHIPIHUB.IO(dev)\"\n+FLASK_ENV=production\n+DOMAIN=localhost:5000\n MARIADB_HOSTNAME=db\n MARIADB_PORT=3306\n MARIADB_DATABASE=uvlhubdb\n MARIADB_TEST_DATABASE=uvlhubdb_test\n MARIADB_USER=uvlhubdb_user\n MARIADB_PASSWORD=uvlhubdb_password\n MARIADB_ROOT_PASSWORD=uvlhubdb_root_password\n-WORKING_DIR=/app/\n+WORKING_DIR=/app/\n\\ No newline at end of file"
      },
      {
        "sha": "c18685798a7983664d2ac20cf1fbfd698b524b47",
        "filename": ".github/workflows/deloyment_on_render.yml",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/532dfb19c4c07ce43f2cacba744021db0d2cde6c/.github%2Fworkflows%2Fdeloyment_on_render.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/532dfb19c4c07ce43f2cacba744021db0d2cde6c/.github%2Fworkflows%2Fdeloyment_on_render.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fdeloyment_on_render.yml?ref=532dfb19c4c07ce43f2cacba744021db0d2cde6c",
        "patch": "@@ -1,10 +1,10 @@\n-name: Deploy on Webhook\n+name: Deploy on Render \n \n on:\n   workflow_run:\n     workflows: \n-      - \"Python Lint\"\n-      - \"Run tests\"\n+      - \"Format checker\"\n+      - \"Tests\"\n     types:\n       - completed\n "
      },
      {
        "sha": "211a06db03f96508b3c92becfc0ac0bad6fac4c4",
        "filename": ".mailmap",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/532dfb19c4c07ce43f2cacba744021db0d2cde6c/.mailmap",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/532dfb19c4c07ce43f2cacba744021db0d2cde6c/.mailmap",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.mailmap?ref=532dfb19c4c07ce43f2cacba744021db0d2cde6c",
        "patch": "@@ -1 +1,4 @@\n-Miguel Hern\u00e1ndez S\u00e1nchez <mighersan1@alum.us.es> <59254702+Yato03@users.noreply.github.com>\n\\ No newline at end of file\n+Miguel Hern\u00e1ndez S\u00e1nchez <mighersan1@alum.us.es> <59254702+Yato03@users.noreply.github.com>\n+Miguel Hern\u00e1ndez S\u00e1nchez <mighersan1@alum.us.es> <miguelhs3523@gmail.com>\n+Gonzalo Navas Remmers <gonnavrem@alum.us.es> <92763979+gonnavrem@users.noreply.github.com>\n+d4niel980 <danbenhid@alum.us.es> <d4niel.bh@gmail.com>"
      },
      {
        "sha": "babaa6561fe3810001ed974206e69ced5b7883f7",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "modified",
        "additions": 4,
        "deletions": 6,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/532dfb19c4c07ce43f2cacba744021db0d2cde6c/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/532dfb19c4c07ce43f2cacba744021db0d2cde6c/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=532dfb19c4c07ce43f2cacba744021db0d2cde6c",
        "patch": "@@ -7,19 +7,17 @@\n \n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['GET'])\n def get_all_depositions():\n-    path = \"modules/fakenodo/placeholders/deposition.json\"\n-    if os.getenv(\"FLASK_ENV\") == \"development\":\n-        path = \"app/\" + path\n+    workdir = os.getenv(\"WORKING_DIR\")\n+    path = f\"{workdir}app/modules/fakenodo/placeholders/deposition.json\"\n     with open(path) as f:\n         data = json.load(f)\n     return jsonify(data)\n \n \n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['GET'])\n def get_deposition(id):\n-    path = \"modules/fakenodo/placeholders/deposition.json\"\n-    if os.getenv(\"FLASK_ENV\") == \"development\":\n-        path = \"app/\" + path\n+    workdir = os.getenv(\"WORKING_DIR\")\n+    path = f\"{workdir}/app/modules/fakenodo/placeholders/deposition.json\"\n     with open(path) as f:\n         data = json.load(f)\n         data['doi'] = str(uuid.uuid4())"
      },
      {
        "sha": "a0215907ed1aaa7f79a9cdc5cabf170e8f227b28",
        "filename": "app/modules/zenodo/services.py",
        "status": "modified",
        "additions": 1,
        "deletions": 17,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/532dfb19c4c07ce43f2cacba744021db0d2cde6c/app%2Fmodules%2Fzenodo%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/532dfb19c4c07ce43f2cacba744021db0d2cde6c/app%2Fmodules%2Fzenodo%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Fservices.py?ref=532dfb19c4c07ce43f2cacba744021db0d2cde6c",
        "patch": "@@ -22,24 +22,8 @@\n class ZenodoService(BaseService):\n \n     def get_zenodo_url(self):\n-\n-        FLASK_ENV = os.getenv(\"FLASK_ENV\", \"development\")\n-        ZENODO_API_URL = \"\"\n-\n         LOCAL_SERVER = os.getenv(\"DOMAIN\", \"localhost:5000\")\n-        development_url = f\"{LOCAL_SERVER}/fakenodo/deposit/depositions\"\n-\n-        if FLASK_ENV == \"development\":\n-            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n-            ZENODO_API_URL = f\"http://{development_url}\"\n-        elif FLASK_ENV == \"production\":\n-            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://zenodo.org/api/deposit/depositions\")\n-            ZENODO_API_URL = f\"https://{development_url}\"\n-        else:\n-            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n-            ZENODO_API_URL = f\"http://{development_url}\"\n-\n-        return ZENODO_API_URL\n+        return f\"http://{LOCAL_SERVER}/fakenodo/deposit/depositions\"\n \n     def get_zenodo_access_token(self):\n         return os.getenv(\"ZENODO_ACCESS_TOKEN\")"
      },
      {
        "sha": "82b37f72fd7b5a461e7ba5cf2e949e0423fd39dd",
        "filename": "docker/docker-compose.yml",
        "status": "added",
        "additions": 53,
        "deletions": 0,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/532dfb19c4c07ce43f2cacba744021db0d2cde6c/docker%2Fdocker-compose.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/532dfb19c4c07ce43f2cacba744021db0d2cde6c/docker%2Fdocker-compose.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fdocker-compose.yml?ref=532dfb19c4c07ce43f2cacba744021db0d2cde6c",
        "patch": "@@ -0,0 +1,53 @@\n+services:\n+  web:\n+    container_name: web_app_container\n+    image: chipihub:dev\n+    env_file:\n+      - ../.env.docker.example\n+    expose:\n+      - \"5000\"\n+    depends_on:\n+      - db\n+    build:\n+      context: ../\n+      dockerfile: docker/images/Dockerfile.dev\n+    volumes:\n+      - ../:/app\n+      - /var/run/docker.sock:/var/run/docker.sock\n+    command: [ \"sh\", \"-c\", \"sh /app/docker/entrypoints/development_entrypoint.sh\" ]\n+    networks:\n+      - chipihub_network\n+\n+  db:\n+    container_name: mariadb_container\n+    env_file:\n+      - ../.env.docker.example\n+    build:\n+      context: ../\n+      dockerfile: docker/images/Dockerfile.mariadb\n+    restart: always\n+    ports:\n+      - \"3306:3306\"\n+    volumes:\n+      - db_data:/var/lib/mysql\n+    networks:\n+      - chipihub_network\n+\n+  nginx:\n+    container_name: nginx_web_server_container\n+    image: nginx:latest\n+    volumes:\n+      - ./nginx/nginx.dev.conf:/etc/nginx/nginx.conf\n+      - ./nginx/html:/usr/share/nginx/html\n+    ports:\n+      - \"80:80\"\n+    depends_on:\n+      - web\n+    networks:\n+      - chipihub_network\n+\n+volumes:\n+  db_data:\n+\n+networks:\n+  chipihub_network:"
      }
    ]
  },
  {
    "sha": "9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd",
    "node_id": "C_kwDONBuXkNoAKDlmMDhmM2U3ZWJmNDMzMTAyNzhhNmYyYTIxYjg0OGE3NmM1YWM0ZmQ",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-12T11:57:40Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-12T11:57:40Z"
      },
      "message": "chore: Docker rename\n\nDocker working with fakenodo and renamed.",
      "tree": {
        "sha": "be823257ee5065815ffd56ca863ec2b9caeb3e20",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/be823257ee5065815ffd56ca863ec2b9caeb3e20"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d9b9f757c2ccdc73fe59818bacac5cbb6ac5b5d6",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d9b9f757c2ccdc73fe59818bacac5cbb6ac5b5d6",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/d9b9f757c2ccdc73fe59818bacac5cbb6ac5b5d6"
      }
    ],
    "files": [
      {
        "sha": "cc83e3c360fe5c756b3449d51f34b1a9cce1583b",
        "filename": ".env.docker.example",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd/.env.docker.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd/.env.docker.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.env.docker.example?ref=9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd",
        "patch": "@@ -1,11 +1,11 @@\n-FLASK_APP_NAME=\"UVLHUB.IO(dev)\"\n-FLASK_ENV=development\n-DOMAIN=localhost\n+FLASK_APP_NAME=\"CHIPIHUB.IO(dev)\"\n+FLASK_ENV=production\n+DOMAIN=localhost:5000\n MARIADB_HOSTNAME=db\n MARIADB_PORT=3306\n MARIADB_DATABASE=uvlhubdb\n MARIADB_TEST_DATABASE=uvlhubdb_test\n MARIADB_USER=uvlhubdb_user\n MARIADB_PASSWORD=uvlhubdb_password\n MARIADB_ROOT_PASSWORD=uvlhubdb_root_password\n-WORKING_DIR=/app/\n+WORKING_DIR=/app/\n\\ No newline at end of file"
      },
      {
        "sha": "babaa6561fe3810001ed974206e69ced5b7883f7",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "modified",
        "additions": 4,
        "deletions": 6,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd",
        "patch": "@@ -7,19 +7,17 @@\n \n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['GET'])\n def get_all_depositions():\n-    path = \"modules/fakenodo/placeholders/deposition.json\"\n-    if os.getenv(\"FLASK_ENV\") == \"development\":\n-        path = \"app/\" + path\n+    workdir = os.getenv(\"WORKING_DIR\")\n+    path = f\"{workdir}app/modules/fakenodo/placeholders/deposition.json\"\n     with open(path) as f:\n         data = json.load(f)\n     return jsonify(data)\n \n \n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['GET'])\n def get_deposition(id):\n-    path = \"modules/fakenodo/placeholders/deposition.json\"\n-    if os.getenv(\"FLASK_ENV\") == \"development\":\n-        path = \"app/\" + path\n+    workdir = os.getenv(\"WORKING_DIR\")\n+    path = f\"{workdir}/app/modules/fakenodo/placeholders/deposition.json\"\n     with open(path) as f:\n         data = json.load(f)\n         data['doi'] = str(uuid.uuid4())"
      },
      {
        "sha": "a0215907ed1aaa7f79a9cdc5cabf170e8f227b28",
        "filename": "app/modules/zenodo/services.py",
        "status": "modified",
        "additions": 1,
        "deletions": 17,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd/app%2Fmodules%2Fzenodo%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd/app%2Fmodules%2Fzenodo%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Fservices.py?ref=9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd",
        "patch": "@@ -22,24 +22,8 @@\n class ZenodoService(BaseService):\n \n     def get_zenodo_url(self):\n-\n-        FLASK_ENV = os.getenv(\"FLASK_ENV\", \"development\")\n-        ZENODO_API_URL = \"\"\n-\n         LOCAL_SERVER = os.getenv(\"DOMAIN\", \"localhost:5000\")\n-        development_url = f\"{LOCAL_SERVER}/fakenodo/deposit/depositions\"\n-\n-        if FLASK_ENV == \"development\":\n-            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n-            ZENODO_API_URL = f\"http://{development_url}\"\n-        elif FLASK_ENV == \"production\":\n-            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://zenodo.org/api/deposit/depositions\")\n-            ZENODO_API_URL = f\"https://{development_url}\"\n-        else:\n-            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n-            ZENODO_API_URL = f\"http://{development_url}\"\n-\n-        return ZENODO_API_URL\n+        return f\"http://{LOCAL_SERVER}/fakenodo/deposit/depositions\"\n \n     def get_zenodo_access_token(self):\n         return os.getenv(\"ZENODO_ACCESS_TOKEN\")"
      },
      {
        "sha": "82b37f72fd7b5a461e7ba5cf2e949e0423fd39dd",
        "filename": "docker/docker-compose.yml",
        "status": "added",
        "additions": 53,
        "deletions": 0,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd/docker%2Fdocker-compose.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd/docker%2Fdocker-compose.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fdocker-compose.yml?ref=9f08f3e7ebf43310278a6f2a21b848a76c5ac4fd",
        "patch": "@@ -0,0 +1,53 @@\n+services:\n+  web:\n+    container_name: web_app_container\n+    image: chipihub:dev\n+    env_file:\n+      - ../.env.docker.example\n+    expose:\n+      - \"5000\"\n+    depends_on:\n+      - db\n+    build:\n+      context: ../\n+      dockerfile: docker/images/Dockerfile.dev\n+    volumes:\n+      - ../:/app\n+      - /var/run/docker.sock:/var/run/docker.sock\n+    command: [ \"sh\", \"-c\", \"sh /app/docker/entrypoints/development_entrypoint.sh\" ]\n+    networks:\n+      - chipihub_network\n+\n+  db:\n+    container_name: mariadb_container\n+    env_file:\n+      - ../.env.docker.example\n+    build:\n+      context: ../\n+      dockerfile: docker/images/Dockerfile.mariadb\n+    restart: always\n+    ports:\n+      - \"3306:3306\"\n+    volumes:\n+      - db_data:/var/lib/mysql\n+    networks:\n+      - chipihub_network\n+\n+  nginx:\n+    container_name: nginx_web_server_container\n+    image: nginx:latest\n+    volumes:\n+      - ./nginx/nginx.dev.conf:/etc/nginx/nginx.conf\n+      - ./nginx/html:/usr/share/nginx/html\n+    ports:\n+      - \"80:80\"\n+    depends_on:\n+      - web\n+    networks:\n+      - chipihub_network\n+\n+volumes:\n+  db_data:\n+\n+networks:\n+  chipihub_network:"
      }
    ]
  },
  {
    "sha": "ab7c085a7b767bff22ade1b6007ad7c798ec8ed2",
    "node_id": "C_kwDONBuXkNoAKGFiN2MwODVhN2I3NjdiZmYyMmFkZTFiNjAwN2FkN2M3OThlYzhlZDI",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-11T16:32:18Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-11T16:32:18Z"
      },
      "message": "feat: Add publish All Dataset functionality\n\nAdded functionality to allow the user to publish all unpublished datasets with a button, routes reworked to be more secure",
      "tree": {
        "sha": "d3bb8a14107dd5cd0deeaae5bdab812393fa90a2",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/d3bb8a14107dd5cd0deeaae5bdab812393fa90a2"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/ab7c085a7b767bff22ade1b6007ad7c798ec8ed2",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/ab7c085a7b767bff22ade1b6007ad7c798ec8ed2",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/ab7c085a7b767bff22ade1b6007ad7c798ec8ed2",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/ab7c085a7b767bff22ade1b6007ad7c798ec8ed2/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f"
      }
    ],
    "files": [
      {
        "sha": "0aacec34e0064761da87178f6b6e1d3843e18e0c",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 66,
        "deletions": 27,
        "changes": 93,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/ab7c085a7b767bff22ade1b6007ad7c798ec8ed2/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/ab7c085a7b767bff22ade1b6007ad7c798ec8ed2/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=ab7c085a7b767bff22ade1b6007ad7c798ec8ed2",
        "patch": "@@ -283,37 +283,31 @@ def get_unsynchronized_dataset(dataset_id):\n \n \n # this method will publish all unpublished datasets\n-@dataset_bp.route(\"/dataset/publish\", methods=[\"GET\"])\n+@dataset_bp.route(\"/dataset/publish\", methods=[\"POST\"])\n @login_required\n def publish_all_datasets():\n-    dataset_service.publish_datasets(current_user_id=current_user.id)\n-    return render_template(\n-        \"dataset/list_datasets.html\",\n-        datasets=dataset_service.get_synchronized(current_user.id),\n-        local_datasets=dataset_service.get_unsynchronized(current_user.id),\n-    )\n+    datasets = dataset_service.get_all_user_unpublished_datasets(current_user.id)\n \n+    errors = []  # Para almacenar errores de publicaci\u00f3n\n \n-@dataset_bp.route(\"/dataset/<int:dataset_id>/publish\", methods=[\"POST\"])\n-@login_required\n-def publish_dataset(dataset_id):\n-\n-    dataset = dataset_service.get_or_404(dataset_id)\n-    dataset_service.publish_specific_dataset(current_user.id, dataset_id)\n-    try:\n+    for dataset in datasets:\n+        try:\n+            zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n+            response_data = json.dumps(zenodo_response_json)\n+            data = json.loads(response_data)\n+        except Exception as exc:\n+            logger.exception(f\"Exception while creating dataset data in Zenodo: {exc}\")\n+            errors.append(f\"Dataset ID {dataset.id}: Error creating dataset in Zenodo.\")\n+            continue\n \n-        zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n-        response_data = json.dumps(zenodo_response_json)\n-        data = json.loads(response_data)\n-        print(\"esta funcionando\")\n-    except Exception as exc:\n-        logger.exception(f\"Exception while creating dataset data in Zenodo: {exc}\")\n-        return jsonify({\"message\": \"Error while creating dataset in Zenodo.\"}), 500\n+        if not data.get(\"conceptrecid\"):\n+            logger.error(f\"Dataset ID {dataset.id}: Failed to create deposition on Zenodo.\")\n+            errors.append(f\"Dataset ID {dataset.id}: Failed to create deposition on Zenodo.\")\n+            continue\n \n-    if data.get(\"conceptrecid\"):\n         deposition_id = data.get(\"id\")\n \n-        # Update dataset with deposition ID from zeznodo\n+        # Update dataset with deposition ID from Zenodo\n         try:\n             dataset_service.update_dsmetadata(dataset.ds_meta_data_id, deposition_id=deposition_id)\n \n@@ -322,18 +316,63 @@ def publish_dataset(dataset_id):\n                     zenodo_service.upload_file(dataset, deposition_id, feature_model)\n                 except Exception as e:\n                     logger.exception(f\"Error uploading feature model to Zenodo: {e}\")\n+                    errors.append(f\"Dataset ID {dataset.id}: Error uploading feature model.\")\n                     continue\n \n             zenodo_service.publish_deposition(deposition_id)\n-\n             deposition_doi = zenodo_service.get_doi(deposition_id)\n             dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n \n+            logger.info(f\"Dataset ID {dataset.id}: Successfully published to Zenodo!\")\n+\n         except Exception as e:\n             logger.exception(f\"Error while processing Zenodo actions: {e}\")\n-            return jsonify({\"message\": f\"Error during Zenodo publication process: {e}\"}), 500\n+            errors.append(f\"Dataset ID {dataset.id}: Error during publication process.\")\n+            continue\n \n-        print(\"Dataset successfully published to Zenodo!\")\n+    if errors:\n+        return jsonify({\"message\": \"Publication completed with errors.\", \"errors\": errors}), 207\n+\n+    dataset_service.publish_datasets(current_user_id=current_user.id)\n+    return redirect(\"/dataset/list\")\n+\n+\n+@dataset_bp.route(\"/dataset/<int:dataset_id>/publish\", methods=[\"POST\"])\n+@login_required\n+def publish_dataset(dataset_id):\n+\n+    dataset = dataset_service.get_or_404(dataset_id)\n+\n+    if dataset.ds_meta_data.ds_status == Status.PUBLISHED:\n+        return jsonify({\"message\": \"Dataset is already published.\"}), 400\n+\n+    dataset_service.publish_specific_dataset(current_user.id, dataset_id)\n+\n+    try:\n+        zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n+        data = json.loads(json.dumps(zenodo_response_json))\n+\n+        if not data.get(\"conceptrecid\"):\n+            logger.error(f\"Dataset ID {dataset.id}: Failed to create deposition on Zenodo.\")\n+            return jsonify({\"message\": \"Failed to create deposition on Zenodo.\"}), 400\n+\n+        deposition_id = data.get(\"id\")\n+        dataset_service.update_dsmetadata(dataset.ds_meta_data_id, deposition_id=deposition_id)\n+\n+        for feature_model in dataset.feature_models:\n+            try:\n+                zenodo_service.upload_file(dataset, deposition_id, feature_model)\n+            except Exception as e:\n+                logger.exception(f\"Error uploading feature model to Zenodo: {e}\")\n+                continue\n+\n+        zenodo_service.publish_deposition(deposition_id)\n+        deposition_doi = zenodo_service.get_doi(deposition_id)\n+        dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n+\n+        logger.info(f\"Dataset ID {dataset.id}: Successfully published to Zenodo!\")\n         return redirect(\"/dataset/list\")\n \n-    return jsonify({\"message\": \"Failed to create deposition on Zenodo.\"}), 400\n+    except Exception as exc:\n+        logger.exception(f\"Error during Zenodo publication process: {exc}\")\n+        return jsonify({\"message\": f\"Error during Zenodo publication process: {exc}\"}), 500"
      },
      {
        "sha": "b9d58e62ae53c77087803b238f3931271ffb8dd3",
        "filename": "app/modules/dataset/services.py",
        "status": "modified",
        "additions": 8,
        "deletions": 4,
        "changes": 12,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/ab7c085a7b767bff22ade1b6007ad7c798ec8ed2/app%2Fmodules%2Fdataset%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/ab7c085a7b767bff22ade1b6007ad7c798ec8ed2/app%2Fmodules%2Fdataset%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fservices.py?ref=ab7c085a7b767bff22ade1b6007ad7c798ec8ed2",
        "patch": "@@ -143,15 +143,19 @@ def get_uvlhub_doi(self, dataset: DataSet) -> str:\n     def get_all_datasets(self):\n         return self.repository.get_all_datasets()\n \n+    def get_all_user_unpublished_datasets(self, user_id):\n+        return self.repository.get_user_unpublished_datasets(user_id)\n+\n     # This method will help in the proccess of publishing datasets\n     def publish_datasets(self, current_user_id):\n         try:\n             datasets = self.repository.get_user_unpublished_datasets(current_user_id)\n             for dataset in datasets:\n-                dataset.ds_meta_data.ds_status = Status.PUBLISHED\n-                self.repository.session.commit()\n-            else:\n-                raise ValueError(\"Dataset is not in 'UNPUBLISHED' status\")\n+                if (dataset.ds_meta_data.ds_status == Status.UNPUBLISHED):\n+                    dataset.ds_meta_data.ds_status = Status.PUBLISHED\n+                    self.repository.session.commit()\n+                else:\n+                    raise ValueError(\"Dataset is not in 'UNPUBLISHED' status\")\n         except Exception as exc:\n             logger.error(f\"Exception setting dataset to published: {exc}\")\n             self.repository.session.rollback()"
      },
      {
        "sha": "8c564d19f44b2e94739fe617e4cc30f6df6c3333",
        "filename": "app/modules/dataset/templates/dataset/list_datasets.html",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/ab7c085a7b767bff22ade1b6007ad7c798ec8ed2/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/ab7c085a7b767bff22ade1b6007ad7c798ec8ed2/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html?ref=ab7c085a7b767bff22ade1b6007ad7c798ec8ed2",
        "patch": "@@ -10,6 +10,11 @@ <h1 class=\"h3 mb-3\">My datasets</h1>\n         <div class=\"col-12\">\n             <div class=\"card\">\n                 <div class=\"card-body\">\n+\n+                    <form action=\"{{ url_for('dataset.publish_all_datasets') }}\" method=\"POST\">\n+                        <button type=\"submit\" class=\"btn btn-primary\">Upload All datasets to Zenodo</button>\n+                    </form>\n+\n                     <div class=\"card-header\">\n                         <h5 class=\"card-title\">My unpublished datasets (stagging area)</h5>\n                     </div>"
      }
    ]
  },
  {
    "sha": "d9b9f757c2ccdc73fe59818bacac5cbb6ac5b5d6",
    "node_id": "C_kwDONBuXkNoAKGQ5YjlmNzU3YzJjY2RjNzNmZTU5ODE4YmFjYWM1Y2JiNmFjNWI1ZDY",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-11T15:57:52Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-11T15:59:37Z"
      },
      "message": "fix: Continous deployment workflow fixed\n\nCD workflow fixed renaming test and format workflows.\n\nCloses #23",
      "tree": {
        "sha": "c1fd3d919dda89fd83a1d35d5836fac4f6be94b8",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/c1fd3d919dda89fd83a1d35d5836fac4f6be94b8"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/d9b9f757c2ccdc73fe59818bacac5cbb6ac5b5d6",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d9b9f757c2ccdc73fe59818bacac5cbb6ac5b5d6",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/d9b9f757c2ccdc73fe59818bacac5cbb6ac5b5d6",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d9b9f757c2ccdc73fe59818bacac5cbb6ac5b5d6/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c73895c99625a8cc2521673f97cb2866b5b2db99",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c73895c99625a8cc2521673f97cb2866b5b2db99",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/c73895c99625a8cc2521673f97cb2866b5b2db99"
      }
    ],
    "files": [
      {
        "sha": "c18685798a7983664d2ac20cf1fbfd698b524b47",
        "filename": ".github/workflows/deloyment_on_render.yml",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d9b9f757c2ccdc73fe59818bacac5cbb6ac5b5d6/.github%2Fworkflows%2Fdeloyment_on_render.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d9b9f757c2ccdc73fe59818bacac5cbb6ac5b5d6/.github%2Fworkflows%2Fdeloyment_on_render.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fdeloyment_on_render.yml?ref=d9b9f757c2ccdc73fe59818bacac5cbb6ac5b5d6",
        "patch": "@@ -1,10 +1,10 @@\n-name: Deploy on Webhook\n+name: Deploy on Render \n \n on:\n   workflow_run:\n     workflows: \n-      - \"Python Lint\"\n-      - \"Run tests\"\n+      - \"Format checker\"\n+      - \"Tests\"\n     types:\n       - completed\n "
      }
    ]
  },
  {
    "sha": "c73895c99625a8cc2521673f97cb2866b5b2db99",
    "node_id": "C_kwDONBuXkNoAKGM3Mzg5NWM5OTYyNWE4Y2MyNTIxNjczZjk3Y2IyODY2YjViMmRiOTk",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-11T15:54:53Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-11T15:54:53Z"
      },
      "message": "chore: Added an email to mailmap\n\nAdded an email to mailmap to homogenize commits.",
      "tree": {
        "sha": "745957a734edba71df6ddfbf66741579d7e12d33",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/745957a734edba71df6ddfbf66741579d7e12d33"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/c73895c99625a8cc2521673f97cb2866b5b2db99",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c73895c99625a8cc2521673f97cb2866b5b2db99",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/c73895c99625a8cc2521673f97cb2866b5b2db99",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c73895c99625a8cc2521673f97cb2866b5b2db99/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "781dc3dc36227766f102be58189595ae32e64748",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/781dc3dc36227766f102be58189595ae32e64748",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/781dc3dc36227766f102be58189595ae32e64748"
      }
    ],
    "files": [
      {
        "sha": "211a06db03f96508b3c92becfc0ac0bad6fac4c4",
        "filename": ".mailmap",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c73895c99625a8cc2521673f97cb2866b5b2db99/.mailmap",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c73895c99625a8cc2521673f97cb2866b5b2db99/.mailmap",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.mailmap?ref=c73895c99625a8cc2521673f97cb2866b5b2db99",
        "patch": "@@ -1 +1,4 @@\n-Miguel Hern\u00e1ndez S\u00e1nchez <mighersan1@alum.us.es> <59254702+Yato03@users.noreply.github.com>\n\\ No newline at end of file\n+Miguel Hern\u00e1ndez S\u00e1nchez <mighersan1@alum.us.es> <59254702+Yato03@users.noreply.github.com>\n+Miguel Hern\u00e1ndez S\u00e1nchez <mighersan1@alum.us.es> <miguelhs3523@gmail.com>\n+Gonzalo Navas Remmers <gonnavrem@alum.us.es> <92763979+gonnavrem@users.noreply.github.com>\n+d4niel980 <danbenhid@alum.us.es> <d4niel.bh@gmail.com>"
      }
    ]
  },
  {
    "sha": "781dc3dc36227766f102be58189595ae32e64748",
    "node_id": "C_kwDONBuXkNoAKDc4MWRjM2RjMzYyMjc3NjZmMTAyYmU1ODE4OTU5NWFlMzJlNjQ3NDg",
    "commit": {
      "author": {
        "name": "Gon",
        "email": "92763979+gonnavrem@users.noreply.github.com",
        "date": "2024-12-11T08:25:59Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-12-11T08:25:59Z"
      },
      "message": "Merge pull request #20 from chipi-hub-team/fix/view-user-profile\n\nFix: Add correct functionality and tests",
      "tree": {
        "sha": "ba714f77f8b6f9e723881c40e8b8de9edc2bb271",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/ba714f77f8b6f9e723881c40e8b8de9edc2bb271"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/781dc3dc36227766f102be58189595ae32e64748",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnWUyXCRC1aQ7uu5UhlAAAlZQQALE0SYtT5qtMdlLZkKcdg/M9\nfG6nfawORkfP6XZuIKQi418PU7BpXmOM//hIZT4Uo4cPLE1IK2jEPkoQjnJUpua+\nwaaafk//EFQ80oTZ3xrjEZL8nxbTsuK88QRQzgfVOViP0g43l84ULLdooS74OL+j\nvfb/6o+YEBmgRMFoKdeJGOXz7leURV01v+D+EhP/Bvyq+Tii+wwJB/hAwrbh56t7\n+WOcLwmUVU5lQYCKElyNq6iifHmPXQEV1WNrUGKCbhxDir9XT6wgETf/gt1FqlVB\n4gboDm6FNWzA7kCCucasuSlzfdnj2B9lAtuUm7ZfJ09ht9e/YKksUgi+P501YZTZ\nYuH1a8BqRO3T0kNa8tF2XAMAaxQtdk3RoP0nLeZgOfeykaziz/mzdlPt0XcuTMJu\nenhExXJ2nvuAJz7cUk/wpLXv5ITYQtjm1SQRQZLSFkLu7SYmnFD+dLMi21U56Cts\nLHq0n4N1nFidQmSolKd0Zyi1V8Y2oBx0MuRmL0IodiuYePX2UfHEhN5+K9BVXJOh\nPb9wlwfEUkkufDA+o+A3Qk1mOvrpKhHZhsWyWyjznc+YhB1kVLgb/q5WoifMCKgP\nOI8Se6w8cTgXdjv8wwILHMkW4Lp3ivgTgq6f1fNaK+lpKpGxs8U45ccEmNjjt+7/\nHgwo/t3TPlbrgJ5hrcQp\n=T/FK\n-----END PGP SIGNATURE-----\n",
        "payload": "tree ba714f77f8b6f9e723881c40e8b8de9edc2bb271\nparent 0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f\nparent adf859390cc7bb6657dcbe80e31fda0514aeef77\nauthor Gon <92763979+gonnavrem@users.noreply.github.com> 1733905559 +0100\ncommitter GitHub <noreply@github.com> 1733905559 +0100\n\nMerge pull request #20 from chipi-hub-team/fix/view-user-profile\n\nFix: Add correct functionality and tests",
        "verified_at": "2024-12-11T08:27:19Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/781dc3dc36227766f102be58189595ae32e64748",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/781dc3dc36227766f102be58189595ae32e64748",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/781dc3dc36227766f102be58189595ae32e64748/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f"
      },
      {
        "sha": "adf859390cc7bb6657dcbe80e31fda0514aeef77",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/adf859390cc7bb6657dcbe80e31fda0514aeef77",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/adf859390cc7bb6657dcbe80e31fda0514aeef77"
      }
    ],
    "files": [
      {
        "sha": "5f1bf2598bb50b28e200e1e28692475f126af713",
        "filename": "app/modules/profile/routes.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/781dc3dc36227766f102be58189595ae32e64748/app%2Fmodules%2Fprofile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/781dc3dc36227766f102be58189595ae32e64748/app%2Fmodules%2Fprofile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Froutes.py?ref=781dc3dc36227766f102be58189595ae32e64748",
        "patch": "@@ -35,7 +35,7 @@ def edit_profile():\n def my_profile(user_id):\n     is_my_profile = False\n     # ver si el user_id es none(mi perfil) o es alguno(perfil de otro)\n-    if user_id is None:\n+    if user_id is None or user_id == current_user.id:\n         user_id = current_user.id\n         is_my_profile = True\n "
      },
      {
        "sha": "748c29c392e29a30da6707aec23b926ef998a237",
        "filename": "app/modules/profile/tests/test_unit.py",
        "status": "modified",
        "additions": 22,
        "deletions": 6,
        "changes": 28,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/781dc3dc36227766f102be58189595ae32e64748/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/781dc3dc36227766f102be58189595ae32e64748/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py?ref=781dc3dc36227766f102be58189595ae32e64748",
        "patch": "@@ -41,8 +41,7 @@ def test_edit_profile_page_get(test_client):\n def test_get_profile_page(test_client):\n \n     \"\"\"\n-    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n-    usuarios exsistentes mediante GET\n+    Will test that an user will be able to access to another user's profile using GET\n     \"\"\"\n     login_response = login(test_client, \"user@example.com\", \"test1234\")\n     assert login_response.status_code == 200, \"Login was unsuccessful.\"\n@@ -55,8 +54,7 @@ def test_get_profile_page(test_client):\n \n def test_get_unexisting_profile_page(test_client):\n     \"\"\"\n-    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n-    usuarios exsistentes mediante GET\n+    Will test that a user wont be able to access a profile of a non existent user\n     \"\"\"\n     login_response = login(test_client, \"user@example.com\", \"test1234\")\n     assert login_response.status_code == 200, \"Login was unsuccessful.\"\n@@ -69,8 +67,7 @@ def test_get_unexisting_profile_page(test_client):\n \n def test_get_my_profile_page(test_client):\n     \"\"\"\n-    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n-    usuarios exsistentes mediante GET\n+    Will test that the current user will be able to access it's profile using GET\n     \"\"\"\n     login_response = login(test_client, \"user@example.com\", \"test1234\")\n     assert login_response.status_code == 200, \"Login was unsuccessful.\"\n@@ -80,3 +77,22 @@ def test_get_my_profile_page(test_client):\n     assert b\"My profile\" in response.data, \"The expected content is not present on the page\"\n \n     logout(test_client)\n+\n+\n+def test_get_my_profile_page_alternative_version(test_client):\n+    \"\"\"\n+    Will test that the current user will be able to access it's profile using GET\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    # Obtenemos el ID del usuario logueado desde la base de datos\n+    user = User.query.filter_by(email='user@example.com').first()\n+    assert user is not None, \"User not found in the database.\"\n+\n+    # Realizamos la solicitud GET con el ID del usuario en la URL\n+    response = test_client.get(f\"/profile/summary/{user.id}\")\n+    assert response.status_code == 200, \"The profile page could not be accessed.\"\n+    assert b\"My profile\" in response.data, \"The expected content is not present on the page\"\n+\n+    logout(test_client)"
      }
    ]
  },
  {
    "sha": "0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f",
    "node_id": "C_kwDONBuXkNoAKDAzNDlhZGE4Y2YwYzdlZWQ1YWQwOTVkMmYzZjQ1MDMyZDJlY2RhMmY",
    "commit": {
      "author": {
        "name": "YatoDev",
        "email": "59254702+Yato03@users.noreply.github.com",
        "date": "2024-12-11T07:38:39Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-12-11T07:38:39Z"
      },
      "message": "Merge pull request #22 from chipi-hub-team/chore/configuration\n\nchore: New github workflows for Continuous integration",
      "tree": {
        "sha": "c48b60a7000e93f123b677a13ce5ba115f3b7fa5",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/c48b60a7000e93f123b677a13ce5ba115f3b7fa5"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnWUF/CRC1aQ7uu5UhlAAAEMMQAIDpTn34z9/sbMtEh38a2BWW\n1XYr6DofNpsMiM6SyUQnO60tIqz5dC0IwpOwCu4DxozmN8MBegAA+GAhZUiP8RVJ\n5gZ/mZ/Y9EmcQysJO90IubUaloDHSG7w16ui+YnIiBPN+uAuFAQkf8SFVYMEu+rk\nGmLf+xiPD2G0RNqfCexRT2Ra+8trjC7MM8SZy87LCchfR8iv6a0PcOEoOKBG1EHS\nB+Vf8dOFERpJzEJL7bCOP1JW6Odhs2WBzZWps41sXQOU9yvjj4GK6gquVMVP6Hm3\n95pXwyNY6/n0D8sTlICrcPqe98+yHbXc/tHVOmG+sIfJuR5c+gbpttad2NkrjmJ5\nwRWkQm4qjus86DzKj2Bb0wN5D3/zYjcO6L8dT/JkS6aXlQxJ+xwHGt6OlrsME9JX\nZSbZRNSNeG4XVw12qMruc1Z7YszOpv8K997CJxonB583bK+jbyKhVc/ewSLen3DY\n1N1MLf7+eoorEVaiDYL4q6KlERU+egwvXJSvi4kL7TRtSs0UvSjEP0bOfWo9Bc73\ncvOzNRrHIO1Ly2w5LH50KXClsBLAj+Ckq1xC+wBvk6R1FvwXRfoecliVhWRG94wO\nGwe5/Vt46rra9PSstohQ+fJH4Syx+b4JmMbyMsCsisQlV9/tZgMPJQgFnXf2nRjc\nruOMqLfHSbCIidvcpteo\n=wQpc\n-----END PGP SIGNATURE-----\n",
        "payload": "tree c48b60a7000e93f123b677a13ce5ba115f3b7fa5\nparent e9336dc2919ac69c722104a4d72be64769fd8633\nparent fe9387ef4cb1d71ec518cdb212dd048d3aab1df9\nauthor YatoDev <59254702+Yato03@users.noreply.github.com> 1733902719 +0100\ncommitter GitHub <noreply@github.com> 1733902719 +0100\n\nMerge pull request #22 from chipi-hub-team/chore/configuration\n\nchore: New github workflows for Continuous integration",
        "verified_at": "2024-12-11T07:39:35Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e9336dc2919ac69c722104a4d72be64769fd8633",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/e9336dc2919ac69c722104a4d72be64769fd8633",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/e9336dc2919ac69c722104a4d72be64769fd8633"
      },
      {
        "sha": "fe9387ef4cb1d71ec518cdb212dd048d3aab1df9",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/fe9387ef4cb1d71ec518cdb212dd048d3aab1df9",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/fe9387ef4cb1d71ec518cdb212dd048d3aab1df9"
      }
    ],
    "files": [
      {
        "sha": "31d6aa640494f20b41958b8b2fc9f22e42a2fbec",
        "filename": ".github/workflows/codacy.yml",
        "status": "removed",
        "additions": 0,
        "deletions": 53,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/e9336dc2919ac69c722104a4d72be64769fd8633/.github%2Fworkflows%2Fcodacy.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/e9336dc2919ac69c722104a4d72be64769fd8633/.github%2Fworkflows%2Fcodacy.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fcodacy.yml?ref=e9336dc2919ac69c722104a4d72be64769fd8633",
        "patch": "@@ -1,53 +0,0 @@\n-name: Codacy CI\n-\n-on:\n-  push:\n-    branches:\n-      - master\n-  pull_request:\n-    branches:\n-      - master\n-\n-jobs:\n-  build:\n-    runs-on: ubuntu-latest\n-    services:\n-      mysql:\n-        image: mysql:5.7\n-        env:\n-          MYSQL_ROOT_PASSWORD: uvlhub_root_password\n-          MYSQL_DATABASE: uvlhubdb_test\n-          MYSQL_USER: uvlhub_user\n-          MYSQL_PASSWORD: uvlhub_password\n-        ports:\n-          - 3306:3306\n-        options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n-\n-    steps:\n-    - name: Checkout code\n-      uses: actions/checkout@v4\n-\n-    - name: Set up Python\n-      uses: actions/setup-python@v5\n-      with:\n-        python-version: '3.12'\n-\n-    - name: Install dependencies\n-      run: |\n-        python -m pip install --upgrade pip\n-        pip install -r requirements.txt\n-\n-    - name: Upload coverage to Codacy\n-      run: |\n-        pip install codacy-coverage\n-        coverage run -m pytest app/modules/ --ignore-glob='*selenium*'\n-        coverage xml \n-        python-codacy-coverage -r coverage.xml\n-      env:\n-        FLASK_ENV: testing\n-        MARIADB_HOSTNAME: 127.0.0.1\n-        MARIADB_PORT: 3306\n-        MARIADB_TEST_DATABASE: uvlhubdb_test\n-        MARIADB_USER: uvlhub_user\n-        MARIADB_PASSWORD: uvlhub_password\n-        CODACY_PROJECT_TOKEN: ${{ secrets.CODACY_PROJECT_TOKEN }}"
      },
      {
        "sha": "89be2d04416a9b7c491a2dcdca22f69ab38052b5",
        "filename": ".github/workflows/commits.yml",
        "status": "removed",
        "additions": 0,
        "deletions": 18,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/e9336dc2919ac69c722104a4d72be64769fd8633/.github%2Fworkflows%2Fcommits.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/e9336dc2919ac69c722104a4d72be64769fd8633/.github%2Fworkflows%2Fcommits.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fcommits.yml?ref=e9336dc2919ac69c722104a4d72be64769fd8633",
        "patch": "@@ -1,18 +0,0 @@\n-name: Commits Syntax Checker\n-\n-on:\n-  pull_request:\n-    branches: [master]\n-    types: [opened, reopened, edited, review_requested, synchronize]\n-  push:\n-    branches:\n-      - \"master\"\n-  workflow_call:\n-\n-jobs:\n-  check:\n-    name: Conventional Commits\n-    runs-on: ubuntu-latest\n-    steps:\n-      - uses: actions/checkout@v2\n-      - uses: webiny/action-conventional-commits@v1.0.3\n\\ No newline at end of file"
      },
      {
        "sha": "2f2de2824bdaf64c2862196dc864ea2acf044f2f",
        "filename": ".github/workflows/deloyment_on_render.yml",
        "status": "renamed",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f/.github%2Fworkflows%2Fdeloyment_on_render.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f/.github%2Fworkflows%2Fdeloyment_on_render.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fdeloyment_on_render.yml?ref=0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f",
        "patch": "@@ -24,7 +24,7 @@ jobs:\n           exit 1\n         fi\n \n-    - name: Trigger Deployment Webhook\n+    - name: Trigger Deployment Render\n       env:\n         WEBHOOK_URL: ${{ secrets.RENDER_DEPLOY_HOOK_URL }}\n       run: |",
        "previous_filename": ".github/workflows/deloyment_on_webhook.yml"
      },
      {
        "sha": "3dd2d7e0730616ba219b56172a4f8e1482f3c1a6",
        "filename": ".github/workflows/format.yml",
        "status": "renamed",
        "additions": 8,
        "deletions": 1,
        "changes": 9,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f/.github%2Fworkflows%2Fformat.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f/.github%2Fworkflows%2Fformat.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fformat.yml?ref=0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f",
        "patch": "@@ -1,10 +1,11 @@\n-name: Python Lint\n+name: Format checker\n \n on:\n   push:\n     branches: [master]\n   pull_request:\n     branches: [master]\n+  workflow_dispatch:\n \n jobs:\n   lint:\n@@ -26,3 +27,9 @@ jobs:\n     - name: Lint with flake8\n       run: |\n         flake8 app\n+  check:\n+    name: Conventional Commits\n+    runs-on: ubuntu-latest\n+    steps:\n+      - uses: actions/checkout@v2\n+      - uses: webiny/action-conventional-commits@8bc41ff4e7d423d56fa4905f6ff79209a78776c7",
        "previous_filename": ".github/workflows/lint.yml"
      },
      {
        "sha": "3b534535769c72dce0247da0801ee8fab30a18bb",
        "filename": ".github/workflows/tests.yml",
        "status": "modified",
        "additions": 44,
        "deletions": 7,
        "changes": 51,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f/.github%2Fworkflows%2Ftests.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f/.github%2Fworkflows%2Ftests.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Ftests.yml?ref=0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f",
        "patch": "@@ -1,14 +1,21 @@\n-name: Run tests\n+name: Tests\n \n on:\n   push:\n-    branches: [master]\n+    branches:\n+      - master\n   pull_request:\n-    branches: [master]\n+    branches:\n+      - master\n+  workflow_dispatch:\n \n jobs:\n-  pytest:\n+  build:\n     runs-on: ubuntu-latest\n+    strategy:\n+      fail-fast: false\n+      matrix:\n+        python-version: ['3.11', '3.12']\n \n     services:\n       mysql:\n@@ -23,11 +30,13 @@ jobs:\n         options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n \n     steps:\n-    - uses: actions/checkout@v4\n+    - name: Checkout code\n+      uses: actions/checkout@v4\n \n-    - uses: actions/setup-python@v5\n+    - name: Set up Python\n+      uses: actions/setup-python@v5\n       with:\n-        python-version: '3.12'\n+        python-version: ${{matrix.python-version}}\n \n     - name: Prepare environment\n       run: |\n@@ -37,6 +46,33 @@ jobs:\n       run: |\n         python -m pip install --upgrade pip\n         pip install -r requirements.txt\n+    \n+    - name: Check for outdated dependencies\n+      run: |\n+          pip list --outdated > outdated_dependencies.txt\n+    \n+    - name: Show outdated dependencies\n+      run: cat outdated_dependencies.txt\n+\n+    - name: Security audit with pip-audit\n+      run: |\n+        pip install pip-audit\n+        pip-audit || true\n+  \n+    - name: Upload coverage to Codacy\n+      run: |\n+        pip install codacy-coverage\n+        coverage run -m pytest app/modules/ --ignore-glob='*selenium*'\n+        coverage xml \n+        python-codacy-coverage -r coverage.xml\n+      env:\n+        FLASK_ENV: testing\n+        MARIADB_HOSTNAME: 127.0.0.1\n+        MARIADB_PORT: 3306\n+        MARIADB_TEST_DATABASE: uvlhubdb_test\n+        MARIADB_USER: uvlhub_user\n+        MARIADB_PASSWORD: uvlhub_password\n+        CODACY_PROJECT_TOKEN: ${{ secrets.CODACY_PROJECT_TOKEN }}\n \n     - name: Run Tests\n       env:\n@@ -48,3 +84,4 @@ jobs:\n         MARIADB_PASSWORD: uvlhub_password\n       run: |\n         pytest app/modules/ --ignore-glob='*selenium*'\n+"
      },
      {
        "sha": "f4026c2dfe58e40f9cf70399a1395b2f7b655027",
        "filename": ".mailmap",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f/.mailmap",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f/.mailmap",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.mailmap?ref=0349ada8cf0c7eed5ad095d2f3f45032d2ecda2f",
        "patch": "@@ -0,0 +1 @@\n+Miguel Hern\u00e1ndez S\u00e1nchez <mighersan1@alum.us.es> <59254702+Yato03@users.noreply.github.com>\n\\ No newline at end of file"
      }
    ]
  },
  {
    "sha": "fe9387ef4cb1d71ec518cdb212dd048d3aab1df9",
    "node_id": "C_kwDONBuXkNoAKGZlOTM4N2VmNGNiMWQ3MWVjNTE4Y2RiMjEyZGQwNDhkM2FhYjFkZjk",
    "commit": {
      "author": {
        "name": "yato03",
        "email": "miguelhs3523@gmail.com",
        "date": "2024-12-09T16:58:00Z"
      },
      "committer": {
        "name": "yato03",
        "email": "miguelhs3523@gmail.com",
        "date": "2024-12-09T16:58:00Z"
      },
      "message": "chore: Mailmap added\n\nMailmap added to unify emails",
      "tree": {
        "sha": "c48b60a7000e93f123b677a13ce5ba115f3b7fa5",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/c48b60a7000e93f123b677a13ce5ba115f3b7fa5"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/fe9387ef4cb1d71ec518cdb212dd048d3aab1df9",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/fe9387ef4cb1d71ec518cdb212dd048d3aab1df9",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/fe9387ef4cb1d71ec518cdb212dd048d3aab1df9",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/fe9387ef4cb1d71ec518cdb212dd048d3aab1df9/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "9e0cd1af66625d44a001211b598c421008f4c275",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/9e0cd1af66625d44a001211b598c421008f4c275",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/9e0cd1af66625d44a001211b598c421008f4c275"
      }
    ],
    "files": [
      {
        "sha": "f4026c2dfe58e40f9cf70399a1395b2f7b655027",
        "filename": ".mailmap",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fe9387ef4cb1d71ec518cdb212dd048d3aab1df9/.mailmap",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fe9387ef4cb1d71ec518cdb212dd048d3aab1df9/.mailmap",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.mailmap?ref=fe9387ef4cb1d71ec518cdb212dd048d3aab1df9",
        "patch": "@@ -0,0 +1 @@\n+Miguel Hern\u00e1ndez S\u00e1nchez <mighersan1@alum.us.es> <59254702+Yato03@users.noreply.github.com>\n\\ No newline at end of file"
      }
    ]
  },
  {
    "sha": "dcc0267fcd5f4842c54a42f4a9003e53bc4f994f",
    "node_id": "C_kwDONBuXkNoAKGRjYzAyNjdmY2Q1ZjQ4NDJjNTRhNDJmNGE5MDAzZTUzYmM0Zjk5NGY",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-09T13:16:42Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-09T13:16:42Z"
      },
      "message": "style: Flake8\n\nFormat for flake8.",
      "tree": {
        "sha": "231cbe7c9e9af64598b318ca4e1079593afb4cd3",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/231cbe7c9e9af64598b318ca4e1079593afb4cd3"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "2b3a1026235fc0bf6d15a74139ce818ee2c8ea87",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/2b3a1026235fc0bf6d15a74139ce818ee2c8ea87",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/2b3a1026235fc0bf6d15a74139ce818ee2c8ea87"
      }
    ],
    "files": [
      {
        "sha": "7abdfb4929fdd2fd1bf6e8f42f424df24b979c5a",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 9,
        "deletions": 1,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=dcc0267fcd5f4842c54a42f4a9003e53bc4f994f",
        "patch": "@@ -299,7 +299,15 @@ def subdomain_index(doi):\n \n     # Save the cookie to the user's browser\n     user_cookie = ds_view_record_service.create_cookie(dataset=dataset)\n-    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user, dataset_ratings=dataset_ratings, user_already_rated=user_already_rated))\n+    resp = make_response(\n+        render_template(\n+            \"dataset/view_dataset.html\",\n+            dataset=dataset,\n+            current_user=current_user,\n+            dataset_ratings=dataset_ratings,\n+            user_already_rated=user_already_rated\n+        )\n+    )\n     resp.set_cookie(\"view_cookie\", user_cookie)\n \n     return resp"
      },
      {
        "sha": "3e604f880cb0428697ac61d4424496127ce084bf",
        "filename": "app/modules/rating/repositories.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f/app%2Fmodules%2Frating%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f/app%2Fmodules%2Frating%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Frepositories.py?ref=dcc0267fcd5f4842c54a42f4a9003e53bc4f994f",
        "patch": "@@ -26,6 +26,6 @@ def commit(self):\n \n     def get_query(self):\n         return self.session.query(Rating)\n-    \n+\n     def query(self):\n         return self.get_query()"
      },
      {
        "sha": "f5145fcd56e87c5e02d641769e443b753a2e7cd5",
        "filename": "app/modules/rating/routes.py",
        "status": "modified",
        "additions": 5,
        "deletions": 2,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f/app%2Fmodules%2Frating%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f/app%2Fmodules%2Frating%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Froutes.py?ref=dcc0267fcd5f4842c54a42f4a9003e53bc4f994f",
        "patch": "@@ -5,27 +5,30 @@\n \n rating_service = RatingService()\n \n+\n @rating_bp.route('/rating', methods=['GET'])\n def index():\n     return render_template('rating/index.html')\n \n+\n @rating_bp.route('/rating/add', methods=['POST'])\n def add_rating():\n     data = request.get_json()\n     dataset_id = data.get('dataset_id')\n     user_id = data.get('user_id')\n-    \n+\n     rating_service.add_or_remove_rating(dataset_id, user_id)\n     return jsonify({'message': 'Rating added successfully'}), 201\n \n+\n @rating_bp.route('/rating/remove/<int:rating_id>', methods=['DELETE'])\n def remove_rating(rating_id):\n     rating_service.remove_rating(rating_id)\n     return jsonify({'message': 'Rating removed successfully'}), 200\n \n+\n @rating_bp.route('/rating/total/dataset/<int:dataset_id>', methods=['GET'])\n def total_ratings_for_dataset(dataset_id):\n     total = rating_service.get_total_ratings_for_dataset(dataset_id)\n     user_already_rated = rating_service.user_already_rated_dataset(dataset_id, current_user.id)\n     return jsonify({'total_ratings': total, 'user_already_rated': user_already_rated}), 200\n-"
      },
      {
        "sha": "0ef6e19762dd6ab6690d0d5d9a546976816bec5c",
        "filename": "app/modules/rating/services.py",
        "status": "modified",
        "additions": 1,
        "deletions": 2,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f/app%2Fmodules%2Frating%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f/app%2Fmodules%2Frating%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fservices.py?ref=dcc0267fcd5f4842c54a42f4a9003e53bc4f994f",
        "patch": "@@ -16,13 +16,12 @@ def add_or_remove_rating(self, dataset_id, user_id):\n             self.remove_ratings(dataset_id, user_id)\n \n     def remove_ratings(self, dataset_id, user_id):\n-        ratings = self.repository.get_by_dataset_id_and_user_id(dataset_id,user_id)\n+        ratings = self.repository.get_by_dataset_id_and_user_id(dataset_id, user_id)\n         if ratings:\n             for rating in ratings:\n                 self.repository.delete(rating)\n             self.repository.commit()\n \n-\n     def user_already_rated_dataset(self, dataset_id, user_id):\n         if self.repository.get_by_dataset_id_and_user_id(dataset_id, user_id):\n             return True"
      },
      {
        "sha": "b5836fb058a689fb35e5e64f2fe509273ce9229d",
        "filename": "app/modules/rating/tests/test_unit.py",
        "status": "modified",
        "additions": 8,
        "deletions": 8,
        "changes": 16,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py?ref=dcc0267fcd5f4842c54a42f4a9003e53bc4f994f",
        "patch": "@@ -37,12 +37,12 @@ def test_add_or_remove_rating_remove(rating_service):\n \n \n def test_remove_ratings(rating_service):\n-    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_dataset_id_and_user_id, \\\n+    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_datasetid_and_userid, \\\n          patch.object(rating_service.repository, 'delete') as mock_delete, \\\n          patch.object(rating_service.repository, 'commit') as mock_commit:\n \n         mock_ratings = [MagicMock(id=1), MagicMock(id=2)]\n-        mock_get_by_dataset_id_and_user_id.return_value = mock_ratings\n+        mock_get_by_datasetid_and_userid.return_value = mock_ratings\n \n         dataset_id = 1\n         user_id = 1\n@@ -54,31 +54,31 @@ def test_remove_ratings(rating_service):\n \n \n def test_user_already_rated_dataset(rating_service):\n-    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_dataset_id_and_user_id:\n+    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_datasetid_and_userid:\n \n         dataset_id = 1\n         user_id = 1\n \n-        mock_get_by_dataset_id_and_user_id.return_value = [MagicMock(id=1)]\n+        mock_get_by_datasetid_and_userid.return_value = [MagicMock(id=1)]\n \n         result = rating_service.user_already_rated_dataset(dataset_id, user_id)\n \n         assert result is True\n-        mock_get_by_dataset_id_and_user_id.assert_called_once_with(dataset_id, user_id)\n+        mock_get_by_datasetid_and_userid.assert_called_once_with(dataset_id, user_id)\n \n \n def test_user_already_rated_dataset_no_ratings(rating_service):\n-    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_dataset_id_and_user_id:\n+    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_datasetid_and_userid:\n \n         dataset_id = 1\n         user_id = 1\n \n-        mock_get_by_dataset_id_and_user_id.return_value = []\n+        mock_get_by_datasetid_and_userid.return_value = []\n \n         result = rating_service.user_already_rated_dataset(dataset_id, user_id)\n \n         assert result is False\n-        mock_get_by_dataset_id_and_user_id.assert_called_once_with(dataset_id, user_id)\n+        mock_get_by_datasetid_and_userid.assert_called_once_with(dataset_id, user_id)\n \n \n def test_get_total_ratings_for_dataset(rating_service):"
      },
      {
        "sha": "5c7ddcf0e72668b59afa29a571306b0405919a96",
        "filename": "migrations/versions/ba7297057859_.py",
        "status": "added",
        "additions": 59,
        "deletions": 0,
        "changes": 59,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f/migrations%2Fversions%2Fba7297057859_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/dcc0267fcd5f4842c54a42f4a9003e53bc4f994f/migrations%2Fversions%2Fba7297057859_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2Fba7297057859_.py?ref=dcc0267fcd5f4842c54a42f4a9003e53bc4f994f",
        "patch": "@@ -0,0 +1,59 @@\n+\"\"\"empty message\n+\n+Revision ID: ba7297057859\n+Revises: f5d9fcd69235\n+Create Date: 2024-12-09 12:07:24.556213\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = 'ba7297057859'\n+down_revision = 'f5d9fcd69235'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('rating',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('dataset_id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.drop_table('feature_model_ratings')\n+    op.drop_table('dataset_ratings')\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('dataset_ratings',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.Column('dataset_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.Column('user_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.Column('rating', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.ForeignKeyConstraint(['dataset_id'], ['data_set.id'], name='dataset_ratings_ibfk_1'),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], name='dataset_ratings_ibfk_2'),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.create_table('feature_model_ratings',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.Column('feature_model_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.Column('user_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.Column('rating', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False),\n+    sa.ForeignKeyConstraint(['feature_model_id'], ['feature_model.id'], name='feature_model_ratings_ibfk_1'),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], name='feature_model_ratings_ibfk_2'),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.drop_table('rating')\n+    # ### end Alembic commands ###"
      }
    ]
  },
  {
    "sha": "2b3a1026235fc0bf6d15a74139ce818ee2c8ea87",
    "node_id": "C_kwDONBuXkNoAKDJiM2ExMDI2MjM1ZmMwYmY2ZDE1YTc0MTM5Y2U4MThlZTJjOGVhODc",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-09T13:15:38Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-09T13:15:38Z"
      },
      "message": "test: Graphic tests with selenium\n\nSelenium tests for rating button.",
      "tree": {
        "sha": "55ea744b70ad88c8b4b4e0b6d27373aab905db24",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/55ea744b70ad88c8b4b4e0b6d27373aab905db24"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/2b3a1026235fc0bf6d15a74139ce818ee2c8ea87",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/2b3a1026235fc0bf6d15a74139ce818ee2c8ea87",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/2b3a1026235fc0bf6d15a74139ce818ee2c8ea87",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/2b3a1026235fc0bf6d15a74139ce818ee2c8ea87/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "99db63b280931bce9090015ebe759fbb81fac565",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/99db63b280931bce9090015ebe759fbb81fac565",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/99db63b280931bce9090015ebe759fbb81fac565"
      }
    ],
    "files": [
      {
        "sha": "22ce58c586c64ee25e403d283049b203a46c1c28",
        "filename": ".env.docker.example",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/2b3a1026235fc0bf6d15a74139ce818ee2c8ea87/.env.docker.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/2b3a1026235fc0bf6d15a74139ce818ee2c8ea87/.env.docker.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.env.docker.example?ref=2b3a1026235fc0bf6d15a74139ce818ee2c8ea87",
        "patch": "@@ -1,6 +1,6 @@\n FLASK_APP_NAME=\"UVLHUB.IO(dev)\"\n-FLASK_ENV=development\n-DOMAIN=localhost\n+FLASK_ENV=production\n+DOMAIN=localhost:5000\n MARIADB_HOSTNAME=db\n MARIADB_PORT=3306\n MARIADB_DATABASE=uvlhubdb"
      },
      {
        "sha": "d990ad2a28243a658a6ea3914a20a57fee3e5b74",
        "filename": ".moduleignore",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/2b3a1026235fc0bf6d15a74139ce818ee2c8ea87/.moduleignore",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/2b3a1026235fc0bf6d15a74139ce818ee2c8ea87/.moduleignore",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.moduleignore?ref=2b3a1026235fc0bf6d15a74139ce818ee2c8ea87",
        "patch": "@@ -1 +1 @@\n-webhook\n+webhook\n\\ No newline at end of file"
      },
      {
        "sha": "7cd3074f4aee6a6ba628f013e281ed907b3d9c02",
        "filename": "app/modules/rating/tests/test_selenium.py",
        "status": "modified",
        "additions": 126,
        "deletions": 1,
        "changes": 127,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/2b3a1026235fc0bf6d15a74139ce818ee2c8ea87/app%2Fmodules%2Frating%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/2b3a1026235fc0bf6d15a74139ce818ee2c8ea87/app%2Fmodules%2Frating%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2Ftest_selenium.py?ref=2b3a1026235fc0bf6d15a74139ce818ee2c8ea87",
        "patch": "@@ -1,9 +1,12 @@\n from selenium.common.exceptions import NoSuchElementException\n+from selenium.webdriver.common.keys import Keys\n import time\n \n from core.environment.host import get_host_for_selenium_testing\n from core.selenium.common import initialize_driver, close_driver\n \n+from selenium.webdriver.common.by import By\n+\n \n def test_rating_index():\n \n@@ -16,7 +19,7 @@ def test_rating_index():\n         driver.get(f'{host}/rating')\n \n         # Wait a little while to make sure the page has loaded completely\n-        time.sleep(4)\n+        time.sleep(1)\n \n         try:\n \n@@ -31,5 +34,127 @@ def test_rating_index():\n         close_driver(driver)\n \n \n+def test_rating_button_not_appear_no_login():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(1)\n+\n+        driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n+\n+        # Assert button not appear\n+        try:\n+            driver.find_element(By.XPATH, \"//*[contains(@id, 'rating-button-')]\")\n+            raise AssertionError('Rating button should not appear if user is not logged in')\n+        except NoSuchElementException:\n+            pass\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+def test_rating_button_appear_logged():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(1)\n+\n+        # Open the login page\n+        driver.get(f\"{host}/login\")\n+\n+        # Find the username and password field and enter the values\n+        email_field = driver.find_element(By.NAME, \"email\")\n+        password_field = driver.find_element(By.NAME, \"password\")\n+\n+        email_field.send_keys(\"user1@example.com\")\n+        password_field.send_keys(\"1234\")\n+\n+        # Send the form\n+        password_field.send_keys(Keys.RETURN)\n+\n+        driver.get(f\"{host}/doi/10.1234/dataset4/\")\n+\n+        # Assert button appear\n+\n+        try:\n+            driver.find_element(By.XPATH, \"//*[contains(text(), 'Star')]\")\n+        except NoSuchElementException:\n+            raise AssertionError('Rating button should appear if user is logged in')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+def test_rating_button_change():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(1)\n+\n+        # Open the login page\n+        driver.get(f\"{host}/login\")\n+\n+        # Find the username and password field and enter the values\n+        email_field = driver.find_element(By.NAME, \"email\")\n+        password_field = driver.find_element(By.NAME, \"password\")\n+\n+        email_field.send_keys(\"user1@example.com\")\n+        password_field.send_keys(\"1234\")\n+\n+        # Send the form\n+        password_field.send_keys(Keys.RETURN)\n+\n+        driver.get(f\"{host}/doi/10.1234/dataset4/\")\n+\n+        # Assert button change\n+\n+        try:\n+            star = driver.find_element(By.XPATH, \"//*[contains(text(), 'Star')]\")\n+\n+            # get parent\n+            button = star.find_element(By.XPATH, \"..\")\n+            button.find_element(By.XPATH, \"//*[contains(text(), '0')]\")\n+\n+            button.click()\n+\n+            button.find_element(By.XPATH, \"//*[contains(text(), '1')]\")\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Rating button should change')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n # Call the test function\n test_rating_index()\n+test_rating_button_not_appear_no_login()\n+test_rating_button_appear_logged()\n+test_rating_button_change()"
      }
    ]
  },
  {
    "sha": "9e0cd1af66625d44a001211b598c421008f4c275",
    "node_id": "C_kwDONBuXkNoAKDllMGNkMWFmNjY2MjVkNDRhMDAxMjExYjU5OGM0MjEwMDhmNGMyNzU",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-09T10:55:10Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-09T10:55:10Z"
      },
      "message": "chore: Old workflows removed\n\nOld workflows removed for clarity.\n\nCloses #21",
      "tree": {
        "sha": "e8f74874a4cfdb3de3081ea8dd4bdf542dcd0811",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/e8f74874a4cfdb3de3081ea8dd4bdf542dcd0811"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/9e0cd1af66625d44a001211b598c421008f4c275",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/9e0cd1af66625d44a001211b598c421008f4c275",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/9e0cd1af66625d44a001211b598c421008f4c275",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/9e0cd1af66625d44a001211b598c421008f4c275/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d58b38153260900a0e4b5faf73cbf6fb57ca45b6",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d58b38153260900a0e4b5faf73cbf6fb57ca45b6",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/d58b38153260900a0e4b5faf73cbf6fb57ca45b6"
      }
    ],
    "files": [
      {
        "sha": "31d6aa640494f20b41958b8b2fc9f22e42a2fbec",
        "filename": ".github/workflows/codacy.yml",
        "status": "removed",
        "additions": 0,
        "deletions": 53,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d58b38153260900a0e4b5faf73cbf6fb57ca45b6/.github%2Fworkflows%2Fcodacy.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d58b38153260900a0e4b5faf73cbf6fb57ca45b6/.github%2Fworkflows%2Fcodacy.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fcodacy.yml?ref=d58b38153260900a0e4b5faf73cbf6fb57ca45b6",
        "patch": "@@ -1,53 +0,0 @@\n-name: Codacy CI\n-\n-on:\n-  push:\n-    branches:\n-      - master\n-  pull_request:\n-    branches:\n-      - master\n-\n-jobs:\n-  build:\n-    runs-on: ubuntu-latest\n-    services:\n-      mysql:\n-        image: mysql:5.7\n-        env:\n-          MYSQL_ROOT_PASSWORD: uvlhub_root_password\n-          MYSQL_DATABASE: uvlhubdb_test\n-          MYSQL_USER: uvlhub_user\n-          MYSQL_PASSWORD: uvlhub_password\n-        ports:\n-          - 3306:3306\n-        options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n-\n-    steps:\n-    - name: Checkout code\n-      uses: actions/checkout@v4\n-\n-    - name: Set up Python\n-      uses: actions/setup-python@v5\n-      with:\n-        python-version: '3.12'\n-\n-    - name: Install dependencies\n-      run: |\n-        python -m pip install --upgrade pip\n-        pip install -r requirements.txt\n-\n-    - name: Upload coverage to Codacy\n-      run: |\n-        pip install codacy-coverage\n-        coverage run -m pytest app/modules/ --ignore-glob='*selenium*'\n-        coverage xml \n-        python-codacy-coverage -r coverage.xml\n-      env:\n-        FLASK_ENV: testing\n-        MARIADB_HOSTNAME: 127.0.0.1\n-        MARIADB_PORT: 3306\n-        MARIADB_TEST_DATABASE: uvlhubdb_test\n-        MARIADB_USER: uvlhub_user\n-        MARIADB_PASSWORD: uvlhub_password\n-        CODACY_PROJECT_TOKEN: ${{ secrets.CODACY_PROJECT_TOKEN }}"
      },
      {
        "sha": "89be2d04416a9b7c491a2dcdca22f69ab38052b5",
        "filename": ".github/workflows/commits.yml",
        "status": "removed",
        "additions": 0,
        "deletions": 18,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d58b38153260900a0e4b5faf73cbf6fb57ca45b6/.github%2Fworkflows%2Fcommits.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d58b38153260900a0e4b5faf73cbf6fb57ca45b6/.github%2Fworkflows%2Fcommits.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fcommits.yml?ref=d58b38153260900a0e4b5faf73cbf6fb57ca45b6",
        "patch": "@@ -1,18 +0,0 @@\n-name: Commits Syntax Checker\n-\n-on:\n-  pull_request:\n-    branches: [master]\n-    types: [opened, reopened, edited, review_requested, synchronize]\n-  push:\n-    branches:\n-      - \"master\"\n-  workflow_call:\n-\n-jobs:\n-  check:\n-    name: Conventional Commits\n-    runs-on: ubuntu-latest\n-    steps:\n-      - uses: actions/checkout@v2\n-      - uses: webiny/action-conventional-commits@v1.0.3\n\\ No newline at end of file"
      },
      {
        "sha": "2f2de2824bdaf64c2862196dc864ea2acf044f2f",
        "filename": ".github/workflows/deloyment_on_render.yml",
        "status": "renamed",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/9e0cd1af66625d44a001211b598c421008f4c275/.github%2Fworkflows%2Fdeloyment_on_render.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/9e0cd1af66625d44a001211b598c421008f4c275/.github%2Fworkflows%2Fdeloyment_on_render.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fdeloyment_on_render.yml?ref=9e0cd1af66625d44a001211b598c421008f4c275",
        "patch": "@@ -24,7 +24,7 @@ jobs:\n           exit 1\n         fi\n \n-    - name: Trigger Deployment Webhook\n+    - name: Trigger Deployment Render\n       env:\n         WEBHOOK_URL: ${{ secrets.RENDER_DEPLOY_HOOK_URL }}\n       run: |",
        "previous_filename": ".github/workflows/deloyment_on_webhook.yml"
      },
      {
        "sha": "a05a28d76b01423f2275b6708140744984520df4",
        "filename": ".github/workflows/lint.yml",
        "status": "removed",
        "additions": 0,
        "deletions": 28,
        "changes": 28,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d58b38153260900a0e4b5faf73cbf6fb57ca45b6/.github%2Fworkflows%2Flint.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d58b38153260900a0e4b5faf73cbf6fb57ca45b6/.github%2Fworkflows%2Flint.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Flint.yml?ref=d58b38153260900a0e4b5faf73cbf6fb57ca45b6",
        "patch": "@@ -1,28 +0,0 @@\n-name: Python Lint\n-\n-on:\n-  push:\n-    branches: [master]\n-  pull_request:\n-    branches: [master]\n-\n-jobs:\n-  lint:\n-    runs-on: ubuntu-latest\n-\n-    steps:\n-    - uses: actions/checkout@v2\n-\n-    - name: Set up Python\n-      uses: actions/setup-python@v2\n-      with:\n-        python-version: '3.x'\n-\n-    - name: Install Dependencies\n-      run: |\n-        python -m pip install --upgrade pip\n-        pip install flake8\n-\n-    - name: Lint with flake8\n-      run: |\n-        flake8 app"
      },
      {
        "sha": "3b534535769c72dce0247da0801ee8fab30a18bb",
        "filename": ".github/workflows/tests.yml",
        "status": "modified",
        "additions": 44,
        "deletions": 7,
        "changes": 51,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/9e0cd1af66625d44a001211b598c421008f4c275/.github%2Fworkflows%2Ftests.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/9e0cd1af66625d44a001211b598c421008f4c275/.github%2Fworkflows%2Ftests.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Ftests.yml?ref=9e0cd1af66625d44a001211b598c421008f4c275",
        "patch": "@@ -1,14 +1,21 @@\n-name: Run tests\n+name: Tests\n \n on:\n   push:\n-    branches: [master]\n+    branches:\n+      - master\n   pull_request:\n-    branches: [master]\n+    branches:\n+      - master\n+  workflow_dispatch:\n \n jobs:\n-  pytest:\n+  build:\n     runs-on: ubuntu-latest\n+    strategy:\n+      fail-fast: false\n+      matrix:\n+        python-version: ['3.11', '3.12']\n \n     services:\n       mysql:\n@@ -23,11 +30,13 @@ jobs:\n         options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n \n     steps:\n-    - uses: actions/checkout@v4\n+    - name: Checkout code\n+      uses: actions/checkout@v4\n \n-    - uses: actions/setup-python@v5\n+    - name: Set up Python\n+      uses: actions/setup-python@v5\n       with:\n-        python-version: '3.12'\n+        python-version: ${{matrix.python-version}}\n \n     - name: Prepare environment\n       run: |\n@@ -37,6 +46,33 @@ jobs:\n       run: |\n         python -m pip install --upgrade pip\n         pip install -r requirements.txt\n+    \n+    - name: Check for outdated dependencies\n+      run: |\n+          pip list --outdated > outdated_dependencies.txt\n+    \n+    - name: Show outdated dependencies\n+      run: cat outdated_dependencies.txt\n+\n+    - name: Security audit with pip-audit\n+      run: |\n+        pip install pip-audit\n+        pip-audit || true\n+  \n+    - name: Upload coverage to Codacy\n+      run: |\n+        pip install codacy-coverage\n+        coverage run -m pytest app/modules/ --ignore-glob='*selenium*'\n+        coverage xml \n+        python-codacy-coverage -r coverage.xml\n+      env:\n+        FLASK_ENV: testing\n+        MARIADB_HOSTNAME: 127.0.0.1\n+        MARIADB_PORT: 3306\n+        MARIADB_TEST_DATABASE: uvlhubdb_test\n+        MARIADB_USER: uvlhub_user\n+        MARIADB_PASSWORD: uvlhub_password\n+        CODACY_PROJECT_TOKEN: ${{ secrets.CODACY_PROJECT_TOKEN }}\n \n     - name: Run Tests\n       env:\n@@ -48,3 +84,4 @@ jobs:\n         MARIADB_PASSWORD: uvlhub_password\n       run: |\n         pytest app/modules/ --ignore-glob='*selenium*'\n+"
      },
      {
        "sha": "3b534535769c72dce0247da0801ee8fab30a18bb",
        "filename": ".github/workflows/tests_new.yml",
        "status": "removed",
        "additions": 0,
        "deletions": 87,
        "changes": 87,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d58b38153260900a0e4b5faf73cbf6fb57ca45b6/.github%2Fworkflows%2Ftests_new.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d58b38153260900a0e4b5faf73cbf6fb57ca45b6/.github%2Fworkflows%2Ftests_new.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Ftests_new.yml?ref=d58b38153260900a0e4b5faf73cbf6fb57ca45b6",
        "patch": "@@ -1,87 +0,0 @@\n-name: Tests\n-\n-on:\n-  push:\n-    branches:\n-      - master\n-  pull_request:\n-    branches:\n-      - master\n-  workflow_dispatch:\n-\n-jobs:\n-  build:\n-    runs-on: ubuntu-latest\n-    strategy:\n-      fail-fast: false\n-      matrix:\n-        python-version: ['3.11', '3.12']\n-\n-    services:\n-      mysql:\n-        image: mysql:5.7\n-        env:\n-          MYSQL_ROOT_PASSWORD: uvlhub_root_password\n-          MYSQL_DATABASE: uvlhubdb_test\n-          MYSQL_USER: uvlhub_user\n-          MYSQL_PASSWORD: uvlhub_password\n-        ports:\n-          - 3306:3306\n-        options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n-\n-    steps:\n-    - name: Checkout code\n-      uses: actions/checkout@v4\n-\n-    - name: Set up Python\n-      uses: actions/setup-python@v5\n-      with:\n-        python-version: ${{matrix.python-version}}\n-\n-    - name: Prepare environment\n-      run: |\n-        sed -i '/rosemary @ file:\\/\\/\\/app/d' requirements.txt\n-\n-    - name: Install dependencies\n-      run: |\n-        python -m pip install --upgrade pip\n-        pip install -r requirements.txt\n-    \n-    - name: Check for outdated dependencies\n-      run: |\n-          pip list --outdated > outdated_dependencies.txt\n-    \n-    - name: Show outdated dependencies\n-      run: cat outdated_dependencies.txt\n-\n-    - name: Security audit with pip-audit\n-      run: |\n-        pip install pip-audit\n-        pip-audit || true\n-  \n-    - name: Upload coverage to Codacy\n-      run: |\n-        pip install codacy-coverage\n-        coverage run -m pytest app/modules/ --ignore-glob='*selenium*'\n-        coverage xml \n-        python-codacy-coverage -r coverage.xml\n-      env:\n-        FLASK_ENV: testing\n-        MARIADB_HOSTNAME: 127.0.0.1\n-        MARIADB_PORT: 3306\n-        MARIADB_TEST_DATABASE: uvlhubdb_test\n-        MARIADB_USER: uvlhub_user\n-        MARIADB_PASSWORD: uvlhub_password\n-        CODACY_PROJECT_TOKEN: ${{ secrets.CODACY_PROJECT_TOKEN }}\n-\n-    - name: Run Tests\n-      env:\n-        FLASK_ENV: testing\n-        MARIADB_HOSTNAME: 127.0.0.1\n-        MARIADB_PORT: 3306\n-        MARIADB_TEST_DATABASE: uvlhubdb_test\n-        MARIADB_USER: uvlhub_user\n-        MARIADB_PASSWORD: uvlhub_password\n-      run: |\n-        pytest app/modules/ --ignore-glob='*selenium*'\n-"
      }
    ]
  },
  {
    "sha": "d58b38153260900a0e4b5faf73cbf6fb57ca45b6",
    "node_id": "C_kwDONBuXkNoAKGQ1OGIzODE1MzI2MDkwMGEwZTRiNWZhZjczY2JmNmZiNTdjYTQ1YjY",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-09T10:46:35Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-09T10:46:35Z"
      },
      "message": "fix: Security fix in conventional commits\n\nVersion 1.0.3 referenced with commit hash.",
      "tree": {
        "sha": "e87a76f268073f0bc28f365252335adcc1bededd",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/e87a76f268073f0bc28f365252335adcc1bededd"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/d58b38153260900a0e4b5faf73cbf6fb57ca45b6",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d58b38153260900a0e4b5faf73cbf6fb57ca45b6",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/d58b38153260900a0e4b5faf73cbf6fb57ca45b6",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d58b38153260900a0e4b5faf73cbf6fb57ca45b6/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f96f4bcb7f5619189f897c644e4c7954d8d2744f",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f96f4bcb7f5619189f897c644e4c7954d8d2744f",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/f96f4bcb7f5619189f897c644e4c7954d8d2744f"
      }
    ],
    "files": [
      {
        "sha": "3dd2d7e0730616ba219b56172a4f8e1482f3c1a6",
        "filename": ".github/workflows/format.yml",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d58b38153260900a0e4b5faf73cbf6fb57ca45b6/.github%2Fworkflows%2Fformat.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d58b38153260900a0e4b5faf73cbf6fb57ca45b6/.github%2Fworkflows%2Fformat.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fformat.yml?ref=d58b38153260900a0e4b5faf73cbf6fb57ca45b6",
        "patch": "@@ -32,4 +32,4 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@v2\n-      - uses: webiny/action-conventional-commits@v1.0.3\n+      - uses: webiny/action-conventional-commits@8bc41ff4e7d423d56fa4905f6ff79209a78776c7"
      }
    ]
  },
  {
    "sha": "f96f4bcb7f5619189f897c644e4c7954d8d2744f",
    "node_id": "C_kwDONBuXkNoAKGY5NmY0YmNiN2Y1NjE5MTg5Zjg5N2M2NDRlNGM3OTU0ZDhkMjc0NGY",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-09T10:24:51Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-12-09T10:24:51Z"
      },
      "message": "chore: New github workflows for Continuous integration\n\nNew test workflow with other python versions and format checker.",
      "tree": {
        "sha": "dcdc92547afd73d5d6f6e594109834e4e0cb6d06",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/dcdc92547afd73d5d6f6e594109834e4e0cb6d06"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/f96f4bcb7f5619189f897c644e4c7954d8d2744f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f96f4bcb7f5619189f897c644e4c7954d8d2744f",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/f96f4bcb7f5619189f897c644e4c7954d8d2744f",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f96f4bcb7f5619189f897c644e4c7954d8d2744f/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e9336dc2919ac69c722104a4d72be64769fd8633",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/e9336dc2919ac69c722104a4d72be64769fd8633",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/e9336dc2919ac69c722104a4d72be64769fd8633"
      }
    ],
    "files": [
      {
        "sha": "a20c8d54a9162d78d3f9188be893d7f8d1d46997",
        "filename": ".github/workflows/format.yml",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/f96f4bcb7f5619189f897c644e4c7954d8d2744f/.github%2Fworkflows%2Fformat.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/f96f4bcb7f5619189f897c644e4c7954d8d2744f/.github%2Fworkflows%2Fformat.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fformat.yml?ref=f96f4bcb7f5619189f897c644e4c7954d8d2744f",
        "patch": "@@ -0,0 +1,35 @@\n+name: Format checker\n+\n+on:\n+  push:\n+    branches: [master]\n+  pull_request:\n+    branches: [master]\n+  workflow_dispatch:\n+\n+jobs:\n+  lint:\n+    runs-on: ubuntu-latest\n+\n+    steps:\n+    - uses: actions/checkout@v2\n+\n+    - name: Set up Python\n+      uses: actions/setup-python@v2\n+      with:\n+        python-version: '3.x'\n+\n+    - name: Install Dependencies\n+      run: |\n+        python -m pip install --upgrade pip\n+        pip install flake8\n+\n+    - name: Lint with flake8\n+      run: |\n+        flake8 app\n+  check:\n+    name: Conventional Commits\n+    runs-on: ubuntu-latest\n+    steps:\n+      - uses: actions/checkout@v2\n+      - uses: webiny/action-conventional-commits@v1.0.3"
      },
      {
        "sha": "3b534535769c72dce0247da0801ee8fab30a18bb",
        "filename": ".github/workflows/tests_new.yml",
        "status": "added",
        "additions": 87,
        "deletions": 0,
        "changes": 87,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/f96f4bcb7f5619189f897c644e4c7954d8d2744f/.github%2Fworkflows%2Ftests_new.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/f96f4bcb7f5619189f897c644e4c7954d8d2744f/.github%2Fworkflows%2Ftests_new.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Ftests_new.yml?ref=f96f4bcb7f5619189f897c644e4c7954d8d2744f",
        "patch": "@@ -0,0 +1,87 @@\n+name: Tests\n+\n+on:\n+  push:\n+    branches:\n+      - master\n+  pull_request:\n+    branches:\n+      - master\n+  workflow_dispatch:\n+\n+jobs:\n+  build:\n+    runs-on: ubuntu-latest\n+    strategy:\n+      fail-fast: false\n+      matrix:\n+        python-version: ['3.11', '3.12']\n+\n+    services:\n+      mysql:\n+        image: mysql:5.7\n+        env:\n+          MYSQL_ROOT_PASSWORD: uvlhub_root_password\n+          MYSQL_DATABASE: uvlhubdb_test\n+          MYSQL_USER: uvlhub_user\n+          MYSQL_PASSWORD: uvlhub_password\n+        ports:\n+          - 3306:3306\n+        options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n+\n+    steps:\n+    - name: Checkout code\n+      uses: actions/checkout@v4\n+\n+    - name: Set up Python\n+      uses: actions/setup-python@v5\n+      with:\n+        python-version: ${{matrix.python-version}}\n+\n+    - name: Prepare environment\n+      run: |\n+        sed -i '/rosemary @ file:\\/\\/\\/app/d' requirements.txt\n+\n+    - name: Install dependencies\n+      run: |\n+        python -m pip install --upgrade pip\n+        pip install -r requirements.txt\n+    \n+    - name: Check for outdated dependencies\n+      run: |\n+          pip list --outdated > outdated_dependencies.txt\n+    \n+    - name: Show outdated dependencies\n+      run: cat outdated_dependencies.txt\n+\n+    - name: Security audit with pip-audit\n+      run: |\n+        pip install pip-audit\n+        pip-audit || true\n+  \n+    - name: Upload coverage to Codacy\n+      run: |\n+        pip install codacy-coverage\n+        coverage run -m pytest app/modules/ --ignore-glob='*selenium*'\n+        coverage xml \n+        python-codacy-coverage -r coverage.xml\n+      env:\n+        FLASK_ENV: testing\n+        MARIADB_HOSTNAME: 127.0.0.1\n+        MARIADB_PORT: 3306\n+        MARIADB_TEST_DATABASE: uvlhubdb_test\n+        MARIADB_USER: uvlhub_user\n+        MARIADB_PASSWORD: uvlhub_password\n+        CODACY_PROJECT_TOKEN: ${{ secrets.CODACY_PROJECT_TOKEN }}\n+\n+    - name: Run Tests\n+      env:\n+        FLASK_ENV: testing\n+        MARIADB_HOSTNAME: 127.0.0.1\n+        MARIADB_PORT: 3306\n+        MARIADB_TEST_DATABASE: uvlhubdb_test\n+        MARIADB_USER: uvlhub_user\n+        MARIADB_PASSWORD: uvlhub_password\n+      run: |\n+        pytest app/modules/ --ignore-glob='*selenium*'\n+"
      }
    ]
  },
  {
    "sha": "5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f",
    "node_id": "C_kwDONBuXkNoAKDVlMmY5MzkxZTFmZmMwZDk3NDQwNmJhMzFiYWZmZDJlNGJhN2ZlNmY",
    "commit": {
      "author": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-12-05T18:19:53Z"
      },
      "committer": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-12-05T18:19:53Z"
      },
      "message": "feat: Add format correction and frontend\n\nAdd format correction to backend and add stagging area\u00b4s frontend",
      "tree": {
        "sha": "8f619e057d8c32a2aa78b5a6f19fa1ba320b90eb",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/8f619e057d8c32a2aa78b5a6f19fa1ba320b90eb"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f/comments",
    "author": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "27465facf6ce3610db9d30aa0b7965c0a8b04561",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/27465facf6ce3610db9d30aa0b7965c0a8b04561",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/27465facf6ce3610db9d30aa0b7965c0a8b04561"
      }
    ],
    "files": [
      {
        "sha": "67af7d3021550f32b2b0e7f679a8cbf1fd8fb546",
        "filename": "app/modules/dataset/models.py",
        "status": "modified",
        "additions": 6,
        "deletions": 3,
        "changes": 9,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f/app%2Fmodules%2Fdataset%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f/app%2Fmodules%2Fdataset%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fmodels.py?ref=5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f",
        "patch": "@@ -28,9 +28,11 @@ class PublicationType(Enum):\n     WORKING_PAPER = 'workingpaper'\n     OTHER = 'other'\n \n-class Status(Enum) :\n-    UNPUBLISHED = 'unpublished' # This state will serve  as the state needed to be in the stage area\n-    PUBLISHED = 'published' #this state will indicate that the dataset is published to Fakenodo\n+\n+class Status(Enum):\n+    UNPUBLISHED = 'unpublished'  # This state will serve  as the state needed to be in the stage area\n+    PUBLISHED = 'published'  # this state will indicate that the dataset is published to Fakenodo\n+\n \n class Author(db.Model):\n     id = db.Column(db.Integer, primary_key=True)\n@@ -71,6 +73,7 @@ class DSMetaData(db.Model):\n     authors = db.relationship('Author', backref='ds_meta_data', lazy=True, cascade=\"all, delete\")\n     ds_status = db.Column(SQLAlchemyEnum(Status), nullable=False, default=Status.UNPUBLISHED)\n \n+\n class DataSet(db.Model):\n     id = db.Column(db.Integer, primary_key=True)\n     user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)"
      },
      {
        "sha": "04cf9165d292ee80394114aa1f0178d6d1b19e4c",
        "filename": "app/modules/dataset/repositories.py",
        "status": "modified",
        "additions": 10,
        "deletions": 8,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f/app%2Fmodules%2Fdataset%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f/app%2Fmodules%2Fdataset%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Frepositories.py?ref=5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f",
        "patch": "@@ -118,24 +118,26 @@ def latest_synchronized(self):\n     def get_all_datasets(self):\n         return self.model.query.all()\n \n-    #These methods will help to access the datatests by status\n+    # These methods will help to access the datatests by status\n     def get_user_unpublished_datasets(self, current_user_id: int):\n         return (\n             self.model.query.join(DSMetaData)\n-            .filter(DataSet.user_id ==  current_user_id, DSMetaData.ds_status == Status.UNPUBLISHED).all()\n+            .filter(DataSet.user_id == current_user_id, DSMetaData.ds_status == Status.UNPUBLISHED).all()\n         )\n \n     def get_user_unpublished_specific_dataset(self, current_user_id: int, dataset_id: int):\n-            return (\n-                self.model.query.join(DSMetaData)\n-                .filter(DataSet.user_id ==  current_user_id, DataSet.id == dataset_id, DSMetaData.ds_status == Status.UNPUBLISHED).first()\n-            )\n-    \n+        return (\n+            self.model.query.join(DSMetaData)\n+            .filter(DataSet.user_id == current_user_id, DataSet.id == dataset_id,\n+                    DSMetaData.ds_status == Status.UNPUBLISHED).first()\n+        )\n+\n     def get_user_published_datasets(self, current_user_id: int):\n         return (\n             self.model.query.join(DSMetaData)\n             .filter(DataSet.user_id == current_user_id, DSMetaData.ds_status == Status.PUBLISHED).all()\n-        )    \n+        )\n+\n \n class DOIMappingRepository(BaseRepository):\n     def __init__(self):"
      },
      {
        "sha": "ddc9c9dd69d03dd10f1def9aecc162294d876143",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 5,
        "deletions": 5,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f",
        "patch": "@@ -65,8 +65,7 @@ def create_dataset():\n         except Exception as exc:\n             logger.exception(f\"Exception while create dataset data in local {exc}\")\n             return jsonify({\"Exception while create dataset data in local: \": str(exc)}), 400\n-        \n-        \n+\n         # Delete temp folder\n         file_path = current_user.temp_folder()\n         if os.path.exists(file_path) and os.path.isdir(file_path):\n@@ -85,7 +84,7 @@ def list_dataset():\n         \"dataset/list_datasets.html\",\n         datasets=dataset_service.get_synchronized(current_user.id),\n         local_datasets=dataset_service.get_unsynchronized(current_user.id),\n-        status = Status,\n+        status=Status,\n     )\n \n \n@@ -294,6 +293,7 @@ def publish_all_datasets():\n         local_datasets=dataset_service.get_unsynchronized(current_user.id),\n     )\n \n+\n @dataset_bp.route(\"/dataset/<int:dataset_id>/publish\", methods=[\"POST\"])\n @login_required\n def publish_dataset(dataset_id):\n@@ -313,7 +313,7 @@ def publish_dataset(dataset_id):\n     if data.get(\"conceptrecid\"):\n         deposition_id = data.get(\"id\")\n \n-        #Update dataset with deposition ID from zeznodo\n+        # Update dataset with deposition ID from zeznodo\n         try:\n             dataset_service.update_dsmetadata(dataset.ds_meta_data_id, deposition_id=deposition_id)\n \n@@ -322,7 +322,7 @@ def publish_dataset(dataset_id):\n                     zenodo_service.upload_file(dataset, deposition_id, feature_model)\n                 except Exception as e:\n                     logger.exception(f\"Error uploading feature model to Zenodo: {e}\")\n-                    continue \n+                    continue\n \n             zenodo_service.publish_deposition(deposition_id)\n "
      },
      {
        "sha": "d4022f79861d8caadfb4777be86733089918c4fc",
        "filename": "app/modules/dataset/services.py",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f/app%2Fmodules%2Fdataset%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f/app%2Fmodules%2Fdataset%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fservices.py?ref=5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f",
        "patch": "@@ -142,7 +142,7 @@ def get_uvlhub_doi(self, dataset: DataSet) -> str:\n \n     def get_all_datasets(self):\n         return self.repository.get_all_datasets()\n-    \n+\n     # This method will help in the proccess of publishing datasets\n     def publish_datasets(self, current_user_id):\n         try:\n@@ -166,6 +166,7 @@ def publish_specific_dataset(self, current_user_id, dataset_id):\n             logger.error(f\"Exception setting dataset to published: {exc}\")\n             self.repository.session.rollback()\n \n+\n class AuthorService(BaseService):\n     def __init__(self):\n         super().__init__(AuthorRepository())"
      },
      {
        "sha": "dd977fe1defa01dc39202d47fb530841859373a9",
        "filename": "app/modules/dataset/templates/dataset/list_datasets.html",
        "status": "modified",
        "additions": 70,
        "deletions": 60,
        "changes": 130,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html?ref=5e2f9391e1ffc0d974406ba31baffd2e4ba7fe6f",
        "patch": "@@ -7,10 +7,12 @@\n     <h1 class=\"h3 mb-3\">My datasets</h1>\n \n     {% if datasets %}\n-        <div class=\" col-12\">\n+        <div class=\"col-12\">\n             <div class=\"card\">\n-\n                 <div class=\"card-body\">\n+                    <div class=\"card-header\">\n+                        <h5 class=\"card-title\">My unpublished datasets (stagging area)</h5>\n+                    </div>\n                     <table class=\"table\">\n                         <thead>\n                         <tr>\n@@ -23,32 +25,40 @@ <h1 class=\"h3 mb-3\">My datasets</h1>\n                         </thead>\n                         <tbody>\n                         {% for dataset in datasets %}\n-                            <tr>\n-                                <td>\n-                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n-                                        {{ dataset.ds_meta_data.title }}\n-                                    </a>\n-                                </td>\n-                                <td>{{ dataset.ds_meta_data.description }}</td>\n-                                <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n-                                <td><a href=\"{{ dataset.get_uvlhub_doi() }}\"\n-                                       target=\"_blank\">{{ dataset.get_uvlhub_doi() }}</a></td>\n-                                <td>\n-                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n-                                        <i data-feather=\"eye\"></i>\n-                                    </a>\n-                                    <a href=\"{{ url_for('dataset.download_dataset', dataset_id=dataset.id) }}\">\n-                                        <i data-feather=\"download\"></i>\n-                                    </a>\n-                                </td>\n-                            </tr>\n+                            {% if dataset.ds_meta_data.ds_status  == status.UNPUBLISHED %}\n+                                <tr>\n+                                    <td>\n+                                        <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                            {{ dataset.ds_meta_data.title }}\n+                                        </a>\n+                                    </td>\n+                                    <td>{{ dataset.ds_meta_data.description }}</td>\n+                                    <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                    <td><a href=\"{{ dataset.get_uvlhub_doi() }}\"\n+                                        target=\"_blank\">{{ dataset.get_uvlhub_doi() }}</a></td>\n+                                    <td>\n+                                        <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                            <i data-feather=\"eye\"></i>\n+                                        </a>\n+                                        <a href=\"{{ url_for('dataset.download_dataset', dataset_id=dataset.id) }}\">\n+                                            <i data-feather=\"download\"></i>\n+                                        </a>\n+                                    </td>\n+                                    <td>\n+                                        <!-- Bot\u00c3\u00b3n de Subir a Zenodo solo si el dataset es del usuario loggeado -->\n+                                        {% if dataset.user_id == current_user.id and dataset.ds_meta_data.ds_status  == status.UNPUBLISHED %}\n+                                            <form action=\"{{ url_for('dataset.publish_dataset', dataset_id=dataset.id) }}\" method=\"POST\">\n+                                                <button type=\"submit\" class=\"btn btn-primary\">Upload to Zenodo</button>\n+                                            </form>\n+                                        {% endif %}\n+                                    </td>\n+                                </tr>\n+                            {% endif %}\n                         {% endfor %}\n                         </tbody>\n                     </table>\n                 </div>\n-\n             </div>\n-\n         </div>\n     {% else %}\n         <div class=\"col-12 col-md-6\">\n@@ -67,52 +77,52 @@ <h5 class=\"card-title mb-0\">No datasets found</h5>\n         </div>\n     {% endif %}\n \n-    <div class=\"row\">\n-\n-\n+    <div class=\"row mt-5\">\n         <div class=\"col-12\">\n-            {% if local_datasets %}\n-                <div class=\"card\">\n+            <div class=\"card\">\n+                <div class=\"card-body\">\n+                    <div class=\"card-header\">\n+                        <h5 class=\"card-title\">Published datasets in zenodo</h5>\n+                    </div>\n                     <div class=\"card-body\">\n-                        <div class=\"card-header\">\n-                            <h5 class=\"card-title\">Unsynchronized datasets</h5>\n-                        </div>\n-                        <div class=\"card-body\">\n+                        {% if datasets %}\n                             <table class=\"table\">\n                                 <thead>\n-                                <tr>\n-                                    <th>Title</th>\n-                                    <th>Description</th>\n-                                    <th>Publication type</th>\n-                                    <th>Options</th>\n-                                </tr>\n-                                </thead>\n-                                <tbody>\n-                                {% for local_dataset in local_datasets %}\n                                     <tr>\n-                                        <td>\n-                                            <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=local_dataset.id) }}\">\n-                                                {{ local_dataset.ds_meta_data.title }}\n-                                            </a>\n-                                        </td>\n-                                        <td>{{ local_dataset.ds_meta_data.description }}</td>\n-                                        <td>{{ local_dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n-                                        <td>\n-                                            <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=local_dataset.id) }}\">\n-                                                <i data-feather=\"eye\"></i>\n-                                            </a>\n-                                            <a href=\"{{ url_for('dataset.download_dataset', dataset_id=local_dataset.id) }}\">\n-                                                <i data-feather=\"download\"></i>\n-                                            </a>\n-                                        </td>\n+                                        <th>Title</th>\n+                                        <th>Description</th>\n+                                        <th>Publication type</th>\n+                                        <th>DOI</th>\n                                     </tr>\n-                                {% endfor %}\n+                                </thead>\n+                                <tbody>\n+                                    {% for dataset in datasets %}\n+                                        {% if dataset.ds_meta_data.ds_status == status.PUBLISHED %}\n+                                            <tr>\n+                                                <td>\n+                                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                                        {{ dataset.ds_meta_data.title }}\n+                                                    </a>\n+                                                </td>\n+                                                <td>{{ dataset.ds_meta_data.description }}</td>\n+                                                <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                                <td>\n+                                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\" target=\"_blank\">\n+                                                        {{ dataset.get_uvlhub_doi() }}\n+                                                    </a>\n+                                                </td>\n+                                            </tr>\n+                                        {% endif %}\n+                                    {% endfor %}\n                                 </tbody>\n                             </table>\n-                        </div>\n+                        {% else %}\n+                            <p>No datasets synchronized with Zenodo.</p>\n+                        {% endif %}\n                     </div>\n                 </div>\n-            {% endif %}\n+            </div>\n         </div>\n+    </div>\n \n-{% endblock %}\n+{% endblock %}\n\\ No newline at end of file"
      }
    ]
  },
  {
    "sha": "adf859390cc7bb6657dcbe80e31fda0514aeef77",
    "node_id": "C_kwDONBuXkNoAKGFkZjg1OTM5MGNjN2JiNjY1N2RjYmU4MGUzMWZkYTA1MTRhZWVmNzc",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-04T17:40:57Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-04T17:40:57Z"
      },
      "message": "fix: Add blank line to respect the flake8 format\n\nAdeed a blank line between 2 tests to match the flake8 format",
      "tree": {
        "sha": "87a960bc3779fb5953fb3d1adda0b06918736560",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/87a960bc3779fb5953fb3d1adda0b06918736560"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/adf859390cc7bb6657dcbe80e31fda0514aeef77",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/adf859390cc7bb6657dcbe80e31fda0514aeef77",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/adf859390cc7bb6657dcbe80e31fda0514aeef77",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/adf859390cc7bb6657dcbe80e31fda0514aeef77/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "bebf95690f023ae61f6201ae3f44af12482eb254",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/bebf95690f023ae61f6201ae3f44af12482eb254",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/bebf95690f023ae61f6201ae3f44af12482eb254"
      }
    ],
    "files": [
      {
        "sha": "748c29c392e29a30da6707aec23b926ef998a237",
        "filename": "app/modules/profile/tests/test_unit.py",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/adf859390cc7bb6657dcbe80e31fda0514aeef77/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/adf859390cc7bb6657dcbe80e31fda0514aeef77/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py?ref=adf859390cc7bb6657dcbe80e31fda0514aeef77",
        "patch": "@@ -78,6 +78,7 @@ def test_get_my_profile_page(test_client):\n \n     logout(test_client)\n \n+\n def test_get_my_profile_page_alternative_version(test_client):\n     \"\"\"\n     Will test that the current user will be able to access it's profile using GET"
      }
    ]
  },
  {
    "sha": "bebf95690f023ae61f6201ae3f44af12482eb254",
    "node_id": "C_kwDONBuXkNoAKGJlYmY5NTY5MGYwMjNhZTYxZjYyMDFhZTNmNDRhZjEyNDgyZWIyNTQ",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-04T17:34:02Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-04T17:34:02Z"
      },
      "message": "fix: Add correct functionality and tests\n\nAdd changes to routes to show correct behaviour. New test case added to test the newly added correction",
      "tree": {
        "sha": "a99a5b0bb80230f25e1b49bc8378206ef7fbe17d",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/a99a5b0bb80230f25e1b49bc8378206ef7fbe17d"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/bebf95690f023ae61f6201ae3f44af12482eb254",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/bebf95690f023ae61f6201ae3f44af12482eb254",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/bebf95690f023ae61f6201ae3f44af12482eb254",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/bebf95690f023ae61f6201ae3f44af12482eb254/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e9336dc2919ac69c722104a4d72be64769fd8633",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/e9336dc2919ac69c722104a4d72be64769fd8633",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/e9336dc2919ac69c722104a4d72be64769fd8633"
      }
    ],
    "files": [
      {
        "sha": "5f1bf2598bb50b28e200e1e28692475f126af713",
        "filename": "app/modules/profile/routes.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/bebf95690f023ae61f6201ae3f44af12482eb254/app%2Fmodules%2Fprofile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/bebf95690f023ae61f6201ae3f44af12482eb254/app%2Fmodules%2Fprofile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Froutes.py?ref=bebf95690f023ae61f6201ae3f44af12482eb254",
        "patch": "@@ -35,7 +35,7 @@ def edit_profile():\n def my_profile(user_id):\n     is_my_profile = False\n     # ver si el user_id es none(mi perfil) o es alguno(perfil de otro)\n-    if user_id is None:\n+    if user_id is None or user_id == current_user.id:\n         user_id = current_user.id\n         is_my_profile = True\n "
      },
      {
        "sha": "764b160dd81cb87ca47af76dab07917814e9d6c0",
        "filename": "app/modules/profile/tests/test_unit.py",
        "status": "modified",
        "additions": 21,
        "deletions": 6,
        "changes": 27,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/bebf95690f023ae61f6201ae3f44af12482eb254/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/bebf95690f023ae61f6201ae3f44af12482eb254/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py?ref=bebf95690f023ae61f6201ae3f44af12482eb254",
        "patch": "@@ -41,8 +41,7 @@ def test_edit_profile_page_get(test_client):\n def test_get_profile_page(test_client):\n \n     \"\"\"\n-    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n-    usuarios exsistentes mediante GET\n+    Will test that an user will be able to access to another user's profile using GET\n     \"\"\"\n     login_response = login(test_client, \"user@example.com\", \"test1234\")\n     assert login_response.status_code == 200, \"Login was unsuccessful.\"\n@@ -55,8 +54,7 @@ def test_get_profile_page(test_client):\n \n def test_get_unexisting_profile_page(test_client):\n     \"\"\"\n-    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n-    usuarios exsistentes mediante GET\n+    Will test that a user wont be able to access a profile of a non existent user\n     \"\"\"\n     login_response = login(test_client, \"user@example.com\", \"test1234\")\n     assert login_response.status_code == 200, \"Login was unsuccessful.\"\n@@ -69,8 +67,7 @@ def test_get_unexisting_profile_page(test_client):\n \n def test_get_my_profile_page(test_client):\n     \"\"\"\n-    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n-    usuarios exsistentes mediante GET\n+    Will test that the current user will be able to access it's profile using GET\n     \"\"\"\n     login_response = login(test_client, \"user@example.com\", \"test1234\")\n     assert login_response.status_code == 200, \"Login was unsuccessful.\"\n@@ -80,3 +77,21 @@ def test_get_my_profile_page(test_client):\n     assert b\"My profile\" in response.data, \"The expected content is not present on the page\"\n \n     logout(test_client)\n+\n+def test_get_my_profile_page_alternative_version(test_client):\n+    \"\"\"\n+    Will test that the current user will be able to access it's profile using GET\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    # Obtenemos el ID del usuario logueado desde la base de datos\n+    user = User.query.filter_by(email='user@example.com').first()\n+    assert user is not None, \"User not found in the database.\"\n+\n+    # Realizamos la solicitud GET con el ID del usuario en la URL\n+    response = test_client.get(f\"/profile/summary/{user.id}\")\n+    assert response.status_code == 200, \"The profile page could not be accessed.\"\n+    assert b\"My profile\" in response.data, \"The expected content is not present on the page\"\n+\n+    logout(test_client)"
      }
    ]
  },
  {
    "sha": "99db63b280931bce9090015ebe759fbb81fac565",
    "node_id": "C_kwDONBuXkNoAKDk5ZGI2M2IyODA5MzFiY2U5MDkwMDE1ZWJlNzU5ZmJiODFmYWM1NjU",
    "commit": {
      "author": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-04T17:24:05Z"
      },
      "committer": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-04T17:24:05Z"
      },
      "message": "test: add unit testing for rating feature\n\nPerform unit testing on rating module services",
      "tree": {
        "sha": "001ab077e350896331969599bcf9b2c0a3955678",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/001ab077e350896331969599bcf9b2c0a3955678"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/99db63b280931bce9090015ebe759fbb81fac565",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/99db63b280931bce9090015ebe759fbb81fac565",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/99db63b280931bce9090015ebe759fbb81fac565",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/99db63b280931bce9090015ebe759fbb81fac565/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "95528259ec04157f335550336d9128bf233e6977",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/95528259ec04157f335550336d9128bf233e6977",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/95528259ec04157f335550336d9128bf233e6977"
      }
    ],
    "files": [
      {
        "sha": "b81ae3a38da16e2cb86f47d8cb1ad68144c683e7",
        "filename": "app/modules/rating/tests/test_unit.py",
        "status": "modified",
        "additions": 103,
        "deletions": 18,
        "changes": 121,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/99db63b280931bce9090015ebe759fbb81fac565/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/99db63b280931bce9090015ebe759fbb81fac565/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py?ref=99db63b280931bce9090015ebe759fbb81fac565",
        "patch": "@@ -1,24 +1,109 @@\n import pytest\n+from unittest.mock import patch, MagicMock\n+from app.modules.rating.services import RatingService\n \n \n-@pytest.fixture(scope='module')\n-def test_client(test_client):\n-    \"\"\"\n-    Extends the test_client fixture to add additional specific data for module testing.\n-    \"\"\"\n-    with test_client.application.app_context():\n-        # Add HERE new elements to the database that you want to exist in the test context.\n-        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n-        pass\n+@pytest.fixture\n+def rating_service():\n+    return RatingService()\n \n-    yield test_client\n \n+def test_add_or_remove_rating_add(rating_service):\n+    with patch.object(rating_service.repository, 'add') as mock_add, \\\n+         patch.object(rating_service.repository, 'commit') as mock_commit, \\\n+         patch.object(rating_service, 'user_already_rated_dataset', return_value=False) as mock_user_already_rated:\n \n-def test_sample_assertion(test_client):\n-    \"\"\"\n-    Sample test to verify that the test framework and environment are working correctly.\n-    It does not communicate with the Flask application; it only performs a simple assertion to\n-    confirm that the tests in this module can be executed.\n-    \"\"\"\n-    greeting = \"Hello, World!\"\n-    assert greeting == \"Hello, World!\", \"The greeting does not coincide with 'Hello, World!'\"\n+        dataset_id = 1\n+        user_id = 1\n+\n+        rating_service.add_or_remove_rating(dataset_id, user_id)\n+\n+        mock_add.assert_called_once()\n+        mock_commit.assert_called_once()\n+        mock_user_already_rated.assert_called_once_with(dataset_id, user_id)\n+\n+\n+def test_add_or_remove_rating_remove(rating_service):\n+    with patch.object(rating_service, 'remove_ratings') as mock_remove_ratings, \\\n+         patch.object(rating_service, 'user_already_rated_dataset', return_value=True) as mock_user_already_rated:\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        rating_service.add_or_remove_rating(dataset_id, user_id)\n+\n+        mock_remove_ratings.assert_called_once_with(dataset_id, user_id)\n+        mock_user_already_rated.assert_called_once_with(dataset_id, user_id)\n+\n+\n+def test_remove_ratings(rating_service):\n+    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_dataset_id_and_user_id, \\\n+         patch.object(rating_service.repository, 'delete') as mock_delete, \\\n+         patch.object(rating_service.repository, 'commit') as mock_commit:\n+\n+        mock_ratings = [MagicMock(id=1), MagicMock(id=2)]\n+        mock_get_by_dataset_id_and_user_id.return_value = mock_ratings\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        rating_service.remove_ratings(dataset_id, user_id)\n+\n+        assert mock_delete.call_count == len(mock_ratings)\n+        mock_commit.assert_called_once()\n+\n+\n+def test_user_already_rated_dataset(rating_service):\n+    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_dataset_id_and_user_id:\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        mock_get_by_dataset_id_and_user_id.return_value = [MagicMock(id=1)]\n+\n+        result = rating_service.user_already_rated_dataset(dataset_id, user_id)\n+\n+        assert result is True\n+        mock_get_by_dataset_id_and_user_id.assert_called_once_with(dataset_id, user_id)\n+\n+\n+def test_user_already_rated_dataset_no_ratings(rating_service):\n+    with patch.object(rating_service.repository, 'get_by_dataset_id_and_user_id') as mock_get_by_dataset_id_and_user_id:\n+\n+        dataset_id = 1\n+        user_id = 1\n+\n+        mock_get_by_dataset_id_and_user_id.return_value = []\n+\n+        result = rating_service.user_already_rated_dataset(dataset_id, user_id)\n+\n+        assert result is False\n+        mock_get_by_dataset_id_and_user_id.assert_called_once_with(dataset_id, user_id)\n+\n+\n+def test_get_total_ratings_for_dataset(rating_service):\n+    with patch.object(rating_service.repository, 'get_query') as mock_get_query:\n+\n+        dataset_id = 1\n+        mock_query = MagicMock()\n+        mock_query.filter_by.return_value.count.return_value = 5\n+        mock_get_query.return_value = mock_query\n+\n+        result = rating_service.get_total_ratings_for_dataset(dataset_id)\n+\n+        assert result == 5\n+        mock_query.filter_by.assert_called_once_with(dataset_id=dataset_id)\n+\n+\n+def test_get_total_ratings_for_dataset_no_ratings(rating_service):\n+    with patch.object(rating_service.repository, 'get_query') as mock_get_query:\n+\n+        dataset_id = 1\n+        mock_query = MagicMock()\n+        mock_query.filter_by.return_value.count.return_value = 0\n+        mock_get_query.return_value = mock_query\n+\n+        result = rating_service.get_total_ratings_for_dataset(dataset_id)\n+\n+        assert result == 0\n+        mock_query.filter_by.assert_called_once_with(dataset_id=dataset_id)"
      }
    ]
  },
  {
    "sha": "27465facf6ce3610db9d30aa0b7965c0a8b04561",
    "node_id": "C_kwDONBuXkNoAKDI3NDY1ZmFjZjZjZTM2MTBkYjlkMzBhYTBiNzk2NWMwYThiMDQ1NjE",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-04T16:48:40Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-04T16:48:40Z"
      },
      "message": "feat: Add changes to dataset to publish correctly\n\nChanges made in model, repository and routes to publish a dataset to zenodo and update it status once the publish_specific_dataset() service is called",
      "tree": {
        "sha": "ebb7ec5438bf5193e793e516a18aec4e32b3d86d",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/ebb7ec5438bf5193e793e516a18aec4e32b3d86d"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/27465facf6ce3610db9d30aa0b7965c0a8b04561",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/27465facf6ce3610db9d30aa0b7965c0a8b04561",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/27465facf6ce3610db9d30aa0b7965c0a8b04561",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/27465facf6ce3610db9d30aa0b7965c0a8b04561/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3ce4144e2f65fb320e4264a627924db3dd1c7888",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3ce4144e2f65fb320e4264a627924db3dd1c7888",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3ce4144e2f65fb320e4264a627924db3dd1c7888"
      }
    ],
    "files": [
      {
        "sha": "742a0dcbdb0a4cc12d734bccc6310c2e8eefa084",
        "filename": "app/modules/dataset/models.py",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/27465facf6ce3610db9d30aa0b7965c0a8b04561/app%2Fmodules%2Fdataset%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/27465facf6ce3610db9d30aa0b7965c0a8b04561/app%2Fmodules%2Fdataset%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fmodels.py?ref=27465facf6ce3610db9d30aa0b7965c0a8b04561",
        "patch": "@@ -29,8 +29,8 @@ class PublicationType(Enum):\n     OTHER = 'other'\n \n class Status(Enum) :\n-    UNPUBLISHED = \"unpublished\" # This state will serve  as the state needed to be in the stage area\n-    PUBLISHED = \"published\" #this state will indicate that the dataset is published to Fakenodo\n+    UNPUBLISHED = 'unpublished' # This state will serve  as the state needed to be in the stage area\n+    PUBLISHED = 'published' #this state will indicate that the dataset is published to Fakenodo\n \n class Author(db.Model):\n     id = db.Column(db.Integer, primary_key=True)"
      },
      {
        "sha": "284fff54cff158333dc19b46fa2e80fbea2aaf6e",
        "filename": "app/modules/dataset/repositories.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/27465facf6ce3610db9d30aa0b7965c0a8b04561/app%2Fmodules%2Fdataset%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/27465facf6ce3610db9d30aa0b7965c0a8b04561/app%2Fmodules%2Fdataset%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Frepositories.py?ref=27465facf6ce3610db9d30aa0b7965c0a8b04561",
        "patch": "@@ -128,7 +128,7 @@ def get_user_unpublished_datasets(self, current_user_id: int):\n     def get_user_unpublished_specific_dataset(self, current_user_id: int, dataset_id: int):\n             return (\n                 self.model.query.join(DSMetaData)\n-                .filter(DataSet.user_id ==  current_user_id, DSMetaData.ds_status == Status.UNPUBLISHED, DataSet.id == dataset_id)\n+                .filter(DataSet.user_id ==  current_user_id, DataSet.id == dataset_id, DSMetaData.ds_status == Status.UNPUBLISHED).first()\n             )\n     \n     def get_user_published_datasets(self, current_user_id: int):"
      },
      {
        "sha": "1a3d2e1fff309e94c44095917988612b6311eea1",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 9,
        "deletions": 6,
        "changes": 15,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/27465facf6ce3610db9d30aa0b7965c0a8b04561/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/27465facf6ce3610db9d30aa0b7965c0a8b04561/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=27465facf6ce3610db9d30aa0b7965c0a8b04561",
        "patch": "@@ -21,7 +21,8 @@\n \n from app.modules.dataset.forms import DataSetForm\n from app.modules.dataset.models import (\n-    DSDownloadRecord\n+    DSDownloadRecord,\n+    Status\n )\n from app.modules.dataset import dataset_bp\n from app.modules.dataset.services import (\n@@ -84,6 +85,7 @@ def list_dataset():\n         \"dataset/list_datasets.html\",\n         datasets=dataset_service.get_synchronized(current_user.id),\n         local_datasets=dataset_service.get_unsynchronized(current_user.id),\n+        status = Status,\n     )\n \n \n@@ -292,17 +294,18 @@ def publish_all_datasets():\n         local_datasets=dataset_service.get_unsynchronized(current_user.id),\n     )\n \n-@dataset_bp.route(\"/dataset/<int:dataset_id>/publish\", methods=[\"GET\"])\n+@dataset_bp.route(\"/dataset/<int:dataset_id>/publish\", methods=[\"POST\"])\n @login_required\n def publish_dataset(dataset_id):\n-    # Obtener el dataset\n+\n     dataset = dataset_service.get_or_404(dataset_id)\n     dataset_service.publish_specific_dataset(current_user.id, dataset_id)\n     try:\n-        # Send dataset to zenodo\n+\n         zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n         response_data = json.dumps(zenodo_response_json)\n         data = json.loads(response_data)\n+        print(\"esta funcionando\")\n     except Exception as exc:\n         logger.exception(f\"Exception while creating dataset data in Zenodo: {exc}\")\n         return jsonify({\"message\": \"Error while creating dataset in Zenodo.\"}), 500\n@@ -330,7 +333,7 @@ def publish_dataset(dataset_id):\n             logger.exception(f\"Error while processing Zenodo actions: {e}\")\n             return jsonify({\"message\": f\"Error during Zenodo publication process: {e}\"}), 500\n \n-        msg = \"Dataset successfully published to Zenodo!\"\n-        return jsonify({\"message\": msg}), 200\n+        print(\"Dataset successfully published to Zenodo!\")\n+        return redirect(\"/dataset/list\")\n \n     return jsonify({\"message\": \"Failed to create deposition on Zenodo.\"}), 400"
      }
    ]
  },
  {
    "sha": "95528259ec04157f335550336d9128bf233e6977",
    "node_id": "C_kwDONBuXkNoAKDk1NTI4MjU5ZWMwNDE1N2YzMzU1NTAzMzZkOTEyOGJmMjMzZTY5Nzc",
    "commit": {
      "author": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-04T16:37:36Z"
      },
      "committer": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-04T16:37:36Z"
      },
      "message": "refactor: remove unused code\n\nDelete model rating related code as that feature will not be included within the scope of the work item",
      "tree": {
        "sha": "6bfc12a947f3d089bff1522cb058873d82015ee1",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/6bfc12a947f3d089bff1522cb058873d82015ee1"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/95528259ec04157f335550336d9128bf233e6977",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/95528259ec04157f335550336d9128bf233e6977",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/95528259ec04157f335550336d9128bf233e6977",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/95528259ec04157f335550336d9128bf233e6977/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/fed633a9da88e1cbddffe222874fbe0a885bfbc9"
      }
    ],
    "files": [
      {
        "sha": "5d813ac93806d6fbe64d0696b5558e6e7bd4da68",
        "filename": "app/modules/dataset/templates/dataset/view_dataset.html",
        "status": "modified",
        "additions": 2,
        "deletions": 3,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/95528259ec04157f335550336d9128bf233e6977/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/95528259ec04157f335550336d9128bf233e6977/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html?ref=95528259ec04157f335550336d9128bf233e6977",
        "patch": "@@ -181,7 +181,7 @@ <h1><b>{{ dataset.ds_meta_data.title }}</b></h1>\n                     {{ dataset.get_uvlhub_doi() }}\n                 </div>\n                 {% if current_user.is_authenticated %}\n-                    <button type=\"button\" class=\"btn btn-sm btn-primary\" style=\"margin-top: 10px; border-radius: 5px\" onclick=\"addRating('{{ dataset.id }}', null, '{{current_user.id}}')\">\n+                    <button type=\"button\" class=\"btn btn-sm btn-primary\" style=\"margin-top: 10px; border-radius: 5px\" onclick=\"addRating('{{ dataset.id }}', '{{current_user.id}}')\">\n                         <i id=\"unrated-icon\" data-feather=\"star\" class=\"center-button-icon\" style=\"cursor: pointer\"></i>\n                         <i id=\"rated-icon\" class=\"fas fa-star\" style=\"cursor: pointer\"></i>\n                         <b>Star</b>\n@@ -572,15 +572,14 @@ <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n         .catch(error => console.error('Error loading file:', error));\n     }\n \n-    function addRating(datasetId, model_id, user_id) {\n+    function addRating(datasetId, user_id) {\n             fetch('/rating/add', {\n                 method: 'POST',\n                 headers: {\n                     'Content-Type': 'application/json'\n                 },\n                 body: JSON.stringify({\n                     dataset_id: datasetId,\n-                    model_id: model_id,\n                     user_id: user_id,\n                 })\n             })"
      },
      {
        "sha": "90975f6de639b5651fd9cc3388b26a80266d87c3",
        "filename": "app/modules/rating/models.py",
        "status": "modified",
        "additions": 1,
        "deletions": 2,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/95528259ec04157f335550336d9128bf233e6977/app%2Fmodules%2Frating%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/95528259ec04157f335550336d9128bf233e6977/app%2Fmodules%2Frating%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fmodels.py?ref=95528259ec04157f335550336d9128bf233e6977",
        "patch": "@@ -4,8 +4,7 @@\n class Rating(db.Model):\n     id = db.Column(db.Integer, primary_key=True)\n     dataset_id = db.Column(db.Integer, nullable=False)\n-    model_id = db.Column(db.Integer, nullable=True)\n     user_id = db.Column(db.Integer, nullable=False)\n \n     def __repr__(self):\n-        return f'Rating<{self.id}, Dataset<{self.dataset_id}>, Model<{self.model_id}>, User<{self.user_id}>>'\n+        return f'Rating<{self.id}, Dataset<{self.dataset_id}>, User<{self.user_id}>>'"
      },
      {
        "sha": "f9577904c5ace990f9a3cf29c1f7116be59dc0e3",
        "filename": "app/modules/rating/repositories.py",
        "status": "modified",
        "additions": 0,
        "deletions": 6,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/95528259ec04157f335550336d9128bf233e6977/app%2Fmodules%2Frating%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/95528259ec04157f335550336d9128bf233e6977/app%2Fmodules%2Frating%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Frepositories.py?ref=95528259ec04157f335550336d9128bf233e6977",
        "patch": "@@ -21,12 +21,6 @@ def get_by_dataset_id(self, dataset_id):\n     def get_by_dataset_id_and_user_id(self, dataset_id, user_id):\n         return self.session.query(Rating).filter_by(dataset_id=dataset_id, user_id=user_id).all()\n \n-    def get_by_model_id(self, model_id):\n-        return self.session.query(Rating).filter_by(model_id=model_id).all()\n-\n-    def get_by_model_id_and_user_id(self, model_id, user_id):\n-        return self.session.query(Rating).filter_by(model_id=model_id, user_id=user_id).all()\n-\n     def commit(self):\n         self.session.commit()\n "
      },
      {
        "sha": "e3a2c23cda7947b9db8681c9481914051f1e1ef4",
        "filename": "app/modules/rating/routes.py",
        "status": "modified",
        "additions": 1,
        "deletions": 6,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/95528259ec04157f335550336d9128bf233e6977/app%2Fmodules%2Frating%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/95528259ec04157f335550336d9128bf233e6977/app%2Fmodules%2Frating%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Froutes.py?ref=95528259ec04157f335550336d9128bf233e6977",
        "patch": "@@ -14,9 +14,8 @@ def add_rating():\n     data = request.get_json()\n     dataset_id = data.get('dataset_id')\n     user_id = data.get('user_id')\n-    model_id = data.get('model_id', None)\n     \n-    rating_service.add_or_remove_rating(dataset_id, user_id, model_id)\n+    rating_service.add_or_remove_rating(dataset_id, user_id)\n     return jsonify({'message': 'Rating added successfully'}), 201\n \n @rating_bp.route('/rating/remove/<int:rating_id>', methods=['DELETE'])\n@@ -30,7 +29,3 @@ def total_ratings_for_dataset(dataset_id):\n     user_already_rated = rating_service.user_already_rated_dataset(dataset_id, current_user.id)\n     return jsonify({'total_ratings': total, 'user_already_rated': user_already_rated}), 200\n \n-@rating_bp.route('/rating/total/model/<int:model_id>', methods=['GET'])\n-def total_ratings_for_model(model_id):\n-    total = rating_service.get_total_ratings_for_model(model_id)\n-    return jsonify({'total_ratings': total}), 200"
      },
      {
        "sha": "0013b5fab96da97236a1b27579765d12481d78f3",
        "filename": "app/modules/rating/services.py",
        "status": "modified",
        "additions": 7,
        "deletions": 18,
        "changes": 25,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/95528259ec04157f335550336d9128bf233e6977/app%2Fmodules%2Frating%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/95528259ec04157f335550336d9128bf233e6977/app%2Fmodules%2Frating%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fservices.py?ref=95528259ec04157f335550336d9128bf233e6977",
        "patch": "@@ -7,19 +7,16 @@ class RatingService(BaseService):\n     def __init__(self):\n         super().__init__(RatingRepository())\n \n-    def add_or_remove_rating(self, dataset_id, user_id, model_id=None):\n-        rating = Rating(dataset_id=dataset_id, user_id=user_id, model_id=model_id)\n-        if (model_id and not self.user_already_rated_model(model_id, user_id)) or (not model_id and not self.user_already_rated_dataset(dataset_id, user_id)):\n+    def add_or_remove_rating(self, dataset_id, user_id):\n+        rating = Rating(dataset_id=dataset_id, user_id=user_id)\n+        if not self.user_already_rated_dataset(dataset_id, user_id):\n             self.repository.add(rating)\n             self.repository.commit()\n         else:\n-            self.remove_ratings(dataset_id, user_id, model_id)\n+            self.remove_ratings(dataset_id, user_id)\n \n-    def remove_ratings(self, dataset_id, user_id, model_id):\n-        if model_id:\n-            ratings = self.repository.get_by_model_id_and_user_id(model_id, user_id)\n-        else:\n-            ratings = self.repository.get_by_dataset_id_and_user_id(dataset_id,user_id)\n+    def remove_ratings(self, dataset_id, user_id):\n+        ratings = self.repository.get_by_dataset_id_and_user_id(dataset_id,user_id)\n         if ratings:\n             for rating in ratings:\n                 self.repository.delete(rating)\n@@ -31,13 +28,5 @@ def user_already_rated_dataset(self, dataset_id, user_id):\n             return True\n         return False\n \n-    def user_already_rated_model(self, model_id, user_id):\n-        if self.repository.get_query().filter_by(model_id=model_id, user_id=user_id).first():\n-            return True\n-        return False\n-\n     def get_total_ratings_for_dataset(self, dataset_id):\n-        return self.repository.get_query().filter_by(dataset_id=dataset_id, model_id=None).count()\n-\n-    def get_total_ratings_for_model(self, model_id):\n-        return self.repository.get_query().filter_by(model_id=model_id).count()\n+        return self.repository.get_query().filter_by(dataset_id=dataset_id).count()"
      },
      {
        "sha": "f0687e5e7fe3d0f69805822900729dc87f40b01a",
        "filename": "migrations/versions/f5d9fcd69235_.py",
        "status": "added",
        "additions": 32,
        "deletions": 0,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/95528259ec04157f335550336d9128bf233e6977/migrations%2Fversions%2Ff5d9fcd69235_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/95528259ec04157f335550336d9128bf233e6977/migrations%2Fversions%2Ff5d9fcd69235_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2Ff5d9fcd69235_.py?ref=95528259ec04157f335550336d9128bf233e6977",
        "patch": "@@ -0,0 +1,32 @@\n+\"\"\"empty message\n+\n+Revision ID: f5d9fcd69235\n+Revises: 37853c4079e5\n+Create Date: 2024-12-04 17:18:27.045262\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = 'f5d9fcd69235'\n+down_revision = '37853c4079e5'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('rating', schema=None) as batch_op:\n+        batch_op.drop_column('model_id')\n+\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('rating', schema=None) as batch_op:\n+        batch_op.add_column(sa.Column('model_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True))\n+\n+    # ### end Alembic commands ###"
      }
    ]
  },
  {
    "sha": "3ce4144e2f65fb320e4264a627924db3dd1c7888",
    "node_id": "C_kwDONBuXkNoAKDNjZTQxNDRlMmY2NWZiMzIwZTQyNjRhNjI3OTI0ZGIzZGQxYzc4ODg",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-03T19:36:12Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-03T19:36:12Z"
      },
      "message": "feat: Add route to upload to zenodo\n\nUpdated the routes of dataset to upload the dataset to zenodo once the publish button is pressed, before that, the dataset is stored only in the dtabase",
      "tree": {
        "sha": "c2ed483db8afd68d689b1701d6de96fdc4d09095",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/c2ed483db8afd68d689b1701d6de96fdc4d09095"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/3ce4144e2f65fb320e4264a627924db3dd1c7888",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3ce4144e2f65fb320e4264a627924db3dd1c7888",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3ce4144e2f65fb320e4264a627924db3dd1c7888",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3ce4144e2f65fb320e4264a627924db3dd1c7888/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4d21a49b7affa3a7fe7c087cd8edd0a0869addb6",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/4d21a49b7affa3a7fe7c087cd8edd0a0869addb6",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/4d21a49b7affa3a7fe7c087cd8edd0a0869addb6"
      }
    ],
    "files": [
      {
        "sha": "0176be9c4a01b545361b20dfaa9333b2d17404a4",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 41,
        "deletions": 39,
        "changes": 80,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3ce4144e2f65fb320e4264a627924db3dd1c7888/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3ce4144e2f65fb320e4264a627924db3dd1c7888/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=3ce4144e2f65fb320e4264a627924db3dd1c7888",
        "patch": "@@ -64,39 +64,8 @@ def create_dataset():\n         except Exception as exc:\n             logger.exception(f\"Exception while create dataset data in local {exc}\")\n             return jsonify({\"Exception while create dataset data in local: \": str(exc)}), 400\n-\n-        # send dataset as deposition to Zenodo\n-        data = {}\n-        try:\n-            zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n-            response_data = json.dumps(zenodo_response_json)\n-            data = json.loads(response_data)\n-        except Exception as exc:\n-            data = {}\n-            zenodo_response_json = {}\n-            logger.exception(f\"Exception while create dataset data in Zenodo {exc}\")\n-\n-        if data.get(\"conceptrecid\"):\n-            deposition_id = data.get(\"id\")\n-\n-            # update dataset with deposition id in Zenodo\n-            dataset_service.update_dsmetadata(dataset.ds_meta_data_id, deposition_id=deposition_id)\n-\n-            try:\n-                # iterate for each feature model (one feature model = one request to Zenodo)\n-                for feature_model in dataset.feature_models:\n-                    zenodo_service.upload_file(dataset, deposition_id, feature_model)\n-\n-                # publish deposition\n-                zenodo_service.publish_deposition(deposition_id)\n-\n-                # update DOI\n-                deposition_doi = zenodo_service.get_doi(deposition_id)\n-                dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n-            except Exception as e:\n-                msg = f\"it has not been possible upload feature models in Zenodo and update the DOI: {e}\"\n-                return jsonify({\"message\": msg}), 200\n-\n+        \n+        \n         # Delete temp folder\n         file_path = current_user.temp_folder()\n         if os.path.exists(file_path) and os.path.isdir(file_path):\n@@ -326,9 +295,42 @@ def publish_all_datasets():\n @dataset_bp.route(\"/dataset/<int:dataset_id>/publish\", methods=[\"GET\"])\n @login_required\n def publish_dataset(dataset_id):\n-    dataset_service.publish_specific_dataset(current_user_id=current_user.id, dataset_id=dataset_id)\n-    return render_template(\n-        \"dataset/list_datasets.html\",\n-        datasets=dataset_service.get_synchronized(current_user.id),\n-        local_datasets=dataset_service.get_unsynchronized(current_user.id),\n-    )\n\\ No newline at end of file\n+    # Obtener el dataset\n+    dataset = dataset_service.get_or_404(dataset_id)\n+    dataset_service.publish_specific_dataset(current_user.id, dataset_id)\n+    try:\n+        # Send dataset to zenodo\n+        zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n+        response_data = json.dumps(zenodo_response_json)\n+        data = json.loads(response_data)\n+    except Exception as exc:\n+        logger.exception(f\"Exception while creating dataset data in Zenodo: {exc}\")\n+        return jsonify({\"message\": \"Error while creating dataset in Zenodo.\"}), 500\n+\n+    if data.get(\"conceptrecid\"):\n+        deposition_id = data.get(\"id\")\n+\n+        #Update dataset with deposition ID from zeznodo\n+        try:\n+            dataset_service.update_dsmetadata(dataset.ds_meta_data_id, deposition_id=deposition_id)\n+\n+            for feature_model in dataset.feature_models:\n+                try:\n+                    zenodo_service.upload_file(dataset, deposition_id, feature_model)\n+                except Exception as e:\n+                    logger.exception(f\"Error uploading feature model to Zenodo: {e}\")\n+                    continue \n+\n+            zenodo_service.publish_deposition(deposition_id)\n+\n+            deposition_doi = zenodo_service.get_doi(deposition_id)\n+            dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n+\n+        except Exception as e:\n+            logger.exception(f\"Error while processing Zenodo actions: {e}\")\n+            return jsonify({\"message\": f\"Error during Zenodo publication process: {e}\"}), 500\n+\n+        msg = \"Dataset successfully published to Zenodo!\"\n+        return jsonify({\"message\": msg}), 200\n+\n+    return jsonify({\"message\": \"Failed to create deposition on Zenodo.\"}), 400"
      }
    ]
  },
  {
    "sha": "4d21a49b7affa3a7fe7c087cd8edd0a0869addb6",
    "node_id": "C_kwDONBuXkNoAKDRkMjFhNDliN2FmZmEzYTdmZTdjMDg3Y2Q4ZWRkMGEwODY5YWRkYjY",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-03T18:22:06Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-03T18:22:06Z"
      },
      "message": "feat: Add WI functionality\n\nchanges to routes, repositories and services to introduce WI functionality.\nneeds review",
      "tree": {
        "sha": "9fa8da3a542b25db63dccd6717deb87983e024e5",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/9fa8da3a542b25db63dccd6717deb87983e024e5"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/4d21a49b7affa3a7fe7c087cd8edd0a0869addb6",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/4d21a49b7affa3a7fe7c087cd8edd0a0869addb6",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/4d21a49b7affa3a7fe7c087cd8edd0a0869addb6",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/4d21a49b7affa3a7fe7c087cd8edd0a0869addb6/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c56a7513a118083b19787c49e54728a5cb6182ba",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c56a7513a118083b19787c49e54728a5cb6182ba",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/c56a7513a118083b19787c49e54728a5cb6182ba"
      }
    ],
    "files": [
      {
        "sha": "a62528dd52b1e652980354489643d23d06cc1c6d",
        "filename": "app/modules/dataset/repositories.py",
        "status": "modified",
        "additions": 20,
        "deletions": 1,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/4d21a49b7affa3a7fe7c087cd8edd0a0869addb6/app%2Fmodules%2Fdataset%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/4d21a49b7affa3a7fe7c087cd8edd0a0869addb6/app%2Fmodules%2Fdataset%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Frepositories.py?ref=4d21a49b7affa3a7fe7c087cd8edd0a0869addb6",
        "patch": "@@ -11,7 +11,8 @@\n     DSDownloadRecord,\n     DSMetaData,\n     DSViewRecord,\n-    DataSet\n+    DataSet,\n+    Status\n )\n from core.repositories.BaseRepository import BaseRepository\n \n@@ -117,6 +118,24 @@ def latest_synchronized(self):\n     def get_all_datasets(self):\n         return self.model.query.all()\n \n+    #These methods will help to access the datatests by status\n+    def get_user_unpublished_datasets(self, current_user_id: int):\n+        return (\n+            self.model.query.join(DSMetaData)\n+            .filter(DataSet.user_id ==  current_user_id, DSMetaData.ds_status == Status.UNPUBLISHED).all()\n+        )\n+\n+    def get_user_unpublished_specific_dataset(self, current_user_id: int, dataset_id: int):\n+            return (\n+                self.model.query.join(DSMetaData)\n+                .filter(DataSet.user_id ==  current_user_id, DSMetaData.ds_status == Status.UNPUBLISHED, DataSet.id == dataset_id)\n+            )\n+    \n+    def get_user_published_datasets(self, current_user_id: int):\n+        return (\n+            self.model.query.join(DSMetaData)\n+            .filter(DataSet.user_id == current_user_id, DSMetaData.ds_status == Status.PUBLISHED).all()\n+        )    \n \n class DOIMappingRepository(BaseRepository):\n     def __init__(self):"
      },
      {
        "sha": "4df3502367cc008084947994f3d7527400af354d",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 22,
        "deletions": 0,
        "changes": 22,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/4d21a49b7affa3a7fe7c087cd8edd0a0869addb6/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/4d21a49b7affa3a7fe7c087cd8edd0a0869addb6/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=4d21a49b7affa3a7fe7c087cd8edd0a0869addb6",
        "patch": "@@ -310,3 +310,25 @@ def get_unsynchronized_dataset(dataset_id):\n         abort(404)\n \n     return render_template(\"dataset/view_dataset.html\", dataset=dataset)\n+\n+\n+# this method will publish all unpublished datasets\n+@dataset_bp.route(\"/dataset/publish\", methods=[\"GET\"])\n+@login_required\n+def publish_all_datasets():\n+    dataset_service.publish_datasets(current_user_id=current_user.id)\n+    return render_template(\n+        \"dataset/list_datasets.html\",\n+        datasets=dataset_service.get_synchronized(current_user.id),\n+        local_datasets=dataset_service.get_unsynchronized(current_user.id),\n+    )\n+\n+@dataset_bp.route(\"/dataset/<int:dataset_id>/publish\", methods=[\"GET\"])\n+@login_required\n+def publish_dataset(dataset_id):\n+    dataset_service.publish_specific_dataset(current_user_id=current_user.id, dataset_id=dataset_id)\n+    return render_template(\n+        \"dataset/list_datasets.html\",\n+        datasets=dataset_service.get_synchronized(current_user.id),\n+        local_datasets=dataset_service.get_unsynchronized(current_user.id),\n+    )\n\\ No newline at end of file"
      },
      {
        "sha": "8d7671ebfc6c13fd41a1a39643a50c0a6b0f1926",
        "filename": "app/modules/dataset/services.py",
        "status": "modified",
        "additions": 23,
        "deletions": 1,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/4d21a49b7affa3a7fe7c087cd8edd0a0869addb6/app%2Fmodules%2Fdataset%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/4d21a49b7affa3a7fe7c087cd8edd0a0869addb6/app%2Fmodules%2Fdataset%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fservices.py?ref=4d21a49b7affa3a7fe7c087cd8edd0a0869addb6",
        "patch": "@@ -8,7 +8,7 @@\n from flask import request\n \n from app.modules.auth.services import AuthenticationService\n-from app.modules.dataset.models import DSViewRecord, DataSet, DSMetaData\n+from app.modules.dataset.models import DSViewRecord, DataSet, DSMetaData, Status\n from app.modules.dataset.repositories import (\n     AuthorRepository,\n     DOIMappingRepository,\n@@ -142,7 +142,29 @@ def get_uvlhub_doi(self, dataset: DataSet) -> str:\n \n     def get_all_datasets(self):\n         return self.repository.get_all_datasets()\n+    \n+    # This method will help in the proccess of publishing datasets\n+    def publish_datasets(self, current_user_id):\n+        try:\n+            datasets = self.repository.get_user_unpublished_datasets(current_user_id)\n+            for dataset in datasets:\n+                dataset.ds_meta_data.ds_status = Status.PUBLISHED\n+                self.repository.session.commit()\n+            else:\n+                raise ValueError(\"Dataset is not in 'UNPUBLISHED' status\")\n+        except Exception as exc:\n+            logger.error(f\"Exception setting dataset to published: {exc}\")\n+            self.repository.session.rollback()\n \n+    # This method will help in the proccess of publishing a specific dataset\n+    def publish_specific_dataset(self, current_user_id, dataset_id):\n+        try:\n+            dataset = self.repository.get_user_unpublished_specific_dataset(current_user_id, dataset_id)\n+            dataset.ds_meta_data.ds_status = Status.PUBLISHED\n+            self.repository.session.commit()\n+        except Exception as exc:\n+            logger.error(f\"Exception setting dataset to published: {exc}\")\n+            self.repository.session.rollback()\n \n class AuthorService(BaseService):\n     def __init__(self):"
      }
    ]
  },
  {
    "sha": "c56a7513a118083b19787c49e54728a5cb6182ba",
    "node_id": "C_kwDONBuXkNoAKGM1NmE3NTEzYTExODA4M2IxOTc4N2M0OWU1NDcyOGE1Y2I2MTgyYmE",
    "commit": {
      "author": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-03T18:13:54Z"
      },
      "committer": {
        "name": "Daniel Benito Hidalgo",
        "email": "d4niel.bh@gmail.com",
        "date": "2024-12-03T18:13:54Z"
      },
      "message": "feat: Add status to dataset model\n\nAdd status to the dataset model to match the 2 states corresponding to the staging area \"UNPUBLISHED\" and the uploaded to zenodo status \"PUBLISHED\"",
      "tree": {
        "sha": "47965112b40620b91b215d35166e627c2f61f6bb",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/47965112b40620b91b215d35166e627c2f61f6bb"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/c56a7513a118083b19787c49e54728a5cb6182ba",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c56a7513a118083b19787c49e54728a5cb6182ba",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/c56a7513a118083b19787c49e54728a5cb6182ba",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c56a7513a118083b19787c49e54728a5cb6182ba/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e9336dc2919ac69c722104a4d72be64769fd8633",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/e9336dc2919ac69c722104a4d72be64769fd8633",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/e9336dc2919ac69c722104a4d72be64769fd8633"
      }
    ],
    "files": [
      {
        "sha": "e41c11cdd216a65739a14a4c55c59df59cd241a1",
        "filename": "app/modules/dataset/models.py",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c56a7513a118083b19787c49e54728a5cb6182ba/app%2Fmodules%2Fdataset%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c56a7513a118083b19787c49e54728a5cb6182ba/app%2Fmodules%2Fdataset%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fmodels.py?ref=c56a7513a118083b19787c49e54728a5cb6182ba",
        "patch": "@@ -28,6 +28,9 @@ class PublicationType(Enum):\n     WORKING_PAPER = 'workingpaper'\n     OTHER = 'other'\n \n+class Status(Enum) :\n+    UNPUBLISHED = \"unpublished\" # This state will serve  as the state needed to be in the stage area\n+    PUBLISHED = \"published\" #this state will indicate that the dataset is published to Fakenodo\n \n class Author(db.Model):\n     id = db.Column(db.Integer, primary_key=True)\n@@ -66,7 +69,7 @@ class DSMetaData(db.Model):\n     ds_metrics_id = db.Column(db.Integer, db.ForeignKey('ds_metrics.id'))\n     ds_metrics = db.relationship('DSMetrics', uselist=False, backref='ds_meta_data', cascade=\"all, delete\")\n     authors = db.relationship('Author', backref='ds_meta_data', lazy=True, cascade=\"all, delete\")\n-\n+    ds_status = db.Column(SQLAlchemyEnum(Status), nullable=False, default=Status.UNPUBLISHED)\n \n class DataSet(db.Model):\n     id = db.Column(db.Integer, primary_key=True)"
      },
      {
        "sha": "3f84c51a17885aba24ebfd013e706cfb2abb09fc",
        "filename": "migrations/versions/3931fcdc68c7_.py",
        "status": "added",
        "additions": 49,
        "deletions": 0,
        "changes": 49,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c56a7513a118083b19787c49e54728a5cb6182ba/migrations%2Fversions%2F3931fcdc68c7_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c56a7513a118083b19787c49e54728a5cb6182ba/migrations%2Fversions%2F3931fcdc68c7_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F3931fcdc68c7_.py?ref=c56a7513a118083b19787c49e54728a5cb6182ba",
        "patch": "@@ -0,0 +1,49 @@\n+\"\"\"empty message\n+\n+Revision ID: 3931fcdc68c7\n+Revises: 001\n+Create Date: 2024-12-03 18:27:22.612897\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = '3931fcdc68c7'\n+down_revision = '001'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('notepad',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('title', sa.String(length=256), nullable=False),\n+    sa.Column('body', sa.Text(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.drop_table('webhook')\n+    with op.batch_alter_table('ds_meta_data', schema=None) as batch_op:\n+        batch_op.add_column(sa.Column('ds_status', sa.Enum('UNPUBLISHED', 'PUBLISHED', name='status'), nullable=False))\n+\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    with op.batch_alter_table('ds_meta_data', schema=None) as batch_op:\n+        batch_op.drop_column('ds_status')\n+\n+    op.create_table('webhook',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.drop_table('notepad')\n+    # ### end Alembic commands ###"
      }
    ]
  },
  {
    "sha": "fed633a9da88e1cbddffe222874fbe0a885bfbc9",
    "node_id": "C_kwDONBuXkNoAKGZlZDYzM2E5ZGE4OGUxY2JkZGZmZTIyMjg3NGZiZTBhODg1YmZiYzk",
    "commit": {
      "author": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-03T18:05:42Z"
      },
      "committer": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-12-03T18:05:42Z"
      },
      "message": "feat: Add dataset rating\n\nAdd a Star button to allow the user to rate the datasets they like and show how mane users gave a Star to that dataset",
      "tree": {
        "sha": "f99d089cee724655de2073d34a11e48a63689de3",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/f99d089cee724655de2073d34a11e48a63689de3"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/fed633a9da88e1cbddffe222874fbe0a885bfbc9",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/fed633a9da88e1cbddffe222874fbe0a885bfbc9",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/fed633a9da88e1cbddffe222874fbe0a885bfbc9",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/fed633a9da88e1cbddffe222874fbe0a885bfbc9/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e9336dc2919ac69c722104a4d72be64769fd8633",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/e9336dc2919ac69c722104a4d72be64769fd8633",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/e9336dc2919ac69c722104a4d72be64769fd8633"
      }
    ],
    "files": [
      {
        "sha": "57c20159d20707de998f985904b5d5391fceb8c6",
        "filename": ".moduleignore",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/.moduleignore",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/.moduleignore",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.moduleignore?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -0,0 +1 @@\n+webhook"
      },
      {
        "sha": "9cd0c5b7a5e68b23953c86e3f83321412d9a5b64",
        "filename": "app.log.1",
        "status": "added",
        "additions": 132,
        "deletions": 0,
        "changes": 132,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app.log.1",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app.log.1",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app.log.1?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -0,0 +1,132 @@\n+2024-12-03 13:28:41,889 - app - ERROR - Exception on /doi/10.1234/dataset4/ [GET]\n+Traceback (most recent call last):\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 1473, in wsgi_app\n+    response = self.full_dispatch_request()\n+               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 882, in full_dispatch_request\n+    rv = self.handle_user_exception(e)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 298, in error_router\n+    return original_handler(e)\n+           ^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 880, in full_dispatch_request\n+    rv = self.dispatch_request()\n+         ^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 865, in dispatch_request\n+    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/routes.py\", line 296, in subdomain_index\n+    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user))\n+                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 150, in render_template\n+    return _render(app, template, context)\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 131, in _render\n+    rv = template.render(context)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 1304, in render\n+    self.environment.handle_exception()\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 939, in handle_exception\n+    raise rewrite_traceback_stack(source=source)\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 1, in top-level template code\n+    {% extends \"base_template.html\" %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/templates/base_template.html\", line 204, in top-level template code\n+    {% block content %}{% endblock %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 184, in block 'content'\n+    <button type=\"button\" class=\"btn btn-sm btn-primary\" onclick=\"addRating('{{ dataset.id }}', null, '{{request.user.id}}')\">\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 487, in getattr\n+    return getattr(obj, attribute)\n+           ^^^^^^^^^^^^^^^^^^^^^^^\n+jinja2.exceptions.UndefinedError: 'flask.wrappers.Request object' has no attribute 'user'\n+2024-12-03 13:28:41,894 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.\n+2024-12-03 13:28:47,433 - app - ERROR - Exception on /doi/10.1234/dataset4/ [GET]\n+Traceback (most recent call last):\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 1473, in wsgi_app\n+    response = self.full_dispatch_request()\n+               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 882, in full_dispatch_request\n+    rv = self.handle_user_exception(e)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 298, in error_router\n+    return original_handler(e)\n+           ^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 880, in full_dispatch_request\n+    rv = self.dispatch_request()\n+         ^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 865, in dispatch_request\n+    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/routes.py\", line 296, in subdomain_index\n+    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user))\n+                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 150, in render_template\n+    return _render(app, template, context)\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 131, in _render\n+    rv = template.render(context)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 1304, in render\n+    self.environment.handle_exception()\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 939, in handle_exception\n+    raise rewrite_traceback_stack(source=source)\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 1, in top-level template code\n+    {% extends \"base_template.html\" %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/templates/base_template.html\", line 204, in top-level template code\n+    {% block content %}{% endblock %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 184, in block 'content'\n+    <button type=\"button\" class=\"btn btn-sm btn-primary\" onclick=\"addRating('{{ dataset.id }}', null, '{{request.user.id}}')\">\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 487, in getattr\n+    return getattr(obj, attribute)\n+           ^^^^^^^^^^^^^^^^^^^^^^^\n+jinja2.exceptions.UndefinedError: 'flask.wrappers.Request object' has no attribute 'user'\n+2024-12-03 13:28:47,434 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.\n+2024-12-03 13:28:48,345 - app - ERROR - Exception on /doi/10.1234/dataset4/ [GET]\n+Traceback (most recent call last):\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 1473, in wsgi_app\n+    response = self.full_dispatch_request()\n+               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 882, in full_dispatch_request\n+    rv = self.handle_user_exception(e)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 298, in error_router\n+    return original_handler(e)\n+           ^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 880, in full_dispatch_request\n+    rv = self.dispatch_request()\n+         ^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/app.py\", line 865, in dispatch_request\n+    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/routes.py\", line 296, in subdomain_index\n+    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user))\n+                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 150, in render_template\n+    return _render(app, template, context)\n+           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/flask/templating.py\", line 131, in _render\n+    rv = template.render(context)\n+         ^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 1304, in render\n+    self.environment.handle_exception()\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 939, in handle_exception\n+    raise rewrite_traceback_stack(source=source)\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 1, in top-level template code\n+    {% extends \"base_template.html\" %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/templates/base_template.html\", line 204, in top-level template code\n+    {% block content %}{% endblock %}\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/app/modules/dataset/templates/dataset/view_dataset.html\", line 184, in block 'content'\n+    <button type=\"button\" class=\"btn btn-sm btn-primary\" onclick=\"addRating('{{ dataset.id }}', null, '{{request.user.id}}')\">\n+    ^^^^^^^^^^^^^^^^^^^^^^^^^\n+  File \"/home/gon/chipi-hub/venv/lib/python3.12/site-packages/jinja2/environment.py\", line 487, in getattr\n+    return getattr(obj, attribute)\n+           ^^^^^^^^^^^^^^^^^^^^^^^\n+jinja2.exceptions.UndefinedError: 'flask.wrappers.Request object' has no attribute 'user'\n+2024-12-03 13:28:48,347 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application."
      },
      {
        "sha": "ab1333d2fae6b502c438aa3d20900b9ef032717c",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 8,
        "deletions": 2,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -32,12 +32,14 @@\n     DataSetService,\n     DOIMappingService\n )\n+from app.modules.rating.services import RatingService\n from app.modules.zenodo.services import ZenodoService\n \n logger = logging.getLogger(__name__)\n \n \n dataset_service = DataSetService()\n+rating_service = RatingService()\n author_service = AuthorService()\n dsmetadata_service = DSMetaDataService()\n zenodo_service = ZenodoService()\n@@ -288,12 +290,16 @@ def subdomain_index(doi):\n     if not ds_meta_data:\n         abort(404)\n \n-    # Get dataset\n+    # Get dataset data\n     dataset = ds_meta_data.data_set\n+    dataset_ratings = rating_service.get_total_ratings_for_dataset(dataset.id)\n+    user_already_rated = False\n+    if current_user.is_authenticated:\n+        user_already_rated = rating_service.user_already_rated_dataset(dataset.id, current_user.id)\n \n     # Save the cookie to the user's browser\n     user_cookie = ds_view_record_service.create_cookie(dataset=dataset)\n-    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user))\n+    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user, dataset_ratings=dataset_ratings, user_already_rated=user_already_rated))\n     resp.set_cookie(\"view_cookie\", user_cookie)\n \n     return resp"
      },
      {
        "sha": "b52562d3ad94794df892b659a1f947e2388ec04c",
        "filename": "app/modules/dataset/templates/dataset/view_dataset.html",
        "status": "modified",
        "additions": 56,
        "deletions": 0,
        "changes": 56,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -174,10 +174,20 @@ <h1><b>{{ dataset.ds_meta_data.title }}</b></h1>\n                         {{ dataset.get_uvlhub_doi() }}\n                     </span>\n                 </button>\n+\n+                \n                 \n                 <div id=\"dataset_doi_uvlhub\" style=\"display: none\">\n                     {{ dataset.get_uvlhub_doi() }}\n                 </div>\n+                {% if current_user.is_authenticated %}\n+                    <button type=\"button\" class=\"btn btn-sm btn-primary\" style=\"margin-top: 10px; border-radius: 5px\" onclick=\"addRating('{{ dataset.id }}', null, '{{current_user.id}}')\">\n+                        <i id=\"unrated-icon\" data-feather=\"star\" class=\"center-button-icon\" style=\"cursor: pointer\"></i>\n+                        <i id=\"rated-icon\" class=\"fas fa-star\" style=\"cursor: pointer\"></i>\n+                        <b>Star</b>\n+                        <span id=\"rating-count-{{ dataset.id }}\">{{dataset_ratings}}</span>\n+                    </button>\n+                {% endif %}\n                 \n             </div>\n             {% endif %}\n@@ -562,6 +572,52 @@ <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n         .catch(error => console.error('Error loading file:', error));\n     }\n \n+    function addRating(datasetId, model_id, user_id) {\n+            fetch('/rating/add', {\n+                method: 'POST',\n+                headers: {\n+                    'Content-Type': 'application/json'\n+                },\n+                body: JSON.stringify({\n+                    dataset_id: datasetId,\n+                    model_id: model_id,\n+                    user_id: user_id,\n+                })\n+            })\n+            .then(response => response.json())\n+            .then(data => {\n+                updateRatingCount(datasetId);\n+            })\n+            .catch(error => {\n+                console.error('Error:', error);\n+            });\n+    }\n+\n+    let user_already_rated = {{ user_already_rated | tojson }};\n+    if (user_already_rated) {\n+        document.getElementById('unrated-icon').style.display = \"none\";\n+    } else {\n+        document.getElementById('rated-icon').style.display = \"none\";\n+    }\n+\n+    function updateRatingCount(datasetId) {\n+        fetch(`/rating/total/dataset/${datasetId}`)\n+            .then(response => response.json())\n+            .then(data => {\n+                document.getElementById(`rating-count-${datasetId}`).innerText = data.total_ratings;\n+                user_already_rated = data.user_already_rated;\n+                if (user_already_rated) {\n+                    document.getElementById('unrated-icon').style.display = \"none\";\n+                    document.getElementById('rated-icon').style.display = \"inline\";\n+                } else {\n+                    document.getElementById('rated-icon').style.display = \"none\";\n+                    document.getElementById('unrated-icon').style.display = \"inline\";\n+                }\n+            })\n+            .catch(error => {\n+                console.error('Error:', error);\n+            });\n+    }\n </script>\n \n {% endblock %}"
      },
      {
        "sha": "f930a79c48dc9a1a7305cc29fc17d8dc5c1ea53f",
        "filename": "app/modules/featuremodel/models.py",
        "status": "modified",
        "additions": 9,
        "deletions": 0,
        "changes": 9,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Ffeaturemodel%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Ffeaturemodel%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffeaturemodel%2Fmodels.py?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -14,6 +14,15 @@ class FeatureModel(db.Model):\n     def __repr__(self):\n         return f'FeatureModel<{self.id}>'\n \n+    def to_dict(self):\n+        return {\n+            'id': self.id,\n+            'data_set_id': self.data_set_id,\n+            'fm_meta_data_id': self.fm_meta_data_id,\n+            'files': [file.to_dict() for file in self.files],\n+            'fm_meta_data': self.fm_meta_data.to_dict()\n+        }\n+\n \n class FMMetaData(db.Model):\n     id = db.Column(db.Integer, primary_key=True)"
      },
      {
        "sha": "67deaac42fef0341466219f80dea2b59501083af",
        "filename": "app/modules/notepad/models.py",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Fnotepad%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Fnotepad%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Fmodels.py?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -11,3 +11,11 @@ class Notepad(db.Model):\n \n     def __repr__(self):\n         return f'Notepad<{self.id}, Title={self.title}, Author={self.user.username}>'\n+\n+    def to_dict(self):\n+        return {\n+            'id': self.id,\n+            'title': self.title,\n+            'body': self.body,\n+            'user_id': self.user_id\n+        }"
      },
      {
        "sha": "c28c608f396998e6388e7bdec9b1d19dbeb67cc9",
        "filename": "app/modules/rating/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2F__init__.py?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+rating_bp = BaseBlueprint('rating', __name__, template_folder='templates')"
      },
      {
        "sha": "c4d1ae2d53558664b844fcaa48b709715aa489bd",
        "filename": "app/modules/rating/assets/scripts.js",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fassets%2Fscripts.js?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script loaded from rating module\");"
      },
      {
        "sha": "b2e9ea95960522fe1d23276d76cd20ea213ff17c",
        "filename": "app/modules/rating/forms.py",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fforms.py?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -0,0 +1,6 @@\n+from flask_wtf import FlaskForm\n+from wtforms import SubmitField\n+\n+\n+class RatingForm(FlaskForm):\n+    submit = SubmitField('Save rating')"
      },
      {
        "sha": "861c4774cd4723e25989f41fef1e11e6d2fa71b7",
        "filename": "app/modules/rating/models.py",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fmodels.py?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -0,0 +1,11 @@\n+from app import db\n+\n+\n+class Rating(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+    dataset_id = db.Column(db.Integer, nullable=False)\n+    model_id = db.Column(db.Integer, nullable=True)\n+    user_id = db.Column(db.Integer, nullable=False)\n+\n+    def __repr__(self):\n+        return f'Rating<{self.id}, Dataset<{self.dataset_id}>, Model<{self.model_id}>, User<{self.user_id}>>'"
      },
      {
        "sha": "74f170be3ad01a0c36f45236622be51edd9c89a8",
        "filename": "app/modules/rating/repositories.py",
        "status": "added",
        "additions": 37,
        "deletions": 0,
        "changes": 37,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Frepositories.py?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -0,0 +1,37 @@\n+from app.modules.rating.models import Rating\n+from core.repositories.BaseRepository import BaseRepository\n+\n+\n+class RatingRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(Rating)\n+\n+    def add(self, rating):\n+        self.session.add(rating)\n+\n+    def delete(self, rating):\n+        self.session.delete(rating)\n+\n+    def get_by_id(self, rating_id):\n+        return self.session.query(Rating).filter_by(id=rating_id).first()\n+\n+    def get_by_dataset_id(self, dataset_id):\n+        return self.session.query(Rating).filter_by(dataset_id=dataset_id).all()\n+\n+    def get_by_dataset_id_and_user_id(self, dataset_id, user_id):\n+        return self.session.query(Rating).filter_by(dataset_id=dataset_id, user_id=user_id).all()\n+\n+    def get_by_model_id(self, model_id):\n+        return self.session.query(Rating).filter_by(model_id=model_id).all()\n+\n+    def get_by_model_id_and_user_id(self, model_id, user_id):\n+        return self.session.query(Rating).filter_by(model_id=model_id, user_id=user_id).all()\n+\n+    def commit(self):\n+        self.session.commit()\n+\n+    def get_query(self):\n+        return self.session.query(Rating)\n+    \n+    def query(self):\n+        return self.get_query()"
      },
      {
        "sha": "676d69b84f3eca00ae4099c7494bed2effd73b0b",
        "filename": "app/modules/rating/routes.py",
        "status": "added",
        "additions": 36,
        "deletions": 0,
        "changes": 36,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Froutes.py?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -0,0 +1,36 @@\n+from flask import render_template, request, jsonify\n+from app.modules.rating import rating_bp\n+from app.modules.rating.services import RatingService\n+from flask_login import current_user\n+\n+rating_service = RatingService()\n+\n+@rating_bp.route('/rating', methods=['GET'])\n+def index():\n+    return render_template('rating/index.html')\n+\n+@rating_bp.route('/rating/add', methods=['POST'])\n+def add_rating():\n+    data = request.get_json()\n+    dataset_id = data.get('dataset_id')\n+    user_id = data.get('user_id')\n+    model_id = data.get('model_id', None)\n+    \n+    rating_service.add_or_remove_rating(dataset_id, user_id, model_id)\n+    return jsonify({'message': 'Rating added successfully'}), 201\n+\n+@rating_bp.route('/rating/remove/<int:rating_id>', methods=['DELETE'])\n+def remove_rating(rating_id):\n+    rating_service.remove_rating(rating_id)\n+    return jsonify({'message': 'Rating removed successfully'}), 200\n+\n+@rating_bp.route('/rating/total/dataset/<int:dataset_id>', methods=['GET'])\n+def total_ratings_for_dataset(dataset_id):\n+    total = rating_service.get_total_ratings_for_dataset(dataset_id)\n+    user_already_rated = rating_service.user_already_rated_dataset(dataset_id, current_user.id)\n+    return jsonify({'total_ratings': total, 'user_already_rated': user_already_rated}), 200\n+\n+@rating_bp.route('/rating/total/model/<int:model_id>', methods=['GET'])\n+def total_ratings_for_model(model_id):\n+    total = rating_service.get_total_ratings_for_model(model_id)\n+    return jsonify({'total_ratings': total}), 200"
      },
      {
        "sha": "075e3cde25b2734ca2286d34ce0bc2cdff3fe24b",
        "filename": "app/modules/rating/seeders.py",
        "status": "added",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fseeders.py?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -0,0 +1,12 @@\n+from core.seeders.BaseSeeder import BaseSeeder\n+\n+\n+class RatingSeeder(BaseSeeder):\n+\n+    def run(self):\n+\n+        data = [\n+            # Create any Model object you want to make seed\n+        ]\n+\n+        self.seed(data)"
      },
      {
        "sha": "f7339b3b9923bf632ab0d121427b5278b4ad86d0",
        "filename": "app/modules/rating/services.py",
        "status": "added",
        "additions": 43,
        "deletions": 0,
        "changes": 43,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Fservices.py?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -0,0 +1,43 @@\n+from app.modules.rating.repositories import RatingRepository\n+from core.services.BaseService import BaseService\n+from app.modules.rating.models import Rating\n+\n+\n+class RatingService(BaseService):\n+    def __init__(self):\n+        super().__init__(RatingRepository())\n+\n+    def add_or_remove_rating(self, dataset_id, user_id, model_id=None):\n+        rating = Rating(dataset_id=dataset_id, user_id=user_id, model_id=model_id)\n+        if (model_id and not self.user_already_rated_model(model_id, user_id)) or (not model_id and not self.user_already_rated_dataset(dataset_id, user_id)):\n+            self.repository.add(rating)\n+            self.repository.commit()\n+        else:\n+            self.remove_ratings(dataset_id, user_id, model_id)\n+\n+    def remove_ratings(self, dataset_id, user_id, model_id):\n+        if model_id:\n+            ratings = self.repository.get_by_model_id_and_user_id(model_id, user_id)\n+        else:\n+            ratings = self.repository.get_by_dataset_id_and_user_id(dataset_id,user_id)\n+        if ratings:\n+            for rating in ratings:\n+                self.repository.delete(rating)\n+            self.repository.commit()\n+\n+\n+    def user_already_rated_dataset(self, dataset_id, user_id):\n+        if self.repository.get_by_dataset_id_and_user_id(dataset_id, user_id):\n+            return True\n+        return False\n+\n+    def user_already_rated_model(self, model_id, user_id):\n+        if self.repository.get_query().filter_by(model_id=model_id, user_id=user_id).first():\n+            return True\n+        return False\n+\n+    def get_total_ratings_for_dataset(self, dataset_id):\n+        return self.repository.get_query().filter_by(dataset_id=dataset_id, model_id=None).count()\n+\n+    def get_total_ratings_for_model(self, model_id):\n+        return self.repository.get_query().filter_by(model_id=model_id).count()"
      },
      {
        "sha": "bcab6018c51456a4a74fb515c761a74e6dd8542d",
        "filename": "app/modules/rating/templates/rating/index.html",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Ftemplates%2Frating%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Ftemplates%2Frating%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftemplates%2Frating%2Findex.html?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -0,0 +1,11 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View rating{% endblock %}\n+\n+{% block content %}\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('rating.scripts') }}\"></script>\n+{% endblock %}"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/rating/tests/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2F__init__.py?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9"
      },
      {
        "sha": "e8e19f9a730f3ab6fb991d9f630bd150338f4d2d",
        "filename": "app/modules/rating/tests/locustfile.py",
        "status": "added",
        "additions": 21,
        "deletions": 0,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2Flocustfile.py?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -0,0 +1,21 @@\n+from locust import HttpUser, TaskSet, task\n+from core.environment.host import get_host_for_locust_testing\n+\n+\n+class RatingBehavior(TaskSet):\n+    def on_start(self):\n+        self.index()\n+\n+    @task\n+    def index(self):\n+        response = self.client.get(\"/rating\")\n+\n+        if response.status_code != 200:\n+            print(f\"Rating index failed: {response.status_code}\")\n+\n+\n+class RatingUser(HttpUser):\n+    tasks = [RatingBehavior]\n+    min_wait = 5000\n+    max_wait = 9000\n+    host = get_host_for_locust_testing()"
      },
      {
        "sha": "d4f28bbc871bce3e60d021e6f1374901a5538739",
        "filename": "app/modules/rating/tests/test_selenium.py",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2Ftest_selenium.py?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -0,0 +1,35 @@\n+from selenium.common.exceptions import NoSuchElementException\n+import time\n+\n+from core.environment.host import get_host_for_selenium_testing\n+from core.selenium.common import initialize_driver, close_driver\n+\n+\n+def test_rating_index():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}/rating')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(4)\n+\n+        try:\n+\n+            pass\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Test failed!')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+# Call the test function\n+test_rating_index()"
      },
      {
        "sha": "950421eb7b4ee15f00b45f83730c55dd2dda9336",
        "filename": "app/modules/rating/tests/test_unit.py",
        "status": "added",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Frating%2Ftests%2Ftest_unit.py?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -0,0 +1,24 @@\n+import pytest\n+\n+\n+@pytest.fixture(scope='module')\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    \"\"\"\n+    with test_client.application.app_context():\n+        # Add HERE new elements to the database that you want to exist in the test context.\n+        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+        pass\n+\n+    yield test_client\n+\n+\n+def test_sample_assertion(test_client):\n+    \"\"\"\n+    Sample test to verify that the test framework and environment are working correctly.\n+    It does not communicate with the Flask application; it only performs a simple assertion to\n+    confirm that the tests in this module can be executed.\n+    \"\"\"\n+    greeting = \"Hello, World!\"\n+    assert greeting == \"Hello, World!\", \"The greeting does not coincide with 'Hello, World!'\""
      },
      {
        "sha": "8ab11366ab085225239d576bce7cab8dbfa1174b",
        "filename": "app/templates/base_template.html",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Ftemplates%2Fbase_template.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/app%2Ftemplates%2Fbase_template.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Ftemplates%2Fbase_template.html?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -33,6 +33,8 @@\n \n     <link rel=\"stylesheet\" href=\"{{ url_for(\"static\", filename=\"css/own.css\") }}\">\n \n+    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css\">\n+\n </head>\n \n <body>"
      },
      {
        "sha": "296852391220bf3899f574a8fc5f1db8246690cc",
        "filename": "migrations/versions/37853c4079e5_.py",
        "status": "added",
        "additions": 51,
        "deletions": 0,
        "changes": 51,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/fed633a9da88e1cbddffe222874fbe0a885bfbc9/migrations%2Fversions%2F37853c4079e5_.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/fed633a9da88e1cbddffe222874fbe0a885bfbc9/migrations%2Fversions%2F37853c4079e5_.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F37853c4079e5_.py?ref=fed633a9da88e1cbddffe222874fbe0a885bfbc9",
        "patch": "@@ -0,0 +1,51 @@\n+\"\"\"empty message\n+\n+Revision ID: 37853c4079e5\n+Revises: 001\n+Create Date: 2024-12-03 13:48:39.432689\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+from sqlalchemy.dialects import mysql\n+\n+# revision identifiers, used by Alembic.\n+revision = '37853c4079e5'\n+down_revision = '001'\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('rating',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('dataset_id', sa.Integer(), nullable=False),\n+    sa.Column('model_id', sa.Integer(), nullable=True),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('notepad',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('title', sa.String(length=256), nullable=False),\n+    sa.Column('body', sa.Text(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.drop_table('webhook')\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('webhook',\n+    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),\n+    sa.PrimaryKeyConstraint('id'),\n+    mysql_collate='utf8mb4_general_ci',\n+    mysql_default_charset='utf8mb4',\n+    mysql_engine='InnoDB'\n+    )\n+    op.drop_table('notepad')\n+    op.drop_table('rating')\n+    # ### end Alembic commands ###"
      }
    ]
  },
  {
    "sha": "e9336dc2919ac69c722104a4d72be64769fd8633",
    "node_id": "C_kwDONBuXkNoAKGU5MzM2ZGMyOTE5YWM2OWM3MjIxMDRhNGQ3MmJlNjQ3NjlmZDg2MzM",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-13T07:58:47Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-13T07:58:47Z"
      },
      "message": "fix: Fakenodo url change\n\nFakenodo url change for production.",
      "tree": {
        "sha": "4bb00f66b5675eb39eaa132860f9c7c3707abe3e",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/4bb00f66b5675eb39eaa132860f9c7c3707abe3e"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/e9336dc2919ac69c722104a4d72be64769fd8633",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/e9336dc2919ac69c722104a4d72be64769fd8633",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/e9336dc2919ac69c722104a4d72be64769fd8633",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/e9336dc2919ac69c722104a4d72be64769fd8633/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "929a293ca3e9098f1a40f2123b59474c2968c076",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/929a293ca3e9098f1a40f2123b59474c2968c076",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/929a293ca3e9098f1a40f2123b59474c2968c076"
      }
    ],
    "files": [
      {
        "sha": "0839ca8a88d09cc25603786ef0416df2d3ff4731",
        "filename": "app/modules/zenodo/services.py",
        "status": "modified",
        "additions": 5,
        "deletions": 6,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/e9336dc2919ac69c722104a4d72be64769fd8633/app%2Fmodules%2Fzenodo%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/e9336dc2919ac69c722104a4d72be64769fd8633/app%2Fmodules%2Fzenodo%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Fservices.py?ref=e9336dc2919ac69c722104a4d72be64769fd8633",
        "patch": "@@ -27,18 +27,17 @@ def get_zenodo_url(self):\n         ZENODO_API_URL = \"\"\n \n         LOCAL_SERVER = os.getenv(\"DOMAIN\", \"localhost:5000\")\n-        development_url = f\"http://{LOCAL_SERVER}/fakenodo/deposit/depositions\"\n+        development_url = f\"{LOCAL_SERVER}/fakenodo/deposit/depositions\"\n \n         if FLASK_ENV == \"development\":\n             # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n-            ZENODO_API_URL = development_url\n+            ZENODO_API_URL = f\"http://{development_url}\"\n         elif FLASK_ENV == \"production\":\n-            ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://zenodo.org/api/deposit/depositions\")\n+            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://zenodo.org/api/deposit/depositions\")\n+            ZENODO_API_URL = f\"https://{development_url}\"\n         else:\n             # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n-            ZENODO_API_URL = development_url\n-\n-        ZENODO_API_URL = development_url\n+            ZENODO_API_URL = f\"http://{development_url}\"\n \n         return ZENODO_API_URL\n "
      }
    ]
  },
  {
    "sha": "929a293ca3e9098f1a40f2123b59474c2968c076",
    "node_id": "C_kwDONBuXkNoAKDkyOWEyOTNjYTNlOTA5OGYxYTQwZjIxMjNiNTk0NzRjMjk2OGMwNzY",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-13T07:38:56Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-13T07:38:56Z"
      },
      "message": "style: Flake8 line fixed\n\nLine removed for flake8 linter.",
      "tree": {
        "sha": "a2eaa10688ba9aad1293ac2230b809570d717aea",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/a2eaa10688ba9aad1293ac2230b809570d717aea"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/929a293ca3e9098f1a40f2123b59474c2968c076",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/929a293ca3e9098f1a40f2123b59474c2968c076",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/929a293ca3e9098f1a40f2123b59474c2968c076",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/929a293ca3e9098f1a40f2123b59474c2968c076/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c4364de812e35e538f0446e5af1af8744acfb936",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c4364de812e35e538f0446e5af1af8744acfb936",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/c4364de812e35e538f0446e5af1af8744acfb936"
      }
    ],
    "files": [
      {
        "sha": "af91a80388dc9bc57c7519f9b5a5ff45df2c0e6b",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/929a293ca3e9098f1a40f2123b59474c2968c076/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/929a293ca3e9098f1a40f2123b59474c2968c076/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=929a293ca3e9098f1a40f2123b59474c2968c076",
        "patch": "@@ -5,7 +5,6 @@\n import os\n \n \n-\n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['GET'])\n def get_all_depositions():\n     path = \"modules/fakenodo/placeholders/deposition.json\""
      }
    ]
  },
  {
    "sha": "c4364de812e35e538f0446e5af1af8744acfb936",
    "node_id": "C_kwDONBuXkNoAKGM0MzY0ZGU4MTJlMzVlNTM4ZjA0NDZlNWFmMWFmODc0NGFjZmI5MzY",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-13T07:37:12Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-13T07:37:12Z"
      },
      "message": "fix: Rename selenium test\n\nRename selenium test.",
      "tree": {
        "sha": "a0e646a920d5d6e63244a0f432d1eec6c17d2607",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/a0e646a920d5d6e63244a0f432d1eec6c17d2607"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/c4364de812e35e538f0446e5af1af8744acfb936",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c4364de812e35e538f0446e5af1af8744acfb936",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/c4364de812e35e538f0446e5af1af8744acfb936",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c4364de812e35e538f0446e5af1af8744acfb936/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ec98e7eb47c9324b46569701701186ef6874b629",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/ec98e7eb47c9324b46569701701186ef6874b629",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/ec98e7eb47c9324b46569701701186ef6874b629"
      }
    ],
    "files": [
      {
        "sha": "4464dc72248465dacf9d55bef9ee0fac4343c766",
        "filename": "app/modules/profile/tests/test_profile.py",
        "status": "removed",
        "additions": 0,
        "deletions": 18,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/ec98e7eb47c9324b46569701701186ef6874b629/app%2Fmodules%2Fprofile%2Ftests%2Ftest_profile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/ec98e7eb47c9324b46569701701186ef6874b629/app%2Fmodules%2Fprofile%2Ftests%2Ftest_profile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_profile.py?ref=ec98e7eb47c9324b46569701701186ef6874b629",
        "patch": "@@ -1,18 +0,0 @@\n-# Generated by Selenium IDE\n-from selenium import webdriver\n-from selenium.webdriver.common.by import By\n-\n-\n-class TestTestProfile():\n-    def setup_method(self, method):\n-        self.driver = webdriver.Chrome()\n-        self.vars = {}\n-\n-    def teardown_method(self, method):\n-        self.driver.quit()\n-\n-    def test_testProfile(self):\n-        self.driver.get(\"http://localhost:5000/\")\n-        self.driver.set_window_size(1854, 1048)\n-        self.driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n-        self.driver.find_element(By.LINK_TEXT, \"Doe, Jane\").click()"
      },
      {
        "sha": "904149bc280fd3172bb5b131665aa056d82a9543",
        "filename": "app/modules/profile/tests/test_selenium.py",
        "status": "added",
        "additions": 15,
        "deletions": 0,
        "changes": 15,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c4364de812e35e538f0446e5af1af8744acfb936/app%2Fmodules%2Fprofile%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c4364de812e35e538f0446e5af1af8744acfb936/app%2Fmodules%2Fprofile%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_selenium.py?ref=c4364de812e35e538f0446e5af1af8744acfb936",
        "patch": "@@ -0,0 +1,15 @@\n+# Generated by Selenium IDE\n+from selenium.webdriver.common.by import By\n+from core.selenium.common import initialize_driver\n+\n+\n+def test_testProfile():\n+    driver = initialize_driver()\n+    driver.get(\"http://localhost:5000/\")\n+    driver.set_window_size(1854, 1048)\n+    driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n+    driver.find_element(By.LINK_TEXT, \"Doe, Jane\").click()\n+\n+\n+# Call the test function\n+test_testProfile()"
      }
    ]
  },
  {
    "sha": "ec98e7eb47c9324b46569701701186ef6874b629",
    "node_id": "C_kwDONBuXkNoAKGVjOThlN2ViNDdjOTMyNGI0NjU2OTcwMTcwMTE4NmVmNjg3NGI2Mjk",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-13T07:31:26Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-13T07:31:26Z"
      },
      "message": "Merge branch 'master' of github.com:chipi-hub-team/chipi-hub",
      "tree": {
        "sha": "1f7314ceac2fc89ae34b0edb480101ea3e57edb4",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/1f7314ceac2fc89ae34b0edb480101ea3e57edb4"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/ec98e7eb47c9324b46569701701186ef6874b629",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/ec98e7eb47c9324b46569701701186ef6874b629",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/ec98e7eb47c9324b46569701701186ef6874b629",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/ec98e7eb47c9324b46569701701186ef6874b629/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ae7a1f9869b034c48c27f5a202d19deec9042c06",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/ae7a1f9869b034c48c27f5a202d19deec9042c06",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/ae7a1f9869b034c48c27f5a202d19deec9042c06"
      },
      {
        "sha": "dd4babb564c0ecd755b00a0773a5391452c179cb",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/dd4babb564c0ecd755b00a0773a5391452c179cb",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/dd4babb564c0ecd755b00a0773a5391452c179cb"
      }
    ],
    "files": [
      {
        "sha": "972a005dd43346fcd4b6ce2f2814a1d090317519",
        "filename": "app/modules/dataset/templates/dataset/view_dataset.html",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/ec98e7eb47c9324b46569701701186ef6874b629/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/ec98e7eb47c9324b46569701701186ef6874b629/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html?ref=ec98e7eb47c9324b46569701701186ef6874b629",
        "patch": "@@ -64,7 +64,7 @@ <h1><b>{{ dataset.ds_meta_data.title }}</b></h1>\n                         </span>\n                     </div>\n                     <div class=\"col-md-8 col-12\">\n-                        <a href=\"#\">{{ dataset.user.profile.surname }}, {{ dataset.user.profile.name }}</a>\n+                        <a href=\"{{ url_for('profile.my_profile', user_id=dataset.user_id) }}\">{{ dataset.user.profile.surname }}, {{ dataset.user.profile.name }}</a>\n                     </div>\n \n                 </div>"
      },
      {
        "sha": "74ca201cca5398cf9eb3a8d0961e7b2b353199b9",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/ec98e7eb47c9324b46569701701186ef6874b629/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/ec98e7eb47c9324b46569701701186ef6874b629/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=ec98e7eb47c9324b46569701701186ef6874b629",
        "patch": "@@ -5,6 +5,7 @@\n import os\n \n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['GET'])\n def get_all_depositions():\n     path = \"modules/fakenodo/placeholders/deposition.json\""
      },
      {
        "sha": "17793606faecd38e7cc724be7e70fdee733d3f8b",
        "filename": "app/modules/profile/routes.py",
        "status": "modified",
        "additions": 23,
        "deletions": 8,
        "changes": 31,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/ec98e7eb47c9324b46569701701186ef6874b629/app%2Fmodules%2Fprofile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/ec98e7eb47c9324b46569701701186ef6874b629/app%2Fmodules%2Fprofile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Froutes.py?ref=ec98e7eb47c9324b46569701701186ef6874b629",
        "patch": "@@ -1,6 +1,7 @@\n+from app.modules.auth.models import User\n from app.modules.auth.services import AuthenticationService\n from app.modules.dataset.models import DataSet\n-from flask import render_template, redirect, url_for, request\n+from flask import abort, render_template, redirect, url_for, request\n from flask_login import login_required, current_user\n \n from app import db\n@@ -28,28 +29,42 @@ def edit_profile():\n     return render_template(\"profile/edit.html\", form=form)\n \n \n-@profile_bp.route('/profile/summary')\n+@profile_bp.route('/profile/summary', defaults={'user_id': None})\n+@profile_bp.route('/profile/summary/<int:user_id>')\n @login_required\n-def my_profile():\n+def my_profile(user_id):\n+    is_my_profile = False\n+    # ver si el user_id es none(mi perfil) o es alguno(perfil de otro)\n+    if user_id is None:\n+        user_id = current_user.id\n+        is_my_profile = True\n+\n     page = request.args.get('page', 1, type=int)\n     per_page = 5\n \n+    # se busca el perfil del usuario del id de la url par mostrarlo dsps\n+    user_found = db.session.query(User).filter(User.id == user_id).first()\n+\n+    if not user_found:\n+        abort(404)\n+\n     user_datasets_pagination = db.session.query(DataSet) \\\n-        .filter(DataSet.user_id == current_user.id) \\\n+        .filter(DataSet.user_id == user_id) \\\n         .order_by(DataSet.created_at.desc()) \\\n         .paginate(page=page, per_page=per_page, error_out=False)\n \n     total_datasets_count = db.session.query(DataSet) \\\n-        .filter(DataSet.user_id == current_user.id) \\\n+        .filter(DataSet.user_id == user_id) \\\n         .count()\n \n     print(user_datasets_pagination.items)\n \n     return render_template(\n         'profile/summary.html',\n-        user_profile=current_user.profile,\n-        user=current_user,\n+        user_profile=user_found.profile,\n+        user=user_found,\n         datasets=user_datasets_pagination.items,\n         pagination=user_datasets_pagination,\n-        total_datasets=total_datasets_count\n+        total_datasets=total_datasets_count,\n+        is_my_profile=is_my_profile\n     )"
      },
      {
        "sha": "36fb2e45aeb6398958752e75025ab5056a2d3fd5",
        "filename": "app/modules/profile/templates/profile/summary.html",
        "status": "modified",
        "additions": 17,
        "deletions": 2,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/ec98e7eb47c9324b46569701701186ef6874b629/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/ec98e7eb47c9324b46569701701186ef6874b629/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html?ref=ec98e7eb47c9324b46569701701186ef6874b629",
        "patch": "@@ -1,11 +1,26 @@\n {% extends \"base_template.html\" %}\n \n \n-{% block title %}User Profile{% endblock %}\n+{% block title %}\n+    {% if is_my_profile %}\n+        My profile\n+    {% else %}\n+        User Profile\n+    {% endif %}\n+\n+{% endblock %}\n \n {% block content %}\n \n-<h1 class=\"h3 mb-3\">User profile</h1>\n+<h1 class=\"h3 mb-3\">\n+    {% if is_my_profile %}\n+        My profile\n+    {% else %}\n+        User Profile\n+    {% endif %}\n+\n+\n+</h1>\n \n <div class=\"row\">\n "
      },
      {
        "sha": "4464dc72248465dacf9d55bef9ee0fac4343c766",
        "filename": "app/modules/profile/tests/test_profile.py",
        "status": "added",
        "additions": 18,
        "deletions": 0,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/ec98e7eb47c9324b46569701701186ef6874b629/app%2Fmodules%2Fprofile%2Ftests%2Ftest_profile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/ec98e7eb47c9324b46569701701186ef6874b629/app%2Fmodules%2Fprofile%2Ftests%2Ftest_profile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_profile.py?ref=ec98e7eb47c9324b46569701701186ef6874b629",
        "patch": "@@ -0,0 +1,18 @@\n+# Generated by Selenium IDE\n+from selenium import webdriver\n+from selenium.webdriver.common.by import By\n+\n+\n+class TestTestProfile():\n+    def setup_method(self, method):\n+        self.driver = webdriver.Chrome()\n+        self.vars = {}\n+\n+    def teardown_method(self, method):\n+        self.driver.quit()\n+\n+    def test_testProfile(self):\n+        self.driver.get(\"http://localhost:5000/\")\n+        self.driver.set_window_size(1854, 1048)\n+        self.driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n+        self.driver.find_element(By.LINK_TEXT, \"Doe, Jane\").click()"
      },
      {
        "sha": "53d9d45448d57b74ef9a943bde2b57c7b6a42580",
        "filename": "app/modules/profile/tests/test_unit.py",
        "status": "modified",
        "additions": 44,
        "deletions": 0,
        "changes": 44,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/ec98e7eb47c9324b46569701701186ef6874b629/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/ec98e7eb47c9324b46569701701186ef6874b629/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py?ref=ec98e7eb47c9324b46569701701186ef6874b629",
        "patch": "@@ -36,3 +36,47 @@ def test_edit_profile_page_get(test_client):\n     assert b\"Edit profile\" in response.data, \"The expected content is not present on the page\"\n \n     logout(test_client)\n+\n+\n+def test_get_profile_page(test_client):\n+\n+    \"\"\"\n+    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n+    usuarios exsistentes mediante GET\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    response = test_client.get(\"/profile/summary/2\")\n+    assert response.status_code == 200, \"The profile page could not be accessed.\"\n+\n+    logout(test_client)\n+\n+\n+def test_get_unexisting_profile_page(test_client):\n+    \"\"\"\n+    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n+    usuarios exsistentes mediante GET\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    response = test_client.get(\"/profile/summary/12\")\n+    assert response.status_code == 404, \"The profile page could not be accessed.\"\n+\n+    logout(test_client)\n+\n+\n+def test_get_my_profile_page(test_client):\n+    \"\"\"\n+    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n+    usuarios exsistentes mediante GET\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    response = test_client.get(\"/profile/summary\")\n+    assert response.status_code == 200, \"The profile page could not be accessed.\"\n+    assert b\"My profile\" in response.data, \"The expected content is not present on the page\"\n+\n+    logout(test_client)"
      }
    ]
  },
  {
    "sha": "ae7a1f9869b034c48c27f5a202d19deec9042c06",
    "node_id": "C_kwDONBuXkNoAKGFlN2ExZjk4NjliMDM0YzQ4YzI3ZjVhMjAyZDE5ZGVlYzkwNDJjMDY",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-13T07:31:10Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-13T07:31:10Z"
      },
      "message": "fix: Fix Selenium test\n\nTest moved to selenium file.",
      "tree": {
        "sha": "1c3228330fcee0f65a1f08b0e05862ca69ca231b",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/1c3228330fcee0f65a1f08b0e05862ca69ca231b"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/ae7a1f9869b034c48c27f5a202d19deec9042c06",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/ae7a1f9869b034c48c27f5a202d19deec9042c06",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/ae7a1f9869b034c48c27f5a202d19deec9042c06",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/ae7a1f9869b034c48c27f5a202d19deec9042c06/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b8ef57be0b04a0fac95400700129739de75cb8b1",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b8ef57be0b04a0fac95400700129739de75cb8b1",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/b8ef57be0b04a0fac95400700129739de75cb8b1"
      }
    ],
    "files": [
      {
        "sha": "9a9ca2adedb5f13a29365f1858450a5fea3c1ab8",
        "filename": "app/modules/hubfile/tests/test_edit.py",
        "status": "removed",
        "additions": 0,
        "deletions": 50,
        "changes": 50,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b8ef57be0b04a0fac95400700129739de75cb8b1/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b8ef57be0b04a0fac95400700129739de75cb8b1/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py?ref=b8ef57be0b04a0fac95400700129739de75cb8b1",
        "patch": "@@ -1,50 +0,0 @@\n-# Generated by Selenium IDE\n-from selenium import webdriver\n-from selenium.webdriver.common.by import By\n-from selenium.webdriver.common.action_chains import ActionChains\n-from selenium.webdriver.support import expected_conditions\n-from selenium.webdriver.support.wait import WebDriverWait\n-from selenium.webdriver.chrome.options import Options\n-\n-\n-class TestEdit():\n-    def setup_method(self, method):\n-        chrome_options = Options()\n-        chrome_options.add_argument(\"--headless\")\n-        chrome_options.add_argument(\"--disable-gpu\")\n-        self.driver = webdriver.Chrome(chrome_options)\n-        self.vars = {}\n-\n-    def teardown_method(self, method):\n-        self.driver.quit()\n-\n-    def test_edit(self):\n-        self.driver.get(\"http://127.0.0.1:5000/\")\n-        self.driver.set_window_size(912, 1028)\n-        self.driver.find_element(By.LINK_TEXT, \"Login\").click()\n-        self.driver.find_element(By.ID, \"email\").click()\n-        self.driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n-        self.driver.find_element(By.ID, \"password\").click()\n-        self.driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n-        self.driver.find_element(By.ID, \"submit\").click()\n-        self.driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n-        self.driver.find_element(By.CSS_SELECTOR, \".hamburger\").click()\n-        WebDriverWait(self.driver, 10).until(\n-          expected_conditions.element_to_be_clickable((By.LINK_TEXT, \"Home\"))\n-        )\n-        self.driver.find_element(By.LINK_TEXT, \"Home\").click()\n-        self.driver.find_element(By.LINK_TEXT, \"Sample dataset 3\").click()\n-        self.driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\").click()\n-        element = self.driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\")\n-        actions = ActionChains(self.driver)\n-        actions.move_to_element(element).perform()\n-        element = self.driver.find_element(By.CSS_SELECTOR, \"body\")\n-        actions = ActionChains(self.driver)\n-        actions.move_to_element(element).perform()\n-        self.driver.find_element(By.ID, \"fileContentEdit\").click()\n-        element = self.driver.find_element(By.ID, \"fileContentEdit\")\n-        self.driver.execute_script(\n-            \"if(arguments[0].contentEditable === 'true') {arguments[0].innerText = 'adios'}\",\n-            element\n-        )\n-        self.driver.find_element(By.CSS_SELECTOR, \".feather-save\").click()"
      },
      {
        "sha": "ae8c0f6c07de43a75679910c14bc614c9e5dceaa",
        "filename": "app/modules/hubfile/tests/test_selenium.py",
        "status": "modified",
        "additions": 38,
        "deletions": 0,
        "changes": 38,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/ae7a1f9869b034c48c27f5a202d19deec9042c06/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/ae7a1f9869b034c48c27f5a202d19deec9042c06/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_selenium.py?ref=ae7a1f9869b034c48c27f5a202d19deec9042c06",
        "patch": "@@ -3,6 +3,10 @@\n \n from core.environment.host import get_host_for_selenium_testing\n from core.selenium.common import initialize_driver, close_driver\n+from selenium.webdriver.common.by import By\n+from selenium.webdriver.support import expected_conditions\n+from selenium.webdriver.support.wait import WebDriverWait\n+from selenium.webdriver.common.action_chains import ActionChains\n \n \n def test_hubfile_index():\n@@ -31,5 +35,39 @@ def test_hubfile_index():\n         close_driver(driver)\n \n \n+def test_edit():\n+    driver = initialize_driver()\n+    driver.get(\"http://127.0.0.1:5000/\")\n+    driver.set_window_size(912, 1028)\n+    driver.find_element(By.LINK_TEXT, \"Login\").click()\n+    driver.find_element(By.ID, \"email\").click()\n+    driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+    driver.find_element(By.ID, \"password\").click()\n+    driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+    driver.find_element(By.ID, \"submit\").click()\n+    driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".hamburger\").click()\n+    WebDriverWait(driver, 10).until(\n+        expected_conditions.element_to_be_clickable((By.LINK_TEXT, \"Home\"))\n+    )\n+    driver.find_element(By.LINK_TEXT, \"Home\").click()\n+    driver.find_element(By.LINK_TEXT, \"Sample dataset 3\").click()\n+    driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\").click()\n+    element = driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\")\n+    actions = ActionChains(driver)\n+    actions.move_to_element(element).perform()\n+    element = driver.find_element(By.CSS_SELECTOR, \"body\")\n+    actions = ActionChains(driver)\n+    actions.move_to_element(element).perform()\n+    driver.find_element(By.ID, \"fileContentEdit\").click()\n+    element = driver.find_element(By.ID, \"fileContentEdit\")\n+    driver.execute_script(\n+        \"if(arguments[0].contentEditable === 'true') {arguments[0].innerText = 'adios'}\",\n+        element\n+    )\n+    driver.find_element(By.CSS_SELECTOR, \".feather-save\").click()\n+\n+\n # Call the test function\n test_hubfile_index()\n+test_edit()"
      }
    ]
  },
  {
    "sha": "dd4babb564c0ecd755b00a0773a5391452c179cb",
    "node_id": "C_kwDONBuXkNoAKGRkNGJhYmI1NjRjMGVjZDc1NWIwMGEwNzczYTUzOTE0NTJjMTc5Y2I",
    "commit": {
      "author": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-11-12T22:39:10Z"
      },
      "committer": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-11-12T22:39:10Z"
      },
      "message": "Merge branch 'feat/view-user-profile'",
      "tree": {
        "sha": "794cd20161ac6678889c3b7933c9f0e49905ff37",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/794cd20161ac6678889c3b7933c9f0e49905ff37"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/dd4babb564c0ecd755b00a0773a5391452c179cb",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/dd4babb564c0ecd755b00a0773a5391452c179cb",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/dd4babb564c0ecd755b00a0773a5391452c179cb",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/dd4babb564c0ecd755b00a0773a5391452c179cb/comments",
    "author": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b8ef57be0b04a0fac95400700129739de75cb8b1",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b8ef57be0b04a0fac95400700129739de75cb8b1",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/b8ef57be0b04a0fac95400700129739de75cb8b1"
      },
      {
        "sha": "11875b6a585ea63c88111287138ad78bea160297",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/11875b6a585ea63c88111287138ad78bea160297",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/11875b6a585ea63c88111287138ad78bea160297"
      }
    ],
    "files": [
      {
        "sha": "972a005dd43346fcd4b6ce2f2814a1d090317519",
        "filename": "app/modules/dataset/templates/dataset/view_dataset.html",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/dd4babb564c0ecd755b00a0773a5391452c179cb/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/dd4babb564c0ecd755b00a0773a5391452c179cb/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html?ref=dd4babb564c0ecd755b00a0773a5391452c179cb",
        "patch": "@@ -64,7 +64,7 @@ <h1><b>{{ dataset.ds_meta_data.title }}</b></h1>\n                         </span>\n                     </div>\n                     <div class=\"col-md-8 col-12\">\n-                        <a href=\"#\">{{ dataset.user.profile.surname }}, {{ dataset.user.profile.name }}</a>\n+                        <a href=\"{{ url_for('profile.my_profile', user_id=dataset.user_id) }}\">{{ dataset.user.profile.surname }}, {{ dataset.user.profile.name }}</a>\n                     </div>\n \n                 </div>"
      },
      {
        "sha": "74ca201cca5398cf9eb3a8d0961e7b2b353199b9",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/dd4babb564c0ecd755b00a0773a5391452c179cb/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/dd4babb564c0ecd755b00a0773a5391452c179cb/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=dd4babb564c0ecd755b00a0773a5391452c179cb",
        "patch": "@@ -5,6 +5,7 @@\n import os\n \n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['GET'])\n def get_all_depositions():\n     path = \"modules/fakenodo/placeholders/deposition.json\""
      },
      {
        "sha": "17793606faecd38e7cc724be7e70fdee733d3f8b",
        "filename": "app/modules/profile/routes.py",
        "status": "modified",
        "additions": 23,
        "deletions": 8,
        "changes": 31,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/dd4babb564c0ecd755b00a0773a5391452c179cb/app%2Fmodules%2Fprofile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/dd4babb564c0ecd755b00a0773a5391452c179cb/app%2Fmodules%2Fprofile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Froutes.py?ref=dd4babb564c0ecd755b00a0773a5391452c179cb",
        "patch": "@@ -1,6 +1,7 @@\n+from app.modules.auth.models import User\n from app.modules.auth.services import AuthenticationService\n from app.modules.dataset.models import DataSet\n-from flask import render_template, redirect, url_for, request\n+from flask import abort, render_template, redirect, url_for, request\n from flask_login import login_required, current_user\n \n from app import db\n@@ -28,28 +29,42 @@ def edit_profile():\n     return render_template(\"profile/edit.html\", form=form)\n \n \n-@profile_bp.route('/profile/summary')\n+@profile_bp.route('/profile/summary', defaults={'user_id': None})\n+@profile_bp.route('/profile/summary/<int:user_id>')\n @login_required\n-def my_profile():\n+def my_profile(user_id):\n+    is_my_profile = False\n+    # ver si el user_id es none(mi perfil) o es alguno(perfil de otro)\n+    if user_id is None:\n+        user_id = current_user.id\n+        is_my_profile = True\n+\n     page = request.args.get('page', 1, type=int)\n     per_page = 5\n \n+    # se busca el perfil del usuario del id de la url par mostrarlo dsps\n+    user_found = db.session.query(User).filter(User.id == user_id).first()\n+\n+    if not user_found:\n+        abort(404)\n+\n     user_datasets_pagination = db.session.query(DataSet) \\\n-        .filter(DataSet.user_id == current_user.id) \\\n+        .filter(DataSet.user_id == user_id) \\\n         .order_by(DataSet.created_at.desc()) \\\n         .paginate(page=page, per_page=per_page, error_out=False)\n \n     total_datasets_count = db.session.query(DataSet) \\\n-        .filter(DataSet.user_id == current_user.id) \\\n+        .filter(DataSet.user_id == user_id) \\\n         .count()\n \n     print(user_datasets_pagination.items)\n \n     return render_template(\n         'profile/summary.html',\n-        user_profile=current_user.profile,\n-        user=current_user,\n+        user_profile=user_found.profile,\n+        user=user_found,\n         datasets=user_datasets_pagination.items,\n         pagination=user_datasets_pagination,\n-        total_datasets=total_datasets_count\n+        total_datasets=total_datasets_count,\n+        is_my_profile=is_my_profile\n     )"
      },
      {
        "sha": "36fb2e45aeb6398958752e75025ab5056a2d3fd5",
        "filename": "app/modules/profile/templates/profile/summary.html",
        "status": "modified",
        "additions": 17,
        "deletions": 2,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/dd4babb564c0ecd755b00a0773a5391452c179cb/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/dd4babb564c0ecd755b00a0773a5391452c179cb/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html?ref=dd4babb564c0ecd755b00a0773a5391452c179cb",
        "patch": "@@ -1,11 +1,26 @@\n {% extends \"base_template.html\" %}\n \n \n-{% block title %}User Profile{% endblock %}\n+{% block title %}\n+    {% if is_my_profile %}\n+        My profile\n+    {% else %}\n+        User Profile\n+    {% endif %}\n+\n+{% endblock %}\n \n {% block content %}\n \n-<h1 class=\"h3 mb-3\">User profile</h1>\n+<h1 class=\"h3 mb-3\">\n+    {% if is_my_profile %}\n+        My profile\n+    {% else %}\n+        User Profile\n+    {% endif %}\n+\n+\n+</h1>\n \n <div class=\"row\">\n "
      },
      {
        "sha": "4464dc72248465dacf9d55bef9ee0fac4343c766",
        "filename": "app/modules/profile/tests/test_profile.py",
        "status": "added",
        "additions": 18,
        "deletions": 0,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/dd4babb564c0ecd755b00a0773a5391452c179cb/app%2Fmodules%2Fprofile%2Ftests%2Ftest_profile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/dd4babb564c0ecd755b00a0773a5391452c179cb/app%2Fmodules%2Fprofile%2Ftests%2Ftest_profile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_profile.py?ref=dd4babb564c0ecd755b00a0773a5391452c179cb",
        "patch": "@@ -0,0 +1,18 @@\n+# Generated by Selenium IDE\n+from selenium import webdriver\n+from selenium.webdriver.common.by import By\n+\n+\n+class TestTestProfile():\n+    def setup_method(self, method):\n+        self.driver = webdriver.Chrome()\n+        self.vars = {}\n+\n+    def teardown_method(self, method):\n+        self.driver.quit()\n+\n+    def test_testProfile(self):\n+        self.driver.get(\"http://localhost:5000/\")\n+        self.driver.set_window_size(1854, 1048)\n+        self.driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n+        self.driver.find_element(By.LINK_TEXT, \"Doe, Jane\").click()"
      },
      {
        "sha": "53d9d45448d57b74ef9a943bde2b57c7b6a42580",
        "filename": "app/modules/profile/tests/test_unit.py",
        "status": "modified",
        "additions": 44,
        "deletions": 0,
        "changes": 44,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/dd4babb564c0ecd755b00a0773a5391452c179cb/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/dd4babb564c0ecd755b00a0773a5391452c179cb/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py?ref=dd4babb564c0ecd755b00a0773a5391452c179cb",
        "patch": "@@ -36,3 +36,47 @@ def test_edit_profile_page_get(test_client):\n     assert b\"Edit profile\" in response.data, \"The expected content is not present on the page\"\n \n     logout(test_client)\n+\n+\n+def test_get_profile_page(test_client):\n+\n+    \"\"\"\n+    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n+    usuarios exsistentes mediante GET\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    response = test_client.get(\"/profile/summary/2\")\n+    assert response.status_code == 200, \"The profile page could not be accessed.\"\n+\n+    logout(test_client)\n+\n+\n+def test_get_unexisting_profile_page(test_client):\n+    \"\"\"\n+    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n+    usuarios exsistentes mediante GET\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    response = test_client.get(\"/profile/summary/12\")\n+    assert response.status_code == 404, \"The profile page could not be accessed.\"\n+\n+    logout(test_client)\n+\n+\n+def test_get_my_profile_page(test_client):\n+    \"\"\"\n+    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n+    usuarios exsistentes mediante GET\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    response = test_client.get(\"/profile/summary\")\n+    assert response.status_code == 200, \"The profile page could not be accessed.\"\n+    assert b\"My profile\" in response.data, \"The expected content is not present on the page\"\n+\n+    logout(test_client)"
      }
    ]
  },
  {
    "sha": "b8ef57be0b04a0fac95400700129739de75cb8b1",
    "node_id": "C_kwDONBuXkNoAKGI4ZWY1N2JlMGIwNGEwZmFjOTU0MDA3MDAxMjk3MzlkZTc1Y2I4YjE",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T22:21:15Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T22:21:15Z"
      },
      "message": "Merge branch 'feat/uvl-edit'",
      "tree": {
        "sha": "819d7015025c84fa047e5abc374fd2a37bca6111",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/819d7015025c84fa047e5abc374fd2a37bca6111"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/b8ef57be0b04a0fac95400700129739de75cb8b1",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b8ef57be0b04a0fac95400700129739de75cb8b1",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/b8ef57be0b04a0fac95400700129739de75cb8b1",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b8ef57be0b04a0fac95400700129739de75cb8b1/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033"
      },
      {
        "sha": "c0f979c3a8d1b9a38a1c4d3de555758553c6bc26",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c0f979c3a8d1b9a38a1c4d3de555758553c6bc26",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/c0f979c3a8d1b9a38a1c4d3de555758553c6bc26"
      }
    ],
    "files": [
      {
        "sha": "9a9ca2adedb5f13a29365f1858450a5fea3c1ab8",
        "filename": "app/modules/hubfile/tests/test_edit.py",
        "status": "modified",
        "additions": 42,
        "deletions": 40,
        "changes": 82,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b8ef57be0b04a0fac95400700129739de75cb8b1/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b8ef57be0b04a0fac95400700129739de75cb8b1/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py?ref=b8ef57be0b04a0fac95400700129739de75cb8b1",
        "patch": "@@ -1,48 +1,50 @@\n # Generated by Selenium IDE\n-import pytest\n-import time\n-import json\n from selenium import webdriver\n from selenium.webdriver.common.by import By\n from selenium.webdriver.common.action_chains import ActionChains\n from selenium.webdriver.support import expected_conditions\n from selenium.webdriver.support.wait import WebDriverWait\n-from selenium.webdriver.common.keys import Keys\n-from selenium.webdriver.common.desired_capabilities import DesiredCapabilities\n+from selenium.webdriver.chrome.options import Options\n+\n \n class TestEdit():\n-  def setup_method(self, method):\n-    self.driver = webdriver.Chrome()\n-    self.vars = {}\n-  \n-  def teardown_method(self, method):\n-    self.driver.quit()\n-  \n-  def test_edit(self):\n-    self.driver.get(\"http://127.0.0.1:5000/\")\n-    self.driver.set_window_size(912, 1028)\n-    self.driver.find_element(By.LINK_TEXT, \"Login\").click()\n-    self.driver.find_element(By.ID, \"email\").click()\n-    self.driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n-    self.driver.find_element(By.ID, \"password\").click()\n-    self.driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n-    self.driver.find_element(By.ID, \"submit\").click()\n-    self.driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n-    self.driver.find_element(By.CSS_SELECTOR, \".hamburger\").click()\n-    home_link = WebDriverWait(self.driver, 10).until(\n-      expected_conditions.element_to_be_clickable((By.LINK_TEXT, \"Home\"))\n-    )\n-    self.driver.find_element(By.LINK_TEXT, \"Home\").click()\n-    self.driver.find_element(By.LINK_TEXT, \"Sample dataset 3\").click()\n-    self.driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\").click()\n-    element = self.driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\")\n-    actions = ActionChains(self.driver)\n-    actions.move_to_element(element).perform()\n-    element = self.driver.find_element(By.CSS_SELECTOR, \"body\")\n-    actions = ActionChains(self.driver)\n-    actions.move_to_element(element).perform()\n-    self.driver.find_element(By.ID, \"fileContentEdit\").click()\n-    element = self.driver.find_element(By.ID, \"fileContentEdit\")\n-    self.driver.execute_script(\"if(arguments[0].contentEditable === 'true') {arguments[0].innerText = 'adios'}\", element)\n-    self.driver.find_element(By.CSS_SELECTOR, \".feather-save\").click()\n-  \n+    def setup_method(self, method):\n+        chrome_options = Options()\n+        chrome_options.add_argument(\"--headless\")\n+        chrome_options.add_argument(\"--disable-gpu\")\n+        self.driver = webdriver.Chrome(chrome_options)\n+        self.vars = {}\n+\n+    def teardown_method(self, method):\n+        self.driver.quit()\n+\n+    def test_edit(self):\n+        self.driver.get(\"http://127.0.0.1:5000/\")\n+        self.driver.set_window_size(912, 1028)\n+        self.driver.find_element(By.LINK_TEXT, \"Login\").click()\n+        self.driver.find_element(By.ID, \"email\").click()\n+        self.driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+        self.driver.find_element(By.ID, \"password\").click()\n+        self.driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+        self.driver.find_element(By.ID, \"submit\").click()\n+        self.driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n+        self.driver.find_element(By.CSS_SELECTOR, \".hamburger\").click()\n+        WebDriverWait(self.driver, 10).until(\n+          expected_conditions.element_to_be_clickable((By.LINK_TEXT, \"Home\"))\n+        )\n+        self.driver.find_element(By.LINK_TEXT, \"Home\").click()\n+        self.driver.find_element(By.LINK_TEXT, \"Sample dataset 3\").click()\n+        self.driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\").click()\n+        element = self.driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\")\n+        actions = ActionChains(self.driver)\n+        actions.move_to_element(element).perform()\n+        element = self.driver.find_element(By.CSS_SELECTOR, \"body\")\n+        actions = ActionChains(self.driver)\n+        actions.move_to_element(element).perform()\n+        self.driver.find_element(By.ID, \"fileContentEdit\").click()\n+        element = self.driver.find_element(By.ID, \"fileContentEdit\")\n+        self.driver.execute_script(\n+            \"if(arguments[0].contentEditable === 'true') {arguments[0].innerText = 'adios'}\",\n+            element\n+        )\n+        self.driver.find_element(By.CSS_SELECTOR, \".feather-save\").click()"
      }
    ]
  },
  {
    "sha": "11875b6a585ea63c88111287138ad78bea160297",
    "node_id": "C_kwDONBuXkNoAKDExODc1YjZhNTg1ZWE2M2M4ODExMTI4NzEzOGFkNzhiZWExNjAyOTc",
    "commit": {
      "author": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-11-12T22:18:36Z"
      },
      "committer": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-11-12T22:18:36Z"
      },
      "message": "fix: Remove unused imports\n\nRemove unused imports in test_profile.py",
      "tree": {
        "sha": "5df5a884c01ef624b0a69afdaa207d9841c7c987",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/5df5a884c01ef624b0a69afdaa207d9841c7c987"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/11875b6a585ea63c88111287138ad78bea160297",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/11875b6a585ea63c88111287138ad78bea160297",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/11875b6a585ea63c88111287138ad78bea160297",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/11875b6a585ea63c88111287138ad78bea160297/comments",
    "author": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3848857a20a21d1b3de53f7a97e6b1feae3595bf",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3848857a20a21d1b3de53f7a97e6b1feae3595bf",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3848857a20a21d1b3de53f7a97e6b1feae3595bf"
      }
    ],
    "files": [
      {
        "sha": "4464dc72248465dacf9d55bef9ee0fac4343c766",
        "filename": "app/modules/profile/tests/test_profile.py",
        "status": "modified",
        "additions": 0,
        "deletions": 8,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/11875b6a585ea63c88111287138ad78bea160297/app%2Fmodules%2Fprofile%2Ftests%2Ftest_profile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/11875b6a585ea63c88111287138ad78bea160297/app%2Fmodules%2Fprofile%2Ftests%2Ftest_profile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_profile.py?ref=11875b6a585ea63c88111287138ad78bea160297",
        "patch": "@@ -1,14 +1,6 @@\n # Generated by Selenium IDE\n-import pytest\n-import time\n-import json\n from selenium import webdriver\n from selenium.webdriver.common.by import By\n-from selenium.webdriver.common.action_chains import ActionChains\n-from selenium.webdriver.support import expected_conditions\n-from selenium.webdriver.support.wait import WebDriverWait\n-from selenium.webdriver.common.keys import Keys\n-from selenium.webdriver.common.desired_capabilities import DesiredCapabilities\n \n \n class TestTestProfile():"
      }
    ]
  },
  {
    "sha": "c0f979c3a8d1b9a38a1c4d3de555758553c6bc26",
    "node_id": "C_kwDONBuXkNoAKGMwZjk3OWMzYThkMWI5YTM4YTFjNGQzZGU1NTU3NTg1NTNjNmJjMjY",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T22:17:23Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T22:17:23Z"
      },
      "message": "fix: Selenium without interface\n\nSelenium test without interface in hubfile module.",
      "tree": {
        "sha": "da386ef393c064bc0c0e826c09b7411a44eaf351",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/da386ef393c064bc0c0e826c09b7411a44eaf351"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/c0f979c3a8d1b9a38a1c4d3de555758553c6bc26",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c0f979c3a8d1b9a38a1c4d3de555758553c6bc26",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/c0f979c3a8d1b9a38a1c4d3de555758553c6bc26",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c0f979c3a8d1b9a38a1c4d3de555758553c6bc26/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f03dc45284be36828ce497e0870e2665c347d497",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f03dc45284be36828ce497e0870e2665c347d497",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/f03dc45284be36828ce497e0870e2665c347d497"
      }
    ],
    "files": [
      {
        "sha": "9a9ca2adedb5f13a29365f1858450a5fea3c1ab8",
        "filename": "app/modules/hubfile/tests/test_edit.py",
        "status": "modified",
        "additions": 5,
        "deletions": 1,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c0f979c3a8d1b9a38a1c4d3de555758553c6bc26/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c0f979c3a8d1b9a38a1c4d3de555758553c6bc26/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py?ref=c0f979c3a8d1b9a38a1c4d3de555758553c6bc26",
        "patch": "@@ -4,11 +4,15 @@\n from selenium.webdriver.common.action_chains import ActionChains\n from selenium.webdriver.support import expected_conditions\n from selenium.webdriver.support.wait import WebDriverWait\n+from selenium.webdriver.chrome.options import Options\n \n \n class TestEdit():\n     def setup_method(self, method):\n-        self.driver = webdriver.Chrome()\n+        chrome_options = Options()\n+        chrome_options.add_argument(\"--headless\")\n+        chrome_options.add_argument(\"--disable-gpu\")\n+        self.driver = webdriver.Chrome(chrome_options)\n         self.vars = {}\n \n     def teardown_method(self, method):"
      }
    ]
  },
  {
    "sha": "f03dc45284be36828ce497e0870e2665c347d497",
    "node_id": "C_kwDONBuXkNoAKGYwM2RjNDUyODRiZTM2ODI4Y2U0OTdlMDg3MGUyNjY1YzM0N2Q0OTc",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T21:57:48Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T21:57:48Z"
      },
      "message": "style: Fix code format\n\nFix code format in hubfile selenium test.",
      "tree": {
        "sha": "bc3e0b999179747294928b0e140ab58a979368e3",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/bc3e0b999179747294928b0e140ab58a979368e3"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/f03dc45284be36828ce497e0870e2665c347d497",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f03dc45284be36828ce497e0870e2665c347d497",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/f03dc45284be36828ce497e0870e2665c347d497",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f03dc45284be36828ce497e0870e2665c347d497/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "71487283d03a0c30e3c2829da2e09ab69043a329",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/71487283d03a0c30e3c2829da2e09ab69043a329",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/71487283d03a0c30e3c2829da2e09ab69043a329"
      }
    ],
    "files": [
      {
        "sha": "acb1496d3680baa7cb2446ace6ff6a684df37c40",
        "filename": "app/modules/hubfile/tests/test_edit.py",
        "status": "modified",
        "additions": 38,
        "deletions": 40,
        "changes": 78,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/f03dc45284be36828ce497e0870e2665c347d497/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/f03dc45284be36828ce497e0870e2665c347d497/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py?ref=f03dc45284be36828ce497e0870e2665c347d497",
        "patch": "@@ -1,48 +1,46 @@\n # Generated by Selenium IDE\n-import pytest\n-import time\n-import json\n from selenium import webdriver\n from selenium.webdriver.common.by import By\n from selenium.webdriver.common.action_chains import ActionChains\n from selenium.webdriver.support import expected_conditions\n from selenium.webdriver.support.wait import WebDriverWait\n-from selenium.webdriver.common.keys import Keys\n-from selenium.webdriver.common.desired_capabilities import DesiredCapabilities\n+\n \n class TestEdit():\n-  def setup_method(self, method):\n-    self.driver = webdriver.Chrome()\n-    self.vars = {}\n-  \n-  def teardown_method(self, method):\n-    self.driver.quit()\n-  \n-  def test_edit(self):\n-    self.driver.get(\"http://127.0.0.1:5000/\")\n-    self.driver.set_window_size(912, 1028)\n-    self.driver.find_element(By.LINK_TEXT, \"Login\").click()\n-    self.driver.find_element(By.ID, \"email\").click()\n-    self.driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n-    self.driver.find_element(By.ID, \"password\").click()\n-    self.driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n-    self.driver.find_element(By.ID, \"submit\").click()\n-    self.driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n-    self.driver.find_element(By.CSS_SELECTOR, \".hamburger\").click()\n-    home_link = WebDriverWait(self.driver, 10).until(\n-      expected_conditions.element_to_be_clickable((By.LINK_TEXT, \"Home\"))\n-    )\n-    self.driver.find_element(By.LINK_TEXT, \"Home\").click()\n-    self.driver.find_element(By.LINK_TEXT, \"Sample dataset 3\").click()\n-    self.driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\").click()\n-    element = self.driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\")\n-    actions = ActionChains(self.driver)\n-    actions.move_to_element(element).perform()\n-    element = self.driver.find_element(By.CSS_SELECTOR, \"body\")\n-    actions = ActionChains(self.driver)\n-    actions.move_to_element(element).perform()\n-    self.driver.find_element(By.ID, \"fileContentEdit\").click()\n-    element = self.driver.find_element(By.ID, \"fileContentEdit\")\n-    self.driver.execute_script(\"if(arguments[0].contentEditable === 'true') {arguments[0].innerText = 'adios'}\", element)\n-    self.driver.find_element(By.CSS_SELECTOR, \".feather-save\").click()\n-  \n+    def setup_method(self, method):\n+        self.driver = webdriver.Chrome()\n+        self.vars = {}\n+\n+    def teardown_method(self, method):\n+        self.driver.quit()\n+\n+    def test_edit(self):\n+        self.driver.get(\"http://127.0.0.1:5000/\")\n+        self.driver.set_window_size(912, 1028)\n+        self.driver.find_element(By.LINK_TEXT, \"Login\").click()\n+        self.driver.find_element(By.ID, \"email\").click()\n+        self.driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+        self.driver.find_element(By.ID, \"password\").click()\n+        self.driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+        self.driver.find_element(By.ID, \"submit\").click()\n+        self.driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n+        self.driver.find_element(By.CSS_SELECTOR, \".hamburger\").click()\n+        WebDriverWait(self.driver, 10).until(\n+          expected_conditions.element_to_be_clickable((By.LINK_TEXT, \"Home\"))\n+        )\n+        self.driver.find_element(By.LINK_TEXT, \"Home\").click()\n+        self.driver.find_element(By.LINK_TEXT, \"Sample dataset 3\").click()\n+        self.driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\").click()\n+        element = self.driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\")\n+        actions = ActionChains(self.driver)\n+        actions.move_to_element(element).perform()\n+        element = self.driver.find_element(By.CSS_SELECTOR, \"body\")\n+        actions = ActionChains(self.driver)\n+        actions.move_to_element(element).perform()\n+        self.driver.find_element(By.ID, \"fileContentEdit\").click()\n+        element = self.driver.find_element(By.ID, \"fileContentEdit\")\n+        self.driver.execute_script(\n+            \"if(arguments[0].contentEditable === 'true') {arguments[0].innerText = 'adios'}\",\n+            element\n+        )\n+        self.driver.find_element(By.CSS_SELECTOR, \".feather-save\").click()"
      }
    ]
  },
  {
    "sha": "c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033",
    "node_id": "C_kwDONBuXkNoAKGM3ZTc1ZmQwMzRkYzJlY2ViY2Q1MWYxZjQwYWE0ZDllYzY2M2QwMzM",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T21:51:01Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T21:51:01Z"
      },
      "message": "Merge branch 'feat/uvl-edit' of github.com:chipi-hub-team/chipi-hub",
      "tree": {
        "sha": "d0790e57be16d05d672ce59a2df3d2cb7f2e6601",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/d0790e57be16d05d672ce59a2df3d2cb7f2e6601"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e60470cbe736eca0a0aef4ab5e3395c18acd92d2",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/e60470cbe736eca0a0aef4ab5e3395c18acd92d2",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/e60470cbe736eca0a0aef4ab5e3395c18acd92d2"
      },
      {
        "sha": "71487283d03a0c30e3c2829da2e09ab69043a329",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/71487283d03a0c30e3c2829da2e09ab69043a329",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/71487283d03a0c30e3c2829da2e09ab69043a329"
      }
    ],
    "files": [
      {
        "sha": "d75c7ec95e2879500ea3ecc0a54d3dd022352236",
        "filename": ".env.local.example",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033/.env.local.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033/.env.local.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.env.local.example?ref=c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033",
        "patch": "@@ -1,6 +1,6 @@\n FLASK_APP_NAME=\"UVLHUB.IO(dev)\"\n FLASK_ENV=development\n-DOMAIN=localhost:5000\n+DOMAIN=127.0.0.1:5000\n MARIADB_HOSTNAME=localhost\n MARIADB_PORT=3306\n MARIADB_DATABASE=uvlhubdb"
      },
      {
        "sha": "0c409d66990847aaaa493a8f31464de85d6d7512",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033",
        "patch": "@@ -293,7 +293,7 @@ def subdomain_index(doi):\n \n     # Save the cookie to the user's browser\n     user_cookie = ds_view_record_service.create_cookie(dataset=dataset)\n-    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset))\n+    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user))\n     resp.set_cookie(\"view_cookie\", user_cookie)\n \n     return resp"
      },
      {
        "sha": "a7adfb220cbc3442d1648b8c5e848b45ab7d63ba",
        "filename": "app/modules/dataset/templates/dataset/view_dataset.html",
        "status": "modified",
        "additions": 76,
        "deletions": 6,
        "changes": 82,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html?ref=c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033",
        "patch": "@@ -268,6 +268,11 @@ <h4 style=\"margin-bottom: 0px;\"><span class=\"badge bg-dark\">{{ dataset.get_files\n                                 \n                             </div>\n                             <div class=\"col-12 text-end\" >\n+                                {% if current_user.id == dataset.user_id %}\n+                                    <button onclick=\"editFile('{{ file.id }}')\" class=\"btn btn-outline-secondary btn-sm\" style=\"border-radius: 5px;\">\n+                                        <i data-feather=\"edit-2\"></i> Edit\n+                                    </button>\n+                                {% endif %}\n \n                                 <button onclick=\"viewFile('{{ file.id }}')\" class=\"btn btn-outline-secondary btn-sm\" style=\"border-radius: 5px;\">\n                                     <i data-feather=\"eye\"></i> View\n@@ -334,7 +339,7 @@ <h4 style=\"margin-bottom: 0px;\"><span class=\"badge bg-dark\">{{ dataset.get_files\n     \n </div>\n \n-<!-- Modal-->\n+<!-- Modal view -->\n <div class=\"modal fade\" id=\"fileViewerModal\" tabindex=\"-1\" aria-labelledby=\"fileViewerModalLabel\" aria-hidden=\"true\">\n     <div class=\"modal-dialog modal-lg\" style=\"height: 80vh; display: flex; align-items: center;\">\n         <div class=\"modal-content\" style=\"height: 80vh;\">\n@@ -345,15 +350,42 @@ <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n                         style=\"margin-right: 5px; margin-bottom: 5px; border-radius: 5px;\">\n                         <i data-feather=\"download\"></i>\n                     </a>\n-                    <button onclick=\"copyToClipboard()\" class=\"btn btn-outline-secondary btn-sm\"\n+                    <button onclick=\"copyToClipboard('fileContentView')\" class=\"btn btn-outline-secondary btn-sm\"\n                         style=\"margin-right: 5px; margin-bottom: 5px; border-radius: 5px;\">\n                         <i data-feather=\"copy\"></i>\n                     </button>\n                     <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                 </div>\n             </div>\n             <div class=\"modal-body\" style=\"overflow-y: auto; height: calc(100vh - 50px);\">\n-                <pre id=\"fileContent\" style=\"height: 100%; overflow-y: auto; white-space: pre-wrap; word-wrap: break-word; background-color: #f5f5f5; padding: 20px; border-radius: 5px; border: 1px solid #ccc;\"></pre>\n+                <pre id=\"fileContentView\" style=\"height: 100%; overflow-y: auto; white-space: pre-wrap; word-wrap: break-word; background-color: #f5f5f5; padding: 20px; border-radius: 5px; border: 1px solid #ccc;\"></pre>\n+\n+            </div>\n+        </div>\n+    </div>\n+</div>\n+\n+<!-- Modal edit-->\n+<div class=\"modal fade\" id=\"fileEditorModal\" tabindex=\"-1\" aria-labelledby=\"fileViewerModalLabel\" aria-hidden=\"true\">\n+    <div class=\"modal-dialog modal-lg\" style=\"height: 80vh; display: flex; align-items: center;\">\n+        <div class=\"modal-content\" style=\"height: 80vh;\">\n+            <div class=\"modal-header\" style=\"display: flex; justify-content: space-between; align-items: center;\">\n+                <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n+                <div>\n+                    <button onclick=\"save()\" class=\"btn btn-outline-primary btn-sm\" id=\"saveButton\"\n+                        style=\"margin-right: 5px; margin-bottom: 5px; border-radius: 5px;\">\n+                        <i data-feather=\"save\"></i>\n+                        <input type=\"hidden\" id=\"file_id\" value=\"0\">\n+                    </button>\n+                    <button onclick=\"copyToClipboard('fileContentEdit')\" class=\"btn btn-outline-secondary btn-sm\"\n+                        style=\"margin-right: 5px; margin-bottom: 5px; border-radius: 5px;\">\n+                        <i data-feather=\"copy\"></i>\n+                    </button>\n+                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n+                </div>\n+            </div>\n+            <div class=\"modal-body\" style=\"overflow-y: auto; height: calc(100vh - 50px);\">\n+                <pre id=\"fileContentEdit\" contenteditable=\"true\" style=\"height: 100%; overflow-y: auto; white-space: pre-wrap; word-wrap: break-word; background-color: #f5f5f5; padding: 20px; border-radius: 5px; border: 1px solid #ccc;\"></pre>\n \n             </div>\n         </div>\n@@ -375,7 +407,7 @@ <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n         fetch(`/file/view/${fileId}`)\n             .then(response => response.json())\n             .then(data => {\n-                document.getElementById('fileContent').textContent = data.content;\n+                document.getElementById('fileContentView').textContent = data.content;\n                 currentFileId = fileId;\n                 document.getElementById('downloadButton').href = `/file/download/${fileId}`;\n                 var modal = new bootstrap.Modal(document.getElementById('fileViewerModal'));\n@@ -384,6 +416,20 @@ <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n             .catch(error => console.error('Error loading file:', error));\n     }\n \n+    function editFile(fileId) {\n+        fetch(`/file/view/${fileId}`)\n+            .then(response => response.json())\n+            .then(data => {\n+                document.getElementById('fileContentEdit').textContent = data.content;\n+                currentFileId = fileId;\n+                document.getElementById('downloadButton').href = `/file/download/${fileId}`;\n+                var modal = new bootstrap.Modal(document.getElementById('fileEditorModal'));\n+                document.getElementById('file_id').value = fileId;\n+                modal.show();\n+            })\n+            .catch(error => console.error('Error loading file:', error));\n+    }\n+\n     function showLoading() {\n         document.getElementById(\"loading\").style.display = \"initial\";\n     }\n@@ -484,14 +530,38 @@ <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n         }\n     }\n     */\n-    function copyToClipboard() {\n-        const text = document.getElementById('fileContent').textContent;\n+    function copyToClipboard(elementName) {\n+        const text = document.getElementById(elementName).textContent;\n         navigator.clipboard.writeText(text).then(() => {\n             console.log('Text copied to clipboard');\n         }).catch(err => {\n             console.error('Failed to copy text: ', err);\n         });\n     }\n+\n+    function save(){\n+        const fileId = document.getElementById('file_id').value;\n+        fetch(`/file/edit/${fileId}`, {\n+            method: 'POST',\n+            headers: {\n+                'Content-Type': 'application/json'\n+            },\n+            body: JSON.stringify({\n+                content: document.getElementById('fileContentEdit').textContent\n+            })\n+        })\n+        .then(response => response.json())\n+        .then(data => {\n+            if(data.error) {\n+                alert(\"You are not allowed to edit this file\");\n+            }\n+            else{\n+                alert(\"File saved successfully\");\n+            }\n+        })\n+        .catch(error => console.error('Error loading file:', error));\n+    }\n+\n </script>\n \n {% endblock %}"
      },
      {
        "sha": "429322138dde42bebd170a5963c3fc955921d6eb",
        "filename": "app/modules/hubfile/routes.py",
        "status": "modified",
        "additions": 40,
        "deletions": 0,
        "changes": 40,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033/app%2Fmodules%2Fhubfile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033/app%2Fmodules%2Fhubfile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Froutes.py?ref=c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033",
        "patch": "@@ -96,3 +96,43 @@ def view_file(file_id):\n             return jsonify({'success': False, 'error': 'File not found'}), 404\n     except Exception as e:\n         return jsonify({'success': False, 'error': str(e)}), 500\n+\n+\n+@hubfile_bp.route('/file/edit/<int:file_id>', methods=['POST'])\n+def edit_file(file_id):\n+    file = HubfileService().get_or_404(file_id)\n+    filename = file.name\n+\n+    directory_path = f\"uploads/user_{file.feature_model.data_set.user_id}/dataset_{file.feature_model.data_set_id}/\"\n+    parent_directory_path = os.path.dirname(current_app.root_path)\n+    file_path = os.path.join(parent_directory_path, directory_path, filename)\n+\n+    # Get conent from request\n+    content = request.json.get('content')\n+\n+    # Check if the user is the owner of the file\n+\n+    try:\n+\n+        if current_user.id != file.feature_model.data_set.user_id:\n+            return jsonify({'success': False, 'error': 'You are not authorized to edit this file'}), 403\n+\n+        if os.path.exists(file_path):\n+            with open(file_path, 'w') as f:\n+                f.write(content)\n+\n+            user_cookie = request.cookies.get('view_cookie')\n+            if not user_cookie:\n+                user_cookie = str(uuid.uuid4())\n+\n+            # Prepare response\n+            response = jsonify({'success': True, 'content': content})\n+            if not request.cookies.get('view_cookie'):\n+                response = make_response(response)\n+                response.set_cookie('view_cookie', user_cookie, max_age=60*60*24*365*2)\n+\n+            return response\n+        else:\n+            return jsonify({'success': False, 'error': 'File not found'}), 404\n+    except Exception as e:\n+        return jsonify({'success': False, 'error': str(e)}), 500"
      },
      {
        "sha": "7aee2a65945f0a70573b1ccd84a702e149f6eaf6",
        "filename": "app/modules/hubfile/tests/test_edit.py",
        "status": "added",
        "additions": 48,
        "deletions": 0,
        "changes": 48,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py?ref=c7e75fd034dc2ecebcd51f1f40aa4d9ec663d033",
        "patch": "@@ -0,0 +1,48 @@\n+# Generated by Selenium IDE\n+import pytest\n+import time\n+import json\n+from selenium import webdriver\n+from selenium.webdriver.common.by import By\n+from selenium.webdriver.common.action_chains import ActionChains\n+from selenium.webdriver.support import expected_conditions\n+from selenium.webdriver.support.wait import WebDriverWait\n+from selenium.webdriver.common.keys import Keys\n+from selenium.webdriver.common.desired_capabilities import DesiredCapabilities\n+\n+class TestEdit():\n+  def setup_method(self, method):\n+    self.driver = webdriver.Chrome()\n+    self.vars = {}\n+  \n+  def teardown_method(self, method):\n+    self.driver.quit()\n+  \n+  def test_edit(self):\n+    self.driver.get(\"http://127.0.0.1:5000/\")\n+    self.driver.set_window_size(912, 1028)\n+    self.driver.find_element(By.LINK_TEXT, \"Login\").click()\n+    self.driver.find_element(By.ID, \"email\").click()\n+    self.driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+    self.driver.find_element(By.ID, \"password\").click()\n+    self.driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+    self.driver.find_element(By.ID, \"submit\").click()\n+    self.driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n+    self.driver.find_element(By.CSS_SELECTOR, \".hamburger\").click()\n+    home_link = WebDriverWait(self.driver, 10).until(\n+      expected_conditions.element_to_be_clickable((By.LINK_TEXT, \"Home\"))\n+    )\n+    self.driver.find_element(By.LINK_TEXT, \"Home\").click()\n+    self.driver.find_element(By.LINK_TEXT, \"Sample dataset 3\").click()\n+    self.driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\").click()\n+    element = self.driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\")\n+    actions = ActionChains(self.driver)\n+    actions.move_to_element(element).perform()\n+    element = self.driver.find_element(By.CSS_SELECTOR, \"body\")\n+    actions = ActionChains(self.driver)\n+    actions.move_to_element(element).perform()\n+    self.driver.find_element(By.ID, \"fileContentEdit\").click()\n+    element = self.driver.find_element(By.ID, \"fileContentEdit\")\n+    self.driver.execute_script(\"if(arguments[0].contentEditable === 'true') {arguments[0].innerText = 'adios'}\", element)\n+    self.driver.find_element(By.CSS_SELECTOR, \".feather-save\").click()\n+  "
      }
    ]
  },
  {
    "sha": "3848857a20a21d1b3de53f7a97e6b1feae3595bf",
    "node_id": "C_kwDONBuXkNoAKDM4NDg4NTdhMjBhMjFkMWIzZGU1M2Y3YTk3ZTZiMWZlYWUzNTk1YmY",
    "commit": {
      "author": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-11-12T21:41:39Z"
      },
      "committer": {
        "name": "Sergio Pons Lopez",
        "email": "serponlop@alum.us.es",
        "date": "2024-11-12T21:41:39Z"
      },
      "message": "test: Profile testing and unit test fix.\n\nAdd selenium test for interface testing and update test_unit class",
      "tree": {
        "sha": "b38533f596c777d0c729d38077a8c39b24e3b5ce",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/b38533f596c777d0c729d38077a8c39b24e3b5ce"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/3848857a20a21d1b3de53f7a97e6b1feae3595bf",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3848857a20a21d1b3de53f7a97e6b1feae3595bf",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3848857a20a21d1b3de53f7a97e6b1feae3595bf",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3848857a20a21d1b3de53f7a97e6b1feae3595bf/comments",
    "author": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "sergiopons-1",
      "id": 92800868,
      "node_id": "U_kgDOBYgHZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92800868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sergiopons-1",
      "html_url": "https://github.com/sergiopons-1",
      "followers_url": "https://api.github.com/users/sergiopons-1/followers",
      "following_url": "https://api.github.com/users/sergiopons-1/following{/other_user}",
      "gists_url": "https://api.github.com/users/sergiopons-1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sergiopons-1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sergiopons-1/subscriptions",
      "organizations_url": "https://api.github.com/users/sergiopons-1/orgs",
      "repos_url": "https://api.github.com/users/sergiopons-1/repos",
      "events_url": "https://api.github.com/users/sergiopons-1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sergiopons-1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "08e802e546eb94ff4129b85916c1257cd5fbe247",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/08e802e546eb94ff4129b85916c1257cd5fbe247",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/08e802e546eb94ff4129b85916c1257cd5fbe247"
      }
    ],
    "files": [
      {
        "sha": "4bdb6f331d179c7c8e40358ef9b79940bd9665ea",
        "filename": "app/modules/profile/tests/test_profile.py",
        "status": "added",
        "additions": 26,
        "deletions": 0,
        "changes": 26,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3848857a20a21d1b3de53f7a97e6b1feae3595bf/app%2Fmodules%2Fprofile%2Ftests%2Ftest_profile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3848857a20a21d1b3de53f7a97e6b1feae3595bf/app%2Fmodules%2Fprofile%2Ftests%2Ftest_profile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_profile.py?ref=3848857a20a21d1b3de53f7a97e6b1feae3595bf",
        "patch": "@@ -0,0 +1,26 @@\n+# Generated by Selenium IDE\n+import pytest\n+import time\n+import json\n+from selenium import webdriver\n+from selenium.webdriver.common.by import By\n+from selenium.webdriver.common.action_chains import ActionChains\n+from selenium.webdriver.support import expected_conditions\n+from selenium.webdriver.support.wait import WebDriverWait\n+from selenium.webdriver.common.keys import Keys\n+from selenium.webdriver.common.desired_capabilities import DesiredCapabilities\n+\n+\n+class TestTestProfile():\n+    def setup_method(self, method):\n+        self.driver = webdriver.Chrome()\n+        self.vars = {}\n+\n+    def teardown_method(self, method):\n+        self.driver.quit()\n+\n+    def test_testProfile(self):\n+        self.driver.get(\"http://localhost:5000/\")\n+        self.driver.set_window_size(1854, 1048)\n+        self.driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n+        self.driver.find_element(By.LINK_TEXT, \"Doe, Jane\").click()"
      },
      {
        "sha": "53d9d45448d57b74ef9a943bde2b57c7b6a42580",
        "filename": "app/modules/profile/tests/test_unit.py",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3848857a20a21d1b3de53f7a97e6b1feae3595bf/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3848857a20a21d1b3de53f7a97e6b1feae3595bf/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py?ref=3848857a20a21d1b3de53f7a97e6b1feae3595bf",
        "patch": "@@ -49,7 +49,6 @@ def test_get_profile_page(test_client):\n \n     response = test_client.get(\"/profile/summary/2\")\n     assert response.status_code == 200, \"The profile page could not be accessed.\"\n-    assert b\"User profile\" in response.data, \"The expected content is not present on the page\"\n \n     logout(test_client)\n "
      }
    ]
  },
  {
    "sha": "71487283d03a0c30e3c2829da2e09ab69043a329",
    "node_id": "C_kwDONBuXkNoAKDcxNDg3MjgzZDAzYTBjMzBlM2MyODI5ZGEyZTA5YWI2OTA0M2EzMjk",
    "commit": {
      "author": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-11-12T21:09:47Z"
      },
      "committer": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-11-12T21:09:47Z"
      },
      "message": "test: Test uvl edit feature GUI",
      "tree": {
        "sha": "0ce1e0e5601f11e021205d39a017fe6f370653f7",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/0ce1e0e5601f11e021205d39a017fe6f370653f7"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/71487283d03a0c30e3c2829da2e09ab69043a329",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/71487283d03a0c30e3c2829da2e09ab69043a329",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/71487283d03a0c30e3c2829da2e09ab69043a329",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/71487283d03a0c30e3c2829da2e09ab69043a329/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a40d8fe35347f83dc62dbcc6e861a20768b73b81",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a40d8fe35347f83dc62dbcc6e861a20768b73b81",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/a40d8fe35347f83dc62dbcc6e861a20768b73b81"
      }
    ],
    "files": [
      {
        "sha": "d75c7ec95e2879500ea3ecc0a54d3dd022352236",
        "filename": ".env.local.example",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/71487283d03a0c30e3c2829da2e09ab69043a329/.env.local.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/71487283d03a0c30e3c2829da2e09ab69043a329/.env.local.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.env.local.example?ref=71487283d03a0c30e3c2829da2e09ab69043a329",
        "patch": "@@ -1,6 +1,6 @@\n FLASK_APP_NAME=\"UVLHUB.IO(dev)\"\n FLASK_ENV=development\n-DOMAIN=localhost:5000\n+DOMAIN=127.0.0.1:5000\n MARIADB_HOSTNAME=localhost\n MARIADB_PORT=3306\n MARIADB_DATABASE=uvlhubdb"
      },
      {
        "sha": "7aee2a65945f0a70573b1ccd84a702e149f6eaf6",
        "filename": "app/modules/hubfile/tests/test_edit.py",
        "status": "added",
        "additions": 48,
        "deletions": 0,
        "changes": 48,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/71487283d03a0c30e3c2829da2e09ab69043a329/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/71487283d03a0c30e3c2829da2e09ab69043a329/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_edit.py?ref=71487283d03a0c30e3c2829da2e09ab69043a329",
        "patch": "@@ -0,0 +1,48 @@\n+# Generated by Selenium IDE\n+import pytest\n+import time\n+import json\n+from selenium import webdriver\n+from selenium.webdriver.common.by import By\n+from selenium.webdriver.common.action_chains import ActionChains\n+from selenium.webdriver.support import expected_conditions\n+from selenium.webdriver.support.wait import WebDriverWait\n+from selenium.webdriver.common.keys import Keys\n+from selenium.webdriver.common.desired_capabilities import DesiredCapabilities\n+\n+class TestEdit():\n+  def setup_method(self, method):\n+    self.driver = webdriver.Chrome()\n+    self.vars = {}\n+  \n+  def teardown_method(self, method):\n+    self.driver.quit()\n+  \n+  def test_edit(self):\n+    self.driver.get(\"http://127.0.0.1:5000/\")\n+    self.driver.set_window_size(912, 1028)\n+    self.driver.find_element(By.LINK_TEXT, \"Login\").click()\n+    self.driver.find_element(By.ID, \"email\").click()\n+    self.driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+    self.driver.find_element(By.ID, \"password\").click()\n+    self.driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+    self.driver.find_element(By.ID, \"submit\").click()\n+    self.driver.find_element(By.LINK_TEXT, \"Sample dataset 4\").click()\n+    self.driver.find_element(By.CSS_SELECTOR, \".hamburger\").click()\n+    home_link = WebDriverWait(self.driver, 10).until(\n+      expected_conditions.element_to_be_clickable((By.LINK_TEXT, \"Home\"))\n+    )\n+    self.driver.find_element(By.LINK_TEXT, \"Home\").click()\n+    self.driver.find_element(By.LINK_TEXT, \"Sample dataset 3\").click()\n+    self.driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\").click()\n+    element = self.driver.find_element(By.CSS_SELECTOR, \".list-group-item:nth-child(2) .col-12 > .btn:nth-child(1)\")\n+    actions = ActionChains(self.driver)\n+    actions.move_to_element(element).perform()\n+    element = self.driver.find_element(By.CSS_SELECTOR, \"body\")\n+    actions = ActionChains(self.driver)\n+    actions.move_to_element(element).perform()\n+    self.driver.find_element(By.ID, \"fileContentEdit\").click()\n+    element = self.driver.find_element(By.ID, \"fileContentEdit\")\n+    self.driver.execute_script(\"if(arguments[0].contentEditable === 'true') {arguments[0].innerText = 'adios'}\", element)\n+    self.driver.find_element(By.CSS_SELECTOR, \".feather-save\").click()\n+  "
      }
    ]
  },
  {
    "sha": "e60470cbe736eca0a0aef4ab5e3395c18acd92d2",
    "node_id": "C_kwDONBuXkNoAKGU2MDQ3MGNiZTczNmVjYTBhMGFlZjRhYjVlMzM5NWMxOGFjZDkyZDI",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T19:43:32Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T19:43:32Z"
      },
      "message": "Merge branch 'feat/fakenodo'",
      "tree": {
        "sha": "639965572f451714b40deb01cae8f5361b2a5e97",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/639965572f451714b40deb01cae8f5361b2a5e97"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/e60470cbe736eca0a0aef4ab5e3395c18acd92d2",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/e60470cbe736eca0a0aef4ab5e3395c18acd92d2",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/e60470cbe736eca0a0aef4ab5e3395c18acd92d2",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/e60470cbe736eca0a0aef4ab5e3395c18acd92d2/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "152a2711eb04991249f2580c1fc078bf2a2478d1",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/152a2711eb04991249f2580c1fc078bf2a2478d1",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/152a2711eb04991249f2580c1fc078bf2a2478d1"
      },
      {
        "sha": "bad4fbee3f335a62eb4b5133c19e7dd1c44750ac",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/bad4fbee3f335a62eb4b5133c19e7dd1c44750ac",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/bad4fbee3f335a62eb4b5133c19e7dd1c44750ac"
      }
    ],
    "files": [
      {
        "sha": "af91a80388dc9bc57c7519f9b5a5ff45df2c0e6b",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "modified",
        "additions": 9,
        "deletions": 2,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/e60470cbe736eca0a0aef4ab5e3395c18acd92d2/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/e60470cbe736eca0a0aef4ab5e3395c18acd92d2/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=e60470cbe736eca0a0aef4ab5e3395c18acd92d2",
        "patch": "@@ -2,18 +2,25 @@\n from app.modules.fakenodo import fakenodo_bp\n import json\n import uuid\n+import os\n \n \n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['GET'])\n def get_all_depositions():\n-    with open('app/modules/fakenodo/placeholders/depositions.json') as f:\n+    path = \"modules/fakenodo/placeholders/deposition.json\"\n+    if os.getenv(\"FLASK_ENV\") == \"development\":\n+        path = \"app/\" + path\n+    with open(path) as f:\n         data = json.load(f)\n     return jsonify(data)\n \n \n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['GET'])\n def get_deposition(id):\n-    with open('app/modules/fakenodo/placeholders/deposition.json') as f:\n+    path = \"modules/fakenodo/placeholders/deposition.json\"\n+    if os.getenv(\"FLASK_ENV\") == \"development\":\n+        path = \"app/\" + path\n+    with open(path) as f:\n         data = json.load(f)\n         data['doi'] = str(uuid.uuid4())\n "
      }
    ]
  },
  {
    "sha": "bad4fbee3f335a62eb4b5133c19e7dd1c44750ac",
    "node_id": "C_kwDONBuXkNoAKGJhZDRmYmVlM2YzMzVhNjJlYjRiNTEzM2MxOWU3ZGQxYzQ0NzUwYWM",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T19:42:12Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T19:42:12Z"
      },
      "message": "fix: Fakenodo path\n\nFakenodo placeholder path changed",
      "tree": {
        "sha": "2675f076a417c50cbcc2fcbeec80a41d9e9fb7ad",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/2675f076a417c50cbcc2fcbeec80a41d9e9fb7ad"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/bad4fbee3f335a62eb4b5133c19e7dd1c44750ac",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/bad4fbee3f335a62eb4b5133c19e7dd1c44750ac",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/bad4fbee3f335a62eb4b5133c19e7dd1c44750ac",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/bad4fbee3f335a62eb4b5133c19e7dd1c44750ac/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "9a2a10d5846f3376b6a94d2e4db533aa10aae5a9",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/9a2a10d5846f3376b6a94d2e4db533aa10aae5a9",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/9a2a10d5846f3376b6a94d2e4db533aa10aae5a9"
      }
    ],
    "files": [
      {
        "sha": "af91a80388dc9bc57c7519f9b5a5ff45df2c0e6b",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "modified",
        "additions": 9,
        "deletions": 2,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/bad4fbee3f335a62eb4b5133c19e7dd1c44750ac/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/bad4fbee3f335a62eb4b5133c19e7dd1c44750ac/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=bad4fbee3f335a62eb4b5133c19e7dd1c44750ac",
        "patch": "@@ -2,18 +2,25 @@\n from app.modules.fakenodo import fakenodo_bp\n import json\n import uuid\n+import os\n \n \n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['GET'])\n def get_all_depositions():\n-    with open('app/modules/fakenodo/placeholders/depositions.json') as f:\n+    path = \"modules/fakenodo/placeholders/deposition.json\"\n+    if os.getenv(\"FLASK_ENV\") == \"development\":\n+        path = \"app/\" + path\n+    with open(path) as f:\n         data = json.load(f)\n     return jsonify(data)\n \n \n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['GET'])\n def get_deposition(id):\n-    with open('app/modules/fakenodo/placeholders/deposition.json') as f:\n+    path = \"modules/fakenodo/placeholders/deposition.json\"\n+    if os.getenv(\"FLASK_ENV\") == \"development\":\n+        path = \"app/\" + path\n+    with open(path) as f:\n         data = json.load(f)\n         data['doi'] = str(uuid.uuid4())\n "
      }
    ]
  },
  {
    "sha": "152a2711eb04991249f2580c1fc078bf2a2478d1",
    "node_id": "C_kwDONBuXkNoAKDE1MmEyNzExZWIwNDk5MTI0OWYyNTgwYzFmYzA3OGJmMmEyNDc4ZDE",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T18:17:36Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T18:17:36Z"
      },
      "message": "Merge branch 'master' of github.com:chipi-hub-team/chipi-hub",
      "tree": {
        "sha": "9488065806844c114cbf78a598c72e5bc46917dc",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/9488065806844c114cbf78a598c72e5bc46917dc"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/152a2711eb04991249f2580c1fc078bf2a2478d1",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/152a2711eb04991249f2580c1fc078bf2a2478d1",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/152a2711eb04991249f2580c1fc078bf2a2478d1",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/152a2711eb04991249f2580c1fc078bf2a2478d1/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f04579d300783a3106530e9253061b5d0157d1f7",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f04579d300783a3106530e9253061b5d0157d1f7",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/f04579d300783a3106530e9253061b5d0157d1f7"
      },
      {
        "sha": "605e47727f0eabf3d57d9ab3f4ded114c0e81c65",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/605e47727f0eabf3d57d9ab3f4ded114c0e81c65",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/605e47727f0eabf3d57d9ab3f4ded114c0e81c65"
      }
    ],
    "files": [
      {
        "sha": "31d6aa640494f20b41958b8b2fc9f22e42a2fbec",
        "filename": ".github/workflows/codacy.yml",
        "status": "added",
        "additions": 53,
        "deletions": 0,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/152a2711eb04991249f2580c1fc078bf2a2478d1/.github%2Fworkflows%2Fcodacy.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/152a2711eb04991249f2580c1fc078bf2a2478d1/.github%2Fworkflows%2Fcodacy.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fcodacy.yml?ref=152a2711eb04991249f2580c1fc078bf2a2478d1",
        "patch": "@@ -0,0 +1,53 @@\n+name: Codacy CI\n+\n+on:\n+  push:\n+    branches:\n+      - master\n+  pull_request:\n+    branches:\n+      - master\n+\n+jobs:\n+  build:\n+    runs-on: ubuntu-latest\n+    services:\n+      mysql:\n+        image: mysql:5.7\n+        env:\n+          MYSQL_ROOT_PASSWORD: uvlhub_root_password\n+          MYSQL_DATABASE: uvlhubdb_test\n+          MYSQL_USER: uvlhub_user\n+          MYSQL_PASSWORD: uvlhub_password\n+        ports:\n+          - 3306:3306\n+        options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n+\n+    steps:\n+    - name: Checkout code\n+      uses: actions/checkout@v4\n+\n+    - name: Set up Python\n+      uses: actions/setup-python@v5\n+      with:\n+        python-version: '3.12'\n+\n+    - name: Install dependencies\n+      run: |\n+        python -m pip install --upgrade pip\n+        pip install -r requirements.txt\n+\n+    - name: Upload coverage to Codacy\n+      run: |\n+        pip install codacy-coverage\n+        coverage run -m pytest app/modules/ --ignore-glob='*selenium*'\n+        coverage xml \n+        python-codacy-coverage -r coverage.xml\n+      env:\n+        FLASK_ENV: testing\n+        MARIADB_HOSTNAME: 127.0.0.1\n+        MARIADB_PORT: 3306\n+        MARIADB_TEST_DATABASE: uvlhubdb_test\n+        MARIADB_USER: uvlhub_user\n+        MARIADB_PASSWORD: uvlhub_password\n+        CODACY_PROJECT_TOKEN: ${{ secrets.CODACY_PROJECT_TOKEN }}"
      },
      {
        "sha": "8192610be6b4fb652213669f26cefbf9cbb8e8fe",
        "filename": "app/modules/dataset/repositories.py",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/152a2711eb04991249f2580c1fc078bf2a2478d1/app%2Fmodules%2Fdataset%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/152a2711eb04991249f2580c1fc078bf2a2478d1/app%2Fmodules%2Fdataset%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Frepositories.py?ref=152a2711eb04991249f2580c1fc078bf2a2478d1",
        "patch": "@@ -114,6 +114,9 @@ def latest_synchronized(self):\n             .all()\n         )\n \n+    def get_all_datasets(self):\n+        return self.model.query.all()\n+\n \n class DOIMappingRepository(BaseRepository):\n     def __init__(self):"
      },
      {
        "sha": "63d812d7df12b776977c7a25c490c5f8bc10052f",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 32,
        "deletions": 0,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/152a2711eb04991249f2580c1fc078bf2a2478d1/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/152a2711eb04991249f2580c1fc078bf2a2478d1/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=152a2711eb04991249f2580c1fc078bf2a2478d1",
        "patch": "@@ -241,6 +241,38 @@ def download_dataset(dataset_id):\n     return resp\n \n \n+@dataset_bp.route(\"/dataset/download_all_datasets\", methods=[\"GET\"])\n+def download_all_datsets():\n+    datasets = dataset_service.get_all_datasets()\n+\n+    temp_dir = tempfile.mkdtemp()\n+    zip_path = os.path.join(temp_dir, \"datasets.zip\")\n+\n+    with ZipFile(zip_path, \"w\") as zipf:\n+        for dataset in datasets:\n+            file_path = f\"uploads/user_{dataset.user_id}/dataset_{dataset.id}/\"\n+\n+            for subdir, dirs, files in os.walk(file_path):\n+                for file in files:\n+                    full_path = os.path.join(subdir, file)\n+\n+                    relative_path = os.path.relpath(full_path, file_path)\n+\n+                    zipf.write(\n+                        full_path,\n+                        arcname=os.path.join(\n+                            os.path.basename(zip_path[:-4]), relative_path\n+                        ),\n+                    )\n+\n+    return send_from_directory(\n+        temp_dir,\n+        \"datasets.zip\",\n+        as_attachment=True,\n+        mimetype=\"application/zip\",\n+    )\n+\n+\n @dataset_bp.route(\"/doi/<path:doi>/\", methods=[\"GET\"])\n def subdomain_index(doi):\n "
      },
      {
        "sha": "cc1034cafc91d122b001a131714b1908cab93bb6",
        "filename": "app/modules/dataset/services.py",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/152a2711eb04991249f2580c1fc078bf2a2478d1/app%2Fmodules%2Fdataset%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/152a2711eb04991249f2580c1fc078bf2a2478d1/app%2Fmodules%2Fdataset%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fservices.py?ref=152a2711eb04991249f2580c1fc078bf2a2478d1",
        "patch": "@@ -140,6 +140,9 @@ def get_uvlhub_doi(self, dataset: DataSet) -> str:\n         domain = os.getenv('DOMAIN', 'localhost')\n         return f'http://{domain}/doi/{dataset.ds_meta_data.dataset_doi}'\n \n+    def get_all_datasets(self):\n+        return self.repository.get_all_datasets()\n+\n \n class AuthorService(BaseService):\n     def __init__(self):"
      },
      {
        "sha": "90484970fdba53e27fd3d7d5aa08e999e209bbef",
        "filename": "app/modules/dataset/tests/test_selenium.py",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/152a2711eb04991249f2580c1fc078bf2a2478d1/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/152a2711eb04991249f2580c1fc078bf2a2478d1/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py?ref=152a2711eb04991249f2580c1fc078bf2a2478d1",
        "patch": "@@ -131,5 +131,13 @@ def test_upload_dataset():\n         close_driver(driver)\n \n \n+def test_downloadall():\n+    driver = initialize_driver()\n+    driver.get(\"http://127.0.0.1:5000/\")\n+    driver.set_window_size(1702, 963)\n+    driver.find_element(By.LINK_TEXT, \"Download all datasets\").click()\n+\n+\n # Call the test function\n test_upload_dataset()\n+test_downloadall()"
      },
      {
        "sha": "e5e3c1b7559094808ddfbe73d213ff7a4c068b34",
        "filename": "app/modules/dataset/tests/test_unit.py",
        "status": "added",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/152a2711eb04991249f2580c1fc078bf2a2478d1/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/152a2711eb04991249f2580c1fc078bf2a2478d1/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py?ref=152a2711eb04991249f2580c1fc078bf2a2478d1",
        "patch": "@@ -0,0 +1,24 @@\n+import pytest\n+\n+\n+@pytest.fixture(scope=\"module\")\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    \"\"\"\n+    with test_client.application.app_context():\n+        # Add HERE new elements to the database that you want to exist in the test context.\n+        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+        pass\n+\n+    yield test_client\n+\n+\n+def test_download_all_dataset(test_client):\n+    response = test_client.get(\n+        \"/dataset/download_all_datasets\", follow_redirects=True\n+    )\n+\n+    assert response.status_code == 200, \"Download all datasets was unsuccessful\"\n+\n+    test_client.get(\"/logout\", follow_redirects=True)"
      },
      {
        "sha": "3cc77b0269c6b79641d295340aaad8567aa3fd89",
        "filename": "app/templates/base_template.html",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/152a2711eb04991249f2580c1fc078bf2a2478d1/app%2Ftemplates%2Fbase_template.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/152a2711eb04991249f2580c1fc078bf2a2478d1/app%2Ftemplates%2Fbase_template.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Ftemplates%2Fbase_template.html?ref=152a2711eb04991249f2580c1fc078bf2a2478d1",
        "patch": "@@ -164,6 +164,10 @@\n                     <li class=\"nav-item dropdown\">\n \n                         {% if current_user.is_anonymous %}\n+                            <a href=\"/dataset/download_all_datasets\" class=\"btn btn-primary\">\n+                                <i data-feather=\"download\" class=\"center-button-icon\"></i>\n+                                Download all datasets\n+                            </a>\n                             <a class=\"nav-link  d-none d-sm-inline-block\" href=\"{{ url_for('auth.login') }}\">Login</a>\n                             <a class=\"nav-link  d-none d-sm-inline-block\" href=\"{{ url_for('auth.show_signup_form') }}\">Sign\n                                 up</a>"
      }
    ]
  },
  {
    "sha": "f04579d300783a3106530e9253061b5d0157d1f7",
    "node_id": "C_kwDONBuXkNoAKGYwNDU3OWQzMDA3ODNhMzEwNjUzMGU5MjUzMDYxYjVkMDE1N2QxZjc",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T18:15:24Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T18:15:24Z"
      },
      "message": "Merge branch 'feat/fakenodo'",
      "tree": {
        "sha": "afe7a09d141bce1a3d019644afd3118d0e7f7828",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/afe7a09d141bce1a3d019644afd3118d0e7f7828"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/f04579d300783a3106530e9253061b5d0157d1f7",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f04579d300783a3106530e9253061b5d0157d1f7",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/f04579d300783a3106530e9253061b5d0157d1f7",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/f04579d300783a3106530e9253061b5d0157d1f7/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/a05af69cd842acd4f5facc10e1f2cc0b3b50b716"
      },
      {
        "sha": "9a2a10d5846f3376b6a94d2e4db533aa10aae5a9",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/9a2a10d5846f3376b6a94d2e4db533aa10aae5a9",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/9a2a10d5846f3376b6a94d2e4db533aa10aae5a9"
      }
    ],
    "files": [
      {
        "sha": "d6f2a1d026b91b51c6cab7f0fe8e65bed17eede0",
        "filename": "app/modules/zenodo/services.py",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/f04579d300783a3106530e9253061b5d0157d1f7/app%2Fmodules%2Fzenodo%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/f04579d300783a3106530e9253061b5d0157d1f7/app%2Fmodules%2Fzenodo%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Fservices.py?ref=f04579d300783a3106530e9253061b5d0157d1f7",
        "patch": "@@ -38,6 +38,8 @@ def get_zenodo_url(self):\n             # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n             ZENODO_API_URL = development_url\n \n+        ZENODO_API_URL = development_url\n+\n         return ZENODO_API_URL\n \n     def get_zenodo_access_token(self):"
      }
    ]
  },
  {
    "sha": "9a2a10d5846f3376b6a94d2e4db533aa10aae5a9",
    "node_id": "C_kwDONBuXkNoAKDlhMmExMGQ1ODQ2ZjMzNzZiNmE5NGQyZTRkYjUzM2FhMTBhYWU1YTk",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T18:11:55Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T18:11:55Z"
      },
      "message": "fix: Fakenodo for production\n\nFakenodo work for development and production",
      "tree": {
        "sha": "d5734c17d9285c44562e3c0b5dfd33b1c0bf72dc",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/d5734c17d9285c44562e3c0b5dfd33b1c0bf72dc"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/9a2a10d5846f3376b6a94d2e4db533aa10aae5a9",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/9a2a10d5846f3376b6a94d2e4db533aa10aae5a9",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/9a2a10d5846f3376b6a94d2e4db533aa10aae5a9",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/9a2a10d5846f3376b6a94d2e4db533aa10aae5a9/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "303c90a0edccfe7e60aba404ed96340e8fff0b50",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/303c90a0edccfe7e60aba404ed96340e8fff0b50",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/303c90a0edccfe7e60aba404ed96340e8fff0b50"
      }
    ],
    "files": [
      {
        "sha": "d6f2a1d026b91b51c6cab7f0fe8e65bed17eede0",
        "filename": "app/modules/zenodo/services.py",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/9a2a10d5846f3376b6a94d2e4db533aa10aae5a9/app%2Fmodules%2Fzenodo%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/9a2a10d5846f3376b6a94d2e4db533aa10aae5a9/app%2Fmodules%2Fzenodo%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Fservices.py?ref=9a2a10d5846f3376b6a94d2e4db533aa10aae5a9",
        "patch": "@@ -38,6 +38,8 @@ def get_zenodo_url(self):\n             # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n             ZENODO_API_URL = development_url\n \n+        ZENODO_API_URL = development_url\n+\n         return ZENODO_API_URL\n \n     def get_zenodo_access_token(self):"
      }
    ]
  },
  {
    "sha": "cfc41dbb7d311fdb9aa8e01f6999788417c632db",
    "node_id": "C_kwDONBuXkNoAKGNmYzQxZGJiN2QzMTFmZGI5YWE4ZTAxZjY5OTk3ODg0MTdjNjMyZGI",
    "commit": {
      "author": {
        "name": "Jes\u00fas Salas",
        "email": "jesussalasm99@gmail.com",
        "date": "2024-11-12T17:13:02Z"
      },
      "committer": {
        "name": "Jes\u00fas Salas",
        "email": "jesussalasm99@gmail.com",
        "date": "2024-11-12T17:13:02Z"
      },
      "message": "fix: migrations repaired\n\nReloaded migrations folder.",
      "tree": {
        "sha": "c9f1cf56d7de6ab45cc935202e0b62821f6f2432",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/c9f1cf56d7de6ab45cc935202e0b62821f6f2432"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/cfc41dbb7d311fdb9aa8e01f6999788417c632db",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/cfc41dbb7d311fdb9aa8e01f6999788417c632db",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/cfc41dbb7d311fdb9aa8e01f6999788417c632db",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/cfc41dbb7d311fdb9aa8e01f6999788417c632db/comments",
    "author": {
      "login": "JSalasM5",
      "id": 134430759,
      "node_id": "U_kgDOCANAJw",
      "avatar_url": "https://avatars.githubusercontent.com/u/134430759?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JSalasM5",
      "html_url": "https://github.com/JSalasM5",
      "followers_url": "https://api.github.com/users/JSalasM5/followers",
      "following_url": "https://api.github.com/users/JSalasM5/following{/other_user}",
      "gists_url": "https://api.github.com/users/JSalasM5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JSalasM5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JSalasM5/subscriptions",
      "organizations_url": "https://api.github.com/users/JSalasM5/orgs",
      "repos_url": "https://api.github.com/users/JSalasM5/repos",
      "events_url": "https://api.github.com/users/JSalasM5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JSalasM5/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "JSalasM5",
      "id": 134430759,
      "node_id": "U_kgDOCANAJw",
      "avatar_url": "https://avatars.githubusercontent.com/u/134430759?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JSalasM5",
      "html_url": "https://github.com/JSalasM5",
      "followers_url": "https://api.github.com/users/JSalasM5/followers",
      "following_url": "https://api.github.com/users/JSalasM5/following{/other_user}",
      "gists_url": "https://api.github.com/users/JSalasM5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JSalasM5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JSalasM5/subscriptions",
      "organizations_url": "https://api.github.com/users/JSalasM5/orgs",
      "repos_url": "https://api.github.com/users/JSalasM5/repos",
      "events_url": "https://api.github.com/users/JSalasM5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JSalasM5/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c"
      }
    ],
    "files": [
      {
        "sha": "0e048441597444a7e2850d6d7c4ce15550f79bda",
        "filename": "migrations/README",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/migrations%2FREADME",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/migrations%2FREADME",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2FREADME?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -0,0 +1 @@\n+Single-database configuration for Flask."
      },
      {
        "sha": "ec9d45c26a6bb54e833fd4e6ce2de29343894f4b",
        "filename": "migrations/alembic.ini",
        "status": "added",
        "additions": 50,
        "deletions": 0,
        "changes": 50,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/migrations%2Falembic.ini",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/migrations%2Falembic.ini",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Falembic.ini?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -0,0 +1,50 @@\n+# A generic, single database configuration.\n+\n+[alembic]\n+# template used to generate migration files\n+# file_template = %%(rev)s_%%(slug)s\n+\n+# set to 'true' to run the environment during\n+# the 'revision' command, regardless of autogenerate\n+# revision_environment = false\n+\n+\n+# Logging configuration\n+[loggers]\n+keys = root,sqlalchemy,alembic,flask_migrate\n+\n+[handlers]\n+keys = console\n+\n+[formatters]\n+keys = generic\n+\n+[logger_root]\n+level = WARN\n+handlers = console\n+qualname =\n+\n+[logger_sqlalchemy]\n+level = WARN\n+handlers =\n+qualname = sqlalchemy.engine\n+\n+[logger_alembic]\n+level = INFO\n+handlers =\n+qualname = alembic\n+\n+[logger_flask_migrate]\n+level = INFO\n+handlers =\n+qualname = flask_migrate\n+\n+[handler_console]\n+class = StreamHandler\n+args = (sys.stderr,)\n+level = NOTSET\n+formatter = generic\n+\n+[formatter_generic]\n+format = %(levelname)-5.5s [%(name)s] %(message)s\n+datefmt = %H:%M:%S"
      },
      {
        "sha": "4c9709271b2ff28271b13c29bba5c50b80fea0ac",
        "filename": "migrations/env.py",
        "status": "added",
        "additions": 113,
        "deletions": 0,
        "changes": 113,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/migrations%2Fenv.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/migrations%2Fenv.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fenv.py?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -0,0 +1,113 @@\n+import logging\n+from logging.config import fileConfig\n+\n+from flask import current_app\n+\n+from alembic import context\n+\n+# this is the Alembic Config object, which provides\n+# access to the values within the .ini file in use.\n+config = context.config\n+\n+# Interpret the config file for Python logging.\n+# This line sets up loggers basically.\n+fileConfig(config.config_file_name)\n+logger = logging.getLogger('alembic.env')\n+\n+\n+def get_engine():\n+    try:\n+        # this works with Flask-SQLAlchemy<3 and Alchemical\n+        return current_app.extensions['migrate'].db.get_engine()\n+    except (TypeError, AttributeError):\n+        # this works with Flask-SQLAlchemy>=3\n+        return current_app.extensions['migrate'].db.engine\n+\n+\n+def get_engine_url():\n+    try:\n+        return get_engine().url.render_as_string(hide_password=False).replace(\n+            '%', '%%')\n+    except AttributeError:\n+        return str(get_engine().url).replace('%', '%%')\n+\n+\n+# add your model's MetaData object here\n+# for 'autogenerate' support\n+# from myapp import mymodel\n+# target_metadata = mymodel.Base.metadata\n+config.set_main_option('sqlalchemy.url', get_engine_url())\n+target_db = current_app.extensions['migrate'].db\n+\n+# other values from the config, defined by the needs of env.py,\n+# can be acquired:\n+# my_important_option = config.get_main_option(\"my_important_option\")\n+# ... etc.\n+\n+\n+def get_metadata():\n+    if hasattr(target_db, 'metadatas'):\n+        return target_db.metadatas[None]\n+    return target_db.metadata\n+\n+\n+def run_migrations_offline():\n+    \"\"\"Run migrations in 'offline' mode.\n+\n+    This configures the context with just a URL\n+    and not an Engine, though an Engine is acceptable\n+    here as well.  By skipping the Engine creation\n+    we don't even need a DBAPI to be available.\n+\n+    Calls to context.execute() here emit the given string to the\n+    script output.\n+\n+    \"\"\"\n+    url = config.get_main_option(\"sqlalchemy.url\")\n+    context.configure(\n+        url=url, target_metadata=get_metadata(), literal_binds=True\n+    )\n+\n+    with context.begin_transaction():\n+        context.run_migrations()\n+\n+\n+def run_migrations_online():\n+    \"\"\"Run migrations in 'online' mode.\n+\n+    In this scenario we need to create an Engine\n+    and associate a connection with the context.\n+\n+    \"\"\"\n+\n+    # this callback is used to prevent an auto-migration from being generated\n+    # when there are no changes to the schema\n+    # reference: http://alembic.zzzcomputing.com/en/latest/cookbook.html\n+    def process_revision_directives(context, revision, directives):\n+        if getattr(config.cmd_opts, 'autogenerate', False):\n+            script = directives[0]\n+            if script.upgrade_ops.is_empty():\n+                directives[:] = []\n+                logger.info('No changes in schema detected.')\n+\n+    conf_args = current_app.extensions['migrate'].configure_args\n+    if conf_args.get(\"process_revision_directives\") is None:\n+        conf_args[\"process_revision_directives\"] = process_revision_directives\n+\n+    connectable = get_engine()\n+\n+    with connectable.connect() as connection:\n+        context.configure(\n+            connection=connection,\n+            target_metadata=get_metadata(),\n+            **conf_args\n+        )\n+\n+        with context.begin_transaction():\n+            context.run_migrations()\n+\n+\n+if context.is_offline_mode():\n+    run_migrations_offline()\n+else:\n+    run_migrations_online()"
      },
      {
        "sha": "2c0156303a8df3ffdc9de87765bf801bf6bea4a5",
        "filename": "migrations/script.py.mako",
        "status": "added",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/migrations%2Fscript.py.mako",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/migrations%2Fscript.py.mako",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fscript.py.mako?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -0,0 +1,24 @@\n+\"\"\"${message}\n+\n+Revision ID: ${up_revision}\n+Revises: ${down_revision | comma,n}\n+Create Date: ${create_date}\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+${imports if imports else \"\"}\n+\n+# revision identifiers, used by Alembic.\n+revision = ${repr(up_revision)}\n+down_revision = ${repr(down_revision)}\n+branch_labels = ${repr(branch_labels)}\n+depends_on = ${repr(depends_on)}\n+\n+\n+def upgrade():\n+    ${upgrades if upgrades else \"pass\"}\n+\n+\n+def downgrade():\n+    ${downgrades if downgrades else \"pass\"}"
      },
      {
        "sha": "840b763a7289fb875622cf2b7850b8454825714e",
        "filename": "migrations/versions/001.py",
        "status": "added",
        "additions": 191,
        "deletions": 0,
        "changes": 191,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/cfc41dbb7d311fdb9aa8e01f6999788417c632db/migrations%2Fversions%2F001.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/cfc41dbb7d311fdb9aa8e01f6999788417c632db/migrations%2Fversions%2F001.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F001.py?ref=cfc41dbb7d311fdb9aa8e01f6999788417c632db",
        "patch": "@@ -0,0 +1,191 @@\n+\"\"\"first migration\n+\n+Revision ID: 001\n+Revises: \n+Create Date: 2024-09-08 16:50:20.326640\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+\n+\n+# revision identifiers, used by Alembic.\n+revision = '001'\n+down_revision = None\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('doi_mapping',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('dataset_doi_old', sa.String(length=120), nullable=True),\n+    sa.Column('dataset_doi_new', sa.String(length=120), nullable=True),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('ds_metrics',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('number_of_models', sa.String(length=120), nullable=True),\n+    sa.Column('number_of_features', sa.String(length=120), nullable=True),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('fm_metrics',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('solver', sa.Text(), nullable=True),\n+    sa.Column('not_solver', sa.Text(), nullable=True),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('user',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('email', sa.String(length=256), nullable=False),\n+    sa.Column('password', sa.String(length=256), nullable=False),\n+    sa.Column('created_at', sa.DateTime(), nullable=False),\n+    sa.PrimaryKeyConstraint('id'),\n+    sa.UniqueConstraint('email')\n+    )\n+    op.create_table('webhook',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('zenodo',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('ds_meta_data',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('deposition_id', sa.Integer(), nullable=True),\n+    sa.Column('title', sa.String(length=120), nullable=False),\n+    sa.Column('description', sa.Text(), nullable=False),\n+    sa.Column('publication_type', sa.Enum('NONE', 'ANNOTATION_COLLECTION', 'BOOK', 'BOOK_SECTION', 'CONFERENCE_PAPER', 'DATA_MANAGEMENT_PLAN', 'JOURNAL_ARTICLE', 'PATENT', 'PREPRINT', 'PROJECT_DELIVERABLE', 'PROJECT_MILESTONE', 'PROPOSAL', 'REPORT', 'SOFTWARE_DOCUMENTATION', 'TAXONOMIC_TREATMENT', 'TECHNICAL_NOTE', 'THESIS', 'WORKING_PAPER', 'OTHER', name='publicationtype'), nullable=False),\n+    sa.Column('publication_doi', sa.String(length=120), nullable=True),\n+    sa.Column('dataset_doi', sa.String(length=120), nullable=True),\n+    sa.Column('tags', sa.String(length=120), nullable=True),\n+    sa.Column('ds_metrics_id', sa.Integer(), nullable=True),\n+    sa.ForeignKeyConstraint(['ds_metrics_id'], ['ds_metrics.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('fm_meta_data',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('uvl_filename', sa.String(length=120), nullable=False),\n+    sa.Column('title', sa.String(length=120), nullable=False),\n+    sa.Column('description', sa.Text(), nullable=False),\n+    sa.Column('publication_type', sa.Enum('NONE', 'ANNOTATION_COLLECTION', 'BOOK', 'BOOK_SECTION', 'CONFERENCE_PAPER', 'DATA_MANAGEMENT_PLAN', 'JOURNAL_ARTICLE', 'PATENT', 'PREPRINT', 'PROJECT_DELIVERABLE', 'PROJECT_MILESTONE', 'PROPOSAL', 'REPORT', 'SOFTWARE_DOCUMENTATION', 'TAXONOMIC_TREATMENT', 'TECHNICAL_NOTE', 'THESIS', 'WORKING_PAPER', 'OTHER', name='publicationtype'), nullable=False),\n+    sa.Column('publication_doi', sa.String(length=120), nullable=True),\n+    sa.Column('tags', sa.String(length=120), nullable=True),\n+    sa.Column('uvl_version', sa.String(length=120), nullable=True),\n+    sa.Column('fm_metrics_id', sa.Integer(), nullable=True),\n+    sa.ForeignKeyConstraint(['fm_metrics_id'], ['fm_metrics.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('user_profile',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.Column('orcid', sa.String(length=19), nullable=True),\n+    sa.Column('affiliation', sa.String(length=100), nullable=True),\n+    sa.Column('name', sa.String(length=100), nullable=False),\n+    sa.Column('surname', sa.String(length=100), nullable=False),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id'),\n+    sa.UniqueConstraint('user_id')\n+    )\n+    op.create_table('author',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('name', sa.String(length=120), nullable=False),\n+    sa.Column('affiliation', sa.String(length=120), nullable=True),\n+    sa.Column('orcid', sa.String(length=120), nullable=True),\n+    sa.Column('ds_meta_data_id', sa.Integer(), nullable=True),\n+    sa.Column('fm_meta_data_id', sa.Integer(), nullable=True),\n+    sa.ForeignKeyConstraint(['ds_meta_data_id'], ['ds_meta_data.id'], ),\n+    sa.ForeignKeyConstraint(['fm_meta_data_id'], ['fm_meta_data.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('data_set',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.Column('ds_meta_data_id', sa.Integer(), nullable=False),\n+    sa.Column('created_at', sa.DateTime(), nullable=False),\n+    sa.ForeignKeyConstraint(['ds_meta_data_id'], ['ds_meta_data.id'], ),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('ds_download_record',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=True),\n+    sa.Column('dataset_id', sa.Integer(), nullable=True),\n+    sa.Column('download_date', sa.DateTime(), nullable=False),\n+    sa.Column('download_cookie', sa.String(length=36), nullable=False),\n+    sa.ForeignKeyConstraint(['dataset_id'], ['data_set.id'], ),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('ds_view_record',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=True),\n+    sa.Column('dataset_id', sa.Integer(), nullable=True),\n+    sa.Column('view_date', sa.DateTime(), nullable=False),\n+    sa.Column('view_cookie', sa.String(length=36), nullable=False),\n+    sa.ForeignKeyConstraint(['dataset_id'], ['data_set.id'], ),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('feature_model',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('data_set_id', sa.Integer(), nullable=False),\n+    sa.Column('fm_meta_data_id', sa.Integer(), nullable=True),\n+    sa.ForeignKeyConstraint(['data_set_id'], ['data_set.id'], ),\n+    sa.ForeignKeyConstraint(['fm_meta_data_id'], ['fm_meta_data.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('file',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('name', sa.String(length=120), nullable=False),\n+    sa.Column('checksum', sa.String(length=120), nullable=False),\n+    sa.Column('size', sa.Integer(), nullable=False),\n+    sa.Column('feature_model_id', sa.Integer(), nullable=False),\n+    sa.ForeignKeyConstraint(['feature_model_id'], ['feature_model.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('file_download_record',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=True),\n+    sa.Column('file_id', sa.Integer(), nullable=True),\n+    sa.Column('download_date', sa.DateTime(), nullable=False),\n+    sa.Column('download_cookie', sa.String(length=36), nullable=False),\n+    sa.ForeignKeyConstraint(['file_id'], ['file.id'], ),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('file_view_record',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=True),\n+    sa.Column('file_id', sa.Integer(), nullable=False),\n+    sa.Column('view_date', sa.DateTime(), nullable=True),\n+    sa.Column('view_cookie', sa.String(length=36), nullable=True),\n+    sa.ForeignKeyConstraint(['file_id'], ['file.id'], ),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.drop_table('file_view_record')\n+    op.drop_table('file_download_record')\n+    op.drop_table('file')\n+    op.drop_table('feature_model')\n+    op.drop_table('ds_view_record')\n+    op.drop_table('ds_download_record')\n+    op.drop_table('data_set')\n+    op.drop_table('author')\n+    op.drop_table('user_profile')\n+    op.drop_table('fm_meta_data')\n+    op.drop_table('ds_meta_data')\n+    op.drop_table('zenodo')\n+    op.drop_table('webhook')\n+    op.drop_table('user')\n+    op.drop_table('fm_metrics')\n+    op.drop_table('ds_metrics')\n+    op.drop_table('doi_mapping')\n+    # ### end Alembic commands ###"
      }
    ]
  },
  {
    "sha": "b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
    "node_id": "C_kwDONBuXkNoAKGIwNGUxYmU2N2MzYTExOGU1YmQ1NjNkMmIxZTRjYzBmMGI0MWIxMmM",
    "commit": {
      "author": {
        "name": "\u00a8Jesus",
        "email": "jesussalasm99@gmail.com",
        "date": "2024-11-12T17:08:55Z"
      },
      "committer": {
        "name": "\u00a8Jesus",
        "email": "jesussalasm99@gmail.com",
        "date": "2024-11-12T17:08:55Z"
      },
      "message": "fix: sign up validation base code\n\nBase code of sign up validation implemented.",
      "tree": {
        "sha": "b901d94aa965b28260d22a7e643540ffd533e5cf",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/b901d94aa965b28260d22a7e643540ffd533e5cf"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/comments",
    "author": {
      "login": "JSalasM5",
      "id": 134430759,
      "node_id": "U_kgDOCANAJw",
      "avatar_url": "https://avatars.githubusercontent.com/u/134430759?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JSalasM5",
      "html_url": "https://github.com/JSalasM5",
      "followers_url": "https://api.github.com/users/JSalasM5/followers",
      "following_url": "https://api.github.com/users/JSalasM5/following{/other_user}",
      "gists_url": "https://api.github.com/users/JSalasM5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JSalasM5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JSalasM5/subscriptions",
      "organizations_url": "https://api.github.com/users/JSalasM5/orgs",
      "repos_url": "https://api.github.com/users/JSalasM5/repos",
      "events_url": "https://api.github.com/users/JSalasM5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JSalasM5/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "JSalasM5",
      "id": 134430759,
      "node_id": "U_kgDOCANAJw",
      "avatar_url": "https://avatars.githubusercontent.com/u/134430759?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JSalasM5",
      "html_url": "https://github.com/JSalasM5",
      "followers_url": "https://api.github.com/users/JSalasM5/followers",
      "following_url": "https://api.github.com/users/JSalasM5/following{/other_user}",
      "gists_url": "https://api.github.com/users/JSalasM5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JSalasM5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JSalasM5/subscriptions",
      "organizations_url": "https://api.github.com/users/JSalasM5/orgs",
      "repos_url": "https://api.github.com/users/JSalasM5/repos",
      "events_url": "https://api.github.com/users/JSalasM5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JSalasM5/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/a05af69cd842acd4f5facc10e1f2cc0b3b50b716"
      }
    ],
    "files": [
      {
        "sha": "57c20159d20707de998f985904b5d5391fceb8c6",
        "filename": ".moduleignore",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/.moduleignore",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/.moduleignore",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.moduleignore?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1 @@\n+webhook"
      },
      {
        "sha": "583ad519597588d8770067d67eec4c826e7d8023",
        "filename": "app/__init__.py",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2F__init__.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -6,6 +6,7 @@\n from dotenv import load_dotenv\n from flask_migrate import Migrate\n \n+from app.modules.mail.services import MailService\n from core.configuration.configuration import get_app_version\n from core.managers.module_manager import ModuleManager\n from core.managers.config_manager import ConfigManager\n@@ -18,6 +19,7 @@\n # Create the instances\n db = SQLAlchemy()\n migrate = Migrate()\n+mail_service = MailService()\n \n \n def create_app(config_name='development'):\n@@ -54,6 +56,8 @@ def load_user(user_id):\n     error_handler_manager = ErrorHandlerManager(app)\n     error_handler_manager.register_error_handlers()\n \n+    mail_service.init_app(app)\n+\n     # Injecting environment variables into jinja context\n     @app.context_processor\n     def inject_vars_into_jinja():"
      },
      {
        "sha": "95334dac481983f34ecf67e2d6a52482a6cd3a68",
        "filename": "app/modules/auth/routes.py",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fauth%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fauth%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Froutes.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -5,10 +5,11 @@\n from app.modules.auth.forms import SignupForm, LoginForm\n from app.modules.auth.services import AuthenticationService\n from app.modules.profile.services import UserProfileService\n-\n+from app.modules.validatemail.services import ValidatemailService\n \n authentication_service = AuthenticationService()\n user_profile_service = UserProfileService()\n+validatemail_service = ValidatemailService()\n \n \n @auth_bp.route(\"/signup/\", methods=[\"GET\", \"POST\"])\n@@ -24,6 +25,7 @@ def show_signup_form():\n \n         try:\n             user = authentication_service.create_with_profile(**form.data)\n+            validatemail_service.send_confirmation_email(user.email)\n         except Exception as exc:\n             return render_template(\"auth/signup_form.html\", form=form, error=f'Error creating user: {exc}')\n "
      },
      {
        "sha": "461d2b6ad0594986737b9b1d2b83479e2c433b96",
        "filename": "app/modules/mail/.env.example",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2F.env.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2F.env.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2F.env.example?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,6 @@\n+MAIL_SERVER=<CHANGE_THIS>\n+MAIL_PORT=587\n+MAIL_USE_TLS=True\n+MAIL_USE_SSL=False\n+MAIL_USERNAME=<CHANGE_THIS>\n+MAIL_PASSWORD=<CHANGE_THIS>\n\\ No newline at end of file"
      },
      {
        "sha": "105d0ee5c9bdb0ab1b2a724dd98883b624ad242a",
        "filename": "app/modules/mail/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2F__init__.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+mail_bp = BaseBlueprint('mail', __name__, template_folder='templates')\n\\ No newline at end of file"
      },
      {
        "sha": "91c5fd996a099481c692b4f0db4823ed27c03a44",
        "filename": "app/modules/mail/assets/scripts.js",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Fassets%2Fscripts.js?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script loaded from mail module\");\n\\ No newline at end of file"
      },
      {
        "sha": "f13cbc12a6e14cbb6fe824f09fe14f620878664a",
        "filename": "app/modules/mail/assets/webpack.config.js",
        "status": "added",
        "additions": 15,
        "deletions": 0,
        "changes": 15,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Fassets%2Fwebpack.config.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Fassets%2Fwebpack.config.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Fassets%2Fwebpack.config.js?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,15 @@\n+const path = require('path');\n+\n+module.exports = {\n+  entry: path.resolve(__dirname, './scripts.js'),\n+  output: {\n+    filename: 'mail.bundle.js',\n+    path: path.resolve(__dirname, '../dist'),\n+  },\n+  resolve: {\n+    fallback: {\n+      \"fs\": false \n+    }\n+  },\n+  mode: 'development',\n+};\n\\ No newline at end of file"
      },
      {
        "sha": "e6361ed710bc7c36a4bf8098d3c105d852319cf9",
        "filename": "app/modules/mail/forms.py",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Fforms.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,6 @@\n+from flask_wtf import FlaskForm\n+from wtforms import SubmitField\n+\n+\n+class MailForm(FlaskForm):\n+    submit = SubmitField('Save mail')\n\\ No newline at end of file"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/mail/models.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Fmodels.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c"
      },
      {
        "sha": "10723d84d3055596b019c092dd461243c944d9bd",
        "filename": "app/modules/mail/repositories.py",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Frepositories.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,6 @@\n+from core.repositories.BaseRepository import BaseRepository\n+\n+\n+class MailRepository(BaseRepository):\n+    def __init__(self):\n+        pass\n\\ No newline at end of file"
      },
      {
        "sha": "157af92e2e0e600c4f75cb37f21e444de72f4360",
        "filename": "app/modules/mail/routes.py",
        "status": "added",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Froutes.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,7 @@\n+from flask import render_template\n+from app.modules.mail import mail_bp\n+\n+\n+@mail_bp.route('/mail', methods=['GET'])\n+def index():\n+    return render_template('mail/index.html')\n\\ No newline at end of file"
      },
      {
        "sha": "f7a3606ff4f700d371690ec794ffb7d9b9013645",
        "filename": "app/modules/mail/seeders.py",
        "status": "added",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Fseeders.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,12 @@\n+from core.seeders.BaseSeeder import BaseSeeder\n+\n+\n+class MailSeeder(BaseSeeder):\n+\n+    def run(self):\n+\n+        data = [\n+            # Create any Model object you want to make seed\n+        ]\n+\n+        self.seed(data)\n\\ No newline at end of file"
      },
      {
        "sha": "9b29ba588698affa6f31f1d35d982dfb8202a047",
        "filename": "app/modules/mail/services.py",
        "status": "added",
        "additions": 33,
        "deletions": 0,
        "changes": 33,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Fservices.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,33 @@\n+import os\n+\n+from flask_mail import Mail, Message\n+from app.modules.mail.repositories import MailRepository\n+from core.services.BaseService import BaseService\n+\n+\n+class MailService(BaseService):\n+\n+    def __init__(self):\n+        super().__init__(MailRepository())\n+        self.mail = None\n+        self.sender = None\n+\n+    def init_app(self, app):\n+        app.config['MAIL_SERVER'] = os.getenv('MAIL_SERVER', 'smtp.office365.com')\n+        app.config['MAIL_PORT'] = int(os.getenv('MAIL_PORT', '587'))\n+        app.config['MAIL_USE_TLS'] = os.getenv('MAIL_USE_TLS', 'True') == 'True'\n+        app.config['MAIL_USE_SSL'] = os.getenv('MAIL_USE_SSL', 'False') == 'True'\n+        app.config['MAIL_USERNAME'] = os.getenv('MAIL_USERNAME', 'tu_correo@tudominio.com')\n+        app.config['MAIL_PASSWORD'] = os.getenv('MAIL_PASSWORD', 'tu_password')\n+        app.config['MAIL_DEFAULT_SENDER'] = os.getenv('MAIL_USERNAME')\n+\n+        self.mail = Mail(app)\n+        self.sender = app.config['MAIL_USERNAME']\n+\n+    def send_email(self, subject, recipients, body, html_body=None):\n+        msg = Message(subject, sender=self.sender, recipients=recipients)\n+        msg.body = body\n+        if html_body:\n+            msg.html = html_body\n+\n+        self.mail.send(msg)\n\\ No newline at end of file"
      },
      {
        "sha": "c30fe7c2ff8406aff2565411aa6ff7802b4f919e",
        "filename": "app/modules/mail/templates/mail/index.html",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Ftemplates%2Fmail%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Ftemplates%2Fmail%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Ftemplates%2Fmail%2Findex.html?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,11 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View mail{% endblock %}\n+\n+{% block content %}\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('mail.assets', subfolder='js', filename='scripts.js') }}\"></script>\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/mail/tests/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Ftests%2F__init__.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c"
      },
      {
        "sha": "222e0cf0da1c8e1f6e448d7f8ba188a294439226",
        "filename": "app/modules/mail/tests/locustfile.py",
        "status": "added",
        "additions": 21,
        "deletions": 0,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Ftests%2Flocustfile.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,21 @@\n+from locust import HttpUser, TaskSet, task\n+from core.environment.host import get_host_for_locust_testing\n+\n+\n+class MailBehavior(TaskSet):\n+    def on_start(self):\n+        self.index()\n+\n+    @task\n+    def index(self):\n+        response = self.client.get(\"/mail\")\n+\n+        if response.status_code != 200:\n+            print(f\"Mail index failed: {response.status_code}\")\n+\n+\n+class MailUser(HttpUser):\n+    tasks = [MailBehavior]\n+    min_wait = 5000\n+    max_wait = 9000\n+    host = get_host_for_locust_testing()\n\\ No newline at end of file"
      },
      {
        "sha": "f29b9be25ac939d00ee0537597963955c64cfaa7",
        "filename": "app/modules/mail/tests/test_selenium.py",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Ftests%2Ftest_selenium.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,35 @@\n+from selenium.common.exceptions import NoSuchElementException\n+import time\n+\n+from core.environment.host import get_host_for_selenium_testing\n+from core.selenium.common import initialize_driver, close_driver\n+\n+\n+def test_mail_index():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}/mail')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(4)\n+\n+        try:\n+\n+            pass\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Test failed!')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+# Call the test function\n+test_mail_index()\n\\ No newline at end of file"
      },
      {
        "sha": "d8257763a6bdfe8e4457eb9232944b12ef95b262",
        "filename": "app/modules/mail/tests/test_unit.py",
        "status": "added",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fmail%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fmail%2Ftests%2Ftest_unit.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,24 @@\n+import pytest\n+\n+\n+@pytest.fixture(scope='module')\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    \"\"\"\n+    with test_client.application.app_context():\n+        # Add HERE new elements to the database that you want to exist in the test context.\n+        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+        pass\n+\n+    yield test_client\n+\n+\n+def test_sample_assertion(test_client):\n+    \"\"\"\n+    Sample test to verify that the test framework and environment are working correctly.\n+    It does not communicate with the Flask application; it only performs a simple assertion to\n+    confirm that the tests in this module can be executed.\n+    \"\"\"\n+    greeting = \"Hello, World!\"\n+    assert greeting == \"Hello, World!\", \"The greeting does not coincide with 'Hello, World!'\"\n\\ No newline at end of file"
      },
      {
        "sha": "796c88f6913b5b189f587ed5fdc41d74483454cd",
        "filename": "app/modules/validatemail/.env.example",
        "status": "added",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2F.env.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2F.env.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2F.env.example?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,2 @@\n+CONFIRM_EMAIL_TOKEN_SALT = \"sample_salt\"\n+CONFIRM_EMAIL_TOKEN_MAX_AGE = 3600\n\\ No newline at end of file"
      },
      {
        "sha": "8dfcacd1d90ddadd4b6a4580667b12121c1b4d72",
        "filename": "app/modules/validatemail/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2F__init__.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+validatemail_bp = BaseBlueprint('validatemail', __name__, template_folder='templates')\n\\ No newline at end of file"
      },
      {
        "sha": "f0fb04f038f4a15dc662fcdb012c90ecbca2cdf6",
        "filename": "app/modules/validatemail/assets/scripts.js",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Fassets%2Fscripts.js?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script loaded from validatemail module\");\n\\ No newline at end of file"
      },
      {
        "sha": "21d68e34be9e5e22c6b71cf2d901f0080d6ee3ed",
        "filename": "app/modules/validatemail/assets/webpack.config.js",
        "status": "added",
        "additions": 16,
        "deletions": 0,
        "changes": 16,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Fassets%2Fwebpack.config.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Fassets%2Fwebpack.config.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Fassets%2Fwebpack.config.js?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,16 @@\n+const path = require('path');\n+\n+module.exports = {\n+  entry: path.resolve(__dirname, './scripts.js'),\n+  output: {\n+    filename: 'validatemail.bundle.js',\n+    path: path.resolve(__dirname, '../dist'),\n+  },\n+  resolve: {\n+    fallback: {\n+      // The resolve.fallback in Webpack is used to provide replacements \n+      // for (or ignore) Node.js modules that are not available in the browser\n+    }\n+  },\n+  mode: 'development',\n+};\n\\ No newline at end of file"
      },
      {
        "sha": "7eff474f3a2fd818c49e132bcf66e21327cb4b35",
        "filename": "app/modules/validatemail/forms.py",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Fforms.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,6 @@\n+from flask_wtf import FlaskForm\n+from wtforms import SubmitField\n+\n+\n+class ValidateMailForm(FlaskForm):\n+    submit = SubmitField('Save validatemail')\n\\ No newline at end of file"
      },
      {
        "sha": "f2e55e4165992d3d2018800611ad3ea63ac4a49e",
        "filename": "app/modules/validatemail/models.py",
        "status": "added",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Fmodels.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,5 @@\n+from app import db\n+\n+\n+class Validatemail():\n+    id = db.Column(db.Integer, primary_key=True)\n\\ No newline at end of file"
      },
      {
        "sha": "83276a8b3748b097ffa83bab7f874fbd636a71a0",
        "filename": "app/modules/validatemail/repositories.py",
        "status": "added",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Frepositories.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,7 @@\n+from app.modules.validatemail.models import Validatemail\n+from core.repositories.BaseRepository import BaseRepository\n+\n+\n+class ValidatemailRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(Validatemail)\n\\ No newline at end of file"
      },
      {
        "sha": "d2f3d203ba0b98bd221be7c876ca83ee5fab464f",
        "filename": "app/modules/validatemail/routes.py",
        "status": "added",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Froutes.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,24 @@\n+from flask import flash, redirect, render_template, url_for\n+from flask_login import login_user\n+from app.modules.validatemail import validatemail_bp\n+from app.modules.validatemail.services import ValidatemailService\n+\n+validatemail_service = ValidatemailService()\n+\n+\n+@validatemail_bp.route('/validatemail', methods=['GET'])\n+def index():\n+    return render_template('validatemail/index.html')\n+\n+\n+@validatemail_bp.route(\"/validate_user/<token>\", methods=[\"GET\"])\n+def validate_user(token):\n+    try:\n+        user = validatemail_service.validate_user_with_token(token)\n+    except Exception as exc:\n+        flash(exc.args[0], \"danger\")\n+        return redirect(url_for(\"auth.show_signup_form\"))\n+\n+    # Log user\n+    login_user(user, remember=True)\n+    return redirect(url_for(\"public.index\"))\n\\ No newline at end of file"
      },
      {
        "sha": "060bdd83892750025efe1d248859f0c1a9fc111c",
        "filename": "app/modules/validatemail/services.py",
        "status": "added",
        "additions": 57,
        "deletions": 0,
        "changes": 57,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Fservices.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,57 @@\n+import os\n+from app.modules.auth.services import AuthenticationService\n+from flask import current_app, url_for\n+from itsdangerous import BadTimeSignature, SignatureExpired, URLSafeTimedSerializer\n+from dotenv import load_dotenv\n+\n+from app import mail_service\n+from app.modules.validatemail.repositories import ValidatemailRepository\n+from core.services.BaseService import BaseService\n+\n+\n+# Load environment variables\n+load_dotenv()\n+\n+authentication_service = AuthenticationService()\n+\n+\n+class ValidatemailService(BaseService):\n+    def __init__(self):\n+        super().__init__(ValidatemailRepository())\n+        self.repository = ValidatemailRepository()\n+        self.CONFIRM_EMAIL_SALT = os.getenv('CONFIRM_EMAIL_SALT', 'sample_salt')\n+        self.CONFIRM_EMAIL_TOKEN_MAX_AGE = os.getenv('CONFIRM_EMAIL_TOKEN_MAX_AGE', 3600)\n+\n+    def get_serializer(self):\n+        return URLSafeTimedSerializer(current_app.config['SECRET_KEY'])\n+\n+    def get_token_from_email(self, email):\n+        s = self.get_serializer()\n+        return s.dumps(email, salt=self.CONFIRM_EMAIL_SALT)\n+\n+    def send_confirmation_email(self, user_email):\n+        token = self.get_token_from_email(user_email)\n+        url = url_for(\"validatemail.validate_user\", token=token, _external=True)\n+\n+        html_body = f\"<a href='{url}'>Please validate your email</a>\"\n+\n+        mail_service.send_email(\n+            \"Please validate your email\",\n+            recipients=[user_email],\n+            body=\"Please validate your email by clicking the link below.\",\n+            html_body=html_body\n+        )\n+\n+    def validate_user_with_token(self, token):\n+        s = self.get_serializer()\n+        try:\n+            email = s.loads(token, salt=self.CONFIRM_EMAIL_SALT, max_age=self.CONFIRM_EMAIL_TOKEN_MAX_AGE)\n+        except SignatureExpired:\n+            raise Exception(\"The validation link has expired.\")\n+        except BadTimeSignature:\n+            raise Exception(\"The validation link has been tampered with.\")\n+\n+        user = authentication_service.get_by_email(email, active=False)\n+        user.active = True\n+        self.repository.session.commit()\n+        return user\n\\ No newline at end of file"
      },
      {
        "sha": "be0e2be2012ca3894125676759b55ede4df3a38a",
        "filename": "app/modules/validatemail/templates/validatemail/index.html",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Ftemplates%2Fvalidatemail%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Ftemplates%2Fvalidatemail%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Ftemplates%2Fvalidatemail%2Findex.html?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,11 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View confirmemail{% endblock %}\n+\n+{% block content %}\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('validatemail.assets', subfolder='js', filename='scripts.js') }}\"></script>\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/validatemail/tests/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Ftests%2F__init__.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c"
      },
      {
        "sha": "b1d2964f21295ca7a98e558a1bf94355ffc21811",
        "filename": "app/modules/validatemail/tests/locustfile.py",
        "status": "added",
        "additions": 21,
        "deletions": 0,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Ftests%2Flocustfile.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,21 @@\n+from locust import HttpUser, TaskSet, task\n+from core.environment.host import get_host_for_locust_testing\n+\n+\n+class ValidatemailBehavior(TaskSet):\n+    def on_start(self):\n+        self.index()\n+\n+    @task\n+    def index(self):\n+        response = self.client.get(\"/validatemail\")\n+\n+        if response.status_code != 200:\n+            print(f\"Validatemail index failed: {response.status_code}\")\n+\n+\n+class ValidatemailUser(HttpUser):\n+    tasks = [ValidatemailBehavior]\n+    min_wait = 5000\n+    max_wait = 9000\n+    host = get_host_for_locust_testing()\n\\ No newline at end of file"
      },
      {
        "sha": "fff11c9025f505a883c0dc8889f2d13ba1713eb5",
        "filename": "app/modules/validatemail/tests/test_selenium.py",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Ftests%2Ftest_selenium.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,35 @@\n+from selenium.common.exceptions import NoSuchElementException\n+import time\n+\n+from core.environment.host import get_host_for_selenium_testing\n+from core.selenium.common import initialize_driver, close_driver\n+\n+\n+def test_validatemail_index():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}/validatemail')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(4)\n+\n+        try:\n+\n+            pass\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Test failed!')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+# Call the test function\n+test_validatemail_index()\n\\ No newline at end of file"
      },
      {
        "sha": "d8257763a6bdfe8e4457eb9232944b12ef95b262",
        "filename": "app/modules/validatemail/tests/test_unit.py",
        "status": "added",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/app%2Fmodules%2Fvalidatemail%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fvalidatemail%2Ftests%2Ftest_unit.py?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -0,0 +1,24 @@\n+import pytest\n+\n+\n+@pytest.fixture(scope='module')\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    \"\"\"\n+    with test_client.application.app_context():\n+        # Add HERE new elements to the database that you want to exist in the test context.\n+        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+        pass\n+\n+    yield test_client\n+\n+\n+def test_sample_assertion(test_client):\n+    \"\"\"\n+    Sample test to verify that the test framework and environment are working correctly.\n+    It does not communicate with the Flask application; it only performs a simple assertion to\n+    confirm that the tests in this module can be executed.\n+    \"\"\"\n+    greeting = \"Hello, World!\"\n+    assert greeting == \"Hello, World!\", \"The greeting does not coincide with 'Hello, World!'\"\n\\ No newline at end of file"
      },
      {
        "sha": "0e048441597444a7e2850d6d7c4ce15550f79bda",
        "filename": "migrations/README",
        "status": "removed",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/migrations%2FREADME",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/migrations%2FREADME",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2FREADME?ref=a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "patch": "@@ -1 +0,0 @@\n-Single-database configuration for Flask."
      },
      {
        "sha": "ec9d45c26a6bb54e833fd4e6ce2de29343894f4b",
        "filename": "migrations/alembic.ini",
        "status": "removed",
        "additions": 0,
        "deletions": 50,
        "changes": 50,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/migrations%2Falembic.ini",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/migrations%2Falembic.ini",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Falembic.ini?ref=a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "patch": "@@ -1,50 +0,0 @@\n-# A generic, single database configuration.\n-\n-[alembic]\n-# template used to generate migration files\n-# file_template = %%(rev)s_%%(slug)s\n-\n-# set to 'true' to run the environment during\n-# the 'revision' command, regardless of autogenerate\n-# revision_environment = false\n-\n-\n-# Logging configuration\n-[loggers]\n-keys = root,sqlalchemy,alembic,flask_migrate\n-\n-[handlers]\n-keys = console\n-\n-[formatters]\n-keys = generic\n-\n-[logger_root]\n-level = WARN\n-handlers = console\n-qualname =\n-\n-[logger_sqlalchemy]\n-level = WARN\n-handlers =\n-qualname = sqlalchemy.engine\n-\n-[logger_alembic]\n-level = INFO\n-handlers =\n-qualname = alembic\n-\n-[logger_flask_migrate]\n-level = INFO\n-handlers =\n-qualname = flask_migrate\n-\n-[handler_console]\n-class = StreamHandler\n-args = (sys.stderr,)\n-level = NOTSET\n-formatter = generic\n-\n-[formatter_generic]\n-format = %(levelname)-5.5s [%(name)s] %(message)s\n-datefmt = %H:%M:%S"
      },
      {
        "sha": "4c9709271b2ff28271b13c29bba5c50b80fea0ac",
        "filename": "migrations/env.py",
        "status": "removed",
        "additions": 0,
        "deletions": 113,
        "changes": 113,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/migrations%2Fenv.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/migrations%2Fenv.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fenv.py?ref=a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "patch": "@@ -1,113 +0,0 @@\n-import logging\n-from logging.config import fileConfig\n-\n-from flask import current_app\n-\n-from alembic import context\n-\n-# this is the Alembic Config object, which provides\n-# access to the values within the .ini file in use.\n-config = context.config\n-\n-# Interpret the config file for Python logging.\n-# This line sets up loggers basically.\n-fileConfig(config.config_file_name)\n-logger = logging.getLogger('alembic.env')\n-\n-\n-def get_engine():\n-    try:\n-        # this works with Flask-SQLAlchemy<3 and Alchemical\n-        return current_app.extensions['migrate'].db.get_engine()\n-    except (TypeError, AttributeError):\n-        # this works with Flask-SQLAlchemy>=3\n-        return current_app.extensions['migrate'].db.engine\n-\n-\n-def get_engine_url():\n-    try:\n-        return get_engine().url.render_as_string(hide_password=False).replace(\n-            '%', '%%')\n-    except AttributeError:\n-        return str(get_engine().url).replace('%', '%%')\n-\n-\n-# add your model's MetaData object here\n-# for 'autogenerate' support\n-# from myapp import mymodel\n-# target_metadata = mymodel.Base.metadata\n-config.set_main_option('sqlalchemy.url', get_engine_url())\n-target_db = current_app.extensions['migrate'].db\n-\n-# other values from the config, defined by the needs of env.py,\n-# can be acquired:\n-# my_important_option = config.get_main_option(\"my_important_option\")\n-# ... etc.\n-\n-\n-def get_metadata():\n-    if hasattr(target_db, 'metadatas'):\n-        return target_db.metadatas[None]\n-    return target_db.metadata\n-\n-\n-def run_migrations_offline():\n-    \"\"\"Run migrations in 'offline' mode.\n-\n-    This configures the context with just a URL\n-    and not an Engine, though an Engine is acceptable\n-    here as well.  By skipping the Engine creation\n-    we don't even need a DBAPI to be available.\n-\n-    Calls to context.execute() here emit the given string to the\n-    script output.\n-\n-    \"\"\"\n-    url = config.get_main_option(\"sqlalchemy.url\")\n-    context.configure(\n-        url=url, target_metadata=get_metadata(), literal_binds=True\n-    )\n-\n-    with context.begin_transaction():\n-        context.run_migrations()\n-\n-\n-def run_migrations_online():\n-    \"\"\"Run migrations in 'online' mode.\n-\n-    In this scenario we need to create an Engine\n-    and associate a connection with the context.\n-\n-    \"\"\"\n-\n-    # this callback is used to prevent an auto-migration from being generated\n-    # when there are no changes to the schema\n-    # reference: http://alembic.zzzcomputing.com/en/latest/cookbook.html\n-    def process_revision_directives(context, revision, directives):\n-        if getattr(config.cmd_opts, 'autogenerate', False):\n-            script = directives[0]\n-            if script.upgrade_ops.is_empty():\n-                directives[:] = []\n-                logger.info('No changes in schema detected.')\n-\n-    conf_args = current_app.extensions['migrate'].configure_args\n-    if conf_args.get(\"process_revision_directives\") is None:\n-        conf_args[\"process_revision_directives\"] = process_revision_directives\n-\n-    connectable = get_engine()\n-\n-    with connectable.connect() as connection:\n-        context.configure(\n-            connection=connection,\n-            target_metadata=get_metadata(),\n-            **conf_args\n-        )\n-\n-        with context.begin_transaction():\n-            context.run_migrations()\n-\n-\n-if context.is_offline_mode():\n-    run_migrations_offline()\n-else:\n-    run_migrations_online()"
      },
      {
        "sha": "2c0156303a8df3ffdc9de87765bf801bf6bea4a5",
        "filename": "migrations/script.py.mako",
        "status": "removed",
        "additions": 0,
        "deletions": 24,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/migrations%2Fscript.py.mako",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/migrations%2Fscript.py.mako",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fscript.py.mako?ref=a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "patch": "@@ -1,24 +0,0 @@\n-\"\"\"${message}\n-\n-Revision ID: ${up_revision}\n-Revises: ${down_revision | comma,n}\n-Create Date: ${create_date}\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-${imports if imports else \"\"}\n-\n-# revision identifiers, used by Alembic.\n-revision = ${repr(up_revision)}\n-down_revision = ${repr(down_revision)}\n-branch_labels = ${repr(branch_labels)}\n-depends_on = ${repr(depends_on)}\n-\n-\n-def upgrade():\n-    ${upgrades if upgrades else \"pass\"}\n-\n-\n-def downgrade():\n-    ${downgrades if downgrades else \"pass\"}"
      },
      {
        "sha": "840b763a7289fb875622cf2b7850b8454825714e",
        "filename": "migrations/versions/001.py",
        "status": "removed",
        "additions": 0,
        "deletions": 191,
        "changes": 191,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/migrations%2Fversions%2F001.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/migrations%2Fversions%2F001.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F001.py?ref=a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "patch": "@@ -1,191 +0,0 @@\n-\"\"\"first migration\n-\n-Revision ID: 001\n-Revises: \n-Create Date: 2024-09-08 16:50:20.326640\n-\n-\"\"\"\n-from alembic import op\n-import sqlalchemy as sa\n-\n-\n-# revision identifiers, used by Alembic.\n-revision = '001'\n-down_revision = None\n-branch_labels = None\n-depends_on = None\n-\n-\n-def upgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    op.create_table('doi_mapping',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('dataset_doi_old', sa.String(length=120), nullable=True),\n-    sa.Column('dataset_doi_new', sa.String(length=120), nullable=True),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.create_table('ds_metrics',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('number_of_models', sa.String(length=120), nullable=True),\n-    sa.Column('number_of_features', sa.String(length=120), nullable=True),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.create_table('fm_metrics',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('solver', sa.Text(), nullable=True),\n-    sa.Column('not_solver', sa.Text(), nullable=True),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.create_table('user',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('email', sa.String(length=256), nullable=False),\n-    sa.Column('password', sa.String(length=256), nullable=False),\n-    sa.Column('created_at', sa.DateTime(), nullable=False),\n-    sa.PrimaryKeyConstraint('id'),\n-    sa.UniqueConstraint('email')\n-    )\n-    op.create_table('webhook',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.create_table('zenodo',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.create_table('ds_meta_data',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('deposition_id', sa.Integer(), nullable=True),\n-    sa.Column('title', sa.String(length=120), nullable=False),\n-    sa.Column('description', sa.Text(), nullable=False),\n-    sa.Column('publication_type', sa.Enum('NONE', 'ANNOTATION_COLLECTION', 'BOOK', 'BOOK_SECTION', 'CONFERENCE_PAPER', 'DATA_MANAGEMENT_PLAN', 'JOURNAL_ARTICLE', 'PATENT', 'PREPRINT', 'PROJECT_DELIVERABLE', 'PROJECT_MILESTONE', 'PROPOSAL', 'REPORT', 'SOFTWARE_DOCUMENTATION', 'TAXONOMIC_TREATMENT', 'TECHNICAL_NOTE', 'THESIS', 'WORKING_PAPER', 'OTHER', name='publicationtype'), nullable=False),\n-    sa.Column('publication_doi', sa.String(length=120), nullable=True),\n-    sa.Column('dataset_doi', sa.String(length=120), nullable=True),\n-    sa.Column('tags', sa.String(length=120), nullable=True),\n-    sa.Column('ds_metrics_id', sa.Integer(), nullable=True),\n-    sa.ForeignKeyConstraint(['ds_metrics_id'], ['ds_metrics.id'], ),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.create_table('fm_meta_data',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('uvl_filename', sa.String(length=120), nullable=False),\n-    sa.Column('title', sa.String(length=120), nullable=False),\n-    sa.Column('description', sa.Text(), nullable=False),\n-    sa.Column('publication_type', sa.Enum('NONE', 'ANNOTATION_COLLECTION', 'BOOK', 'BOOK_SECTION', 'CONFERENCE_PAPER', 'DATA_MANAGEMENT_PLAN', 'JOURNAL_ARTICLE', 'PATENT', 'PREPRINT', 'PROJECT_DELIVERABLE', 'PROJECT_MILESTONE', 'PROPOSAL', 'REPORT', 'SOFTWARE_DOCUMENTATION', 'TAXONOMIC_TREATMENT', 'TECHNICAL_NOTE', 'THESIS', 'WORKING_PAPER', 'OTHER', name='publicationtype'), nullable=False),\n-    sa.Column('publication_doi', sa.String(length=120), nullable=True),\n-    sa.Column('tags', sa.String(length=120), nullable=True),\n-    sa.Column('uvl_version', sa.String(length=120), nullable=True),\n-    sa.Column('fm_metrics_id', sa.Integer(), nullable=True),\n-    sa.ForeignKeyConstraint(['fm_metrics_id'], ['fm_metrics.id'], ),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.create_table('user_profile',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('user_id', sa.Integer(), nullable=False),\n-    sa.Column('orcid', sa.String(length=19), nullable=True),\n-    sa.Column('affiliation', sa.String(length=100), nullable=True),\n-    sa.Column('name', sa.String(length=100), nullable=False),\n-    sa.Column('surname', sa.String(length=100), nullable=False),\n-    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n-    sa.PrimaryKeyConstraint('id'),\n-    sa.UniqueConstraint('user_id')\n-    )\n-    op.create_table('author',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('name', sa.String(length=120), nullable=False),\n-    sa.Column('affiliation', sa.String(length=120), nullable=True),\n-    sa.Column('orcid', sa.String(length=120), nullable=True),\n-    sa.Column('ds_meta_data_id', sa.Integer(), nullable=True),\n-    sa.Column('fm_meta_data_id', sa.Integer(), nullable=True),\n-    sa.ForeignKeyConstraint(['ds_meta_data_id'], ['ds_meta_data.id'], ),\n-    sa.ForeignKeyConstraint(['fm_meta_data_id'], ['fm_meta_data.id'], ),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.create_table('data_set',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('user_id', sa.Integer(), nullable=False),\n-    sa.Column('ds_meta_data_id', sa.Integer(), nullable=False),\n-    sa.Column('created_at', sa.DateTime(), nullable=False),\n-    sa.ForeignKeyConstraint(['ds_meta_data_id'], ['ds_meta_data.id'], ),\n-    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.create_table('ds_download_record',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('user_id', sa.Integer(), nullable=True),\n-    sa.Column('dataset_id', sa.Integer(), nullable=True),\n-    sa.Column('download_date', sa.DateTime(), nullable=False),\n-    sa.Column('download_cookie', sa.String(length=36), nullable=False),\n-    sa.ForeignKeyConstraint(['dataset_id'], ['data_set.id'], ),\n-    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.create_table('ds_view_record',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('user_id', sa.Integer(), nullable=True),\n-    sa.Column('dataset_id', sa.Integer(), nullable=True),\n-    sa.Column('view_date', sa.DateTime(), nullable=False),\n-    sa.Column('view_cookie', sa.String(length=36), nullable=False),\n-    sa.ForeignKeyConstraint(['dataset_id'], ['data_set.id'], ),\n-    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.create_table('feature_model',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('data_set_id', sa.Integer(), nullable=False),\n-    sa.Column('fm_meta_data_id', sa.Integer(), nullable=True),\n-    sa.ForeignKeyConstraint(['data_set_id'], ['data_set.id'], ),\n-    sa.ForeignKeyConstraint(['fm_meta_data_id'], ['fm_meta_data.id'], ),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.create_table('file',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('name', sa.String(length=120), nullable=False),\n-    sa.Column('checksum', sa.String(length=120), nullable=False),\n-    sa.Column('size', sa.Integer(), nullable=False),\n-    sa.Column('feature_model_id', sa.Integer(), nullable=False),\n-    sa.ForeignKeyConstraint(['feature_model_id'], ['feature_model.id'], ),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.create_table('file_download_record',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('user_id', sa.Integer(), nullable=True),\n-    sa.Column('file_id', sa.Integer(), nullable=True),\n-    sa.Column('download_date', sa.DateTime(), nullable=False),\n-    sa.Column('download_cookie', sa.String(length=36), nullable=False),\n-    sa.ForeignKeyConstraint(['file_id'], ['file.id'], ),\n-    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    op.create_table('file_view_record',\n-    sa.Column('id', sa.Integer(), nullable=False),\n-    sa.Column('user_id', sa.Integer(), nullable=True),\n-    sa.Column('file_id', sa.Integer(), nullable=False),\n-    sa.Column('view_date', sa.DateTime(), nullable=True),\n-    sa.Column('view_cookie', sa.String(length=36), nullable=True),\n-    sa.ForeignKeyConstraint(['file_id'], ['file.id'], ),\n-    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n-    sa.PrimaryKeyConstraint('id')\n-    )\n-    # ### end Alembic commands ###\n-\n-\n-def downgrade():\n-    # ### commands auto generated by Alembic - please adjust! ###\n-    op.drop_table('file_view_record')\n-    op.drop_table('file_download_record')\n-    op.drop_table('file')\n-    op.drop_table('feature_model')\n-    op.drop_table('ds_view_record')\n-    op.drop_table('ds_download_record')\n-    op.drop_table('data_set')\n-    op.drop_table('author')\n-    op.drop_table('user_profile')\n-    op.drop_table('fm_meta_data')\n-    op.drop_table('ds_meta_data')\n-    op.drop_table('zenodo')\n-    op.drop_table('webhook')\n-    op.drop_table('user')\n-    op.drop_table('fm_metrics')\n-    op.drop_table('ds_metrics')\n-    op.drop_table('doi_mapping')\n-    # ### end Alembic commands ###"
      },
      {
        "sha": "397e5a9abc647a1d486c075d4b3eeadbcc2ccb72",
        "filename": "requirements.txt",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/requirements.txt",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c/requirements.txt",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/requirements.txt?ref=b04e1be67c3a118e5bd563d2b1e4cc0f0b41b12c",
        "patch": "@@ -29,6 +29,7 @@ flamapy-sat==2.0.0.dev1\n Flask==3.0.3\n Flask-Cors==4.0.1\n Flask-Login==0.6.3\n+Flask-Mail==0.10.0\n Flask-Migrate==4.0.7\n Flask-RESTful==0.3.10\n Flask-SQLAlchemy==3.1.1"
      }
    ]
  },
  {
    "sha": "605e47727f0eabf3d57d9ab3f4ded114c0e81c65",
    "node_id": "C_kwDONBuXkNoAKDYwNWU0NzcyN2YwZWFiZjNkNTdkOWFiM2Y0ZGVkMTE0YzBlODFjNjU",
    "commit": {
      "author": {
        "name": "YatoDev",
        "email": "59254702+Yato03@users.noreply.github.com",
        "date": "2024-11-12T16:48:29Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-11-12T16:48:29Z"
      },
      "message": "Merge pull request #13 from chipi-hub-team/feat/download-all-datasets\n\nFeat/download all datasets",
      "tree": {
        "sha": "24e49cde45a6f31a4e667d6f7893d03fa3439c12",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/24e49cde45a6f31a4e667d6f7893d03fa3439c12"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/605e47727f0eabf3d57d9ab3f4ded114c0e81c65",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnM4bdCRC1aQ7uu5UhlAAAf6kQAKfh2AJcTLuld+nYScbPuY3j\nQvLWNH8vEoHMhmw2IL4kxPv8fTq8Dpoech44Up5u8wPWa2I/OtsD/G3MZWRoRqZx\nhUGIYFBPm5Dx1BBPWDSsK5qUS1CDiCC2k8lrbJgQsl8NXPlz65WqEgFITBPRHZhr\nhYCfFUh82fdg2pTunKEPR0AjMPppTgjAN/KgLCgPkTaShnhj49EGsSXfG3tU5zwb\ny6tA193Ue1QzSSVqsQ9t0eirVUdPYR2VKCQsg8zbaE21uE/wMqaBvlmt5MM0bu41\nUmi/Y+m+WXSrU87vcY91hhx7oR7Fh1aIVYcWUhQpGFfvle9E8lbcaExxcbStlDmJ\nwjjbFqPJ+OKeRNrHlAHQbLqZ9UJJOtJ+2L5xRuZZTKtGU9yQ4hIek9O22eY9Uxno\n+RV8v8qV00VVetNTcjJbow59NWif2u1pFr27N4rEVcVELJY/l6Sp50THlR5onITr\nReWlv5gOkoxKmV5gy/kOm6E7/XJ2Mm66YsXAwiaeJcjdEe1kUvmWUXNqSjM4g/V1\nqXK4Mzm/lYCLJwVi+iEIoQ9r/wb+aJ1bTq5wbYgakH7mQurkhueMfoh6W/CZsNod\nhe0JW72MNTwmrw09cn4f4yrWuibQquzRDOFe7H6NGZFYUIsBUN09JdNRX3QahbrN\nx4Bc/Fg83LihJwnR7U5X\n=LuO2\n-----END PGP SIGNATURE-----\n",
        "payload": "tree 24e49cde45a6f31a4e667d6f7893d03fa3439c12\nparent 91b61262f535596a119f254f48d155e4c88715e7\nparent 0095ff1ae50add9acc9b87064594b15e1859e201\nauthor YatoDev <59254702+Yato03@users.noreply.github.com> 1731430109 +0100\ncommitter GitHub <noreply@github.com> 1731430109 +0100\n\nMerge pull request #13 from chipi-hub-team/feat/download-all-datasets\n\nFeat/download all datasets",
        "verified_at": "2024-11-12T16:49:04Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/605e47727f0eabf3d57d9ab3f4ded114c0e81c65",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/605e47727f0eabf3d57d9ab3f4ded114c0e81c65",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/605e47727f0eabf3d57d9ab3f4ded114c0e81c65/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "91b61262f535596a119f254f48d155e4c88715e7",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/91b61262f535596a119f254f48d155e4c88715e7",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/91b61262f535596a119f254f48d155e4c88715e7"
      },
      {
        "sha": "0095ff1ae50add9acc9b87064594b15e1859e201",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/0095ff1ae50add9acc9b87064594b15e1859e201",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/0095ff1ae50add9acc9b87064594b15e1859e201"
      }
    ],
    "files": [
      {
        "sha": "8192610be6b4fb652213669f26cefbf9cbb8e8fe",
        "filename": "app/modules/dataset/repositories.py",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/605e47727f0eabf3d57d9ab3f4ded114c0e81c65/app%2Fmodules%2Fdataset%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/605e47727f0eabf3d57d9ab3f4ded114c0e81c65/app%2Fmodules%2Fdataset%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Frepositories.py?ref=605e47727f0eabf3d57d9ab3f4ded114c0e81c65",
        "patch": "@@ -114,6 +114,9 @@ def latest_synchronized(self):\n             .all()\n         )\n \n+    def get_all_datasets(self):\n+        return self.model.query.all()\n+\n \n class DOIMappingRepository(BaseRepository):\n     def __init__(self):"
      },
      {
        "sha": "63d812d7df12b776977c7a25c490c5f8bc10052f",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 32,
        "deletions": 0,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/605e47727f0eabf3d57d9ab3f4ded114c0e81c65/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/605e47727f0eabf3d57d9ab3f4ded114c0e81c65/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=605e47727f0eabf3d57d9ab3f4ded114c0e81c65",
        "patch": "@@ -241,6 +241,38 @@ def download_dataset(dataset_id):\n     return resp\n \n \n+@dataset_bp.route(\"/dataset/download_all_datasets\", methods=[\"GET\"])\n+def download_all_datsets():\n+    datasets = dataset_service.get_all_datasets()\n+\n+    temp_dir = tempfile.mkdtemp()\n+    zip_path = os.path.join(temp_dir, \"datasets.zip\")\n+\n+    with ZipFile(zip_path, \"w\") as zipf:\n+        for dataset in datasets:\n+            file_path = f\"uploads/user_{dataset.user_id}/dataset_{dataset.id}/\"\n+\n+            for subdir, dirs, files in os.walk(file_path):\n+                for file in files:\n+                    full_path = os.path.join(subdir, file)\n+\n+                    relative_path = os.path.relpath(full_path, file_path)\n+\n+                    zipf.write(\n+                        full_path,\n+                        arcname=os.path.join(\n+                            os.path.basename(zip_path[:-4]), relative_path\n+                        ),\n+                    )\n+\n+    return send_from_directory(\n+        temp_dir,\n+        \"datasets.zip\",\n+        as_attachment=True,\n+        mimetype=\"application/zip\",\n+    )\n+\n+\n @dataset_bp.route(\"/doi/<path:doi>/\", methods=[\"GET\"])\n def subdomain_index(doi):\n "
      },
      {
        "sha": "cc1034cafc91d122b001a131714b1908cab93bb6",
        "filename": "app/modules/dataset/services.py",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/605e47727f0eabf3d57d9ab3f4ded114c0e81c65/app%2Fmodules%2Fdataset%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/605e47727f0eabf3d57d9ab3f4ded114c0e81c65/app%2Fmodules%2Fdataset%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fservices.py?ref=605e47727f0eabf3d57d9ab3f4ded114c0e81c65",
        "patch": "@@ -140,6 +140,9 @@ def get_uvlhub_doi(self, dataset: DataSet) -> str:\n         domain = os.getenv('DOMAIN', 'localhost')\n         return f'http://{domain}/doi/{dataset.ds_meta_data.dataset_doi}'\n \n+    def get_all_datasets(self):\n+        return self.repository.get_all_datasets()\n+\n \n class AuthorService(BaseService):\n     def __init__(self):"
      },
      {
        "sha": "90484970fdba53e27fd3d7d5aa08e999e209bbef",
        "filename": "app/modules/dataset/tests/test_selenium.py",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/605e47727f0eabf3d57d9ab3f4ded114c0e81c65/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/605e47727f0eabf3d57d9ab3f4ded114c0e81c65/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py?ref=605e47727f0eabf3d57d9ab3f4ded114c0e81c65",
        "patch": "@@ -131,5 +131,13 @@ def test_upload_dataset():\n         close_driver(driver)\n \n \n+def test_downloadall():\n+    driver = initialize_driver()\n+    driver.get(\"http://127.0.0.1:5000/\")\n+    driver.set_window_size(1702, 963)\n+    driver.find_element(By.LINK_TEXT, \"Download all datasets\").click()\n+\n+\n # Call the test function\n test_upload_dataset()\n+test_downloadall()"
      },
      {
        "sha": "e5e3c1b7559094808ddfbe73d213ff7a4c068b34",
        "filename": "app/modules/dataset/tests/test_unit.py",
        "status": "added",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/605e47727f0eabf3d57d9ab3f4ded114c0e81c65/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/605e47727f0eabf3d57d9ab3f4ded114c0e81c65/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py?ref=605e47727f0eabf3d57d9ab3f4ded114c0e81c65",
        "patch": "@@ -0,0 +1,24 @@\n+import pytest\n+\n+\n+@pytest.fixture(scope=\"module\")\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    \"\"\"\n+    with test_client.application.app_context():\n+        # Add HERE new elements to the database that you want to exist in the test context.\n+        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+        pass\n+\n+    yield test_client\n+\n+\n+def test_download_all_dataset(test_client):\n+    response = test_client.get(\n+        \"/dataset/download_all_datasets\", follow_redirects=True\n+    )\n+\n+    assert response.status_code == 200, \"Download all datasets was unsuccessful\"\n+\n+    test_client.get(\"/logout\", follow_redirects=True)"
      },
      {
        "sha": "3cc77b0269c6b79641d295340aaad8567aa3fd89",
        "filename": "app/templates/base_template.html",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/605e47727f0eabf3d57d9ab3f4ded114c0e81c65/app%2Ftemplates%2Fbase_template.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/605e47727f0eabf3d57d9ab3f4ded114c0e81c65/app%2Ftemplates%2Fbase_template.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Ftemplates%2Fbase_template.html?ref=605e47727f0eabf3d57d9ab3f4ded114c0e81c65",
        "patch": "@@ -164,6 +164,10 @@\n                     <li class=\"nav-item dropdown\">\n \n                         {% if current_user.is_anonymous %}\n+                            <a href=\"/dataset/download_all_datasets\" class=\"btn btn-primary\">\n+                                <i data-feather=\"download\" class=\"center-button-icon\"></i>\n+                                Download all datasets\n+                            </a>\n                             <a class=\"nav-link  d-none d-sm-inline-block\" href=\"{{ url_for('auth.login') }}\">Login</a>\n                             <a class=\"nav-link  d-none d-sm-inline-block\" href=\"{{ url_for('auth.show_signup_form') }}\">Sign\n                                 up</a>"
      }
    ]
  },
  {
    "sha": "0095ff1ae50add9acc9b87064594b15e1859e201",
    "node_id": "C_kwDONBuXkNoAKDAwOTVmZjFhZTUwYWRkOWFjYzliODcwNjQ1OTRiMTVlMTg1OWUyMDE",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T16:34:59Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T16:34:59Z"
      },
      "message": "test: Unit and GUI testing\n\nUnit and GUI testing created for download all datasets feature.\n\nCloses #4",
      "tree": {
        "sha": "24e49cde45a6f31a4e667d6f7893d03fa3439c12",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/24e49cde45a6f31a4e667d6f7893d03fa3439c12"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/0095ff1ae50add9acc9b87064594b15e1859e201",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/0095ff1ae50add9acc9b87064594b15e1859e201",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/0095ff1ae50add9acc9b87064594b15e1859e201",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/0095ff1ae50add9acc9b87064594b15e1859e201/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a466f27d28ae06c1f2107850ff7ba932dec2c0c9",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a466f27d28ae06c1f2107850ff7ba932dec2c0c9",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/a466f27d28ae06c1f2107850ff7ba932dec2c0c9"
      }
    ],
    "files": [
      {
        "sha": "cc1034cafc91d122b001a131714b1908cab93bb6",
        "filename": "app/modules/dataset/services.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/0095ff1ae50add9acc9b87064594b15e1859e201/app%2Fmodules%2Fdataset%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/0095ff1ae50add9acc9b87064594b15e1859e201/app%2Fmodules%2Fdataset%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fservices.py?ref=0095ff1ae50add9acc9b87064594b15e1859e201",
        "patch": "@@ -139,7 +139,7 @@ def update_dsmetadata(self, id, **kwargs):\n     def get_uvlhub_doi(self, dataset: DataSet) -> str:\n         domain = os.getenv('DOMAIN', 'localhost')\n         return f'http://{domain}/doi/{dataset.ds_meta_data.dataset_doi}'\n-    \n+\n     def get_all_datasets(self):\n         return self.repository.get_all_datasets()\n "
      },
      {
        "sha": "90484970fdba53e27fd3d7d5aa08e999e209bbef",
        "filename": "app/modules/dataset/tests/test_selenium.py",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/0095ff1ae50add9acc9b87064594b15e1859e201/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/0095ff1ae50add9acc9b87064594b15e1859e201/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py?ref=0095ff1ae50add9acc9b87064594b15e1859e201",
        "patch": "@@ -131,5 +131,13 @@ def test_upload_dataset():\n         close_driver(driver)\n \n \n+def test_downloadall():\n+    driver = initialize_driver()\n+    driver.get(\"http://127.0.0.1:5000/\")\n+    driver.set_window_size(1702, 963)\n+    driver.find_element(By.LINK_TEXT, \"Download all datasets\").click()\n+\n+\n # Call the test function\n test_upload_dataset()\n+test_downloadall()"
      },
      {
        "sha": "e5e3c1b7559094808ddfbe73d213ff7a4c068b34",
        "filename": "app/modules/dataset/tests/test_unit.py",
        "status": "added",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/0095ff1ae50add9acc9b87064594b15e1859e201/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/0095ff1ae50add9acc9b87064594b15e1859e201/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_unit.py?ref=0095ff1ae50add9acc9b87064594b15e1859e201",
        "patch": "@@ -0,0 +1,24 @@\n+import pytest\n+\n+\n+@pytest.fixture(scope=\"module\")\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    \"\"\"\n+    with test_client.application.app_context():\n+        # Add HERE new elements to the database that you want to exist in the test context.\n+        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+        pass\n+\n+    yield test_client\n+\n+\n+def test_download_all_dataset(test_client):\n+    response = test_client.get(\n+        \"/dataset/download_all_datasets\", follow_redirects=True\n+    )\n+\n+    assert response.status_code == 200, \"Download all datasets was unsuccessful\"\n+\n+    test_client.get(\"/logout\", follow_redirects=True)"
      }
    ]
  },
  {
    "sha": "a466f27d28ae06c1f2107850ff7ba932dec2c0c9",
    "node_id": "C_kwDONBuXkNoAKGE0NjZmMjdkMjhhZTA2YzFmMjEwNzg1MGZmN2JhOTMyZGVjMmMwYzk",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T16:10:06Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T16:10:06Z"
      },
      "message": "feat: Dowload all datasets\n\nDownload all datasets button added and working.",
      "tree": {
        "sha": "57b29e72670e76dbcc33222cf479cb09fa3e5c03",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/57b29e72670e76dbcc33222cf479cb09fa3e5c03"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/a466f27d28ae06c1f2107850ff7ba932dec2c0c9",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a466f27d28ae06c1f2107850ff7ba932dec2c0c9",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/a466f27d28ae06c1f2107850ff7ba932dec2c0c9",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a466f27d28ae06c1f2107850ff7ba932dec2c0c9/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "91b61262f535596a119f254f48d155e4c88715e7",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/91b61262f535596a119f254f48d155e4c88715e7",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/91b61262f535596a119f254f48d155e4c88715e7"
      }
    ],
    "files": [
      {
        "sha": "8192610be6b4fb652213669f26cefbf9cbb8e8fe",
        "filename": "app/modules/dataset/repositories.py",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a466f27d28ae06c1f2107850ff7ba932dec2c0c9/app%2Fmodules%2Fdataset%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a466f27d28ae06c1f2107850ff7ba932dec2c0c9/app%2Fmodules%2Fdataset%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Frepositories.py?ref=a466f27d28ae06c1f2107850ff7ba932dec2c0c9",
        "patch": "@@ -114,6 +114,9 @@ def latest_synchronized(self):\n             .all()\n         )\n \n+    def get_all_datasets(self):\n+        return self.model.query.all()\n+\n \n class DOIMappingRepository(BaseRepository):\n     def __init__(self):"
      },
      {
        "sha": "63d812d7df12b776977c7a25c490c5f8bc10052f",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 32,
        "deletions": 0,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a466f27d28ae06c1f2107850ff7ba932dec2c0c9/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a466f27d28ae06c1f2107850ff7ba932dec2c0c9/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=a466f27d28ae06c1f2107850ff7ba932dec2c0c9",
        "patch": "@@ -241,6 +241,38 @@ def download_dataset(dataset_id):\n     return resp\n \n \n+@dataset_bp.route(\"/dataset/download_all_datasets\", methods=[\"GET\"])\n+def download_all_datsets():\n+    datasets = dataset_service.get_all_datasets()\n+\n+    temp_dir = tempfile.mkdtemp()\n+    zip_path = os.path.join(temp_dir, \"datasets.zip\")\n+\n+    with ZipFile(zip_path, \"w\") as zipf:\n+        for dataset in datasets:\n+            file_path = f\"uploads/user_{dataset.user_id}/dataset_{dataset.id}/\"\n+\n+            for subdir, dirs, files in os.walk(file_path):\n+                for file in files:\n+                    full_path = os.path.join(subdir, file)\n+\n+                    relative_path = os.path.relpath(full_path, file_path)\n+\n+                    zipf.write(\n+                        full_path,\n+                        arcname=os.path.join(\n+                            os.path.basename(zip_path[:-4]), relative_path\n+                        ),\n+                    )\n+\n+    return send_from_directory(\n+        temp_dir,\n+        \"datasets.zip\",\n+        as_attachment=True,\n+        mimetype=\"application/zip\",\n+    )\n+\n+\n @dataset_bp.route(\"/doi/<path:doi>/\", methods=[\"GET\"])\n def subdomain_index(doi):\n "
      },
      {
        "sha": "723a65206a07813d0857ffee925348b3d2e33265",
        "filename": "app/modules/dataset/services.py",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a466f27d28ae06c1f2107850ff7ba932dec2c0c9/app%2Fmodules%2Fdataset%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a466f27d28ae06c1f2107850ff7ba932dec2c0c9/app%2Fmodules%2Fdataset%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fservices.py?ref=a466f27d28ae06c1f2107850ff7ba932dec2c0c9",
        "patch": "@@ -139,6 +139,9 @@ def update_dsmetadata(self, id, **kwargs):\n     def get_uvlhub_doi(self, dataset: DataSet) -> str:\n         domain = os.getenv('DOMAIN', 'localhost')\n         return f'http://{domain}/doi/{dataset.ds_meta_data.dataset_doi}'\n+    \n+    def get_all_datasets(self):\n+        return self.repository.get_all_datasets()\n \n \n class AuthorService(BaseService):"
      },
      {
        "sha": "3cc77b0269c6b79641d295340aaad8567aa3fd89",
        "filename": "app/templates/base_template.html",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a466f27d28ae06c1f2107850ff7ba932dec2c0c9/app%2Ftemplates%2Fbase_template.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a466f27d28ae06c1f2107850ff7ba932dec2c0c9/app%2Ftemplates%2Fbase_template.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Ftemplates%2Fbase_template.html?ref=a466f27d28ae06c1f2107850ff7ba932dec2c0c9",
        "patch": "@@ -164,6 +164,10 @@\n                     <li class=\"nav-item dropdown\">\n \n                         {% if current_user.is_anonymous %}\n+                            <a href=\"/dataset/download_all_datasets\" class=\"btn btn-primary\">\n+                                <i data-feather=\"download\" class=\"center-button-icon\"></i>\n+                                Download all datasets\n+                            </a>\n                             <a class=\"nav-link  d-none d-sm-inline-block\" href=\"{{ url_for('auth.login') }}\">Login</a>\n                             <a class=\"nav-link  d-none d-sm-inline-block\" href=\"{{ url_for('auth.show_signup_form') }}\">Sign\n                                 up</a>"
      }
    ]
  },
  {
    "sha": "91b61262f535596a119f254f48d155e4c88715e7",
    "node_id": "C_kwDONBuXkNoAKDkxYjYxMjYyZjUzNTU5NmExMTlmMjU0ZjQ4ZDE1NWU0Yzg4NzE1ZTc",
    "commit": {
      "author": {
        "name": "YatoDev",
        "email": "59254702+Yato03@users.noreply.github.com",
        "date": "2024-11-12T15:49:57Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-11-12T15:49:57Z"
      },
      "message": "Merge pull request #12 from chipi-hub-team/chore/configuration\n\nchore: Codacy integration",
      "tree": {
        "sha": "16901e2e73e7ac57dd89a63be6fa8bbbcc3d4d49",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/16901e2e73e7ac57dd89a63be6fa8bbbcc3d4d49"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/91b61262f535596a119f254f48d155e4c88715e7",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnM3klCRC1aQ7uu5UhlAAABeIQAIGkqVyc1GwxRfvXwWOEQt/Y\nhapjvPg8QLnOnhuCRQbvN4SqRexRTggvKVNIBs4vt+j4sFL6YJEjzr4g8jjy8hY2\nClTf3z9eWgILd4c7lTQ5c35E7b94mocALWQs9dihcpyTyd+WtNO981ykX3XMuMqE\nGIEm5afJS8THEJkhGE9ZvTdLRPUoWMcAqxjfQpcaD4emfBfK8BqgkFrVIlC45Wtx\nV6P5GdE9weByoc8pdmSO+T+Ct4MWsLy5H3f2L6Mqi4VXsQPyHVBYJI+4mHKp7Nz/\nPR7zFTuZlQrWIJdTk3CJBfC1MSkTbqb6+5x0A98iJoV9ovQaYhpzphofX3OOkx7x\niYVQZXthd3omu3mekaxA8+bS9zdC5WMATX3AwOHO4gE5YsCfumHks+dEbhZ/kAoL\nD08hLLD+u7360i5txrxLkVmYRJtiEPolQn8Td8ftMnP2CdTBZ3GBX7bSt5aVZIFn\nI01Jo9Vh9KqXKvKgNxwvPRkTGlWvX9LDfLQSCrI49uHMQLu0/erIU5JcVC8TYqEM\ni04u9lQO+5Ymrg6DEx1VFekwNxdI0FxCj/FUAlAUEJAE1Apni0pOZA15zwSx3DtH\nWbQiItnJ6GG+PJDlUtUpBw/8zg1Oypdl4OD8wvOm1+gvS6PSbwximE63qCR93N4D\n2z3sY7F5fJ7I7xWAqpJU\n=yZ33\n-----END PGP SIGNATURE-----\n",
        "payload": "tree 16901e2e73e7ac57dd89a63be6fa8bbbcc3d4d49\nparent a05af69cd842acd4f5facc10e1f2cc0b3b50b716\nparent 3af4e21c2c2530d597e133d13b5949add860dbde\nauthor YatoDev <59254702+Yato03@users.noreply.github.com> 1731426597 +0100\ncommitter GitHub <noreply@github.com> 1731426597 +0100\n\nMerge pull request #12 from chipi-hub-team/chore/configuration\n\nchore: Codacy integration",
        "verified_at": "2024-11-12T15:51:16Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/91b61262f535596a119f254f48d155e4c88715e7",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/91b61262f535596a119f254f48d155e4c88715e7",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/91b61262f535596a119f254f48d155e4c88715e7/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/a05af69cd842acd4f5facc10e1f2cc0b3b50b716"
      },
      {
        "sha": "3af4e21c2c2530d597e133d13b5949add860dbde",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3af4e21c2c2530d597e133d13b5949add860dbde",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3af4e21c2c2530d597e133d13b5949add860dbde"
      }
    ],
    "files": [
      {
        "sha": "31d6aa640494f20b41958b8b2fc9f22e42a2fbec",
        "filename": ".github/workflows/codacy.yml",
        "status": "added",
        "additions": 53,
        "deletions": 0,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/91b61262f535596a119f254f48d155e4c88715e7/.github%2Fworkflows%2Fcodacy.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/91b61262f535596a119f254f48d155e4c88715e7/.github%2Fworkflows%2Fcodacy.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fcodacy.yml?ref=91b61262f535596a119f254f48d155e4c88715e7",
        "patch": "@@ -0,0 +1,53 @@\n+name: Codacy CI\n+\n+on:\n+  push:\n+    branches:\n+      - master\n+  pull_request:\n+    branches:\n+      - master\n+\n+jobs:\n+  build:\n+    runs-on: ubuntu-latest\n+    services:\n+      mysql:\n+        image: mysql:5.7\n+        env:\n+          MYSQL_ROOT_PASSWORD: uvlhub_root_password\n+          MYSQL_DATABASE: uvlhubdb_test\n+          MYSQL_USER: uvlhub_user\n+          MYSQL_PASSWORD: uvlhub_password\n+        ports:\n+          - 3306:3306\n+        options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n+\n+    steps:\n+    - name: Checkout code\n+      uses: actions/checkout@v4\n+\n+    - name: Set up Python\n+      uses: actions/setup-python@v5\n+      with:\n+        python-version: '3.12'\n+\n+    - name: Install dependencies\n+      run: |\n+        python -m pip install --upgrade pip\n+        pip install -r requirements.txt\n+\n+    - name: Upload coverage to Codacy\n+      run: |\n+        pip install codacy-coverage\n+        coverage run -m pytest app/modules/ --ignore-glob='*selenium*'\n+        coverage xml \n+        python-codacy-coverage -r coverage.xml\n+      env:\n+        FLASK_ENV: testing\n+        MARIADB_HOSTNAME: 127.0.0.1\n+        MARIADB_PORT: 3306\n+        MARIADB_TEST_DATABASE: uvlhubdb_test\n+        MARIADB_USER: uvlhub_user\n+        MARIADB_PASSWORD: uvlhub_password\n+        CODACY_PROJECT_TOKEN: ${{ secrets.CODACY_PROJECT_TOKEN }}"
      }
    ]
  },
  {
    "sha": "3af4e21c2c2530d597e133d13b5949add860dbde",
    "node_id": "C_kwDONBuXkNoAKDNhZjRlMjFjMmMyNTMwZDU5N2UxMzNkMTNiNTk0OWFkZDg2MGRiZGU",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T15:47:17Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-12T15:47:17Z"
      },
      "message": "chore: Codacy integration\n\nCodacy workflow added for ci.\n\nCloses #8",
      "tree": {
        "sha": "81f0efe75957d7ed8d88e3cc86d671e962e9ac0c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/81f0efe75957d7ed8d88e3cc86d671e962e9ac0c"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/3af4e21c2c2530d597e133d13b5949add860dbde",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3af4e21c2c2530d597e133d13b5949add860dbde",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3af4e21c2c2530d597e133d13b5949add860dbde",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3af4e21c2c2530d597e133d13b5949add860dbde/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3336bf4015077ba0e0c5a154c8bf165184227b75",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3336bf4015077ba0e0c5a154c8bf165184227b75",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3336bf4015077ba0e0c5a154c8bf165184227b75"
      }
    ],
    "files": [
      {
        "sha": "31d6aa640494f20b41958b8b2fc9f22e42a2fbec",
        "filename": ".github/workflows/codacy.yml",
        "status": "added",
        "additions": 53,
        "deletions": 0,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3af4e21c2c2530d597e133d13b5949add860dbde/.github%2Fworkflows%2Fcodacy.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3af4e21c2c2530d597e133d13b5949add860dbde/.github%2Fworkflows%2Fcodacy.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fcodacy.yml?ref=3af4e21c2c2530d597e133d13b5949add860dbde",
        "patch": "@@ -0,0 +1,53 @@\n+name: Codacy CI\n+\n+on:\n+  push:\n+    branches:\n+      - master\n+  pull_request:\n+    branches:\n+      - master\n+\n+jobs:\n+  build:\n+    runs-on: ubuntu-latest\n+    services:\n+      mysql:\n+        image: mysql:5.7\n+        env:\n+          MYSQL_ROOT_PASSWORD: uvlhub_root_password\n+          MYSQL_DATABASE: uvlhubdb_test\n+          MYSQL_USER: uvlhub_user\n+          MYSQL_PASSWORD: uvlhub_password\n+        ports:\n+          - 3306:3306\n+        options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n+\n+    steps:\n+    - name: Checkout code\n+      uses: actions/checkout@v4\n+\n+    - name: Set up Python\n+      uses: actions/setup-python@v5\n+      with:\n+        python-version: '3.12'\n+\n+    - name: Install dependencies\n+      run: |\n+        python -m pip install --upgrade pip\n+        pip install -r requirements.txt\n+\n+    - name: Upload coverage to Codacy\n+      run: |\n+        pip install codacy-coverage\n+        coverage run -m pytest app/modules/ --ignore-glob='*selenium*'\n+        coverage xml \n+        python-codacy-coverage -r coverage.xml\n+      env:\n+        FLASK_ENV: testing\n+        MARIADB_HOSTNAME: 127.0.0.1\n+        MARIADB_PORT: 3306\n+        MARIADB_TEST_DATABASE: uvlhubdb_test\n+        MARIADB_USER: uvlhub_user\n+        MARIADB_PASSWORD: uvlhub_password\n+        CODACY_PROJECT_TOKEN: ${{ secrets.CODACY_PROJECT_TOKEN }}"
      }
    ]
  },
  {
    "sha": "a40d8fe35347f83dc62dbcc6e861a20768b73b81",
    "node_id": "C_kwDONBuXkNoAKGE0MGQ4ZmUzNTM0N2Y4M2RjNjJkYmNjNmU4NjFhMjA3NjhiNzNiODE",
    "commit": {
      "author": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-11-11T14:00:43Z"
      },
      "committer": {
        "name": "Gonzalo Navas Remmers",
        "email": "gonnavrem@alum.us.es",
        "date": "2024-11-11T14:00:43Z"
      },
      "message": "feat: Add condition to edit button\n\nThe edit button only shows if the current user is the owner of the dataset",
      "tree": {
        "sha": "018c47d046ffb273c88358c24eb9c1f20c3cb0c1",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/018c47d046ffb273c88358c24eb9c1f20c3cb0c1"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/a40d8fe35347f83dc62dbcc6e861a20768b73b81",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a40d8fe35347f83dc62dbcc6e861a20768b73b81",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/a40d8fe35347f83dc62dbcc6e861a20768b73b81",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a40d8fe35347f83dc62dbcc6e861a20768b73b81/comments",
    "author": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "gonnavrem",
      "id": 92763979,
      "node_id": "U_kgDOBYd3Sw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92763979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gonnavrem",
      "html_url": "https://github.com/gonnavrem",
      "followers_url": "https://api.github.com/users/gonnavrem/followers",
      "following_url": "https://api.github.com/users/gonnavrem/following{/other_user}",
      "gists_url": "https://api.github.com/users/gonnavrem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gonnavrem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gonnavrem/subscriptions",
      "organizations_url": "https://api.github.com/users/gonnavrem/orgs",
      "repos_url": "https://api.github.com/users/gonnavrem/repos",
      "events_url": "https://api.github.com/users/gonnavrem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gonnavrem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "edb4023fa456034a6bc1bf0c781bde60d57b2ce5",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/edb4023fa456034a6bc1bf0c781bde60d57b2ce5",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/edb4023fa456034a6bc1bf0c781bde60d57b2ce5"
      }
    ],
    "files": [
      {
        "sha": "3d5688fb5499586a9dd21901e4993c2f344b46dd",
        "filename": "app/modules/dataset/routes.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a40d8fe35347f83dc62dbcc6e861a20768b73b81/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a40d8fe35347f83dc62dbcc6e861a20768b73b81/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=a40d8fe35347f83dc62dbcc6e861a20768b73b81",
        "patch": "@@ -261,7 +261,7 @@ def subdomain_index(doi):\n \n     # Save the cookie to the user's browser\n     user_cookie = ds_view_record_service.create_cookie(dataset=dataset)\n-    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset))\n+    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset, current_user=current_user))\n     resp.set_cookie(\"view_cookie\", user_cookie)\n \n     return resp"
      },
      {
        "sha": "a7adfb220cbc3442d1648b8c5e848b45ab7d63ba",
        "filename": "app/modules/dataset/templates/dataset/view_dataset.html",
        "status": "modified",
        "additions": 5,
        "deletions": 4,
        "changes": 9,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a40d8fe35347f83dc62dbcc6e861a20768b73b81/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a40d8fe35347f83dc62dbcc6e861a20768b73b81/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html?ref=a40d8fe35347f83dc62dbcc6e861a20768b73b81",
        "patch": "@@ -268,10 +268,11 @@ <h4 style=\"margin-bottom: 0px;\"><span class=\"badge bg-dark\">{{ dataset.get_files\n                                 \n                             </div>\n                             <div class=\"col-12 text-end\" >\n-                                \n-                                <button onclick=\"editFile('{{ file.id }}')\" class=\"btn btn-outline-secondary btn-sm\" style=\"border-radius: 5px;\">\n-                                    <i data-feather=\"edit-2\"></i> Edit\n-                                </button>\n+                                {% if current_user.id == dataset.user_id %}\n+                                    <button onclick=\"editFile('{{ file.id }}')\" class=\"btn btn-outline-secondary btn-sm\" style=\"border-radius: 5px;\">\n+                                        <i data-feather=\"edit-2\"></i> Edit\n+                                    </button>\n+                                {% endif %}\n \n                                 <button onclick=\"viewFile('{{ file.id }}')\" class=\"btn btn-outline-secondary btn-sm\" style=\"border-radius: 5px;\">\n                                     <i data-feather=\"eye\"></i> View"
      },
      {
        "sha": "429322138dde42bebd170a5963c3fc955921d6eb",
        "filename": "app/modules/hubfile/routes.py",
        "status": "modified",
        "additions": 0,
        "deletions": 18,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a40d8fe35347f83dc62dbcc6e861a20768b73b81/app%2Fmodules%2Fhubfile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a40d8fe35347f83dc62dbcc6e861a20768b73b81/app%2Fmodules%2Fhubfile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Froutes.py?ref=a40d8fe35347f83dc62dbcc6e861a20768b73b81",
        "patch": "@@ -125,24 +125,6 @@ def edit_file(file_id):\n             if not user_cookie:\n                 user_cookie = str(uuid.uuid4())\n \n-            # Check if the view record already exists for this cookie\n-            existing_record = HubfileViewRecord.query.filter_by(\n-                user_id=current_user.id if current_user.is_authenticated else None,\n-                file_id=file_id,\n-                view_cookie=user_cookie\n-            ).first()\n-\n-            if not existing_record:\n-                # Register file view\n-                new_view_record = HubfileViewRecord(\n-                    user_id=current_user.id if current_user.is_authenticated else None,\n-                    file_id=file_id,\n-                    view_date=datetime.now(),\n-                    view_cookie=user_cookie\n-                )\n-                db.session.add(new_view_record)\n-                db.session.commit()\n-\n             # Prepare response\n             response = jsonify({'success': True, 'content': content})\n             if not request.cookies.get('view_cookie'):"
      }
    ]
  },
  {
    "sha": "edb4023fa456034a6bc1bf0c781bde60d57b2ce5",
    "node_id": "C_kwDONBuXkNoAKGVkYjQwMjNmYTQ1NjAzNGE2YmMxYmYwYzc4MWJkZTYwZDU3YjJjZTU",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-11T12:19:52Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-11T12:19:52Z"
      },
      "message": "feat: Edit uvl feature\n\nEdit uvl feature on dataset view.",
      "tree": {
        "sha": "e3593173ff864f6bf2474ccda39fae93ac8487b2",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/e3593173ff864f6bf2474ccda39fae93ac8487b2"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/edb4023fa456034a6bc1bf0c781bde60d57b2ce5",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/edb4023fa456034a6bc1bf0c781bde60d57b2ce5",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/edb4023fa456034a6bc1bf0c781bde60d57b2ce5",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/edb4023fa456034a6bc1bf0c781bde60d57b2ce5/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/a05af69cd842acd4f5facc10e1f2cc0b3b50b716"
      }
    ],
    "files": [
      {
        "sha": "46c7360f6d8d474c15b05ffb5ef7c8e83e8cc802",
        "filename": "app/modules/dataset/templates/dataset/view_dataset.html",
        "status": "modified",
        "additions": 75,
        "deletions": 6,
        "changes": 81,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/edb4023fa456034a6bc1bf0c781bde60d57b2ce5/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/edb4023fa456034a6bc1bf0c781bde60d57b2ce5/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html?ref=edb4023fa456034a6bc1bf0c781bde60d57b2ce5",
        "patch": "@@ -268,6 +268,10 @@ <h4 style=\"margin-bottom: 0px;\"><span class=\"badge bg-dark\">{{ dataset.get_files\n                                 \n                             </div>\n                             <div class=\"col-12 text-end\" >\n+                                \n+                                <button onclick=\"editFile('{{ file.id }}')\" class=\"btn btn-outline-secondary btn-sm\" style=\"border-radius: 5px;\">\n+                                    <i data-feather=\"edit-2\"></i> Edit\n+                                </button>\n \n                                 <button onclick=\"viewFile('{{ file.id }}')\" class=\"btn btn-outline-secondary btn-sm\" style=\"border-radius: 5px;\">\n                                     <i data-feather=\"eye\"></i> View\n@@ -334,7 +338,7 @@ <h4 style=\"margin-bottom: 0px;\"><span class=\"badge bg-dark\">{{ dataset.get_files\n     \n </div>\n \n-<!-- Modal-->\n+<!-- Modal view -->\n <div class=\"modal fade\" id=\"fileViewerModal\" tabindex=\"-1\" aria-labelledby=\"fileViewerModalLabel\" aria-hidden=\"true\">\n     <div class=\"modal-dialog modal-lg\" style=\"height: 80vh; display: flex; align-items: center;\">\n         <div class=\"modal-content\" style=\"height: 80vh;\">\n@@ -345,15 +349,42 @@ <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n                         style=\"margin-right: 5px; margin-bottom: 5px; border-radius: 5px;\">\n                         <i data-feather=\"download\"></i>\n                     </a>\n-                    <button onclick=\"copyToClipboard()\" class=\"btn btn-outline-secondary btn-sm\"\n+                    <button onclick=\"copyToClipboard('fileContentView')\" class=\"btn btn-outline-secondary btn-sm\"\n+                        style=\"margin-right: 5px; margin-bottom: 5px; border-radius: 5px;\">\n+                        <i data-feather=\"copy\"></i>\n+                    </button>\n+                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n+                </div>\n+            </div>\n+            <div class=\"modal-body\" style=\"overflow-y: auto; height: calc(100vh - 50px);\">\n+                <pre id=\"fileContentView\" style=\"height: 100%; overflow-y: auto; white-space: pre-wrap; word-wrap: break-word; background-color: #f5f5f5; padding: 20px; border-radius: 5px; border: 1px solid #ccc;\"></pre>\n+\n+            </div>\n+        </div>\n+    </div>\n+</div>\n+\n+<!-- Modal edit-->\n+<div class=\"modal fade\" id=\"fileEditorModal\" tabindex=\"-1\" aria-labelledby=\"fileViewerModalLabel\" aria-hidden=\"true\">\n+    <div class=\"modal-dialog modal-lg\" style=\"height: 80vh; display: flex; align-items: center;\">\n+        <div class=\"modal-content\" style=\"height: 80vh;\">\n+            <div class=\"modal-header\" style=\"display: flex; justify-content: space-between; align-items: center;\">\n+                <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n+                <div>\n+                    <button onclick=\"save()\" class=\"btn btn-outline-primary btn-sm\" id=\"saveButton\"\n+                        style=\"margin-right: 5px; margin-bottom: 5px; border-radius: 5px;\">\n+                        <i data-feather=\"save\"></i>\n+                        <input type=\"hidden\" id=\"file_id\" value=\"0\">\n+                    </button>\n+                    <button onclick=\"copyToClipboard('fileContentEdit')\" class=\"btn btn-outline-secondary btn-sm\"\n                         style=\"margin-right: 5px; margin-bottom: 5px; border-radius: 5px;\">\n                         <i data-feather=\"copy\"></i>\n                     </button>\n                     <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                 </div>\n             </div>\n             <div class=\"modal-body\" style=\"overflow-y: auto; height: calc(100vh - 50px);\">\n-                <pre id=\"fileContent\" style=\"height: 100%; overflow-y: auto; white-space: pre-wrap; word-wrap: break-word; background-color: #f5f5f5; padding: 20px; border-radius: 5px; border: 1px solid #ccc;\"></pre>\n+                <pre id=\"fileContentEdit\" contenteditable=\"true\" style=\"height: 100%; overflow-y: auto; white-space: pre-wrap; word-wrap: break-word; background-color: #f5f5f5; padding: 20px; border-radius: 5px; border: 1px solid #ccc;\"></pre>\n \n             </div>\n         </div>\n@@ -375,7 +406,7 @@ <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n         fetch(`/file/view/${fileId}`)\n             .then(response => response.json())\n             .then(data => {\n-                document.getElementById('fileContent').textContent = data.content;\n+                document.getElementById('fileContentView').textContent = data.content;\n                 currentFileId = fileId;\n                 document.getElementById('downloadButton').href = `/file/download/${fileId}`;\n                 var modal = new bootstrap.Modal(document.getElementById('fileViewerModal'));\n@@ -384,6 +415,20 @@ <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n             .catch(error => console.error('Error loading file:', error));\n     }\n \n+    function editFile(fileId) {\n+        fetch(`/file/view/${fileId}`)\n+            .then(response => response.json())\n+            .then(data => {\n+                document.getElementById('fileContentEdit').textContent = data.content;\n+                currentFileId = fileId;\n+                document.getElementById('downloadButton').href = `/file/download/${fileId}`;\n+                var modal = new bootstrap.Modal(document.getElementById('fileEditorModal'));\n+                document.getElementById('file_id').value = fileId;\n+                modal.show();\n+            })\n+            .catch(error => console.error('Error loading file:', error));\n+    }\n+\n     function showLoading() {\n         document.getElementById(\"loading\").style.display = \"initial\";\n     }\n@@ -484,14 +529,38 @@ <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n         }\n     }\n     */\n-    function copyToClipboard() {\n-        const text = document.getElementById('fileContent').textContent;\n+    function copyToClipboard(elementName) {\n+        const text = document.getElementById(elementName).textContent;\n         navigator.clipboard.writeText(text).then(() => {\n             console.log('Text copied to clipboard');\n         }).catch(err => {\n             console.error('Failed to copy text: ', err);\n         });\n     }\n+\n+    function save(){\n+        const fileId = document.getElementById('file_id').value;\n+        fetch(`/file/edit/${fileId}`, {\n+            method: 'POST',\n+            headers: {\n+                'Content-Type': 'application/json'\n+            },\n+            body: JSON.stringify({\n+                content: document.getElementById('fileContentEdit').textContent\n+            })\n+        })\n+        .then(response => response.json())\n+        .then(data => {\n+            if(data.error) {\n+                alert(\"You are not allowed to edit this file\");\n+            }\n+            else{\n+                alert(\"File saved successfully\");\n+            }\n+        })\n+        .catch(error => console.error('Error loading file:', error));\n+    }\n+\n </script>\n \n {% endblock %}"
      },
      {
        "sha": "c07b253cab5c7be84e05a52c845ec5bf109596e4",
        "filename": "app/modules/hubfile/routes.py",
        "status": "modified",
        "additions": 58,
        "deletions": 0,
        "changes": 58,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/edb4023fa456034a6bc1bf0c781bde60d57b2ce5/app%2Fmodules%2Fhubfile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/edb4023fa456034a6bc1bf0c781bde60d57b2ce5/app%2Fmodules%2Fhubfile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Froutes.py?ref=edb4023fa456034a6bc1bf0c781bde60d57b2ce5",
        "patch": "@@ -96,3 +96,61 @@ def view_file(file_id):\n             return jsonify({'success': False, 'error': 'File not found'}), 404\n     except Exception as e:\n         return jsonify({'success': False, 'error': str(e)}), 500\n+\n+\n+@hubfile_bp.route('/file/edit/<int:file_id>', methods=['POST'])\n+def edit_file(file_id):\n+    file = HubfileService().get_or_404(file_id)\n+    filename = file.name\n+\n+    directory_path = f\"uploads/user_{file.feature_model.data_set.user_id}/dataset_{file.feature_model.data_set_id}/\"\n+    parent_directory_path = os.path.dirname(current_app.root_path)\n+    file_path = os.path.join(parent_directory_path, directory_path, filename)\n+\n+    # Get conent from request\n+    content = request.json.get('content')\n+\n+    # Check if the user is the owner of the file\n+\n+    try:\n+\n+        if current_user.id != file.feature_model.data_set.user_id:\n+            return jsonify({'success': False, 'error': 'You are not authorized to edit this file'}), 403\n+\n+        if os.path.exists(file_path):\n+            with open(file_path, 'w') as f:\n+                f.write(content)\n+\n+            user_cookie = request.cookies.get('view_cookie')\n+            if not user_cookie:\n+                user_cookie = str(uuid.uuid4())\n+\n+            # Check if the view record already exists for this cookie\n+            existing_record = HubfileViewRecord.query.filter_by(\n+                user_id=current_user.id if current_user.is_authenticated else None,\n+                file_id=file_id,\n+                view_cookie=user_cookie\n+            ).first()\n+\n+            if not existing_record:\n+                # Register file view\n+                new_view_record = HubfileViewRecord(\n+                    user_id=current_user.id if current_user.is_authenticated else None,\n+                    file_id=file_id,\n+                    view_date=datetime.now(),\n+                    view_cookie=user_cookie\n+                )\n+                db.session.add(new_view_record)\n+                db.session.commit()\n+\n+            # Prepare response\n+            response = jsonify({'success': True, 'content': content})\n+            if not request.cookies.get('view_cookie'):\n+                response = make_response(response)\n+                response.set_cookie('view_cookie', user_cookie, max_age=60*60*24*365*2)\n+\n+            return response\n+        else:\n+            return jsonify({'success': False, 'error': 'File not found'}), 404\n+    except Exception as e:\n+        return jsonify({'success': False, 'error': str(e)}), 500"
      }
    ]
  },
  {
    "sha": "08e802e546eb94ff4129b85916c1257cd5fbe247",
    "node_id": "C_kwDONBuXkNoAKDA4ZTgwMmU1NDZlYjk0ZmY0MTI5Yjg1OTE2YzEyNTdjZDVmYmUyNDc",
    "commit": {
      "author": {
        "name": "d4niel980",
        "email": "danbenhid@alum.us.es",
        "date": "2024-11-10T21:00:21Z"
      },
      "committer": {
        "name": "d4niel980",
        "email": "danbenhid@alum.us.es",
        "date": "2024-11-10T21:00:21Z"
      },
      "message": "feat: Unit testing\n\nAdd unit testing cases to test profile display functionality.",
      "tree": {
        "sha": "578b9ebe56225c6559a021a7fae1c499a0e095bb",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/578b9ebe56225c6559a021a7fae1c499a0e095bb"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/08e802e546eb94ff4129b85916c1257cd5fbe247",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/08e802e546eb94ff4129b85916c1257cd5fbe247",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/08e802e546eb94ff4129b85916c1257cd5fbe247",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/08e802e546eb94ff4129b85916c1257cd5fbe247/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "2906e5d6ee7398b64ed1515f2d2bc6c570f16034",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/2906e5d6ee7398b64ed1515f2d2bc6c570f16034",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/2906e5d6ee7398b64ed1515f2d2bc6c570f16034"
      }
    ],
    "files": [
      {
        "sha": "7e4ddb17fa90dd9493b1a6093514fc582106b309",
        "filename": "app/modules/profile/tests/test_unit.py",
        "status": "modified",
        "additions": 45,
        "deletions": 0,
        "changes": 45,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/08e802e546eb94ff4129b85916c1257cd5fbe247/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/08e802e546eb94ff4129b85916c1257cd5fbe247/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py?ref=08e802e546eb94ff4129b85916c1257cd5fbe247",
        "patch": "@@ -36,3 +36,48 @@ def test_edit_profile_page_get(test_client):\n     assert b\"Edit profile\" in response.data, \"The expected content is not present on the page\"\n \n     logout(test_client)\n+\n+\n+def test_get_profile_page(test_client):\n+\n+    \"\"\"\n+    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n+    usuarios exsistentes mediante GET\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    response = test_client.get(\"/profile/summary/2\")\n+    assert response.status_code == 200, \"The profile page could not be accessed.\"\n+    assert b\"User profile\" in response.data, \"The expected content is not present on the page\"\n+\n+    logout(test_client)\n+\n+\n+def test_get_unexisting_profile_page(test_client):\n+    \"\"\"\n+    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n+    usuarios exsistentes mediante GET\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    response = test_client.get(\"/profile/summary/12\")\n+    assert response.status_code == 404, \"The profile page could not be accessed.\"\n+\n+    logout(test_client)\n+\n+\n+def test_get_my_profile_page(test_client):\n+    \"\"\"\n+    Se testear\u00e1 que el usuario pueda acceder al perfil de uno de los\n+    usuarios exsistentes mediante GET\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    response = test_client.get(\"/profile/summary\")\n+    assert response.status_code == 200, \"The profile page could not be accessed.\"\n+    assert b\"My profile\" in response.data, \"The expected content is not present on the page\"\n+\n+    logout(test_client)"
      }
    ]
  },
  {
    "sha": "2906e5d6ee7398b64ed1515f2d2bc6c570f16034",
    "node_id": "C_kwDONBuXkNoAKDI5MDZlNWQ2ZWU3Mzk4YjY0ZWQxNTE1ZjJkMmJjNmM1NzBmMTYwMzQ",
    "commit": {
      "author": {
        "name": "d4niel980",
        "email": "danbenhid@alum.us.es",
        "date": "2024-11-10T20:56:53Z"
      },
      "committer": {
        "name": "d4niel980",
        "email": "danbenhid@alum.us.es",
        "date": "2024-11-10T20:56:53Z"
      },
      "message": "feat: 404 page linked\n\nAdd trigger to show a 404 when an user tries to see a user profile that doesn't exist.",
      "tree": {
        "sha": "351ff6368f52297ebe96e9e04539bc8721db6c69",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/351ff6368f52297ebe96e9e04539bc8721db6c69"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/2906e5d6ee7398b64ed1515f2d2bc6c570f16034",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/2906e5d6ee7398b64ed1515f2d2bc6c570f16034",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/2906e5d6ee7398b64ed1515f2d2bc6c570f16034",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/2906e5d6ee7398b64ed1515f2d2bc6c570f16034/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d657f9cda071f0cd79babdd8fae2563640d01e42",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d657f9cda071f0cd79babdd8fae2563640d01e42",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/d657f9cda071f0cd79babdd8fae2563640d01e42"
      }
    ],
    "files": [
      {
        "sha": "17793606faecd38e7cc724be7e70fdee733d3f8b",
        "filename": "app/modules/profile/routes.py",
        "status": "modified",
        "additions": 5,
        "deletions": 1,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/2906e5d6ee7398b64ed1515f2d2bc6c570f16034/app%2Fmodules%2Fprofile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/2906e5d6ee7398b64ed1515f2d2bc6c570f16034/app%2Fmodules%2Fprofile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Froutes.py?ref=2906e5d6ee7398b64ed1515f2d2bc6c570f16034",
        "patch": "@@ -1,7 +1,7 @@\n from app.modules.auth.models import User\n from app.modules.auth.services import AuthenticationService\n from app.modules.dataset.models import DataSet\n-from flask import render_template, redirect, url_for, request\n+from flask import abort, render_template, redirect, url_for, request\n from flask_login import login_required, current_user\n \n from app import db\n@@ -38,12 +38,16 @@ def my_profile(user_id):\n     if user_id is None:\n         user_id = current_user.id\n         is_my_profile = True\n+\n     page = request.args.get('page', 1, type=int)\n     per_page = 5\n \n     # se busca el perfil del usuario del id de la url par mostrarlo dsps\n     user_found = db.session.query(User).filter(User.id == user_id).first()\n \n+    if not user_found:\n+        abort(404)\n+\n     user_datasets_pagination = db.session.query(DataSet) \\\n         .filter(DataSet.user_id == user_id) \\\n         .order_by(DataSet.created_at.desc()) \\"
      }
    ]
  },
  {
    "sha": "d657f9cda071f0cd79babdd8fae2563640d01e42",
    "node_id": "C_kwDONBuXkNoAKGQ2NTdmOWNkYTA3MWYwY2Q3OWJhYmRkOGZhZTI1NjM2NDBkMDFlNDI",
    "commit": {
      "author": {
        "name": "d4niel980",
        "email": "danbenhid@alum.us.es",
        "date": "2024-11-10T20:53:45Z"
      },
      "committer": {
        "name": "d4niel980",
        "email": "danbenhid@alum.us.es",
        "date": "2024-11-10T20:53:45Z"
      },
      "message": "feat: User profile now accesible through dataset details\n\nUpdate profile routes, profile templates and dataset details template to access the dataset uploader user profile.",
      "tree": {
        "sha": "52e4de28beaabd8bd7745d60a5bd4968e9455c67",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/52e4de28beaabd8bd7745d60a5bd4968e9455c67"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/d657f9cda071f0cd79babdd8fae2563640d01e42",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d657f9cda071f0cd79babdd8fae2563640d01e42",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/d657f9cda071f0cd79babdd8fae2563640d01e42",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d657f9cda071f0cd79babdd8fae2563640d01e42/comments",
    "author": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5ff9d09caaccb2c184b29b118766a08021dac9d2",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/5ff9d09caaccb2c184b29b118766a08021dac9d2",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/5ff9d09caaccb2c184b29b118766a08021dac9d2"
      }
    ],
    "files": [
      {
        "sha": "7304f9984eee767608be37d47173dc597882c321",
        "filename": "app/modules/dataset/templates/dataset/view_dataset.html",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d657f9cda071f0cd79babdd8fae2563640d01e42/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d657f9cda071f0cd79babdd8fae2563640d01e42/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html?ref=d657f9cda071f0cd79babdd8fae2563640d01e42",
        "patch": "@@ -64,7 +64,7 @@ <h1><b>{{ dataset.ds_meta_data.title }}</b></h1>\n                         </span>\n                     </div>\n                     <div class=\"col-md-8 col-12\">\n-                        <a href=\"#\">{{ dataset.user.profile.surname }}, {{ dataset.user.profile.name }}</a>\n+                        <a href=\"{{ url_for('profile.my_profile', user_id=dataset.user_id) }}\">{{ dataset.user.profile.surname }}, {{ dataset.user.profile.name }}</a>\n                     </div>\n \n                 </div>"
      },
      {
        "sha": "f62931401a2bb4422da24b8bedfbad0ab4fceeca",
        "filename": "app/modules/profile/routes.py",
        "status": "modified",
        "additions": 18,
        "deletions": 7,
        "changes": 25,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d657f9cda071f0cd79babdd8fae2563640d01e42/app%2Fmodules%2Fprofile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d657f9cda071f0cd79babdd8fae2563640d01e42/app%2Fmodules%2Fprofile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Froutes.py?ref=d657f9cda071f0cd79babdd8fae2563640d01e42",
        "patch": "@@ -1,3 +1,4 @@\n+from app.modules.auth.models import User\n from app.modules.auth.services import AuthenticationService\n from app.modules.dataset.models import DataSet\n from flask import render_template, redirect, url_for, request\n@@ -28,28 +29,38 @@ def edit_profile():\n     return render_template(\"profile/edit.html\", form=form)\n \n \n-@profile_bp.route('/profile/summary')\n+@profile_bp.route('/profile/summary', defaults={'user_id': None})\n+@profile_bp.route('/profile/summary/<int:user_id>')\n @login_required\n-def my_profile():\n+def my_profile(user_id):\n+    is_my_profile = False\n+    # ver si el user_id es none(mi perfil) o es alguno(perfil de otro)\n+    if user_id is None:\n+        user_id = current_user.id\n+        is_my_profile = True\n     page = request.args.get('page', 1, type=int)\n     per_page = 5\n \n+    # se busca el perfil del usuario del id de la url par mostrarlo dsps\n+    user_found = db.session.query(User).filter(User.id == user_id).first()\n+\n     user_datasets_pagination = db.session.query(DataSet) \\\n-        .filter(DataSet.user_id == current_user.id) \\\n+        .filter(DataSet.user_id == user_id) \\\n         .order_by(DataSet.created_at.desc()) \\\n         .paginate(page=page, per_page=per_page, error_out=False)\n \n     total_datasets_count = db.session.query(DataSet) \\\n-        .filter(DataSet.user_id == current_user.id) \\\n+        .filter(DataSet.user_id == user_id) \\\n         .count()\n \n     print(user_datasets_pagination.items)\n \n     return render_template(\n         'profile/summary.html',\n-        user_profile=current_user.profile,\n-        user=current_user,\n+        user_profile=user_found.profile,\n+        user=user_found,\n         datasets=user_datasets_pagination.items,\n         pagination=user_datasets_pagination,\n-        total_datasets=total_datasets_count\n+        total_datasets=total_datasets_count,\n+        is_my_profile=is_my_profile\n     )"
      },
      {
        "sha": "36fb2e45aeb6398958752e75025ab5056a2d3fd5",
        "filename": "app/modules/profile/templates/profile/summary.html",
        "status": "modified",
        "additions": 17,
        "deletions": 2,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d657f9cda071f0cd79babdd8fae2563640d01e42/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d657f9cda071f0cd79babdd8fae2563640d01e42/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html?ref=d657f9cda071f0cd79babdd8fae2563640d01e42",
        "patch": "@@ -1,11 +1,26 @@\n {% extends \"base_template.html\" %}\n \n \n-{% block title %}User Profile{% endblock %}\n+{% block title %}\n+    {% if is_my_profile %}\n+        My profile\n+    {% else %}\n+        User Profile\n+    {% endif %}\n+\n+{% endblock %}\n \n {% block content %}\n \n-<h1 class=\"h3 mb-3\">User profile</h1>\n+<h1 class=\"h3 mb-3\">\n+    {% if is_my_profile %}\n+        My profile\n+    {% else %}\n+        User Profile\n+    {% endif %}\n+\n+\n+</h1>\n \n <div class=\"row\">\n "
      }
    ]
  },
  {
    "sha": "5ff9d09caaccb2c184b29b118766a08021dac9d2",
    "node_id": "C_kwDONBuXkNoAKDVmZjlkMDljYWFjY2IyYzE4NGIyOWIxMTg3NjZhMDgwMjFkYWM5ZDI",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-09T16:13:14Z"
      },
      "committer": {
        "name": "d4niel980",
        "email": "danbenhid@alum.us.es",
        "date": "2024-11-10T20:40:14Z"
      },
      "message": "style: Fix code format\n\nFix code format by flake8 rules.",
      "tree": {
        "sha": "52bc2d6a65af29317370bba1b225ada22ae4503c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/52bc2d6a65af29317370bba1b225ada22ae4503c"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/5ff9d09caaccb2c184b29b118766a08021dac9d2",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/5ff9d09caaccb2c184b29b118766a08021dac9d2",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/5ff9d09caaccb2c184b29b118766a08021dac9d2",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/5ff9d09caaccb2c184b29b118766a08021dac9d2/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "d4niel980",
      "id": 91976218,
      "node_id": "U_kgDOBXtyGg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91976218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d4niel980",
      "html_url": "https://github.com/d4niel980",
      "followers_url": "https://api.github.com/users/d4niel980/followers",
      "following_url": "https://api.github.com/users/d4niel980/following{/other_user}",
      "gists_url": "https://api.github.com/users/d4niel980/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d4niel980/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d4niel980/subscriptions",
      "organizations_url": "https://api.github.com/users/d4niel980/orgs",
      "repos_url": "https://api.github.com/users/d4niel980/repos",
      "events_url": "https://api.github.com/users/d4niel980/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d4niel980/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "eab5a18bf94f5a6670cf58eb402041d0de4c4be1",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/eab5a18bf94f5a6670cf58eb402041d0de4c4be1",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/eab5a18bf94f5a6670cf58eb402041d0de4c4be1"
      }
    ],
    "files": [
      {
        "sha": "809df2579a8c495f2c64e5d3518f85d7168537c0",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "modified",
        "additions": 8,
        "deletions": 2,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=5ff9d09caaccb2c184b29b118766a08021dac9d2",
        "patch": "@@ -3,12 +3,14 @@\n import json\n import uuid\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['GET'])\n def get_all_depositions():\n     with open('app/modules/fakenodo/placeholders/depositions.json') as f:\n         data = json.load(f)\n     return jsonify(data)\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['GET'])\n def get_deposition(id):\n     with open('app/modules/fakenodo/placeholders/deposition.json') as f:\n@@ -17,24 +19,28 @@ def get_deposition(id):\n \n     return jsonify(data)\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['POST'])\n def create_deposition():\n     response = make_response(jsonify({\"message\": \"Deposition created\", \"id\": 1, \"conceptrecid\": \"1234\"}))\n     response.status_code = 201\n     return response\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>/files', methods=['POST'])\n def upload_file(id):\n-    response =  make_response(jsonify({\"message\": f\"File uploaded to deposition {id}\"}))\n+    response = make_response(jsonify({\"message\": f\"File uploaded to deposition {id}\"}))\n     response.status_code = 201\n     return response\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['DELETE'])\n def delete_deposition(id):\n     return jsonify({\"message\": f\"Deposition {id} deleted\"})\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>/actions/publish', methods=['POST'])\n def publish_deposition(id):\n-    response =  make_response(jsonify({\"message\": f\"Deposition {id} published\"}))\n+    response = make_response(jsonify({\"message\": f\"Deposition {id} published\"}))\n     response.status_code = 202\n     return response"
      },
      {
        "sha": "576b1bf81a25a378bdddf967cb940307f17fddd3",
        "filename": "app/modules/notepad/forms.py",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Fnotepad%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Fnotepad%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Fforms.py?ref=5ff9d09caaccb2c184b29b118766a08021dac9d2",
        "patch": "@@ -2,6 +2,7 @@\n from wtforms import SubmitField, StringField, TextAreaField\n from wtforms.validators import DataRequired, Length\n \n+\n class NotepadForm(FlaskForm):\n     title = StringField('Title', validators=[DataRequired(), Length(max=256)])\n     body = TextAreaField('Body', validators=[DataRequired()])"
      },
      {
        "sha": "df307ab08bd616c8a126e56c98f358f15b4e22c8",
        "filename": "app/modules/notepad/repositories.py",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Fnotepad%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Fnotepad%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Frepositories.py?ref=5ff9d09caaccb2c184b29b118766a08021dac9d2",
        "patch": "@@ -8,4 +8,3 @@ def __init__(self):\n \n     def get_all_by_user(self, user_id):\n         return Notepad.query.filter_by(user_id=user_id).all()\n-"
      },
      {
        "sha": "08882be941dabc74931075d38bc451d34b5be7ba",
        "filename": "app/modules/notepad/routes.py",
        "status": "modified",
        "additions": 10,
        "deletions": 6,
        "changes": 16,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Fnotepad%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Fnotepad%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Froutes.py?ref=5ff9d09caaccb2c184b29b118766a08021dac9d2",
        "patch": "@@ -1,4 +1,4 @@\n-from flask import render_template, redirect, url_for, flash, request\n+from flask import render_template, redirect, url_for, flash\n from flask_login import login_required, current_user\n \n from app.modules.notepad.forms import NotepadForm\n@@ -7,15 +7,19 @@\n \n notepad_service = NotepadService()\n \n+\n # Read\n+\n @notepad_bp.route('/notepad', methods=['GET'])\n @login_required\n def index():\n     form = NotepadForm()\n     notepads = notepad_service.get_all_by_user(current_user.id)\n     return render_template('notepad/index.html', notepads=notepads, form=form)\n \n+\n # Create\n+\n @notepad_bp.route('/notepad/create', methods=['GET', 'POST'])\n @login_required\n def create_notepad():\n@@ -34,18 +38,20 @@ def create_notepad():\n \n \n # Read by ID\n+\n @notepad_bp.route('/notepad/<int:notepad_id>', methods=['GET'])\n @login_required\n def get_notepad(notepad_id):\n     notepad = notepad_service.get_or_404(notepad_id)\n-    \n     if notepad.user_id != current_user.id:\n         flash('You are not authorized to view this notepad', 'error')\n         return redirect(url_for('notepad.index'))\n \n     return render_template('notepad/show.html', notepad=notepad)\n \n+\n # Edit\n+\n @notepad_bp.route('/notepad/edit/<int:notepad_id>', methods=['GET', 'POST'])\n @login_required\n def edit_notepad(notepad_id):\n@@ -71,7 +77,9 @@ def edit_notepad(notepad_id):\n         )\n     return render_template('notepad/edit.html', form=form, notepad=notepad)\n \n+\n # Delete\n+\n @notepad_bp.route('/notepad/delete/<int:notepad_id>', methods=['POST'])\n @login_required\n def delete_notepad(notepad_id):\n@@ -85,8 +93,4 @@ def delete_notepad(notepad_id):\n         flash('Notepad deleted successfully!', 'success')\n     else:\n         flash('Error deleting notepad', 'error')\n-    \n     return redirect(url_for('notepad.index'))\n-\n-\n-"
      },
      {
        "sha": "9084d287fa0ae6dd4aeae7995c7cd2d8ba058dac",
        "filename": "app/modules/notepad/tests/locustfile.py",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Fnotepad%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Fnotepad%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Flocustfile.py?ref=5ff9d09caaccb2c184b29b118766a08021dac9d2",
        "patch": "@@ -1,6 +1,7 @@\n from locust import HttpUser, task, between\n import random\n \n+\n class NotepadUser(HttpUser):\n     wait_time = between(1, 5)\n \n@@ -48,4 +49,4 @@ def view_specific_notepad(self):\n \n     def on_stop(self):\n         # Logout at the end of each simulated user session\n-        self.client.get(\"/logout\")\n\\ No newline at end of file\n+        self.client.get(\"/logout\")"
      },
      {
        "sha": "919f5730257780968b6fd581315aa052d6d1ce24",
        "filename": "app/modules/notepad/tests/test_integration.py",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_integration.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_integration.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_integration.py?ref=5ff9d09caaccb2c184b29b118766a08021dac9d2",
        "patch": "@@ -6,6 +6,7 @@\n from app.modules.profile.models import UserProfile\n from flask_login import current_user\n \n+\n @pytest.fixture(scope=\"module\")\n def test_client(test_client):\n     \"\"\"\n@@ -51,6 +52,7 @@ def test_get_notepad(test_client):\n \n     logout(test_client)\n \n+\n def test_edit_notepad(test_client):\n     \"\"\"\n     Test editing a notepad via POST request.\n@@ -87,6 +89,7 @@ def test_edit_notepad(test_client):\n \n     logout(test_client)\n \n+\n def test_delete_notepad(test_client):\n     \"\"\"\n     Test deleting a notepad via POST request.\n@@ -117,4 +120,4 @@ def test_delete_notepad(test_client):\n         notepad = Notepad.query.get(notepad.id)\n         assert notepad is None, \"The notepad was not deleted.\"\n \n-    logout(test_client)\n\\ No newline at end of file\n+    logout(test_client)"
      },
      {
        "sha": "2d1d3aedab773903b1268cb507f749b97583b905",
        "filename": "app/modules/notepad/tests/test_selenium.py",
        "status": "modified",
        "additions": 24,
        "deletions": 30,
        "changes": 54,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_selenium.py?ref=5ff9d09caaccb2c184b29b118766a08021dac9d2",
        "patch": "@@ -1,36 +1,30 @@\n # Generated by Selenium IDE\n-import pytest\n import time\n-import json\n from selenium import webdriver\n from selenium.webdriver.common.by import By\n-from selenium.webdriver.common.action_chains import ActionChains\n-from selenium.webdriver.support import expected_conditions\n-from selenium.webdriver.support.wait import WebDriverWait\n-from selenium.webdriver.common.keys import Keys\n-from selenium.webdriver.common.desired_capabilities import DesiredCapabilities\n+\n \n class TestCreatenotepad():\n-  def setup_method(self, method):\n-    self.driver = webdriver.Chrome()\n-    self.vars = {}\n-  \n-  def teardown_method(self, method):\n-    self.driver.quit()\n-  \n-  def test_createnotepad(self):\n-    self.driver.get(\"http://localhost:5000/login\")\n-    time.sleep(2)\n-    self.driver.set_window_size(912, 1011)\n-    self.driver.find_element(By.ID, \"email\").click()\n-    self.driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n-    self.driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n-    self.driver.find_element(By.ID, \"submit\").click()\n-    time.sleep(2)\n-    self.driver.get(\"http://localhost:5000/notepad/create\")\n-    time.sleep(2)\n-    self.driver.find_element(By.ID, \"title\").click()\n-    self.driver.find_element(By.ID, \"title\").send_keys(\"n1\")\n-    self.driver.find_element(By.ID, \"body\").click()\n-    self.driver.find_element(By.ID, \"body\").send_keys(\"n1\")\n-    self.driver.find_element(By.ID, \"submit\").click()\n\\ No newline at end of file\n+    def setup_method(self, method):\n+        self.driver = webdriver.Chrome()\n+        self.vars = {}\n+\n+    def teardown_method(self, method):\n+        self.driver.quit()\n+\n+    def test_createnotepad(self):\n+        self.driver.get(\"http://localhost:5000/login\")\n+        time.sleep(2)\n+        self.driver.set_window_size(912, 1011)\n+        self.driver.find_element(By.ID, \"email\").click()\n+        self.driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+        self.driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+        self.driver.find_element(By.ID, \"submit\").click()\n+        time.sleep(2)\n+        self.driver.get(\"http://localhost:5000/notepad/create\")\n+        time.sleep(2)\n+        self.driver.find_element(By.ID, \"title\").click()\n+        self.driver.find_element(By.ID, \"title\").send_keys(\"n1\")\n+        self.driver.find_element(By.ID, \"body\").click()\n+        self.driver.find_element(By.ID, \"body\").send_keys(\"n1\")\n+        self.driver.find_element(By.ID, \"submit\").click()"
      },
      {
        "sha": "cbb67d6ebd6b5c0e7dd78d9accb81722a0b6d2ea",
        "filename": "app/modules/notepad/tests/test_unit.py",
        "status": "modified",
        "additions": 7,
        "deletions": 3,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py?ref=5ff9d09caaccb2c184b29b118766a08021dac9d2",
        "patch": "@@ -1,8 +1,7 @@\n import pytest\n from unittest.mock import patch, MagicMock\n from app.modules.notepad.services import NotepadService\n-from app.modules.notepad.models import Notepad\n-from app.modules.auth.models import User\n+\n \n @pytest.fixture(scope=\"module\")\n def test_client(test_client):\n@@ -15,10 +14,12 @@ def test_client(test_client):\n         pass\n     yield test_client\n \n+\n @pytest.fixture\n def notepad_service():\n     return NotepadService()\n \n+\n def test_get_all_by_user(notepad_service):\n     with patch.object(notepad_service.repository, 'get_all_by_user') as mock_get_all:\n         mock_notepads = [MagicMock(id=1), MagicMock(id=2)]\n@@ -31,6 +32,7 @@ def test_get_all_by_user(notepad_service):\n         assert len(result) == 2\n         mock_get_all.assert_called_once_with(user_id)\n \n+\n def test_create(notepad_service):\n     with patch.object(notepad_service.repository, 'create') as mock_create:\n         mock_notepad = MagicMock(id=1)\n@@ -46,6 +48,7 @@ def test_create(notepad_service):\n         assert result.id == 1\n         mock_create.assert_called_once_with(title=title, body=body, user_id=user_id)\n \n+\n def test_update(notepad_service):\n     with patch.object(notepad_service.repository, 'update') as mock_update:\n         mock_notepad = MagicMock(id=1)\n@@ -60,6 +63,7 @@ def test_update(notepad_service):\n         assert result == mock_notepad\n         mock_update.assert_called_once_with(notepad_id, title=title, body=body)\n \n+\n def test_delete(notepad_service):\n     with patch.object(notepad_service.repository, 'delete') as mock_delete:\n         mock_delete.return_value = True\n@@ -68,4 +72,4 @@ def test_delete(notepad_service):\n         result = notepad_service.delete(notepad_id)\n \n         assert result is True\n-        mock_delete.assert_called_once_with(notepad_id)\n\\ No newline at end of file\n+        mock_delete.assert_called_once_with(notepad_id)"
      },
      {
        "sha": "b9da9e10b6e405c40d2624318d07bf06811826a9",
        "filename": "app/modules/zenodo/services.py",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Fzenodo%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/5ff9d09caaccb2c184b29b118766a08021dac9d2/app%2Fmodules%2Fzenodo%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Fservices.py?ref=5ff9d09caaccb2c184b29b118766a08021dac9d2",
        "patch": "@@ -30,12 +30,12 @@ def get_zenodo_url(self):\n         development_url = f\"http://{LOCAL_SERVER}/fakenodo/deposit/depositions\"\n \n         if FLASK_ENV == \"development\":\n-            #ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n+            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n             ZENODO_API_URL = development_url\n         elif FLASK_ENV == \"production\":\n             ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://zenodo.org/api/deposit/depositions\")\n         else:\n-            #ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n+            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n             ZENODO_API_URL = development_url\n \n         return ZENODO_API_URL"
      }
    ]
  },
  {
    "sha": "a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
    "node_id": "C_kwDONBuXkNoAKGEwNWFmNjljZDg0MmFjZDRmNWZhY2MxMGUxZjJjYzBiM2I1MGI3MTY",
    "commit": {
      "author": {
        "name": "YatoDev",
        "email": "59254702+Yato03@users.noreply.github.com",
        "date": "2024-11-10T09:44:43Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-11-10T09:44:43Z"
      },
      "message": "Merge pull request #11 from Yato03/feat/fakenodo\n\nstyle: Fix code format",
      "tree": {
        "sha": "52bc2d6a65af29317370bba1b225ada22ae4503c",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/52bc2d6a65af29317370bba1b225ada22ae4503c"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnMICLCRC1aQ7uu5UhlAAAMcoQAEC2LHBcQm128wFQtj1aw0zg\nOn3DnlRbstHmxZlB1u8mRUvEUJ9SiDGZdMpKt6H77VjNTk8EbHgvOQNDuiq7s/6I\nD6/UIV4P75QR/burEvgrs7X1svIy0BOfXEjxBsPF6SCSexzoRLCw37vGPuUpzLcH\nrQ/Y2K4czEQSjig+8i4Cg5XyZOLZNUiI/bVa/HXdTHloTaeJhJPwvumuUuUO2EtW\nRtS52woxjvHDUv1IQXaib/lSTaIpd6/uzOIwMn7hwl8DAuipQ+FoctBtnc1bKzWO\n2RS6t4ab1YCQ700fjh5xaBoA5AVwQv56DQqIpxNFMo+HOHTmtKnpLVGVVSpz7s5i\n2aYpswztYWELkFaFj0AHsuWUqKluXkxfkFQ9v5aDjVyjx9ZJzZ/DYm4MQaPwvQTb\n8hGP6zfeYEEVj+taGzIErV+8Au5IT7zFujwe0k28eQAlptePIiYLt+/iJqWhAA7S\nGk1WwRH432i+ruYV28fqSXFbpmO9FqrdBwb2AOzXMID+IO78DapySH/kkeB4imUa\nkqhMfD6kj0TPlooHCDIOOu73U58X7uH51AscvByrzArbQGJ3c9LGbTYFMhQf7Xqs\nUVzrqMAtUbZeZytS2GcLmaPdZ/miMVKqq2G93kum1FOJLCabnNQFNXUUyN4VDZdS\naDwr1O8697hGWgPMmuV0\n=49Ha\n-----END PGP SIGNATURE-----\n",
        "payload": "tree 52bc2d6a65af29317370bba1b225ada22ae4503c\nparent eab5a18bf94f5a6670cf58eb402041d0de4c4be1\nparent 303c90a0edccfe7e60aba404ed96340e8fff0b50\nauthor YatoDev <59254702+Yato03@users.noreply.github.com> 1731231883 +0100\ncommitter GitHub <noreply@github.com> 1731231883 +0100\n\nMerge pull request #11 from Yato03/feat/fakenodo\n\nstyle: Fix code format",
        "verified_at": "2024-11-10T09:44:47Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "eab5a18bf94f5a6670cf58eb402041d0de4c4be1",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/eab5a18bf94f5a6670cf58eb402041d0de4c4be1",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/eab5a18bf94f5a6670cf58eb402041d0de4c4be1"
      },
      {
        "sha": "303c90a0edccfe7e60aba404ed96340e8fff0b50",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/303c90a0edccfe7e60aba404ed96340e8fff0b50",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/303c90a0edccfe7e60aba404ed96340e8fff0b50"
      }
    ],
    "files": [
      {
        "sha": "809df2579a8c495f2c64e5d3518f85d7168537c0",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "modified",
        "additions": 8,
        "deletions": 2,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "patch": "@@ -3,12 +3,14 @@\n import json\n import uuid\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['GET'])\n def get_all_depositions():\n     with open('app/modules/fakenodo/placeholders/depositions.json') as f:\n         data = json.load(f)\n     return jsonify(data)\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['GET'])\n def get_deposition(id):\n     with open('app/modules/fakenodo/placeholders/deposition.json') as f:\n@@ -17,24 +19,28 @@ def get_deposition(id):\n \n     return jsonify(data)\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['POST'])\n def create_deposition():\n     response = make_response(jsonify({\"message\": \"Deposition created\", \"id\": 1, \"conceptrecid\": \"1234\"}))\n     response.status_code = 201\n     return response\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>/files', methods=['POST'])\n def upload_file(id):\n-    response =  make_response(jsonify({\"message\": f\"File uploaded to deposition {id}\"}))\n+    response = make_response(jsonify({\"message\": f\"File uploaded to deposition {id}\"}))\n     response.status_code = 201\n     return response\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['DELETE'])\n def delete_deposition(id):\n     return jsonify({\"message\": f\"Deposition {id} deleted\"})\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>/actions/publish', methods=['POST'])\n def publish_deposition(id):\n-    response =  make_response(jsonify({\"message\": f\"Deposition {id} published\"}))\n+    response = make_response(jsonify({\"message\": f\"Deposition {id} published\"}))\n     response.status_code = 202\n     return response"
      },
      {
        "sha": "576b1bf81a25a378bdddf967cb940307f17fddd3",
        "filename": "app/modules/notepad/forms.py",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Fnotepad%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Fnotepad%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Fforms.py?ref=a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "patch": "@@ -2,6 +2,7 @@\n from wtforms import SubmitField, StringField, TextAreaField\n from wtforms.validators import DataRequired, Length\n \n+\n class NotepadForm(FlaskForm):\n     title = StringField('Title', validators=[DataRequired(), Length(max=256)])\n     body = TextAreaField('Body', validators=[DataRequired()])"
      },
      {
        "sha": "df307ab08bd616c8a126e56c98f358f15b4e22c8",
        "filename": "app/modules/notepad/repositories.py",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Fnotepad%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Fnotepad%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Frepositories.py?ref=a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "patch": "@@ -8,4 +8,3 @@ def __init__(self):\n \n     def get_all_by_user(self, user_id):\n         return Notepad.query.filter_by(user_id=user_id).all()\n-"
      },
      {
        "sha": "08882be941dabc74931075d38bc451d34b5be7ba",
        "filename": "app/modules/notepad/routes.py",
        "status": "modified",
        "additions": 10,
        "deletions": 6,
        "changes": 16,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Fnotepad%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Fnotepad%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Froutes.py?ref=a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "patch": "@@ -1,4 +1,4 @@\n-from flask import render_template, redirect, url_for, flash, request\n+from flask import render_template, redirect, url_for, flash\n from flask_login import login_required, current_user\n \n from app.modules.notepad.forms import NotepadForm\n@@ -7,15 +7,19 @@\n \n notepad_service = NotepadService()\n \n+\n # Read\n+\n @notepad_bp.route('/notepad', methods=['GET'])\n @login_required\n def index():\n     form = NotepadForm()\n     notepads = notepad_service.get_all_by_user(current_user.id)\n     return render_template('notepad/index.html', notepads=notepads, form=form)\n \n+\n # Create\n+\n @notepad_bp.route('/notepad/create', methods=['GET', 'POST'])\n @login_required\n def create_notepad():\n@@ -34,18 +38,20 @@ def create_notepad():\n \n \n # Read by ID\n+\n @notepad_bp.route('/notepad/<int:notepad_id>', methods=['GET'])\n @login_required\n def get_notepad(notepad_id):\n     notepad = notepad_service.get_or_404(notepad_id)\n-    \n     if notepad.user_id != current_user.id:\n         flash('You are not authorized to view this notepad', 'error')\n         return redirect(url_for('notepad.index'))\n \n     return render_template('notepad/show.html', notepad=notepad)\n \n+\n # Edit\n+\n @notepad_bp.route('/notepad/edit/<int:notepad_id>', methods=['GET', 'POST'])\n @login_required\n def edit_notepad(notepad_id):\n@@ -71,7 +77,9 @@ def edit_notepad(notepad_id):\n         )\n     return render_template('notepad/edit.html', form=form, notepad=notepad)\n \n+\n # Delete\n+\n @notepad_bp.route('/notepad/delete/<int:notepad_id>', methods=['POST'])\n @login_required\n def delete_notepad(notepad_id):\n@@ -85,8 +93,4 @@ def delete_notepad(notepad_id):\n         flash('Notepad deleted successfully!', 'success')\n     else:\n         flash('Error deleting notepad', 'error')\n-    \n     return redirect(url_for('notepad.index'))\n-\n-\n-"
      },
      {
        "sha": "9084d287fa0ae6dd4aeae7995c7cd2d8ba058dac",
        "filename": "app/modules/notepad/tests/locustfile.py",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Fnotepad%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Fnotepad%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Flocustfile.py?ref=a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "patch": "@@ -1,6 +1,7 @@\n from locust import HttpUser, task, between\n import random\n \n+\n class NotepadUser(HttpUser):\n     wait_time = between(1, 5)\n \n@@ -48,4 +49,4 @@ def view_specific_notepad(self):\n \n     def on_stop(self):\n         # Logout at the end of each simulated user session\n-        self.client.get(\"/logout\")\n\\ No newline at end of file\n+        self.client.get(\"/logout\")"
      },
      {
        "sha": "919f5730257780968b6fd581315aa052d6d1ce24",
        "filename": "app/modules/notepad/tests/test_integration.py",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_integration.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_integration.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_integration.py?ref=a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "patch": "@@ -6,6 +6,7 @@\n from app.modules.profile.models import UserProfile\n from flask_login import current_user\n \n+\n @pytest.fixture(scope=\"module\")\n def test_client(test_client):\n     \"\"\"\n@@ -51,6 +52,7 @@ def test_get_notepad(test_client):\n \n     logout(test_client)\n \n+\n def test_edit_notepad(test_client):\n     \"\"\"\n     Test editing a notepad via POST request.\n@@ -87,6 +89,7 @@ def test_edit_notepad(test_client):\n \n     logout(test_client)\n \n+\n def test_delete_notepad(test_client):\n     \"\"\"\n     Test deleting a notepad via POST request.\n@@ -117,4 +120,4 @@ def test_delete_notepad(test_client):\n         notepad = Notepad.query.get(notepad.id)\n         assert notepad is None, \"The notepad was not deleted.\"\n \n-    logout(test_client)\n\\ No newline at end of file\n+    logout(test_client)"
      },
      {
        "sha": "2d1d3aedab773903b1268cb507f749b97583b905",
        "filename": "app/modules/notepad/tests/test_selenium.py",
        "status": "modified",
        "additions": 24,
        "deletions": 30,
        "changes": 54,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_selenium.py?ref=a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "patch": "@@ -1,36 +1,30 @@\n # Generated by Selenium IDE\n-import pytest\n import time\n-import json\n from selenium import webdriver\n from selenium.webdriver.common.by import By\n-from selenium.webdriver.common.action_chains import ActionChains\n-from selenium.webdriver.support import expected_conditions\n-from selenium.webdriver.support.wait import WebDriverWait\n-from selenium.webdriver.common.keys import Keys\n-from selenium.webdriver.common.desired_capabilities import DesiredCapabilities\n+\n \n class TestCreatenotepad():\n-  def setup_method(self, method):\n-    self.driver = webdriver.Chrome()\n-    self.vars = {}\n-  \n-  def teardown_method(self, method):\n-    self.driver.quit()\n-  \n-  def test_createnotepad(self):\n-    self.driver.get(\"http://localhost:5000/login\")\n-    time.sleep(2)\n-    self.driver.set_window_size(912, 1011)\n-    self.driver.find_element(By.ID, \"email\").click()\n-    self.driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n-    self.driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n-    self.driver.find_element(By.ID, \"submit\").click()\n-    time.sleep(2)\n-    self.driver.get(\"http://localhost:5000/notepad/create\")\n-    time.sleep(2)\n-    self.driver.find_element(By.ID, \"title\").click()\n-    self.driver.find_element(By.ID, \"title\").send_keys(\"n1\")\n-    self.driver.find_element(By.ID, \"body\").click()\n-    self.driver.find_element(By.ID, \"body\").send_keys(\"n1\")\n-    self.driver.find_element(By.ID, \"submit\").click()\n\\ No newline at end of file\n+    def setup_method(self, method):\n+        self.driver = webdriver.Chrome()\n+        self.vars = {}\n+\n+    def teardown_method(self, method):\n+        self.driver.quit()\n+\n+    def test_createnotepad(self):\n+        self.driver.get(\"http://localhost:5000/login\")\n+        time.sleep(2)\n+        self.driver.set_window_size(912, 1011)\n+        self.driver.find_element(By.ID, \"email\").click()\n+        self.driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+        self.driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+        self.driver.find_element(By.ID, \"submit\").click()\n+        time.sleep(2)\n+        self.driver.get(\"http://localhost:5000/notepad/create\")\n+        time.sleep(2)\n+        self.driver.find_element(By.ID, \"title\").click()\n+        self.driver.find_element(By.ID, \"title\").send_keys(\"n1\")\n+        self.driver.find_element(By.ID, \"body\").click()\n+        self.driver.find_element(By.ID, \"body\").send_keys(\"n1\")\n+        self.driver.find_element(By.ID, \"submit\").click()"
      },
      {
        "sha": "cbb67d6ebd6b5c0e7dd78d9accb81722a0b6d2ea",
        "filename": "app/modules/notepad/tests/test_unit.py",
        "status": "modified",
        "additions": 7,
        "deletions": 3,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py?ref=a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "patch": "@@ -1,8 +1,7 @@\n import pytest\n from unittest.mock import patch, MagicMock\n from app.modules.notepad.services import NotepadService\n-from app.modules.notepad.models import Notepad\n-from app.modules.auth.models import User\n+\n \n @pytest.fixture(scope=\"module\")\n def test_client(test_client):\n@@ -15,10 +14,12 @@ def test_client(test_client):\n         pass\n     yield test_client\n \n+\n @pytest.fixture\n def notepad_service():\n     return NotepadService()\n \n+\n def test_get_all_by_user(notepad_service):\n     with patch.object(notepad_service.repository, 'get_all_by_user') as mock_get_all:\n         mock_notepads = [MagicMock(id=1), MagicMock(id=2)]\n@@ -31,6 +32,7 @@ def test_get_all_by_user(notepad_service):\n         assert len(result) == 2\n         mock_get_all.assert_called_once_with(user_id)\n \n+\n def test_create(notepad_service):\n     with patch.object(notepad_service.repository, 'create') as mock_create:\n         mock_notepad = MagicMock(id=1)\n@@ -46,6 +48,7 @@ def test_create(notepad_service):\n         assert result.id == 1\n         mock_create.assert_called_once_with(title=title, body=body, user_id=user_id)\n \n+\n def test_update(notepad_service):\n     with patch.object(notepad_service.repository, 'update') as mock_update:\n         mock_notepad = MagicMock(id=1)\n@@ -60,6 +63,7 @@ def test_update(notepad_service):\n         assert result == mock_notepad\n         mock_update.assert_called_once_with(notepad_id, title=title, body=body)\n \n+\n def test_delete(notepad_service):\n     with patch.object(notepad_service.repository, 'delete') as mock_delete:\n         mock_delete.return_value = True\n@@ -68,4 +72,4 @@ def test_delete(notepad_service):\n         result = notepad_service.delete(notepad_id)\n \n         assert result is True\n-        mock_delete.assert_called_once_with(notepad_id)\n\\ No newline at end of file\n+        mock_delete.assert_called_once_with(notepad_id)"
      },
      {
        "sha": "b9da9e10b6e405c40d2624318d07bf06811826a9",
        "filename": "app/modules/zenodo/services.py",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Fzenodo%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/a05af69cd842acd4f5facc10e1f2cc0b3b50b716/app%2Fmodules%2Fzenodo%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Fservices.py?ref=a05af69cd842acd4f5facc10e1f2cc0b3b50b716",
        "patch": "@@ -30,12 +30,12 @@ def get_zenodo_url(self):\n         development_url = f\"http://{LOCAL_SERVER}/fakenodo/deposit/depositions\"\n \n         if FLASK_ENV == \"development\":\n-            #ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n+            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n             ZENODO_API_URL = development_url\n         elif FLASK_ENV == \"production\":\n             ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://zenodo.org/api/deposit/depositions\")\n         else:\n-            #ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n+            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n             ZENODO_API_URL = development_url\n \n         return ZENODO_API_URL"
      }
    ]
  },
  {
    "sha": "eab5a18bf94f5a6670cf58eb402041d0de4c4be1",
    "node_id": "C_kwDONBuXkNoAKGVhYjVhMThiZjk0ZjVhNjY3MGNmNThlYjQwMjA0MWQwZGU0YzRiZTE",
    "commit": {
      "author": {
        "name": "YatoDev",
        "email": "59254702+Yato03@users.noreply.github.com",
        "date": "2024-11-09T17:17:24Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-11-09T17:17:24Z"
      },
      "message": "Merge pull request #9 from Yato03/chore/configuration\n\nchore: Workflows adapted and render deployment",
      "tree": {
        "sha": "9d765ce9fbee11bce65626e7c3a4f6686807488b",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/9d765ce9fbee11bce65626e7c3a4f6686807488b"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/eab5a18bf94f5a6670cf58eb402041d0de4c4be1",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnL5kkCRC1aQ7uu5UhlAAAkOsQAJHD2AdGVkFuVrQB7Kazh1iC\nTb6aYeeaVAu9N1rlt3W7wqt+lGUP1ZmRKs4WlgtamYPbEr0hLXZLlx1aTRVaztOI\n0UFHAbMs65mSYzlR1/rNBGtqsCRboqvtpU1ZFBtUJKUItCmD8pazkC0m0fQ8mRjn\nS7CZSxQ/ZVwcjOAgeiLfryEVj3OlZ5pdL+glDJHjsQzBLwKTs9Va94g5e+U0KM1N\nRh8fS0+wjT3dkESKpU5tsLBo9qOfNYDu4dbgDV/LcielAFU2hyG16l7vjDz9jpnn\nk47g9k0QQihe4Ia4ySc/r5M6bvXnd0/ach3FgXf6BnIlYhV0hjCx96PLdmbcG0h/\nzSqJ6d99+MO8ErAuePmggArVkx2urQt75Qm15SmcRaLVbK1/xOux3qUJMlsU4BSk\nGnAql/uCMtNXik1Rp/IfL0b30zi6Lk1WpOPLtqujMwZqrsrcZOaLEDdTYEcJWRDu\n4Ms0DM0+8jsTy3Skelzof/NwvhRDSy9fjJQgSiHCQwpIt1gR12X/8/4waQCEoDDw\nLhUCnOiAjyoJUY+/WV+EJI1jsSrGB8gTW8Yf1u+wyAEkB08qr6Q8QF26idvv5pqu\nXuvycw2gkhA4lr7Pr2YW/msm3IophvvofjYiL7FeS0OoIWHJcytrwE/xVf0qlrHt\n9/sdtquft3HYH1ZzOkbM\n=i4mb\n-----END PGP SIGNATURE-----\n",
        "payload": "tree 9d765ce9fbee11bce65626e7c3a4f6686807488b\nparent 3d24f21ae128c8e80f37e4717e6c3a0f4838d91d\nparent 3336bf4015077ba0e0c5a154c8bf165184227b75\nauthor YatoDev <59254702+Yato03@users.noreply.github.com> 1731172644 +0100\ncommitter GitHub <noreply@github.com> 1731172644 +0100\n\nMerge pull request #9 from Yato03/chore/configuration\n\nchore: Workflows adapted and render deployment",
        "verified_at": "2024-11-09T17:18:32Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/eab5a18bf94f5a6670cf58eb402041d0de4c4be1",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/eab5a18bf94f5a6670cf58eb402041d0de4c4be1",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/eab5a18bf94f5a6670cf58eb402041d0de4c4be1/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d"
      },
      {
        "sha": "3336bf4015077ba0e0c5a154c8bf165184227b75",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3336bf4015077ba0e0c5a154c8bf165184227b75",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3336bf4015077ba0e0c5a154c8bf165184227b75"
      }
    ],
    "files": [
      {
        "sha": "89be2d04416a9b7c491a2dcdca22f69ab38052b5",
        "filename": ".github/workflows/commits.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/eab5a18bf94f5a6670cf58eb402041d0de4c4be1/.github%2Fworkflows%2Fcommits.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/eab5a18bf94f5a6670cf58eb402041d0de4c4be1/.github%2Fworkflows%2Fcommits.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fcommits.yml?ref=eab5a18bf94f5a6670cf58eb402041d0de4c4be1",
        "patch": "@@ -2,11 +2,11 @@ name: Commits Syntax Checker\n \n on:\n   pull_request:\n-    branches: [main]\n+    branches: [master]\n     types: [opened, reopened, edited, review_requested, synchronize]\n   push:\n     branches:\n-      - \"main\"\n+      - \"master\"\n   workflow_call:\n \n jobs:"
      },
      {
        "sha": "d643db243f7d9d86d59aca8a243274748725ffb1",
        "filename": ".github/workflows/deloyment_on_webhook.yml",
        "status": "modified",
        "additions": 3,
        "deletions": 4,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/eab5a18bf94f5a6670cf58eb402041d0de4c4be1/.github%2Fworkflows%2Fdeloyment_on_webhook.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/eab5a18bf94f5a6670cf58eb402041d0de4c4be1/.github%2Fworkflows%2Fdeloyment_on_webhook.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fdeloyment_on_webhook.yml?ref=eab5a18bf94f5a6670cf58eb402041d0de4c4be1",
        "patch": "@@ -10,7 +10,7 @@ on:\n \n jobs:\n   deploy:\n-    if: github.ref == 'refs/heads/main'\n+    if: github.ref == 'refs/heads/master'\n     runs-on: ubuntu-latest\n \n     steps:\n@@ -26,7 +26,6 @@ jobs:\n \n     - name: Trigger Deployment Webhook\n       env:\n-        WEBHOOK_DOMAIN: ${{ secrets.WEBHOOK_DOMAIN }}\n-        WEBHOOK_TOKEN: ${{ secrets.WEBHOOK_TOKEN }}\n+        WEBHOOK_URL: ${{ secrets.RENDER_DEPLOY_HOOK_URL }}\n       run: |\n-        curl -X POST https://${{ secrets.WEBHOOK_DOMAIN }}/webhook/deploy -H \"Authorization: Bearer ${{ secrets.WEBHOOK_TOKEN }}\"\n+        curl \"$WEBHOOK_URL\""
      },
      {
        "sha": "f7dfe75eb96badbdd3ee434377bee31f33a173df",
        "filename": ".github/workflows/deployment_on_dockerhub.yml",
        "status": "removed",
        "additions": 0,
        "deletions": 43,
        "changes": 43,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/.github%2Fworkflows%2Fdeployment_on_dockerhub.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/.github%2Fworkflows%2Fdeployment_on_dockerhub.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fdeployment_on_dockerhub.yml?ref=3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "patch": "@@ -1,43 +0,0 @@\n-# This workflow uses actions that are not certified by GitHub.\n-# They are provided by a third-party and are governed by\n-# separate terms of service, privacy policy, and support\n-# documentation.\n-\n-# GitHub recommends pinning actions to a commit SHA.\n-# To get a newer version, you will need to update the SHA.\n-# You can also reference a tag or branch, but the action may change without warning.\n-\n-name: Publish image in Docker Hub\n-\n-on:\n-  release:\n-    types: [published]\n-\n-jobs:\n-  push_to_registry:\n-    name: Push Docker image to Docker Hub\n-    runs-on: ubuntu-latest\n-    steps:\n-      - name: Check out the repo\n-        uses: actions/checkout@v3\n-\n-      - name: Log in to Docker Hub\n-        uses: docker/login-action@f4ef78c080cd8ba55a85445d5b36e214a81df20a\n-        with:\n-          username: ${{ secrets.DOCKER_USER }}\n-          password: ${{ secrets.DOCKER_PASSWORD }}\n-\n-      - name: Build and push Docker image\n-        run: docker build --build-arg VERSION_TAG=${{ github.event.release.tag_name }} -t drorganvidez/uvlhub:${{ github.event.release.tag_name }} -f docker/images/Dockerfile.prod .\n-        env:\n-          DOCKER_CLI_EXPERIMENTAL: enabled\n-\n-      - name: Push Docker image to Docker Hub\n-        run: docker push drorganvidez/uvlhub:${{ github.event.release.tag_name }}\n-\n-      - name: Tag and push latest\n-        run: |\n-          docker tag drorganvidez/uvlhub:${{ github.event.release.tag_name }} drorganvidez/uvlhub:latest\n-          docker push drorganvidez/uvlhub:latest\n-        env:\n-          DOCKER_CLI_EXPERIMENTAL: enabled"
      },
      {
        "sha": "a05a28d76b01423f2275b6708140744984520df4",
        "filename": ".github/workflows/lint.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/eab5a18bf94f5a6670cf58eb402041d0de4c4be1/.github%2Fworkflows%2Flint.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/eab5a18bf94f5a6670cf58eb402041d0de4c4be1/.github%2Fworkflows%2Flint.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Flint.yml?ref=eab5a18bf94f5a6670cf58eb402041d0de4c4be1",
        "patch": "@@ -2,9 +2,9 @@ name: Python Lint\n \n on:\n   push:\n-    branches: [main, develop]\n+    branches: [master]\n   pull_request:\n-    branches: [main, develop]\n+    branches: [master]\n \n jobs:\n   lint:"
      },
      {
        "sha": "b787e08c6c734bfaf5c840565faba318f556691b",
        "filename": ".github/workflows/tests.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/eab5a18bf94f5a6670cf58eb402041d0de4c4be1/.github%2Fworkflows%2Ftests.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/eab5a18bf94f5a6670cf58eb402041d0de4c4be1/.github%2Fworkflows%2Ftests.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Ftests.yml?ref=eab5a18bf94f5a6670cf58eb402041d0de4c4be1",
        "patch": "@@ -2,9 +2,9 @@ name: Run tests\n \n on:\n   push:\n-    branches: [main, develop]\n+    branches: [master]\n   pull_request:\n-    branches: [main, develop]\n+    branches: [master]\n \n jobs:\n   pytest:"
      }
    ]
  },
  {
    "sha": "3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
    "node_id": "C_kwDONBuXkNoAKDNkMjRmMjFhZTEyOGM4ZTgwZjM3ZTQ3MTdlNmMzYTBmNDgzOGQ5MWQ",
    "commit": {
      "author": {
        "name": "YatoDev",
        "email": "59254702+Yato03@users.noreply.github.com",
        "date": "2024-11-09T17:14:02Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2024-11-09T17:14:02Z"
      },
      "message": "Merge pull request #10 from Yato03/feat/fakenodo\n\nFeat/fakenodo",
      "tree": {
        "sha": "1636af82817ebba59f67de3809ffa360e11c2afa",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/1636af82817ebba59f67de3809ffa360e11c2afa"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnL5haCRC1aQ7uu5UhlAAATa0QAKSluALPXnaXvo5jV4HI2hXZ\nu/PgQmeASpYJRKnWG33DUA9pYKP7rsOnVA+zNQtuNuWuy6YIEPrnQEn8BF7UlIsw\no9erZvMbZok7OHdb2GkQ49rBhRpsno/u/ARWV9VfR7orZ7FiwBPCRQ9WT5g/PdOp\n3ZJTp337gTjgbkACD15lRqioGPPy3fTNmWhuQQlCcRfdk1S/p0nJ/9IIRjrQJxm9\n79hoo5Syrw2P9jfHqIv5V+uchNyEw8pHqQODf0n0gB4T47Re9GVW24qErXgu6vKe\nQA92OppnnXCOqVyY54hh0ViFv04xyKLj5HEaG4K3FOIwkUFLdSDvE4/n/EpTX7iC\nVwd7LJ6ADQAg4B+gMt4TG2vO7Bf1Oes7mcauxGB0jCb98IfeJB/BK7k3/9+FtnPn\ndzzmW+w6BuNGXwyz1Y34KjYyiEJAx3rRfL4LXr2vvDeTY7A8skZ8Zc8gH9JuBcai\nyiHgBmLProRl4TpIbJoXjvtxo1wQOplXwKZ6604Nk/7oYsLhP0OTNzewXR5IC7T9\nh4PlJ4+Qc+ceOLyVDlIjO1X93FPwUq0VCsIFxXWlZFgQPcRobhgNthEP9Z5kLmoG\n6zXPLsMzmjIXXXVVxeDz79sL7mjnqzyji9s/ua9SPYQTUMdwFtFPNMZehsQ2gqG+\nBcDz1HPrDrUSadV4/2pL\n=y5rw\n-----END PGP SIGNATURE-----\n",
        "payload": "tree 1636af82817ebba59f67de3809ffa360e11c2afa\nparent b1776689cd852f1ac93c39003ae3085bae848e67\nparent d019c8373d90c3639eb349e4a756c8581652d7a6\nauthor YatoDev <59254702+Yato03@users.noreply.github.com> 1731172442 +0100\ncommitter GitHub <noreply@github.com> 1731172442 +0100\n\nMerge pull request #10 from Yato03/feat/fakenodo\n\nFeat/fakenodo",
        "verified_at": "2024-11-10T09:41:02Z"
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b1776689cd852f1ac93c39003ae3085bae848e67",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b1776689cd852f1ac93c39003ae3085bae848e67",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/b1776689cd852f1ac93c39003ae3085bae848e67"
      },
      {
        "sha": "d019c8373d90c3639eb349e4a756c8581652d7a6",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d019c8373d90c3639eb349e4a756c8581652d7a6",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/d019c8373d90c3639eb349e4a756c8581652d7a6"
      }
    ],
    "files": [
      {
        "sha": "86bbe7ec8029b0e04375a49daec6e0e34ced9ab6",
        "filename": "app/modules/fakenodo/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2F__init__.py?ref=3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+fakenodo_bp = BaseBlueprint('fakenodo', __name__, template_folder='templates')"
      },
      {
        "sha": "058465c87591a39d9baa9011257b0aa8cc160495",
        "filename": "app/modules/fakenodo/assets/scripts.js",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Fassets%2Fscripts.js?ref=3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script loaded from fakenodo module\");"
      },
      {
        "sha": "59e8f8f73974717b24a8fe9500b84ebdf9e65d77",
        "filename": "app/modules/fakenodo/forms.py",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Fforms.py?ref=3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "patch": "@@ -0,0 +1,6 @@\n+from flask_wtf import FlaskForm\n+from wtforms import SubmitField\n+\n+\n+class FakenodoForm(FlaskForm):\n+    submit = SubmitField('Save fakenodo')"
      },
      {
        "sha": "5402ff07e2839faae196dbcda3359b3f96333987",
        "filename": "app/modules/fakenodo/models.py",
        "status": "added",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Fmodels.py?ref=3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "patch": "@@ -0,0 +1,8 @@\n+from app import db\n+\n+\n+class Fakenodo(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+\n+    def __repr__(self):\n+        return f'Fakenodo<{self.id}>'"
      },
      {
        "sha": "1c47b6618b2245cc637812caf6cf944358dfb24e",
        "filename": "app/modules/fakenodo/placeholders/deposition.json",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Fplaceholders%2Fdeposition.json",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Fplaceholders%2Fdeposition.json",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Fplaceholders%2Fdeposition.json?ref=3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "patch": "@@ -0,0 +1 @@\n+{\"created\": \"2024-11-05T17:13:11.122777+00:00\", \"modified\": \"2024-11-05T17:13:11.260073+00:00\", \"id\": 126874, \"conceptrecid\": \"126873\", \"doi\": \"10.5072/zenodo.127564\", \"doi_url\": \"https://doi.org/10.5072/zenodo.127564\", \"metadata\": {\"doi\": \"10.5072/zenodo.127564\", \"publication_date\": \"2024-11-05\", \"access_right\": \"open\", \"license\": \"cc-by-4.0\", \"imprint_publisher\": \"Zenodo\", \"prereserve_doi\": {\"doi\": \"10.5281/zenodo.126874\", \"recid\": 126874}}, \"title\": \"\", \"links\": {\"self\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874\", \"html\": \"https://sandbox.zenodo.org/deposit/126874\", \"doi\": \"https://doi.org/\", \"badge\": \"https://sandbox.zenodo.org/badge/doi/.svg\", \"files\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/files\", \"latest_draft\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874\", \"latest_draft_html\": \"https://sandbox.zenodo.org/deposit/126874\", \"publish\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/publish\", \"edit\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/edit\", \"discard\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/discard\", \"newversion\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/newversion\", \"registerconceptdoi\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/registerconceptdoi\"}, \"record_id\": 126874, \"owner\": 23981, \"files\": [], \"state\": \"unsubmitted\", \"submitted\": false}\n\\ No newline at end of file"
      },
      {
        "sha": "ee3fc36055536ec7882e5bb4197ba9647c0a1a83",
        "filename": "app/modules/fakenodo/placeholders/depositions.json",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Fplaceholders%2Fdepositions.json",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Fplaceholders%2Fdepositions.json",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Fplaceholders%2Fdepositions.json?ref=3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "patch": "@@ -0,0 +1 @@\n+[{\"created\": \"2024-11-05T17:13:11.122777+00:00\", \"modified\": \"2024-11-05T17:13:11.260073+00:00\", \"id\": 126874, \"conceptrecid\": \"126873\", \"doi\": \"10.5072/zenodo.127564\", \"doi_url\": \"https://doi.org/10.5072/zenodo.127564\", \"metadata\": {\"doi\": \"10.5072/zenodo.127564\", \"publication_date\": \"2024-11-05\", \"access_right\": \"open\", \"license\": \"cc-by-4.0\", \"imprint_publisher\": \"Zenodo\", \"prereserve_doi\": {\"doi\": \"10.5281/zenodo.126874\", \"recid\": 126874}}, \"title\": \"\", \"links\": {\"self\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874\", \"html\": \"https://sandbox.zenodo.org/deposit/126874\", \"doi\": \"https://doi.org/\", \"badge\": \"https://sandbox.zenodo.org/badge/doi/.svg\", \"files\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/files\", \"latest_draft\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874\", \"latest_draft_html\": \"https://sandbox.zenodo.org/deposit/126874\", \"publish\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/publish\", \"edit\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/edit\", \"discard\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/discard\", \"newversion\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/newversion\", \"registerconceptdoi\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/registerconceptdoi\"}, \"record_id\": 126874, \"owner\": 23981, \"files\": [], \"state\": \"unsubmitted\", \"submitted\": false}]\n\\ No newline at end of file"
      },
      {
        "sha": "74e6ddaf01a02daf91697bac10ebfcc82e79d06b",
        "filename": "app/modules/fakenodo/repositories.py",
        "status": "added",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Frepositories.py?ref=3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "patch": "@@ -0,0 +1,7 @@\n+from app.modules.fakenodo.models import Fakenodo\n+from core.repositories.BaseRepository import BaseRepository\n+\n+\n+class FakenodoRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(Fakenodo)"
      },
      {
        "sha": "6bc9b696908126b1a7190a773b11c6bf0806c673",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "added",
        "additions": 40,
        "deletions": 0,
        "changes": 40,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "patch": "@@ -0,0 +1,40 @@\n+from flask import jsonify, make_response\n+from app.modules.fakenodo import fakenodo_bp\n+import json\n+import uuid\n+\n+@fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['GET'])\n+def get_all_depositions():\n+    with open('app/modules/fakenodo/placeholders/depositions.json') as f:\n+        data = json.load(f)\n+    return jsonify(data)\n+\n+@fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['GET'])\n+def get_deposition(id):\n+    with open('app/modules/fakenodo/placeholders/deposition.json') as f:\n+        data = json.load(f)\n+        data['doi'] = str(uuid.uuid4())\n+\n+    return jsonify(data)\n+\n+@fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['POST'])\n+def create_deposition():\n+    response = make_response(jsonify({\"message\": \"Deposition created\", \"id\": 1, \"conceptrecid\": \"1234\"}))\n+    response.status_code = 201\n+    return response\n+\n+@fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>/files', methods=['POST'])\n+def upload_file(id):\n+    response =  make_response(jsonify({\"message\": f\"File uploaded to deposition {id}\"}))\n+    response.status_code = 201\n+    return response\n+\n+@fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['DELETE'])\n+def delete_deposition(id):\n+    return jsonify({\"message\": f\"Deposition {id} deleted\"})\n+\n+@fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>/actions/publish', methods=['POST'])\n+def publish_deposition(id):\n+    response =  make_response(jsonify({\"message\": f\"Deposition {id} published\"}))\n+    response.status_code = 202\n+    return response"
      },
      {
        "sha": "e738a42eb8af697135afd0e50adb3646f7327feb",
        "filename": "app/modules/fakenodo/seeders.py",
        "status": "added",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Fseeders.py?ref=3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "patch": "@@ -0,0 +1,12 @@\n+from core.seeders.BaseSeeder import BaseSeeder\n+\n+\n+class FakenodoSeeder(BaseSeeder):\n+\n+    def run(self):\n+\n+        data = [\n+            # Create any Model object you want to make seed\n+        ]\n+\n+        self.seed(data)"
      },
      {
        "sha": "65446e117b938a8abf09e51a4ab417747a28e9a7",
        "filename": "app/modules/fakenodo/services.py",
        "status": "added",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Fservices.py?ref=3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "patch": "@@ -0,0 +1,7 @@\n+from app.modules.fakenodo.repositories import FakenodoRepository\n+from core.services.BaseService import BaseService\n+\n+\n+class FakenodoService(BaseService):\n+    def __init__(self):\n+        super().__init__(FakenodoRepository())"
      },
      {
        "sha": "bb533486c0a1f1149ee71ba5057cae880bf34e1c",
        "filename": "app/modules/fakenodo/templates/fakenodo/index.html",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Ftemplates%2Ffakenodo%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Ftemplates%2Ffakenodo%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Ftemplates%2Ffakenodo%2Findex.html?ref=3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "patch": "@@ -0,0 +1,11 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View fakenodo{% endblock %}\n+\n+{% block content %}\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('fakenodo.scripts') }}\"></script>\n+{% endblock %}"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/fakenodo/tests/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Ftests%2F__init__.py?ref=3d24f21ae128c8e80f37e4717e6c3a0f4838d91d"
      },
      {
        "sha": "355e5809e151db3a7660d151233fffaae8fc6986",
        "filename": "app/modules/fakenodo/tests/locustfile.py",
        "status": "added",
        "additions": 21,
        "deletions": 0,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Ftests%2Flocustfile.py?ref=3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "patch": "@@ -0,0 +1,21 @@\n+from locust import HttpUser, TaskSet, task\n+from core.environment.host import get_host_for_locust_testing\n+\n+\n+class FakenodoBehavior(TaskSet):\n+    def on_start(self):\n+        self.index()\n+\n+    @task\n+    def index(self):\n+        response = self.client.get(\"/fakenodo\")\n+\n+        if response.status_code != 200:\n+            print(f\"Fakenodo index failed: {response.status_code}\")\n+\n+\n+class FakenodoUser(HttpUser):\n+    tasks = [FakenodoBehavior]\n+    min_wait = 5000\n+    max_wait = 9000\n+    host = get_host_for_locust_testing()"
      },
      {
        "sha": "a33f0bb967501891fd46ff885dc25d13d985454f",
        "filename": "app/modules/fakenodo/tests/test_selenium.py",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_selenium.py?ref=3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "patch": "@@ -0,0 +1,35 @@\n+from selenium.common.exceptions import NoSuchElementException\n+import time\n+\n+from core.environment.host import get_host_for_selenium_testing\n+from core.selenium.common import initialize_driver, close_driver\n+\n+\n+def test_fakenodo_index():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}/fakenodo')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(4)\n+\n+        try:\n+\n+            pass\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Test failed!')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+# Call the test function\n+test_fakenodo_index()"
      },
      {
        "sha": "950421eb7b4ee15f00b45f83730c55dd2dda9336",
        "filename": "app/modules/fakenodo/tests/test_unit.py",
        "status": "added",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py?ref=3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "patch": "@@ -0,0 +1,24 @@\n+import pytest\n+\n+\n+@pytest.fixture(scope='module')\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    \"\"\"\n+    with test_client.application.app_context():\n+        # Add HERE new elements to the database that you want to exist in the test context.\n+        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+        pass\n+\n+    yield test_client\n+\n+\n+def test_sample_assertion(test_client):\n+    \"\"\"\n+    Sample test to verify that the test framework and environment are working correctly.\n+    It does not communicate with the Flask application; it only performs a simple assertion to\n+    confirm that the tests in this module can be executed.\n+    \"\"\"\n+    greeting = \"Hello, World!\"\n+    assert greeting == \"Hello, World!\", \"The greeting does not coincide with 'Hello, World!'\""
      },
      {
        "sha": "33d5a9450801137740f5f40c012f3b670234ca2c",
        "filename": "app/modules/zenodo/services.py",
        "status": "modified",
        "additions": 7,
        "deletions": 2,
        "changes": 9,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Fzenodo%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3d24f21ae128c8e80f37e4717e6c3a0f4838d91d/app%2Fmodules%2Fzenodo%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Fservices.py?ref=3d24f21ae128c8e80f37e4717e6c3a0f4838d91d",
        "patch": "@@ -26,12 +26,17 @@ def get_zenodo_url(self):\n         FLASK_ENV = os.getenv(\"FLASK_ENV\", \"development\")\n         ZENODO_API_URL = \"\"\n \n+        LOCAL_SERVER = os.getenv(\"DOMAIN\", \"localhost:5000\")\n+        development_url = f\"http://{LOCAL_SERVER}/fakenodo/deposit/depositions\"\n+\n         if FLASK_ENV == \"development\":\n-            ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n+            #ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n+            ZENODO_API_URL = development_url\n         elif FLASK_ENV == \"production\":\n             ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://zenodo.org/api/deposit/depositions\")\n         else:\n-            ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n+            #ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n+            ZENODO_API_URL = development_url\n \n         return ZENODO_API_URL\n "
      }
    ]
  },
  {
    "sha": "3336bf4015077ba0e0c5a154c8bf165184227b75",
    "node_id": "C_kwDONBuXkNoAKDMzMzZiZjQwMTUwNzdiYTBlMGM1YTE1NGM4YmYxNjUxODQyMjdiNzU",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-09T17:08:25Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-09T17:08:25Z"
      },
      "message": "chore: Workflows adapted and render deployment\n\nWorkflows adapted and render with continuous deployment",
      "tree": {
        "sha": "8e4217f3f1aa33c1012863816c3085744321ce81",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/8e4217f3f1aa33c1012863816c3085744321ce81"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/3336bf4015077ba0e0c5a154c8bf165184227b75",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3336bf4015077ba0e0c5a154c8bf165184227b75",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/3336bf4015077ba0e0c5a154c8bf165184227b75",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/3336bf4015077ba0e0c5a154c8bf165184227b75/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b1776689cd852f1ac93c39003ae3085bae848e67",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b1776689cd852f1ac93c39003ae3085bae848e67",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/b1776689cd852f1ac93c39003ae3085bae848e67"
      }
    ],
    "files": [
      {
        "sha": "89be2d04416a9b7c491a2dcdca22f69ab38052b5",
        "filename": ".github/workflows/commits.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3336bf4015077ba0e0c5a154c8bf165184227b75/.github%2Fworkflows%2Fcommits.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3336bf4015077ba0e0c5a154c8bf165184227b75/.github%2Fworkflows%2Fcommits.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fcommits.yml?ref=3336bf4015077ba0e0c5a154c8bf165184227b75",
        "patch": "@@ -2,11 +2,11 @@ name: Commits Syntax Checker\n \n on:\n   pull_request:\n-    branches: [main]\n+    branches: [master]\n     types: [opened, reopened, edited, review_requested, synchronize]\n   push:\n     branches:\n-      - \"main\"\n+      - \"master\"\n   workflow_call:\n \n jobs:"
      },
      {
        "sha": "d643db243f7d9d86d59aca8a243274748725ffb1",
        "filename": ".github/workflows/deloyment_on_webhook.yml",
        "status": "modified",
        "additions": 3,
        "deletions": 4,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3336bf4015077ba0e0c5a154c8bf165184227b75/.github%2Fworkflows%2Fdeloyment_on_webhook.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3336bf4015077ba0e0c5a154c8bf165184227b75/.github%2Fworkflows%2Fdeloyment_on_webhook.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fdeloyment_on_webhook.yml?ref=3336bf4015077ba0e0c5a154c8bf165184227b75",
        "patch": "@@ -10,7 +10,7 @@ on:\n \n jobs:\n   deploy:\n-    if: github.ref == 'refs/heads/main'\n+    if: github.ref == 'refs/heads/master'\n     runs-on: ubuntu-latest\n \n     steps:\n@@ -26,7 +26,6 @@ jobs:\n \n     - name: Trigger Deployment Webhook\n       env:\n-        WEBHOOK_DOMAIN: ${{ secrets.WEBHOOK_DOMAIN }}\n-        WEBHOOK_TOKEN: ${{ secrets.WEBHOOK_TOKEN }}\n+        WEBHOOK_URL: ${{ secrets.RENDER_DEPLOY_HOOK_URL }}\n       run: |\n-        curl -X POST https://${{ secrets.WEBHOOK_DOMAIN }}/webhook/deploy -H \"Authorization: Bearer ${{ secrets.WEBHOOK_TOKEN }}\"\n+        curl \"$WEBHOOK_URL\""
      },
      {
        "sha": "f7dfe75eb96badbdd3ee434377bee31f33a173df",
        "filename": ".github/workflows/deployment_on_dockerhub.yml",
        "status": "removed",
        "additions": 0,
        "deletions": 43,
        "changes": 43,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b1776689cd852f1ac93c39003ae3085bae848e67/.github%2Fworkflows%2Fdeployment_on_dockerhub.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b1776689cd852f1ac93c39003ae3085bae848e67/.github%2Fworkflows%2Fdeployment_on_dockerhub.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fdeployment_on_dockerhub.yml?ref=b1776689cd852f1ac93c39003ae3085bae848e67",
        "patch": "@@ -1,43 +0,0 @@\n-# This workflow uses actions that are not certified by GitHub.\n-# They are provided by a third-party and are governed by\n-# separate terms of service, privacy policy, and support\n-# documentation.\n-\n-# GitHub recommends pinning actions to a commit SHA.\n-# To get a newer version, you will need to update the SHA.\n-# You can also reference a tag or branch, but the action may change without warning.\n-\n-name: Publish image in Docker Hub\n-\n-on:\n-  release:\n-    types: [published]\n-\n-jobs:\n-  push_to_registry:\n-    name: Push Docker image to Docker Hub\n-    runs-on: ubuntu-latest\n-    steps:\n-      - name: Check out the repo\n-        uses: actions/checkout@v3\n-\n-      - name: Log in to Docker Hub\n-        uses: docker/login-action@f4ef78c080cd8ba55a85445d5b36e214a81df20a\n-        with:\n-          username: ${{ secrets.DOCKER_USER }}\n-          password: ${{ secrets.DOCKER_PASSWORD }}\n-\n-      - name: Build and push Docker image\n-        run: docker build --build-arg VERSION_TAG=${{ github.event.release.tag_name }} -t drorganvidez/uvlhub:${{ github.event.release.tag_name }} -f docker/images/Dockerfile.prod .\n-        env:\n-          DOCKER_CLI_EXPERIMENTAL: enabled\n-\n-      - name: Push Docker image to Docker Hub\n-        run: docker push drorganvidez/uvlhub:${{ github.event.release.tag_name }}\n-\n-      - name: Tag and push latest\n-        run: |\n-          docker tag drorganvidez/uvlhub:${{ github.event.release.tag_name }} drorganvidez/uvlhub:latest\n-          docker push drorganvidez/uvlhub:latest\n-        env:\n-          DOCKER_CLI_EXPERIMENTAL: enabled"
      },
      {
        "sha": "a05a28d76b01423f2275b6708140744984520df4",
        "filename": ".github/workflows/lint.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3336bf4015077ba0e0c5a154c8bf165184227b75/.github%2Fworkflows%2Flint.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3336bf4015077ba0e0c5a154c8bf165184227b75/.github%2Fworkflows%2Flint.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Flint.yml?ref=3336bf4015077ba0e0c5a154c8bf165184227b75",
        "patch": "@@ -2,9 +2,9 @@ name: Python Lint\n \n on:\n   push:\n-    branches: [main, develop]\n+    branches: [master]\n   pull_request:\n-    branches: [main, develop]\n+    branches: [master]\n \n jobs:\n   lint:"
      },
      {
        "sha": "b787e08c6c734bfaf5c840565faba318f556691b",
        "filename": ".github/workflows/tests.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/3336bf4015077ba0e0c5a154c8bf165184227b75/.github%2Fworkflows%2Ftests.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/3336bf4015077ba0e0c5a154c8bf165184227b75/.github%2Fworkflows%2Ftests.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Ftests.yml?ref=3336bf4015077ba0e0c5a154c8bf165184227b75",
        "patch": "@@ -2,9 +2,9 @@ name: Run tests\n \n on:\n   push:\n-    branches: [main, develop]\n+    branches: [master]\n   pull_request:\n-    branches: [main, develop]\n+    branches: [master]\n \n jobs:\n   pytest:"
      }
    ]
  },
  {
    "sha": "303c90a0edccfe7e60aba404ed96340e8fff0b50",
    "node_id": "C_kwDONBuXkNoAKDMwM2M5MGEwZWRjY2ZlN2U2MGFiYTQwNGVkOTYzNDBlOGZmZjBiNTA",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-09T16:13:14Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-09T16:13:14Z"
      },
      "message": "style: Fix code format\n\nFix code format by flake8 rules.",
      "tree": {
        "sha": "284957cd11cbffdc96acb55aa597eb7c07290a33",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/284957cd11cbffdc96acb55aa597eb7c07290a33"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/303c90a0edccfe7e60aba404ed96340e8fff0b50",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/303c90a0edccfe7e60aba404ed96340e8fff0b50",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/303c90a0edccfe7e60aba404ed96340e8fff0b50",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/303c90a0edccfe7e60aba404ed96340e8fff0b50/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d019c8373d90c3639eb349e4a756c8581652d7a6",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d019c8373d90c3639eb349e4a756c8581652d7a6",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/d019c8373d90c3639eb349e4a756c8581652d7a6"
      }
    ],
    "files": [
      {
        "sha": "809df2579a8c495f2c64e5d3518f85d7168537c0",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "modified",
        "additions": 8,
        "deletions": 2,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=303c90a0edccfe7e60aba404ed96340e8fff0b50",
        "patch": "@@ -3,12 +3,14 @@\n import json\n import uuid\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['GET'])\n def get_all_depositions():\n     with open('app/modules/fakenodo/placeholders/depositions.json') as f:\n         data = json.load(f)\n     return jsonify(data)\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['GET'])\n def get_deposition(id):\n     with open('app/modules/fakenodo/placeholders/deposition.json') as f:\n@@ -17,24 +19,28 @@ def get_deposition(id):\n \n     return jsonify(data)\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['POST'])\n def create_deposition():\n     response = make_response(jsonify({\"message\": \"Deposition created\", \"id\": 1, \"conceptrecid\": \"1234\"}))\n     response.status_code = 201\n     return response\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>/files', methods=['POST'])\n def upload_file(id):\n-    response =  make_response(jsonify({\"message\": f\"File uploaded to deposition {id}\"}))\n+    response = make_response(jsonify({\"message\": f\"File uploaded to deposition {id}\"}))\n     response.status_code = 201\n     return response\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['DELETE'])\n def delete_deposition(id):\n     return jsonify({\"message\": f\"Deposition {id} deleted\"})\n \n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>/actions/publish', methods=['POST'])\n def publish_deposition(id):\n-    response =  make_response(jsonify({\"message\": f\"Deposition {id} published\"}))\n+    response = make_response(jsonify({\"message\": f\"Deposition {id} published\"}))\n     response.status_code = 202\n     return response"
      },
      {
        "sha": "576b1bf81a25a378bdddf967cb940307f17fddd3",
        "filename": "app/modules/notepad/forms.py",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Fnotepad%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Fnotepad%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Fforms.py?ref=303c90a0edccfe7e60aba404ed96340e8fff0b50",
        "patch": "@@ -2,6 +2,7 @@\n from wtforms import SubmitField, StringField, TextAreaField\n from wtforms.validators import DataRequired, Length\n \n+\n class NotepadForm(FlaskForm):\n     title = StringField('Title', validators=[DataRequired(), Length(max=256)])\n     body = TextAreaField('Body', validators=[DataRequired()])"
      },
      {
        "sha": "df307ab08bd616c8a126e56c98f358f15b4e22c8",
        "filename": "app/modules/notepad/repositories.py",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Fnotepad%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Fnotepad%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Frepositories.py?ref=303c90a0edccfe7e60aba404ed96340e8fff0b50",
        "patch": "@@ -8,4 +8,3 @@ def __init__(self):\n \n     def get_all_by_user(self, user_id):\n         return Notepad.query.filter_by(user_id=user_id).all()\n-"
      },
      {
        "sha": "08882be941dabc74931075d38bc451d34b5be7ba",
        "filename": "app/modules/notepad/routes.py",
        "status": "modified",
        "additions": 10,
        "deletions": 6,
        "changes": 16,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Fnotepad%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Fnotepad%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Froutes.py?ref=303c90a0edccfe7e60aba404ed96340e8fff0b50",
        "patch": "@@ -1,4 +1,4 @@\n-from flask import render_template, redirect, url_for, flash, request\n+from flask import render_template, redirect, url_for, flash\n from flask_login import login_required, current_user\n \n from app.modules.notepad.forms import NotepadForm\n@@ -7,15 +7,19 @@\n \n notepad_service = NotepadService()\n \n+\n # Read\n+\n @notepad_bp.route('/notepad', methods=['GET'])\n @login_required\n def index():\n     form = NotepadForm()\n     notepads = notepad_service.get_all_by_user(current_user.id)\n     return render_template('notepad/index.html', notepads=notepads, form=form)\n \n+\n # Create\n+\n @notepad_bp.route('/notepad/create', methods=['GET', 'POST'])\n @login_required\n def create_notepad():\n@@ -34,18 +38,20 @@ def create_notepad():\n \n \n # Read by ID\n+\n @notepad_bp.route('/notepad/<int:notepad_id>', methods=['GET'])\n @login_required\n def get_notepad(notepad_id):\n     notepad = notepad_service.get_or_404(notepad_id)\n-    \n     if notepad.user_id != current_user.id:\n         flash('You are not authorized to view this notepad', 'error')\n         return redirect(url_for('notepad.index'))\n \n     return render_template('notepad/show.html', notepad=notepad)\n \n+\n # Edit\n+\n @notepad_bp.route('/notepad/edit/<int:notepad_id>', methods=['GET', 'POST'])\n @login_required\n def edit_notepad(notepad_id):\n@@ -71,7 +77,9 @@ def edit_notepad(notepad_id):\n         )\n     return render_template('notepad/edit.html', form=form, notepad=notepad)\n \n+\n # Delete\n+\n @notepad_bp.route('/notepad/delete/<int:notepad_id>', methods=['POST'])\n @login_required\n def delete_notepad(notepad_id):\n@@ -85,8 +93,4 @@ def delete_notepad(notepad_id):\n         flash('Notepad deleted successfully!', 'success')\n     else:\n         flash('Error deleting notepad', 'error')\n-    \n     return redirect(url_for('notepad.index'))\n-\n-\n-"
      },
      {
        "sha": "9084d287fa0ae6dd4aeae7995c7cd2d8ba058dac",
        "filename": "app/modules/notepad/tests/locustfile.py",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Fnotepad%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Fnotepad%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Flocustfile.py?ref=303c90a0edccfe7e60aba404ed96340e8fff0b50",
        "patch": "@@ -1,6 +1,7 @@\n from locust import HttpUser, task, between\n import random\n \n+\n class NotepadUser(HttpUser):\n     wait_time = between(1, 5)\n \n@@ -48,4 +49,4 @@ def view_specific_notepad(self):\n \n     def on_stop(self):\n         # Logout at the end of each simulated user session\n-        self.client.get(\"/logout\")\n\\ No newline at end of file\n+        self.client.get(\"/logout\")"
      },
      {
        "sha": "919f5730257780968b6fd581315aa052d6d1ce24",
        "filename": "app/modules/notepad/tests/test_integration.py",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_integration.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_integration.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_integration.py?ref=303c90a0edccfe7e60aba404ed96340e8fff0b50",
        "patch": "@@ -6,6 +6,7 @@\n from app.modules.profile.models import UserProfile\n from flask_login import current_user\n \n+\n @pytest.fixture(scope=\"module\")\n def test_client(test_client):\n     \"\"\"\n@@ -51,6 +52,7 @@ def test_get_notepad(test_client):\n \n     logout(test_client)\n \n+\n def test_edit_notepad(test_client):\n     \"\"\"\n     Test editing a notepad via POST request.\n@@ -87,6 +89,7 @@ def test_edit_notepad(test_client):\n \n     logout(test_client)\n \n+\n def test_delete_notepad(test_client):\n     \"\"\"\n     Test deleting a notepad via POST request.\n@@ -117,4 +120,4 @@ def test_delete_notepad(test_client):\n         notepad = Notepad.query.get(notepad.id)\n         assert notepad is None, \"The notepad was not deleted.\"\n \n-    logout(test_client)\n\\ No newline at end of file\n+    logout(test_client)"
      },
      {
        "sha": "2d1d3aedab773903b1268cb507f749b97583b905",
        "filename": "app/modules/notepad/tests/test_selenium.py",
        "status": "modified",
        "additions": 24,
        "deletions": 30,
        "changes": 54,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_selenium.py?ref=303c90a0edccfe7e60aba404ed96340e8fff0b50",
        "patch": "@@ -1,36 +1,30 @@\n # Generated by Selenium IDE\n-import pytest\n import time\n-import json\n from selenium import webdriver\n from selenium.webdriver.common.by import By\n-from selenium.webdriver.common.action_chains import ActionChains\n-from selenium.webdriver.support import expected_conditions\n-from selenium.webdriver.support.wait import WebDriverWait\n-from selenium.webdriver.common.keys import Keys\n-from selenium.webdriver.common.desired_capabilities import DesiredCapabilities\n+\n \n class TestCreatenotepad():\n-  def setup_method(self, method):\n-    self.driver = webdriver.Chrome()\n-    self.vars = {}\n-  \n-  def teardown_method(self, method):\n-    self.driver.quit()\n-  \n-  def test_createnotepad(self):\n-    self.driver.get(\"http://localhost:5000/login\")\n-    time.sleep(2)\n-    self.driver.set_window_size(912, 1011)\n-    self.driver.find_element(By.ID, \"email\").click()\n-    self.driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n-    self.driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n-    self.driver.find_element(By.ID, \"submit\").click()\n-    time.sleep(2)\n-    self.driver.get(\"http://localhost:5000/notepad/create\")\n-    time.sleep(2)\n-    self.driver.find_element(By.ID, \"title\").click()\n-    self.driver.find_element(By.ID, \"title\").send_keys(\"n1\")\n-    self.driver.find_element(By.ID, \"body\").click()\n-    self.driver.find_element(By.ID, \"body\").send_keys(\"n1\")\n-    self.driver.find_element(By.ID, \"submit\").click()\n\\ No newline at end of file\n+    def setup_method(self, method):\n+        self.driver = webdriver.Chrome()\n+        self.vars = {}\n+\n+    def teardown_method(self, method):\n+        self.driver.quit()\n+\n+    def test_createnotepad(self):\n+        self.driver.get(\"http://localhost:5000/login\")\n+        time.sleep(2)\n+        self.driver.set_window_size(912, 1011)\n+        self.driver.find_element(By.ID, \"email\").click()\n+        self.driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+        self.driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+        self.driver.find_element(By.ID, \"submit\").click()\n+        time.sleep(2)\n+        self.driver.get(\"http://localhost:5000/notepad/create\")\n+        time.sleep(2)\n+        self.driver.find_element(By.ID, \"title\").click()\n+        self.driver.find_element(By.ID, \"title\").send_keys(\"n1\")\n+        self.driver.find_element(By.ID, \"body\").click()\n+        self.driver.find_element(By.ID, \"body\").send_keys(\"n1\")\n+        self.driver.find_element(By.ID, \"submit\").click()"
      },
      {
        "sha": "cbb67d6ebd6b5c0e7dd78d9accb81722a0b6d2ea",
        "filename": "app/modules/notepad/tests/test_unit.py",
        "status": "modified",
        "additions": 7,
        "deletions": 3,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py?ref=303c90a0edccfe7e60aba404ed96340e8fff0b50",
        "patch": "@@ -1,8 +1,7 @@\n import pytest\n from unittest.mock import patch, MagicMock\n from app.modules.notepad.services import NotepadService\n-from app.modules.notepad.models import Notepad\n-from app.modules.auth.models import User\n+\n \n @pytest.fixture(scope=\"module\")\n def test_client(test_client):\n@@ -15,10 +14,12 @@ def test_client(test_client):\n         pass\n     yield test_client\n \n+\n @pytest.fixture\n def notepad_service():\n     return NotepadService()\n \n+\n def test_get_all_by_user(notepad_service):\n     with patch.object(notepad_service.repository, 'get_all_by_user') as mock_get_all:\n         mock_notepads = [MagicMock(id=1), MagicMock(id=2)]\n@@ -31,6 +32,7 @@ def test_get_all_by_user(notepad_service):\n         assert len(result) == 2\n         mock_get_all.assert_called_once_with(user_id)\n \n+\n def test_create(notepad_service):\n     with patch.object(notepad_service.repository, 'create') as mock_create:\n         mock_notepad = MagicMock(id=1)\n@@ -46,6 +48,7 @@ def test_create(notepad_service):\n         assert result.id == 1\n         mock_create.assert_called_once_with(title=title, body=body, user_id=user_id)\n \n+\n def test_update(notepad_service):\n     with patch.object(notepad_service.repository, 'update') as mock_update:\n         mock_notepad = MagicMock(id=1)\n@@ -60,6 +63,7 @@ def test_update(notepad_service):\n         assert result == mock_notepad\n         mock_update.assert_called_once_with(notepad_id, title=title, body=body)\n \n+\n def test_delete(notepad_service):\n     with patch.object(notepad_service.repository, 'delete') as mock_delete:\n         mock_delete.return_value = True\n@@ -68,4 +72,4 @@ def test_delete(notepad_service):\n         result = notepad_service.delete(notepad_id)\n \n         assert result is True\n-        mock_delete.assert_called_once_with(notepad_id)\n\\ No newline at end of file\n+        mock_delete.assert_called_once_with(notepad_id)"
      },
      {
        "sha": "b9da9e10b6e405c40d2624318d07bf06811826a9",
        "filename": "app/modules/zenodo/services.py",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Fzenodo%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/303c90a0edccfe7e60aba404ed96340e8fff0b50/app%2Fmodules%2Fzenodo%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Fservices.py?ref=303c90a0edccfe7e60aba404ed96340e8fff0b50",
        "patch": "@@ -30,12 +30,12 @@ def get_zenodo_url(self):\n         development_url = f\"http://{LOCAL_SERVER}/fakenodo/deposit/depositions\"\n \n         if FLASK_ENV == \"development\":\n-            #ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n+            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n             ZENODO_API_URL = development_url\n         elif FLASK_ENV == \"production\":\n             ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://zenodo.org/api/deposit/depositions\")\n         else:\n-            #ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n+            # ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n             ZENODO_API_URL = development_url\n \n         return ZENODO_API_URL"
      }
    ]
  },
  {
    "sha": "d019c8373d90c3639eb349e4a756c8581652d7a6",
    "node_id": "C_kwDONBuXkNoAKGQwMTljODM3M2Q5MGMzNjM5ZWIzNDllNGE3NTZjODU4MTY1MmQ3YTY",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-08T18:38:38Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-08T18:38:38Z"
      },
      "message": "fix: Fakenodo fixed in upload dataset section\n\nFakenodo works in upload dataset section from uvlhub site.",
      "tree": {
        "sha": "1636af82817ebba59f67de3809ffa360e11c2afa",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/1636af82817ebba59f67de3809ffa360e11c2afa"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/d019c8373d90c3639eb349e4a756c8581652d7a6",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d019c8373d90c3639eb349e4a756c8581652d7a6",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/d019c8373d90c3639eb349e4a756c8581652d7a6",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d019c8373d90c3639eb349e4a756c8581652d7a6/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6c3a346e057f9707f9f2ab9534f55d5e568f3237",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/6c3a346e057f9707f9f2ab9534f55d5e568f3237",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/6c3a346e057f9707f9f2ab9534f55d5e568f3237"
      }
    ],
    "files": [
      {
        "sha": "1c47b6618b2245cc637812caf6cf944358dfb24e",
        "filename": "app/modules/fakenodo/placeholders/deposition.json",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d019c8373d90c3639eb349e4a756c8581652d7a6/app%2Fmodules%2Ffakenodo%2Fplaceholders%2Fdeposition.json",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d019c8373d90c3639eb349e4a756c8581652d7a6/app%2Fmodules%2Ffakenodo%2Fplaceholders%2Fdeposition.json",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Fplaceholders%2Fdeposition.json?ref=d019c8373d90c3639eb349e4a756c8581652d7a6",
        "patch": "@@ -0,0 +1 @@\n+{\"created\": \"2024-11-05T17:13:11.122777+00:00\", \"modified\": \"2024-11-05T17:13:11.260073+00:00\", \"id\": 126874, \"conceptrecid\": \"126873\", \"doi\": \"10.5072/zenodo.127564\", \"doi_url\": \"https://doi.org/10.5072/zenodo.127564\", \"metadata\": {\"doi\": \"10.5072/zenodo.127564\", \"publication_date\": \"2024-11-05\", \"access_right\": \"open\", \"license\": \"cc-by-4.0\", \"imprint_publisher\": \"Zenodo\", \"prereserve_doi\": {\"doi\": \"10.5281/zenodo.126874\", \"recid\": 126874}}, \"title\": \"\", \"links\": {\"self\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874\", \"html\": \"https://sandbox.zenodo.org/deposit/126874\", \"doi\": \"https://doi.org/\", \"badge\": \"https://sandbox.zenodo.org/badge/doi/.svg\", \"files\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/files\", \"latest_draft\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874\", \"latest_draft_html\": \"https://sandbox.zenodo.org/deposit/126874\", \"publish\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/publish\", \"edit\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/edit\", \"discard\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/discard\", \"newversion\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/newversion\", \"registerconceptdoi\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/registerconceptdoi\"}, \"record_id\": 126874, \"owner\": 23981, \"files\": [], \"state\": \"unsubmitted\", \"submitted\": false}\n\\ No newline at end of file"
      },
      {
        "sha": "ee3fc36055536ec7882e5bb4197ba9647c0a1a83",
        "filename": "app/modules/fakenodo/placeholders/depositions.json",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d019c8373d90c3639eb349e4a756c8581652d7a6/app%2Fmodules%2Ffakenodo%2Fplaceholders%2Fdepositions.json",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d019c8373d90c3639eb349e4a756c8581652d7a6/app%2Fmodules%2Ffakenodo%2Fplaceholders%2Fdepositions.json",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Fplaceholders%2Fdepositions.json?ref=d019c8373d90c3639eb349e4a756c8581652d7a6",
        "patch": "@@ -1 +1 @@\n-[{\"created\": \"2024-11-05T17:13:11.122777+00:00\", \"modified\": \"2024-11-05T17:13:11.260073+00:00\", \"id\": 126874, \"conceptrecid\": \"126873\", \"doi\": \"\", \"doi_url\": \"https://doi.org/\", \"metadata\": {\"doi\": \"\", \"publication_date\": \"2024-11-05\", \"access_right\": \"open\", \"license\": \"cc-by-4.0\", \"imprint_publisher\": \"Zenodo\", \"prereserve_doi\": {\"doi\": \"10.5281/zenodo.126874\", \"recid\": 126874}}, \"title\": \"\", \"links\": {\"self\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874\", \"html\": \"https://sandbox.zenodo.org/deposit/126874\", \"doi\": \"https://doi.org/\", \"badge\": \"https://sandbox.zenodo.org/badge/doi/.svg\", \"files\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/files\", \"latest_draft\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874\", \"latest_draft_html\": \"https://sandbox.zenodo.org/deposit/126874\", \"publish\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/publish\", \"edit\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/edit\", \"discard\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/discard\", \"newversion\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/newversion\", \"registerconceptdoi\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/registerconceptdoi\"}, \"record_id\": 126874, \"owner\": 23981, \"files\": [], \"state\": \"unsubmitted\", \"submitted\": false}]\n\\ No newline at end of file\n+[{\"created\": \"2024-11-05T17:13:11.122777+00:00\", \"modified\": \"2024-11-05T17:13:11.260073+00:00\", \"id\": 126874, \"conceptrecid\": \"126873\", \"doi\": \"10.5072/zenodo.127564\", \"doi_url\": \"https://doi.org/10.5072/zenodo.127564\", \"metadata\": {\"doi\": \"10.5072/zenodo.127564\", \"publication_date\": \"2024-11-05\", \"access_right\": \"open\", \"license\": \"cc-by-4.0\", \"imprint_publisher\": \"Zenodo\", \"prereserve_doi\": {\"doi\": \"10.5281/zenodo.126874\", \"recid\": 126874}}, \"title\": \"\", \"links\": {\"self\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874\", \"html\": \"https://sandbox.zenodo.org/deposit/126874\", \"doi\": \"https://doi.org/\", \"badge\": \"https://sandbox.zenodo.org/badge/doi/.svg\", \"files\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/files\", \"latest_draft\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874\", \"latest_draft_html\": \"https://sandbox.zenodo.org/deposit/126874\", \"publish\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/publish\", \"edit\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/edit\", \"discard\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/discard\", \"newversion\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/newversion\", \"registerconceptdoi\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/registerconceptdoi\"}, \"record_id\": 126874, \"owner\": 23981, \"files\": [], \"state\": \"unsubmitted\", \"submitted\": false}]\n\\ No newline at end of file"
      },
      {
        "sha": "6bc9b696908126b1a7190a773b11c6bf0806c673",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "modified",
        "additions": 15,
        "deletions": 2,
        "changes": 17,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d019c8373d90c3639eb349e4a756c8581652d7a6/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d019c8373d90c3639eb349e4a756c8581652d7a6/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=d019c8373d90c3639eb349e4a756c8581652d7a6",
        "patch": "@@ -1,16 +1,25 @@\n from flask import jsonify, make_response\n from app.modules.fakenodo import fakenodo_bp\n import json\n+import uuid\n \n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['GET'])\n def get_all_depositions():\n     with open('app/modules/fakenodo/placeholders/depositions.json') as f:\n         data = json.load(f)\n     return jsonify(data)\n \n+@fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['GET'])\n+def get_deposition(id):\n+    with open('app/modules/fakenodo/placeholders/deposition.json') as f:\n+        data = json.load(f)\n+        data['doi'] = str(uuid.uuid4())\n+\n+    return jsonify(data)\n+\n @fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['POST'])\n def create_deposition():\n-    response = make_response(jsonify({\"message\": \"Deposition created\", \"id\": 1}))\n+    response = make_response(jsonify({\"message\": \"Deposition created\", \"id\": 1, \"conceptrecid\": \"1234\"}))\n     response.status_code = 201\n     return response\n \n@@ -24,4 +33,8 @@ def upload_file(id):\n def delete_deposition(id):\n     return jsonify({\"message\": f\"Deposition {id} deleted\"})\n \n-\n+@fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>/actions/publish', methods=['POST'])\n+def publish_deposition(id):\n+    response =  make_response(jsonify({\"message\": f\"Deposition {id} published\"}))\n+    response.status_code = 202\n+    return response"
      }
    ]
  },
  {
    "sha": "6c3a346e057f9707f9f2ab9534f55d5e568f3237",
    "node_id": "C_kwDONBuXkNoAKDZjM2EzNDZlMDU3Zjk3MDdmOWYyYWI5NTM0ZjU1ZDVlNTY4ZjMyMzc",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-07T16:34:30Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-11-07T16:34:30Z"
      },
      "message": "feat: Fakenodo working\n\nFakenodo working and tested by test_full_connection from zenodo module.",
      "tree": {
        "sha": "b64bdc91b06eefb6f7f2a000ea06cadba4d1f0f1",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/b64bdc91b06eefb6f7f2a000ea06cadba4d1f0f1"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/6c3a346e057f9707f9f2ab9534f55d5e568f3237",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/6c3a346e057f9707f9f2ab9534f55d5e568f3237",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/6c3a346e057f9707f9f2ab9534f55d5e568f3237",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/6c3a346e057f9707f9f2ab9534f55d5e568f3237/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b1776689cd852f1ac93c39003ae3085bae848e67",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b1776689cd852f1ac93c39003ae3085bae848e67",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/b1776689cd852f1ac93c39003ae3085bae848e67"
      }
    ],
    "files": [
      {
        "sha": "86bbe7ec8029b0e04375a49daec6e0e34ced9ab6",
        "filename": "app/modules/fakenodo/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2F__init__.py?ref=6c3a346e057f9707f9f2ab9534f55d5e568f3237",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+fakenodo_bp = BaseBlueprint('fakenodo', __name__, template_folder='templates')"
      },
      {
        "sha": "058465c87591a39d9baa9011257b0aa8cc160495",
        "filename": "app/modules/fakenodo/assets/scripts.js",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Fassets%2Fscripts.js?ref=6c3a346e057f9707f9f2ab9534f55d5e568f3237",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script loaded from fakenodo module\");"
      },
      {
        "sha": "59e8f8f73974717b24a8fe9500b84ebdf9e65d77",
        "filename": "app/modules/fakenodo/forms.py",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Fforms.py?ref=6c3a346e057f9707f9f2ab9534f55d5e568f3237",
        "patch": "@@ -0,0 +1,6 @@\n+from flask_wtf import FlaskForm\n+from wtforms import SubmitField\n+\n+\n+class FakenodoForm(FlaskForm):\n+    submit = SubmitField('Save fakenodo')"
      },
      {
        "sha": "5402ff07e2839faae196dbcda3359b3f96333987",
        "filename": "app/modules/fakenodo/models.py",
        "status": "added",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Fmodels.py?ref=6c3a346e057f9707f9f2ab9534f55d5e568f3237",
        "patch": "@@ -0,0 +1,8 @@\n+from app import db\n+\n+\n+class Fakenodo(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+\n+    def __repr__(self):\n+        return f'Fakenodo<{self.id}>'"
      },
      {
        "sha": "c67aef6042dc0d3e7e42e0c6f06e008b33b136e1",
        "filename": "app/modules/fakenodo/placeholders/depositions.json",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Fplaceholders%2Fdepositions.json",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Fplaceholders%2Fdepositions.json",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Fplaceholders%2Fdepositions.json?ref=6c3a346e057f9707f9f2ab9534f55d5e568f3237",
        "patch": "@@ -0,0 +1 @@\n+[{\"created\": \"2024-11-05T17:13:11.122777+00:00\", \"modified\": \"2024-11-05T17:13:11.260073+00:00\", \"id\": 126874, \"conceptrecid\": \"126873\", \"doi\": \"\", \"doi_url\": \"https://doi.org/\", \"metadata\": {\"doi\": \"\", \"publication_date\": \"2024-11-05\", \"access_right\": \"open\", \"license\": \"cc-by-4.0\", \"imprint_publisher\": \"Zenodo\", \"prereserve_doi\": {\"doi\": \"10.5281/zenodo.126874\", \"recid\": 126874}}, \"title\": \"\", \"links\": {\"self\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874\", \"html\": \"https://sandbox.zenodo.org/deposit/126874\", \"doi\": \"https://doi.org/\", \"badge\": \"https://sandbox.zenodo.org/badge/doi/.svg\", \"files\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/files\", \"latest_draft\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874\", \"latest_draft_html\": \"https://sandbox.zenodo.org/deposit/126874\", \"publish\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/publish\", \"edit\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/edit\", \"discard\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/discard\", \"newversion\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/newversion\", \"registerconceptdoi\": \"https://sandbox.zenodo.org/api/deposit/depositions/126874/actions/registerconceptdoi\"}, \"record_id\": 126874, \"owner\": 23981, \"files\": [], \"state\": \"unsubmitted\", \"submitted\": false}]\n\\ No newline at end of file"
      },
      {
        "sha": "74e6ddaf01a02daf91697bac10ebfcc82e79d06b",
        "filename": "app/modules/fakenodo/repositories.py",
        "status": "added",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Frepositories.py?ref=6c3a346e057f9707f9f2ab9534f55d5e568f3237",
        "patch": "@@ -0,0 +1,7 @@\n+from app.modules.fakenodo.models import Fakenodo\n+from core.repositories.BaseRepository import BaseRepository\n+\n+\n+class FakenodoRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(Fakenodo)"
      },
      {
        "sha": "6eb54e0f815d057a89c4c09331a6ceeebebed619",
        "filename": "app/modules/fakenodo/routes.py",
        "status": "added",
        "additions": 27,
        "deletions": 0,
        "changes": 27,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Froutes.py?ref=6c3a346e057f9707f9f2ab9534f55d5e568f3237",
        "patch": "@@ -0,0 +1,27 @@\n+from flask import jsonify, make_response\n+from app.modules.fakenodo import fakenodo_bp\n+import json\n+\n+@fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['GET'])\n+def get_all_depositions():\n+    with open('app/modules/fakenodo/placeholders/depositions.json') as f:\n+        data = json.load(f)\n+    return jsonify(data)\n+\n+@fakenodo_bp.route('/fakenodo/deposit/depositions', methods=['POST'])\n+def create_deposition():\n+    response = make_response(jsonify({\"message\": \"Deposition created\", \"id\": 1}))\n+    response.status_code = 201\n+    return response\n+\n+@fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>/files', methods=['POST'])\n+def upload_file(id):\n+    response =  make_response(jsonify({\"message\": f\"File uploaded to deposition {id}\"}))\n+    response.status_code = 201\n+    return response\n+\n+@fakenodo_bp.route('/fakenodo/deposit/depositions/<int:id>', methods=['DELETE'])\n+def delete_deposition(id):\n+    return jsonify({\"message\": f\"Deposition {id} deleted\"})\n+\n+"
      },
      {
        "sha": "e738a42eb8af697135afd0e50adb3646f7327feb",
        "filename": "app/modules/fakenodo/seeders.py",
        "status": "added",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Fseeders.py?ref=6c3a346e057f9707f9f2ab9534f55d5e568f3237",
        "patch": "@@ -0,0 +1,12 @@\n+from core.seeders.BaseSeeder import BaseSeeder\n+\n+\n+class FakenodoSeeder(BaseSeeder):\n+\n+    def run(self):\n+\n+        data = [\n+            # Create any Model object you want to make seed\n+        ]\n+\n+        self.seed(data)"
      },
      {
        "sha": "65446e117b938a8abf09e51a4ab417747a28e9a7",
        "filename": "app/modules/fakenodo/services.py",
        "status": "added",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Fservices.py?ref=6c3a346e057f9707f9f2ab9534f55d5e568f3237",
        "patch": "@@ -0,0 +1,7 @@\n+from app.modules.fakenodo.repositories import FakenodoRepository\n+from core.services.BaseService import BaseService\n+\n+\n+class FakenodoService(BaseService):\n+    def __init__(self):\n+        super().__init__(FakenodoRepository())"
      },
      {
        "sha": "bb533486c0a1f1149ee71ba5057cae880bf34e1c",
        "filename": "app/modules/fakenodo/templates/fakenodo/index.html",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Ftemplates%2Ffakenodo%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Ftemplates%2Ffakenodo%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Ftemplates%2Ffakenodo%2Findex.html?ref=6c3a346e057f9707f9f2ab9534f55d5e568f3237",
        "patch": "@@ -0,0 +1,11 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View fakenodo{% endblock %}\n+\n+{% block content %}\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('fakenodo.scripts') }}\"></script>\n+{% endblock %}"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/fakenodo/tests/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Ftests%2F__init__.py?ref=6c3a346e057f9707f9f2ab9534f55d5e568f3237"
      },
      {
        "sha": "355e5809e151db3a7660d151233fffaae8fc6986",
        "filename": "app/modules/fakenodo/tests/locustfile.py",
        "status": "added",
        "additions": 21,
        "deletions": 0,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Ftests%2Flocustfile.py?ref=6c3a346e057f9707f9f2ab9534f55d5e568f3237",
        "patch": "@@ -0,0 +1,21 @@\n+from locust import HttpUser, TaskSet, task\n+from core.environment.host import get_host_for_locust_testing\n+\n+\n+class FakenodoBehavior(TaskSet):\n+    def on_start(self):\n+        self.index()\n+\n+    @task\n+    def index(self):\n+        response = self.client.get(\"/fakenodo\")\n+\n+        if response.status_code != 200:\n+            print(f\"Fakenodo index failed: {response.status_code}\")\n+\n+\n+class FakenodoUser(HttpUser):\n+    tasks = [FakenodoBehavior]\n+    min_wait = 5000\n+    max_wait = 9000\n+    host = get_host_for_locust_testing()"
      },
      {
        "sha": "a33f0bb967501891fd46ff885dc25d13d985454f",
        "filename": "app/modules/fakenodo/tests/test_selenium.py",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_selenium.py?ref=6c3a346e057f9707f9f2ab9534f55d5e568f3237",
        "patch": "@@ -0,0 +1,35 @@\n+from selenium.common.exceptions import NoSuchElementException\n+import time\n+\n+from core.environment.host import get_host_for_selenium_testing\n+from core.selenium.common import initialize_driver, close_driver\n+\n+\n+def test_fakenodo_index():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}/fakenodo')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(4)\n+\n+        try:\n+\n+            pass\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Test failed!')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+# Call the test function\n+test_fakenodo_index()"
      },
      {
        "sha": "950421eb7b4ee15f00b45f83730c55dd2dda9336",
        "filename": "app/modules/fakenodo/tests/test_unit.py",
        "status": "added",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffakenodo%2Ftests%2Ftest_unit.py?ref=6c3a346e057f9707f9f2ab9534f55d5e568f3237",
        "patch": "@@ -0,0 +1,24 @@\n+import pytest\n+\n+\n+@pytest.fixture(scope='module')\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    \"\"\"\n+    with test_client.application.app_context():\n+        # Add HERE new elements to the database that you want to exist in the test context.\n+        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+        pass\n+\n+    yield test_client\n+\n+\n+def test_sample_assertion(test_client):\n+    \"\"\"\n+    Sample test to verify that the test framework and environment are working correctly.\n+    It does not communicate with the Flask application; it only performs a simple assertion to\n+    confirm that the tests in this module can be executed.\n+    \"\"\"\n+    greeting = \"Hello, World!\"\n+    assert greeting == \"Hello, World!\", \"The greeting does not coincide with 'Hello, World!'\""
      },
      {
        "sha": "33d5a9450801137740f5f40c012f3b670234ca2c",
        "filename": "app/modules/zenodo/services.py",
        "status": "modified",
        "additions": 7,
        "deletions": 2,
        "changes": 9,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Fzenodo%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/6c3a346e057f9707f9f2ab9534f55d5e568f3237/app%2Fmodules%2Fzenodo%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Fservices.py?ref=6c3a346e057f9707f9f2ab9534f55d5e568f3237",
        "patch": "@@ -26,12 +26,17 @@ def get_zenodo_url(self):\n         FLASK_ENV = os.getenv(\"FLASK_ENV\", \"development\")\n         ZENODO_API_URL = \"\"\n \n+        LOCAL_SERVER = os.getenv(\"DOMAIN\", \"localhost:5000\")\n+        development_url = f\"http://{LOCAL_SERVER}/fakenodo/deposit/depositions\"\n+\n         if FLASK_ENV == \"development\":\n-            ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n+            #ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n+            ZENODO_API_URL = development_url\n         elif FLASK_ENV == \"production\":\n             ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://zenodo.org/api/deposit/depositions\")\n         else:\n-            ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n+            #ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n+            ZENODO_API_URL = development_url\n \n         return ZENODO_API_URL\n "
      }
    ]
  },
  {
    "sha": "b1776689cd852f1ac93c39003ae3085bae848e67",
    "node_id": "C_kwDONBuXkNoAKGIxNzc2Njg5Y2Q4NTJmMWFjOTNjMzkwMDNhZTMwODViYWU4NDhlNjc",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-10-22T17:31:50Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-10-22T17:31:50Z"
      },
      "message": "feat(test): Tests improved in notepad module",
      "tree": {
        "sha": "9f1882aae1d1f055d13bde2aa8ae2ce012262a36",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/9f1882aae1d1f055d13bde2aa8ae2ce012262a36"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/b1776689cd852f1ac93c39003ae3085bae848e67",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b1776689cd852f1ac93c39003ae3085bae848e67",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/b1776689cd852f1ac93c39003ae3085bae848e67",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/b1776689cd852f1ac93c39003ae3085bae848e67/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "738e4c3d9cda2d5338e3ab00513ab54e08b8240a",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/738e4c3d9cda2d5338e3ab00513ab54e08b8240a",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/738e4c3d9cda2d5338e3ab00513ab54e08b8240a"
      }
    ],
    "files": [
      {
        "sha": "e8bf92b20cf892592a270abfec1a65e0e94e0f32",
        "filename": "app/modules/notepad/tests/locustfile.py",
        "status": "modified",
        "additions": 44,
        "deletions": 14,
        "changes": 58,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b1776689cd852f1ac93c39003ae3085bae848e67/app%2Fmodules%2Fnotepad%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b1776689cd852f1ac93c39003ae3085bae848e67/app%2Fmodules%2Fnotepad%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Flocustfile.py?ref=b1776689cd852f1ac93c39003ae3085bae848e67",
        "patch": "@@ -1,21 +1,51 @@\n-from locust import HttpUser, TaskSet, task\n-from core.environment.host import get_host_for_locust_testing\n+from locust import HttpUser, task, between\n+import random\n \n+class NotepadUser(HttpUser):\n+    wait_time = between(1, 5)\n \n-class NotepadBehavior(TaskSet):\n     def on_start(self):\n-        self.index()\n+        # Login at the start of each simulated user session\n+        self.client.post(\"/login\", data={\n+            \"email\": \"user@example.com\",\n+            \"password\": \"test1234\"\n+        })\n \n-    @task\n-    def index(self):\n-        response = self.client.get(\"/notepad\")\n+    @task(3)\n+    def view_notepads(self):\n+        with self.client.get(\"/notepad\", catch_response=True) as response:\n+            if response.status_code == 200:\n+                print(\"Notepad list loaded successfully.\")\n+            else:\n+                print(f\"Error loading notepad list: {response.status_code}\")\n+                response.failure(f\"Got status code {response.status_code}\")\n \n-        if response.status_code != 200:\n-            print(f\"Notepad index failed: {response.status_code}\")\n+    @task(2)\n+    def create_notepad(self):\n+        new_notepad = {\n+            \"title\": f\"Notepad created by Locust {random.randint(1, 1000)}\",\n+            \"body\": \"This is a test notepad created during load testing.\"\n+        }\n+        with self.client.post(\"/notepad/create\", data=new_notepad, catch_response=True) as response:\n+            if response.status_code == 200:\n+                print(\"Notepad created successfully.\")\n+            else:\n+                print(f\"Error creating notepad: {response.status_code}\")\n+                response.failure(f\"Got status code {response.status_code}\")\n \n+    @task(1)\n+    def view_specific_notepad(self):\n+        # Assuming notepad IDs are between 1 and 1000. Adjust as needed.\n+        notepad_id = random.randint(1, 1000)\n+        with self.client.get(f\"/notepad/{notepad_id}\", catch_response=True) as response:\n+            if response.status_code == 200:\n+                print(f\"Notepad {notepad_id} loaded successfully.\")\n+            elif response.status_code == 404:\n+                print(f\"Notepad {notepad_id} not found.\")\n+            else:\n+                print(f\"Error loading notepad {notepad_id}: {response.status_code}\")\n+                response.failure(f\"Got status code {response.status_code}\")\n \n-class NotepadUser(HttpUser):\n-    tasks = [NotepadBehavior]\n-    min_wait = 5000\n-    max_wait = 9000\n-    host = get_host_for_locust_testing()\n+    def on_stop(self):\n+        # Logout at the end of each simulated user session\n+        self.client.get(\"/logout\")\n\\ No newline at end of file"
      },
      {
        "sha": "83064bda848cf5c18cf9f42e568a86533d3b6e20",
        "filename": "app/modules/notepad/tests/test_integration.py",
        "status": "added",
        "additions": 120,
        "deletions": 0,
        "changes": 120,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b1776689cd852f1ac93c39003ae3085bae848e67/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_integration.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b1776689cd852f1ac93c39003ae3085bae848e67/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_integration.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_integration.py?ref=b1776689cd852f1ac93c39003ae3085bae848e67",
        "patch": "@@ -0,0 +1,120 @@\n+import pytest\n+\n+from app import db\n+from app.modules.conftest import login, logout\n+from app.modules.auth.models import User\n+from app.modules.profile.models import UserProfile\n+from flask_login import current_user\n+\n+@pytest.fixture(scope=\"module\")\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    \"\"\"\n+    with test_client.application.app_context():\n+        user_test = User(email='user@example.com', password='test1234')\n+        db.session.add(user_test)\n+        db.session.commit()\n+\n+        profile = UserProfile(user_id=user_test.id, name=\"Name\", surname=\"Surname\")\n+        db.session.add(profile)\n+        db.session.commit()\n+\n+    yield test_client\n+\n+\n+def test_get_notepad(test_client):\n+    \"\"\"\n+    Test retrieving a specific notepad via GET request.\n+    \"\"\"\n+    # Log in the test user\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    # Create a notepad\n+    response = test_client.post('/notepad/create', data={\n+        'title': 'Notepad2',\n+        'body': 'This is the body of notepad2.'\n+    }, follow_redirects=True)\n+    assert response.status_code == 200\n+\n+    # Get the notepad ID from the database\n+    with test_client.application.app_context():\n+        from app.modules.notepad.models import Notepad\n+        notepad = Notepad.query.filter_by(title='Notepad2', user_id=current_user.id).first()\n+        assert notepad is not None, \"Notepad was not found in the database.\"\n+\n+    # Access the notepad detail page\n+    response = test_client.get(f'/notepad/{notepad.id}')\n+    assert response.status_code == 200, \"The notepad detail page could not be accessed.\"\n+    assert b'Notepad2' in response.data, \"The notepad title is not present on the page.\"\n+\n+    logout(test_client)\n+\n+def test_edit_notepad(test_client):\n+    \"\"\"\n+    Test editing a notepad via POST request.\n+    \"\"\"\n+    # Log in the test user\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    # Create a notepad\n+    response = test_client.post('/notepad/create', data={\n+        'title': 'Notepad3',\n+        'body': 'This is the body of notepad3.'\n+    }, follow_redirects=True)\n+    assert response.status_code == 200\n+\n+    # Get the notepad ID from the database\n+    with test_client.application.app_context():\n+        from app.modules.notepad.models import Notepad\n+        notepad = Notepad.query.filter_by(title='Notepad3', user_id=current_user.id).first()\n+        assert notepad is not None, \"Notepad was not found in the database.\"\n+\n+    # Edit the notepad\n+    response = test_client.post(f'/notepad/edit/{notepad.id}', data={\n+        'title': 'Notepad3 Edited',\n+        'body': 'This is the edited body of notepad3.'\n+    }, follow_redirects=True)\n+    assert response.status_code == 200, \"The notepad could not be edited.\"\n+\n+    # Check that the notepad was updated\n+    with test_client.application.app_context():\n+        notepad = Notepad.query.get(notepad.id)\n+        assert notepad.title == 'Notepad3 Edited', \"The notepad title was not updated.\"\n+        assert notepad.body == 'This is the edited body of notepad3.', \"The notepad body was not updated.\"\n+\n+    logout(test_client)\n+\n+def test_delete_notepad(test_client):\n+    \"\"\"\n+    Test deleting a notepad via POST request.\n+    \"\"\"\n+    # Log in the test user\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    # Create a notepad\n+    response = test_client.post('/notepad/create', data={\n+        'title': 'Notepad4',\n+        'body': 'This is the body of notepad4.'\n+    }, follow_redirects=True)\n+    assert response.status_code == 200\n+\n+    # Get the notepad ID from the database\n+    with test_client.application.app_context():\n+        from app.modules.notepad.models import Notepad\n+        notepad = Notepad.query.filter_by(title='Notepad4', user_id=current_user.id).first()\n+        assert notepad is not None, \"Notepad was not found in the database.\"\n+\n+    # Delete the notepad\n+    response = test_client.post(f'/notepad/delete/{notepad.id}', follow_redirects=True)\n+    assert response.status_code == 200, \"The notepad could not be deleted.\"\n+\n+    # Check that the notepad was deleted\n+    with test_client.application.app_context():\n+        notepad = Notepad.query.get(notepad.id)\n+        assert notepad is None, \"The notepad was not deleted.\"\n+\n+    logout(test_client)\n\\ No newline at end of file"
      },
      {
        "sha": "47edd0c31e78f20c91a207313a1d13579655fe9c",
        "filename": "app/modules/notepad/tests/test_selenium.py",
        "status": "modified",
        "additions": 35,
        "deletions": 34,
        "changes": 69,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b1776689cd852f1ac93c39003ae3085bae848e67/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b1776689cd852f1ac93c39003ae3085bae848e67/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_selenium.py?ref=b1776689cd852f1ac93c39003ae3085bae848e67",
        "patch": "@@ -1,35 +1,36 @@\n-from selenium.common.exceptions import NoSuchElementException\n+# Generated by Selenium IDE\n+import pytest\n import time\n-\n-from core.environment.host import get_host_for_selenium_testing\n-from core.selenium.common import initialize_driver, close_driver\n-\n-\n-def test_notepad_index():\n-\n-    driver = initialize_driver()\n-\n-    try:\n-        host = get_host_for_selenium_testing()\n-\n-        # Open the index page\n-        driver.get(f'{host}/notepad')\n-\n-        # Wait a little while to make sure the page has loaded completely\n-        time.sleep(4)\n-\n-        try:\n-\n-            pass\n-\n-        except NoSuchElementException:\n-            raise AssertionError('Test failed!')\n-\n-    finally:\n-\n-        # Close the browser\n-        close_driver(driver)\n-\n-\n-# Call the test function\n-test_notepad_index()\n+import json\n+from selenium import webdriver\n+from selenium.webdriver.common.by import By\n+from selenium.webdriver.common.action_chains import ActionChains\n+from selenium.webdriver.support import expected_conditions\n+from selenium.webdriver.support.wait import WebDriverWait\n+from selenium.webdriver.common.keys import Keys\n+from selenium.webdriver.common.desired_capabilities import DesiredCapabilities\n+\n+class TestCreatenotepad():\n+  def setup_method(self, method):\n+    self.driver = webdriver.Chrome()\n+    self.vars = {}\n+  \n+  def teardown_method(self, method):\n+    self.driver.quit()\n+  \n+  def test_createnotepad(self):\n+    self.driver.get(\"http://localhost:5000/login\")\n+    time.sleep(2)\n+    self.driver.set_window_size(912, 1011)\n+    self.driver.find_element(By.ID, \"email\").click()\n+    self.driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+    self.driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+    self.driver.find_element(By.ID, \"submit\").click()\n+    time.sleep(2)\n+    self.driver.get(\"http://localhost:5000/notepad/create\")\n+    time.sleep(2)\n+    self.driver.find_element(By.ID, \"title\").click()\n+    self.driver.find_element(By.ID, \"title\").send_keys(\"n1\")\n+    self.driver.find_element(By.ID, \"body\").click()\n+    self.driver.find_element(By.ID, \"body\").send_keys(\"n1\")\n+    self.driver.find_element(By.ID, \"submit\").click()\n\\ No newline at end of file"
      },
      {
        "sha": "a8b3f962986614c18373705d5cbd5dd20f60c860",
        "filename": "app/modules/notepad/tests/test_unit.py",
        "status": "modified",
        "additions": 47,
        "deletions": 107,
        "changes": 154,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/b1776689cd852f1ac93c39003ae3085bae848e67/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/b1776689cd852f1ac93c39003ae3085bae848e67/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py?ref=b1776689cd852f1ac93c39003ae3085bae848e67",
        "patch": "@@ -1,131 +1,71 @@\n import pytest\n-\n-from app import db\n-from app.modules.conftest import login, logout\n+from unittest.mock import patch, MagicMock\n+from app.modules.notepad.services import NotepadService\n+from app.modules.notepad.models import Notepad\n from app.modules.auth.models import User\n-from app.modules.profile.models import UserProfile\n-\n \n-@pytest.fixture(scope='module')\n+@pytest.fixture(scope=\"module\")\n def test_client(test_client):\n     \"\"\"\n     Extends the test_client fixture to add additional specific data for module testing.\n     \"\"\"\n     with test_client.application.app_context():\n-        user_test = User(email='user@example.com', password='test1234')\n-        db.session.add(user_test)\n-        db.session.commit()\n-\n-        profile = UserProfile(user_id=user_test.id, name=\"Name\", surname=\"Surname\")\n-        db.session.add(profile)\n-        db.session.commit()\n-\n+        # Add HERE new elements to the database that you want to exist in the test context.\n+        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+        pass\n     yield test_client\n \n+@pytest.fixture\n+def notepad_service():\n+    return NotepadService()\n \n-def test_list_empty_notepad_get(test_client):\n-    \"\"\"\n-    Tests access to the empty notepad list via GET request.\n-    \"\"\"\n-    login_response = login(test_client, \"user@example.com\", \"test1234\")\n-    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n-\n-    response = test_client.get(\"/notepad\")\n-    assert response.status_code == 200, \"The notepad page could not be accessed.\"\n-    assert b\"You have no notepads.\" in response.data, \"The expected content is not present on the page\"\n-\n-    logout(test_client)\n-\n-def test_get_one_notepad_get(test_client):\n-    \"\"\"\n-    Tests access to a notepad via GET request.\n-    \"\"\"\n-    login_response = login(test_client, \"user@example.com\", \"test1234\")\n-    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n-\n-    test_client.post(\"/notepad/create\", json={'title':'Titulo', 'body':'Cuerpo'}, follow_redirects=True)\n+def test_get_all_by_user(notepad_service):\n+    with patch.object(notepad_service.repository, 'get_all_by_user') as mock_get_all:\n+        mock_notepads = [MagicMock(id=1), MagicMock(id=2)]\n+        mock_get_all.return_value = mock_notepads\n \n-    response = test_client.get(\"/notepad/1\")\n-    assert response.status_code == 200, \"The notepad page could not be accessed.\"\n+        user_id = 1\n+        result = notepad_service.get_all_by_user(user_id)\n \n-    logout(test_client)\n+        assert result == mock_notepads\n+        assert len(result) == 2\n+        mock_get_all.assert_called_once_with(user_id)\n \n-def test_get_notepad_not_found(test_client):\n-    \"\"\"\n-    Tests access to a notepad that does not exist via GET request.\n-    \"\"\"\n+def test_create(notepad_service):\n+    with patch.object(notepad_service.repository, 'create') as mock_create:\n+        mock_notepad = MagicMock(id=1)\n+        mock_create.return_value = mock_notepad\n \n-    login_response = login(test_client, \"user@example.com\", \"test1234\")\n-    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+        title = 'Test Notepad'\n+        body = 'Test Body'\n+        user_id = 1\n \n-    response = test_client.get(\"/notepad/7\")\n-    assert response.status_code == 404, \"The notepad page could not be accessed.\"\n-\n-    logout(test_client)\n-\n-def test_create_notepad_post(test_client):\n-    \"\"\"\n-    Test create a new task via POST request.\n-    \"\"\"\n-    login_response = login(test_client, \"user@example.com\", \"test1234\")\n-    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+        result = notepad_service.create(title=title, body=body, user_id=user_id)\n \n-    response = test_client.post(\"/notepad/create\", json={'title':'Titulo', 'body':'Cuerpo'}, follow_redirects=True)\n-    assert b\"Titulo\" in response.data, \"The expected content is not present on the page\"\n+        assert result == mock_notepad\n+        assert result.id == 1\n+        mock_create.assert_called_once_with(title=title, body=body, user_id=user_id)\n \n-    logout(test_client)\n-\n-def test_edit_notepad_get(test_client):\n-    \"\"\"\n-    Tests access to the notepad editing page via GET request.\n-    \"\"\"\n-    login_response = login(test_client, \"user@example.com\", \"test1234\")\n-    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n-\n-    create_response = test_client.post(\"/notepad/create\", json={'title':'Titulo', 'body':'Cuerpo'}, follow_redirects=True)\n-\n-    # Get id\n-    id = create_response.data.decode('utf-8').split('notepad/edit/')[1].split('\"')[0]\n-\n-    edit_response = test_client.get(f\"/notepad/edit/{id}\")\n-    assert edit_response.status_code == 200, \"The notepad editing page could not be accessed.\"\n-    assert b\"Save notepad\" in edit_response.data, \"The expected content is not present on the page\"\n-\n-    logout(test_client)\n-\n-def test_edit_notepad_post(test_client):\n-    \"\"\"\n-    Test edit a notepad via POST request.\n-    \"\"\"\n-    login_response = login(test_client, \"user@example.com\", \"test1234\")\n-    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n-\n-    create_response = test_client.post(\"/notepad/create\", json={'title':'Titulo', 'body':'Cuerpo'}, follow_redirects=True)\n-\n-    # Get id\n-    id = create_response.data.decode('utf-8').split('notepad/edit/')[1].split('\"')[0]\n-\n-    edit_response = test_client.post(f\"/notepad/edit/{id}\", json={'title':'Titulo', 'body':'Cuerpo'}, follow_redirects=True)\n-    assert b\"Titulo\" in edit_response.data, \"The expected content is not present on the page\"\n-\n-    logout(test_client)\n-\n-def test_delete_notepad_post(test_client):\n-    \"\"\"\n-    Test delete a notepad via POST request.\n-    \"\"\"\n-    login_response = login(test_client, \"user@example.com\", \"test1234\")\n-    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+def test_update(notepad_service):\n+    with patch.object(notepad_service.repository, 'update') as mock_update:\n+        mock_notepad = MagicMock(id=1)\n+        mock_update.return_value = mock_notepad\n \n-    create_response = test_client.post(\"/notepad/create\", json={'title':'Titulo', 'body':'Cuerpo'}, follow_redirects=True)\n+        notepad_id = 1\n+        title = 'Updated Notepad'\n+        body = 'Updated Body'\n \n-    # Get id\n-    id = create_response.data.decode('utf-8').split('notepad/edit/')[1].split('\"')[0]\n+        result = notepad_service.update(notepad_id, title=title, body=body)\n \n-    delete_response = test_client.post(f\"/notepad/delete/{id}\")\n+        assert result == mock_notepad\n+        mock_update.assert_called_once_with(notepad_id, title=title, body=body)\n \n-    assert delete_response.status_code == 302, \"The notepad could not be deleted.\"\n+def test_delete(notepad_service):\n+    with patch.object(notepad_service.repository, 'delete') as mock_delete:\n+        mock_delete.return_value = True\n \n-    logout(test_client)\n+        notepad_id = 1\n+        result = notepad_service.delete(notepad_id)\n \n-                           \n+        assert result is True\n+        mock_delete.assert_called_once_with(notepad_id)\n\\ No newline at end of file"
      }
    ]
  },
  {
    "sha": "738e4c3d9cda2d5338e3ab00513ab54e08b8240a",
    "node_id": "C_kwDONBuXkNoAKDczOGU0YzNkOWNkYTJkNTMzOGUzYWIwMDUxM2FiNTRlMDhiODI0MGE",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-10-18T13:46:08Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-10-18T13:46:08Z"
      },
      "message": "feat(test): unit tests for notepad CRUD",
      "tree": {
        "sha": "d99ee4f5a1516042fd8862bae8fc04c71b2a8e86",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/d99ee4f5a1516042fd8862bae8fc04c71b2a8e86"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/738e4c3d9cda2d5338e3ab00513ab54e08b8240a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/738e4c3d9cda2d5338e3ab00513ab54e08b8240a",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/738e4c3d9cda2d5338e3ab00513ab54e08b8240a",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/738e4c3d9cda2d5338e3ab00513ab54e08b8240a/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "8adad93bf77c3261970a0f7f134055474566160a",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/8adad93bf77c3261970a0f7f134055474566160a",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/8adad93bf77c3261970a0f7f134055474566160a"
      }
    ],
    "files": [
      {
        "sha": "50a8b00072ff2db4524383a44cfb2e89290e8829",
        "filename": "app/modules/notepad/tests/test_unit.py",
        "status": "modified",
        "additions": 94,
        "deletions": 0,
        "changes": 94,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/738e4c3d9cda2d5338e3ab00513ab54e08b8240a/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/738e4c3d9cda2d5338e3ab00513ab54e08b8240a/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py?ref=738e4c3d9cda2d5338e3ab00513ab54e08b8240a",
        "patch": "@@ -35,3 +35,97 @@ def test_list_empty_notepad_get(test_client):\n     assert b\"You have no notepads.\" in response.data, \"The expected content is not present on the page\"\n \n     logout(test_client)\n+\n+def test_get_one_notepad_get(test_client):\n+    \"\"\"\n+    Tests access to a notepad via GET request.\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    test_client.post(\"/notepad/create\", json={'title':'Titulo', 'body':'Cuerpo'}, follow_redirects=True)\n+\n+    response = test_client.get(\"/notepad/1\")\n+    assert response.status_code == 200, \"The notepad page could not be accessed.\"\n+\n+    logout(test_client)\n+\n+def test_get_notepad_not_found(test_client):\n+    \"\"\"\n+    Tests access to a notepad that does not exist via GET request.\n+    \"\"\"\n+\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    response = test_client.get(\"/notepad/7\")\n+    assert response.status_code == 404, \"The notepad page could not be accessed.\"\n+\n+    logout(test_client)\n+\n+def test_create_notepad_post(test_client):\n+    \"\"\"\n+    Test create a new task via POST request.\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    response = test_client.post(\"/notepad/create\", json={'title':'Titulo', 'body':'Cuerpo'}, follow_redirects=True)\n+    assert b\"Titulo\" in response.data, \"The expected content is not present on the page\"\n+\n+    logout(test_client)\n+\n+def test_edit_notepad_get(test_client):\n+    \"\"\"\n+    Tests access to the notepad editing page via GET request.\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    create_response = test_client.post(\"/notepad/create\", json={'title':'Titulo', 'body':'Cuerpo'}, follow_redirects=True)\n+\n+    # Get id\n+    id = create_response.data.decode('utf-8').split('notepad/edit/')[1].split('\"')[0]\n+\n+    edit_response = test_client.get(f\"/notepad/edit/{id}\")\n+    assert edit_response.status_code == 200, \"The notepad editing page could not be accessed.\"\n+    assert b\"Save notepad\" in edit_response.data, \"The expected content is not present on the page\"\n+\n+    logout(test_client)\n+\n+def test_edit_notepad_post(test_client):\n+    \"\"\"\n+    Test edit a notepad via POST request.\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    create_response = test_client.post(\"/notepad/create\", json={'title':'Titulo', 'body':'Cuerpo'}, follow_redirects=True)\n+\n+    # Get id\n+    id = create_response.data.decode('utf-8').split('notepad/edit/')[1].split('\"')[0]\n+\n+    edit_response = test_client.post(f\"/notepad/edit/{id}\", json={'title':'Titulo', 'body':'Cuerpo'}, follow_redirects=True)\n+    assert b\"Titulo\" in edit_response.data, \"The expected content is not present on the page\"\n+\n+    logout(test_client)\n+\n+def test_delete_notepad_post(test_client):\n+    \"\"\"\n+    Test delete a notepad via POST request.\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    create_response = test_client.post(\"/notepad/create\", json={'title':'Titulo', 'body':'Cuerpo'}, follow_redirects=True)\n+\n+    # Get id\n+    id = create_response.data.decode('utf-8').split('notepad/edit/')[1].split('\"')[0]\n+\n+    delete_response = test_client.post(f\"/notepad/delete/{id}\")\n+\n+    assert delete_response.status_code == 302, \"The notepad could not be deleted.\"\n+\n+    logout(test_client)\n+\n+                           "
      }
    ]
  },
  {
    "sha": "8adad93bf77c3261970a0f7f134055474566160a",
    "node_id": "C_kwDONBuXkNoAKDhhZGFkOTNiZjc3YzMyNjE5NzBhMGY3ZjEzNDA1NTQ3NDU2NjE2MGE",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-10-17T14:34:06Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-10-17T14:34:06Z"
      },
      "message": "feat(module): Notepad module",
      "tree": {
        "sha": "83a1559de24886a2520fa6fb9c4af47e0229840f",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/83a1559de24886a2520fa6fb9c4af47e0229840f"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/8adad93bf77c3261970a0f7f134055474566160a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/8adad93bf77c3261970a0f7f134055474566160a",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/8adad93bf77c3261970a0f7f134055474566160a",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/8adad93bf77c3261970a0f7f134055474566160a/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      }
    ],
    "files": [
      {
        "sha": "bdbd6bf72cd6af9df183648ea6dc80376dece5c8",
        "filename": "app/modules/notepad/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2F__init__.py?ref=8adad93bf77c3261970a0f7f134055474566160a",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+notepad_bp = BaseBlueprint('notepad', __name__, template_folder='templates')"
      },
      {
        "sha": "534752e79f742c6dd608ee24b2177b24a5641741",
        "filename": "app/modules/notepad/assets/scripts.js",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Fassets%2Fscripts.js?ref=8adad93bf77c3261970a0f7f134055474566160a",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script loaded from notepad module\");"
      },
      {
        "sha": "dd1b7262615ac97fafda128755cc6eaf2f5dca02",
        "filename": "app/modules/notepad/forms.py",
        "status": "added",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Fforms.py?ref=8adad93bf77c3261970a0f7f134055474566160a",
        "patch": "@@ -0,0 +1,8 @@\n+from flask_wtf import FlaskForm\n+from wtforms import SubmitField, StringField, TextAreaField\n+from wtforms.validators import DataRequired, Length\n+\n+class NotepadForm(FlaskForm):\n+    title = StringField('Title', validators=[DataRequired(), Length(max=256)])\n+    body = TextAreaField('Body', validators=[DataRequired()])\n+    submit = SubmitField('Save notepad')"
      },
      {
        "sha": "6a4331c9ee561da22ad3ec5c5dd5f1c6d7bbbd86",
        "filename": "app/modules/notepad/models.py",
        "status": "added",
        "additions": 13,
        "deletions": 0,
        "changes": 13,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Fmodels.py?ref=8adad93bf77c3261970a0f7f134055474566160a",
        "patch": "@@ -0,0 +1,13 @@\n+from app import db\n+\n+\n+class Notepad(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+    title = db.Column(db.String(256), nullable=False)\n+    body = db.Column(db.Text, nullable=False)\n+    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)\n+\n+    user = db.relationship('User', backref='notepads', lazy=True)\n+\n+    def __repr__(self):\n+        return f'Notepad<{self.id}, Title={self.title}, Author={self.user.username}>'"
      },
      {
        "sha": "4181149499a2a0bebf8b6499b84bc7af33250ea3",
        "filename": "app/modules/notepad/repositories.py",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Frepositories.py?ref=8adad93bf77c3261970a0f7f134055474566160a",
        "patch": "@@ -0,0 +1,11 @@\n+from app.modules.notepad.models import Notepad\n+from core.repositories.BaseRepository import BaseRepository\n+\n+\n+class NotepadRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(Notepad)\n+\n+    def get_all_by_user(self, user_id):\n+        return Notepad.query.filter_by(user_id=user_id).all()\n+"
      },
      {
        "sha": "9ca74a419aae75092b1568a319ce1c056c0047ab",
        "filename": "app/modules/notepad/routes.py",
        "status": "added",
        "additions": 92,
        "deletions": 0,
        "changes": 92,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Froutes.py?ref=8adad93bf77c3261970a0f7f134055474566160a",
        "patch": "@@ -0,0 +1,92 @@\n+from flask import render_template, redirect, url_for, flash, request\n+from flask_login import login_required, current_user\n+\n+from app.modules.notepad.forms import NotepadForm\n+from app.modules.notepad import notepad_bp\n+from app.modules.notepad.services import NotepadService\n+\n+notepad_service = NotepadService()\n+\n+# Read\n+@notepad_bp.route('/notepad', methods=['GET'])\n+@login_required\n+def index():\n+    form = NotepadForm()\n+    notepads = notepad_service.get_all_by_user(current_user.id)\n+    return render_template('notepad/index.html', notepads=notepads, form=form)\n+\n+# Create\n+@notepad_bp.route('/notepad/create', methods=['GET', 'POST'])\n+@login_required\n+def create_notepad():\n+    form = NotepadForm()\n+    if form.validate_on_submit():\n+        result = notepad_service.create(title=form.title.data, body=form.body.data, user_id=current_user.id)\n+        return notepad_service.handle_service_response(\n+            result=result,\n+            errors=form.errors,\n+            success_url_redirect='notepad.index',\n+            success_msg='Notepad created successfully!',\n+            error_template='notepad/create.html',\n+            form=form\n+        )\n+    return render_template('notepad/create.html', form=form)\n+\n+\n+# Read by ID\n+@notepad_bp.route('/notepad/<int:notepad_id>', methods=['GET'])\n+@login_required\n+def get_notepad(notepad_id):\n+    notepad = notepad_service.get_or_404(notepad_id)\n+    \n+    if notepad.user_id != current_user.id:\n+        flash('You are not authorized to view this notepad', 'error')\n+        return redirect(url_for('notepad.index'))\n+\n+    return render_template('notepad/show.html', notepad=notepad)\n+\n+# Edit\n+@notepad_bp.route('/notepad/edit/<int:notepad_id>', methods=['GET', 'POST'])\n+@login_required\n+def edit_notepad(notepad_id):\n+    notepad = notepad_service.get_or_404(notepad_id)\n+    if notepad.user_id != current_user.id:\n+        flash('You are not authorized to edit this notepad', 'error')\n+        return redirect(url_for('notepad.index'))\n+\n+    form = NotepadForm(obj=notepad)\n+    if form.validate_on_submit():\n+        result = notepad_service.update(\n+            notepad_id,\n+            title=form.title.data,\n+            body=form.body.data\n+        )\n+        return notepad_service.handle_service_response(\n+            result=result,\n+            errors=form.errors,\n+            success_url_redirect='notepad.index',\n+            success_msg='Notepad updated successfully!',\n+            error_template='notepad/edit.html',\n+            form=form\n+        )\n+    return render_template('notepad/edit.html', form=form, notepad=notepad)\n+\n+# Delete\n+@notepad_bp.route('/notepad/delete/<int:notepad_id>', methods=['POST'])\n+@login_required\n+def delete_notepad(notepad_id):\n+    notepad = notepad_service.get_or_404(notepad_id)\n+    if notepad.user_id != current_user.id:\n+        flash('You are not authorized to delete this notepad', 'error')\n+        return redirect(url_for('notepad.index'))\n+\n+    result = notepad_service.delete(notepad_id)\n+    if result:\n+        flash('Notepad deleted successfully!', 'success')\n+    else:\n+        flash('Error deleting notepad', 'error')\n+    \n+    return redirect(url_for('notepad.index'))\n+\n+\n+"
      },
      {
        "sha": "9678fb23eb34861b19ff302609c5e38d3c330685",
        "filename": "app/modules/notepad/seeders.py",
        "status": "added",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Fseeders.py?ref=8adad93bf77c3261970a0f7f134055474566160a",
        "patch": "@@ -0,0 +1,12 @@\n+from core.seeders.BaseSeeder import BaseSeeder\n+\n+\n+class NotepadSeeder(BaseSeeder):\n+\n+    def run(self):\n+\n+        data = [\n+            # Create any Model object you want to make seed\n+        ]\n+\n+        self.seed(data)"
      },
      {
        "sha": "2d6d3cdbf5ef3ab2a706ba91fc414041456e0afd",
        "filename": "app/modules/notepad/services.py",
        "status": "added",
        "additions": 10,
        "deletions": 0,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Fservices.py?ref=8adad93bf77c3261970a0f7f134055474566160a",
        "patch": "@@ -0,0 +1,10 @@\n+from app.modules.notepad.repositories import NotepadRepository\n+from core.services.BaseService import BaseService\n+\n+\n+class NotepadService(BaseService):\n+    def __init__(self):\n+        super().__init__(NotepadRepository())\n+\n+    def get_all_by_user(self, user_id):\n+        return self.repository.get_all_by_user(user_id)"
      },
      {
        "sha": "0ad496d5116f3527f75b118fb4820e6feaa5bb14",
        "filename": "app/modules/notepad/templates/notepad/create.html",
        "status": "added",
        "additions": 27,
        "deletions": 0,
        "changes": 27,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Ftemplates%2Fnotepad%2Fcreate.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Ftemplates%2Fnotepad%2Fcreate.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftemplates%2Fnotepad%2Fcreate.html?ref=8adad93bf77c3261970a0f7f134055474566160a",
        "patch": "@@ -0,0 +1,27 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}Create notepad{% endblock %}\n+\n+{% block content %}\n+\n+<form method=\"POST\" action=\"{{ url_for('notepad.create_notepad') }}\">\n+    {{ form.hidden_tag() }}\n+    <div>\n+        {{ form.title.label }}<br>\n+        {{ form.title(size=32) }}\n+    </div>\n+    <div>\n+        {{ form.body.label }}<br>\n+        {{ form.body(rows=5) }}\n+    </div>\n+    <div>\n+        {{ form.submit() }}\n+    </div>\n+</form>\n+\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('notepad.scripts') }}\"></script>\n+{% endblock %}"
      },
      {
        "sha": "8bdb3a8240041862002ea96a217f1518b646fa82",
        "filename": "app/modules/notepad/templates/notepad/edit.html",
        "status": "added",
        "additions": 26,
        "deletions": 0,
        "changes": 26,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Ftemplates%2Fnotepad%2Fedit.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Ftemplates%2Fnotepad%2Fedit.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftemplates%2Fnotepad%2Fedit.html?ref=8adad93bf77c3261970a0f7f134055474566160a",
        "patch": "@@ -0,0 +1,26 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View notepad{% endblock %}\n+\n+{% block content %}\n+\n+<form method=\"POST\" action=\"{{ url_for('notepad.edit_notepad', notepad_id=notepad.id) }}\">\n+    {{ form.hidden_tag() }}\n+    <div>\n+        {{ form.title.label }}<br>\n+        {{ form.title(size=32) }}\n+    </div>\n+    <div>\n+        {{ form.body.label }}<br>\n+        {{ form.body(rows=5) }}\n+    </div>\n+    <div>\n+        {{ form.submit() }}\n+    </div>\n+</form>\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('notepad.scripts') }}\"></script>\n+{% endblock %}"
      },
      {
        "sha": "34e5bf2f3cc65b53491f08a313217bd745d70b94",
        "filename": "app/modules/notepad/templates/notepad/index.html",
        "status": "added",
        "additions": 29,
        "deletions": 0,
        "changes": 29,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Ftemplates%2Fnotepad%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Ftemplates%2Fnotepad%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftemplates%2Fnotepad%2Findex.html?ref=8adad93bf77c3261970a0f7f134055474566160a",
        "patch": "@@ -0,0 +1,29 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View my notepads{% endblock %}\n+\n+{% block content %}\n+\n+{% if notepads %}\n+    <ul>\n+    {% for notepad in notepads %}\n+        <li>\n+            <strong><a href=\"{{ url_for('notepad.edit_notepad', notepad_id=notepad.id) }}\">{{ notepad.title }}</a></strong> - {{ notepad.body }}\n+            <a href=\"{{ url_for('notepad.edit_notepad', notepad_id=notepad.id) }}\">Edit</a>\n+            <form method=\"POST\" action=\"{{ url_for('notepad.delete_notepad', notepad_id=notepad.id) }}\">\n+                {{ form.hidden_tag() }}\n+                <button type=\"submit\">Delete</button>\n+            </form>\n+        </li>\n+    {% endfor %}\n+    </ul>\n+{% else %}\n+    <p>You have no notepads.</p>\n+{% endif %}\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('notepad.scripts') }}\"></script>\n+{% endblock %}\n+"
      },
      {
        "sha": "4ad7eb0a377bba032e239d820c5ee6f58afe37dc",
        "filename": "app/modules/notepad/templates/notepad/show.html",
        "status": "added",
        "additions": 14,
        "deletions": 0,
        "changes": 14,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Ftemplates%2Fnotepad%2Fshow.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Ftemplates%2Fnotepad%2Fshow.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftemplates%2Fnotepad%2Fshow.html?ref=8adad93bf77c3261970a0f7f134055474566160a",
        "patch": "@@ -0,0 +1,14 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}Notepad details{% endblock %}\n+\n+{% block content %}\n+\n+<h1>{{ notepad.title }}</h1>\n+<p>{{ notepad.body }}</p>\n+<a href=\"{{ url_for('notepad.index') }}\">Back to Notepads</a>\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('notepad.scripts') }}\"></script>\n+{% endblock %}"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/notepad/tests/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2F__init__.py?ref=8adad93bf77c3261970a0f7f134055474566160a"
      },
      {
        "sha": "d17123abfa56f080a6c0715adac1216cbd882687",
        "filename": "app/modules/notepad/tests/locustfile.py",
        "status": "added",
        "additions": 21,
        "deletions": 0,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Flocustfile.py?ref=8adad93bf77c3261970a0f7f134055474566160a",
        "patch": "@@ -0,0 +1,21 @@\n+from locust import HttpUser, TaskSet, task\n+from core.environment.host import get_host_for_locust_testing\n+\n+\n+class NotepadBehavior(TaskSet):\n+    def on_start(self):\n+        self.index()\n+\n+    @task\n+    def index(self):\n+        response = self.client.get(\"/notepad\")\n+\n+        if response.status_code != 200:\n+            print(f\"Notepad index failed: {response.status_code}\")\n+\n+\n+class NotepadUser(HttpUser):\n+    tasks = [NotepadBehavior]\n+    min_wait = 5000\n+    max_wait = 9000\n+    host = get_host_for_locust_testing()"
      },
      {
        "sha": "f9901794baac9f1c2cec840afe0bffed8eab08f5",
        "filename": "app/modules/notepad/tests/test_selenium.py",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_selenium.py?ref=8adad93bf77c3261970a0f7f134055474566160a",
        "patch": "@@ -0,0 +1,35 @@\n+from selenium.common.exceptions import NoSuchElementException\n+import time\n+\n+from core.environment.host import get_host_for_selenium_testing\n+from core.selenium.common import initialize_driver, close_driver\n+\n+\n+def test_notepad_index():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}/notepad')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(4)\n+\n+        try:\n+\n+            pass\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Test failed!')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+# Call the test function\n+test_notepad_index()"
      },
      {
        "sha": "f84f3341d908d59e02213fcce4b194db0ead1874",
        "filename": "app/modules/notepad/tests/test_unit.py",
        "status": "added",
        "additions": 37,
        "deletions": 0,
        "changes": 37,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/8adad93bf77c3261970a0f7f134055474566160a/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fnotepad%2Ftests%2Ftest_unit.py?ref=8adad93bf77c3261970a0f7f134055474566160a",
        "patch": "@@ -0,0 +1,37 @@\n+import pytest\n+\n+from app import db\n+from app.modules.conftest import login, logout\n+from app.modules.auth.models import User\n+from app.modules.profile.models import UserProfile\n+\n+\n+@pytest.fixture(scope='module')\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    \"\"\"\n+    with test_client.application.app_context():\n+        user_test = User(email='user@example.com', password='test1234')\n+        db.session.add(user_test)\n+        db.session.commit()\n+\n+        profile = UserProfile(user_id=user_test.id, name=\"Name\", surname=\"Surname\")\n+        db.session.add(profile)\n+        db.session.commit()\n+\n+    yield test_client\n+\n+\n+def test_list_empty_notepad_get(test_client):\n+    \"\"\"\n+    Tests access to the empty notepad list via GET request.\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    response = test_client.get(\"/notepad\")\n+    assert response.status_code == 200, \"The notepad page could not be accessed.\"\n+    assert b\"You have no notepads.\" in response.data, \"The expected content is not present on the page\"\n+\n+    logout(test_client)"
      }
    ]
  },
  {
    "sha": "d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
    "node_id": "C_kwDONBuXkNoAKGQzOGE2YTMzZThhOGQ3MTRmNDgwZmQ1MTJjZGYwMDk5OGRmZDQxY2Y",
    "commit": {
      "author": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-10-17T13:08:54Z"
      },
      "committer": {
        "name": "Miguel Hern\u00e1ndez S\u00e1nchez",
        "email": "mighersan1@alum.us.es",
        "date": "2024-10-17T13:09:06Z"
      },
      "message": "First commit",
      "tree": {
        "sha": "2ad4daa1a0bd9113971138f99615583d404f14e5",
        "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/trees/2ad4daa1a0bd9113971138f99615583d404f14e5"
      },
      "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/git/commits/d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null,
        "verified_at": null
      }
    },
    "url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
    "html_url": "https://github.com/chipi-hub-team/chipi-hub/commit/d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
    "comments_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/commits/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/comments",
    "author": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "committer": {
      "login": "Yato03",
      "id": 59254702,
      "node_id": "MDQ6VXNlcjU5MjU0NzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/59254702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yato03",
      "html_url": "https://github.com/Yato03",
      "followers_url": "https://api.github.com/users/Yato03/followers",
      "following_url": "https://api.github.com/users/Yato03/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yato03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yato03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yato03/subscriptions",
      "organizations_url": "https://api.github.com/users/Yato03/orgs",
      "repos_url": "https://api.github.com/users/Yato03/repos",
      "events_url": "https://api.github.com/users/Yato03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yato03/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "parents": [],
    "files": [
      {
        "sha": "e27476a47f9e321d8f2a13d529388e069a72a8af",
        "filename": ".env.docker.example",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.env.docker.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.env.docker.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.env.docker.example?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,11 @@\n+FLASK_APP_NAME=\"UVLHUB.IO(dev)\"\n+FLASK_ENV=development\n+DOMAIN=localhost\n+MARIADB_HOSTNAME=db\n+MARIADB_PORT=3306\n+MARIADB_DATABASE=uvlhubdb\n+MARIADB_TEST_DATABASE=uvlhubdb_test\n+MARIADB_USER=uvlhubdb_user\n+MARIADB_PASSWORD=uvlhubdb_password\n+MARIADB_ROOT_PASSWORD=uvlhubdb_root_password\n+WORKING_DIR=/app/"
      },
      {
        "sha": "e3ce7df1fac92046908dca9965f4242d1eb37e34",
        "filename": ".env.docker.production.example",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.env.docker.production.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.env.docker.production.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.env.docker.production.example?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,11 @@\n+FLASK_APP_NAME=\"UVLHUB.IO\"\n+FLASK_ENV=production\n+DOMAIN=<CHANGE_THIS>\n+MARIADB_HOSTNAME=db\n+MARIADB_PORT=3306\n+MARIADB_DATABASE=uvlhubdb\n+MARIADB_USER=<CHANGE_THIS>\n+MARIADB_PASSWORD=<CHANGE_THIS>\n+MARIADB_ROOT_PASSWORD=<CHANGE_THIS>\n+WEBHOOK_TOKEN=<CHANGE_THIS>\n+WORKING_DIR=/app/"
      },
      {
        "sha": "2772aa2a7a352944ab711e47b457d2a8b5e5430d",
        "filename": ".env.local.example",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.env.local.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.env.local.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.env.local.example?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,11 @@\n+FLASK_APP_NAME=\"UVLHUB.IO(dev)\"\n+FLASK_ENV=development\n+DOMAIN=localhost:5000\n+MARIADB_HOSTNAME=localhost\n+MARIADB_PORT=3306\n+MARIADB_DATABASE=uvlhubdb\n+MARIADB_TEST_DATABASE=uvlhubdb_test\n+MARIADB_USER=uvlhubdb_user\n+MARIADB_PASSWORD=uvlhubdb_password\n+MARIADB_ROOT_PASSWORD=uvlhubdb_root_password\n+WORKING_DIR=\"\""
      },
      {
        "sha": "7192716cddb497d6f933209c36273fd06e32bea2",
        "filename": ".env.vagrant.example",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.env.vagrant.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.env.vagrant.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.env.vagrant.example?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,11 @@\n+FLASK_APP_NAME=\"UVLHUB.IO(dev)\"\n+FLASK_ENV=development\n+DOMAIN=localhost:5000\n+MARIADB_HOSTNAME=localhost\n+MARIADB_PORT=3306\n+MARIADB_DATABASE=uvlhubdb\n+MARIADB_TEST_DATABASE=uvlhubdb_test\n+MARIADB_USER=uvlhubdb_user\n+MARIADB_PASSWORD=uvlhubdb_password\n+MARIADB_ROOT_PASSWORD=uvlhubdb_root_password\n+WORKING_DIR=/vagrant/"
      },
      {
        "sha": "6deafc261704e20369c0983af88042e502ae4880",
        "filename": ".flake8",
        "status": "added",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.flake8",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.flake8",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.flake8?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,2 @@\n+[flake8]\n+max-line-length = 120"
      },
      {
        "sha": "6e19c8fe4c221cbb0f2b6426d6482f66f45d5d85",
        "filename": ".gitattributes",
        "status": "added",
        "additions": 13,
        "deletions": 0,
        "changes": 13,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.gitattributes",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.gitattributes",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.gitattributes?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,13 @@\n+* text=auto\n+*.sh text eol=lf\n+*.py text eol=lf\n+*.txt text eol=lf\n+*.md text eol=lf\n+*.yml text eol=lf\n+*.yaml text eol=lf\n+*.json text eol=lf\n+*.js text eol=lf\n+*.css text eol=lf\n+*.html text eol=lf\n+*.jsx text eol=lf\n+*.tsx text eol=lf\n\\ No newline at end of file"
      },
      {
        "sha": "9f8c6c53b50ba7d3700bd63206e9ff408fddffaa",
        "filename": ".github/workflows/commits.yml",
        "status": "added",
        "additions": 18,
        "deletions": 0,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.github%2Fworkflows%2Fcommits.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.github%2Fworkflows%2Fcommits.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fcommits.yml?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,18 @@\n+name: Commits Syntax Checker\n+\n+on:\n+  pull_request:\n+    branches: [main]\n+    types: [opened, reopened, edited, review_requested, synchronize]\n+  push:\n+    branches:\n+      - \"main\"\n+  workflow_call:\n+\n+jobs:\n+  check:\n+    name: Conventional Commits\n+    runs-on: ubuntu-latest\n+    steps:\n+      - uses: actions/checkout@v2\n+      - uses: webiny/action-conventional-commits@v1.0.3\n\\ No newline at end of file"
      },
      {
        "sha": "c5b9dbad0e7570244cb84942b53b859bf041af6c",
        "filename": ".github/workflows/deloyment_on_webhook.yml",
        "status": "added",
        "additions": 32,
        "deletions": 0,
        "changes": 32,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.github%2Fworkflows%2Fdeloyment_on_webhook.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.github%2Fworkflows%2Fdeloyment_on_webhook.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fdeloyment_on_webhook.yml?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,32 @@\n+name: Deploy on Webhook\n+\n+on:\n+  workflow_run:\n+    workflows: \n+      - \"Python Lint\"\n+      - \"Run tests\"\n+    types:\n+      - completed\n+\n+jobs:\n+  deploy:\n+    if: github.ref == 'refs/heads/main'\n+    runs-on: ubuntu-latest\n+\n+    steps:\n+    - name: Checkout code\n+      uses: actions/checkout@v2\n+\n+    - name: Check lint and test results\n+      run: |\n+        if [ \"${{ github.event.workflow_run.conclusion }}\" != \"success\" ]; then\n+          echo \"Lint or Test workflow did not succeed. Exiting.\"\n+          exit 1\n+        fi\n+\n+    - name: Trigger Deployment Webhook\n+      env:\n+        WEBHOOK_DOMAIN: ${{ secrets.WEBHOOK_DOMAIN }}\n+        WEBHOOK_TOKEN: ${{ secrets.WEBHOOK_TOKEN }}\n+      run: |\n+        curl -X POST https://${{ secrets.WEBHOOK_DOMAIN }}/webhook/deploy -H \"Authorization: Bearer ${{ secrets.WEBHOOK_TOKEN }}\""
      },
      {
        "sha": "f7dfe75eb96badbdd3ee434377bee31f33a173df",
        "filename": ".github/workflows/deployment_on_dockerhub.yml",
        "status": "added",
        "additions": 43,
        "deletions": 0,
        "changes": 43,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.github%2Fworkflows%2Fdeployment_on_dockerhub.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.github%2Fworkflows%2Fdeployment_on_dockerhub.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Fdeployment_on_dockerhub.yml?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,43 @@\n+# This workflow uses actions that are not certified by GitHub.\n+# They are provided by a third-party and are governed by\n+# separate terms of service, privacy policy, and support\n+# documentation.\n+\n+# GitHub recommends pinning actions to a commit SHA.\n+# To get a newer version, you will need to update the SHA.\n+# You can also reference a tag or branch, but the action may change without warning.\n+\n+name: Publish image in Docker Hub\n+\n+on:\n+  release:\n+    types: [published]\n+\n+jobs:\n+  push_to_registry:\n+    name: Push Docker image to Docker Hub\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Check out the repo\n+        uses: actions/checkout@v3\n+\n+      - name: Log in to Docker Hub\n+        uses: docker/login-action@f4ef78c080cd8ba55a85445d5b36e214a81df20a\n+        with:\n+          username: ${{ secrets.DOCKER_USER }}\n+          password: ${{ secrets.DOCKER_PASSWORD }}\n+\n+      - name: Build and push Docker image\n+        run: docker build --build-arg VERSION_TAG=${{ github.event.release.tag_name }} -t drorganvidez/uvlhub:${{ github.event.release.tag_name }} -f docker/images/Dockerfile.prod .\n+        env:\n+          DOCKER_CLI_EXPERIMENTAL: enabled\n+\n+      - name: Push Docker image to Docker Hub\n+        run: docker push drorganvidez/uvlhub:${{ github.event.release.tag_name }}\n+\n+      - name: Tag and push latest\n+        run: |\n+          docker tag drorganvidez/uvlhub:${{ github.event.release.tag_name }} drorganvidez/uvlhub:latest\n+          docker push drorganvidez/uvlhub:latest\n+        env:\n+          DOCKER_CLI_EXPERIMENTAL: enabled"
      },
      {
        "sha": "ccbd3311ba585fae0de19dc7a96de461fce8de9c",
        "filename": ".github/workflows/lint.yml",
        "status": "added",
        "additions": 28,
        "deletions": 0,
        "changes": 28,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.github%2Fworkflows%2Flint.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.github%2Fworkflows%2Flint.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Flint.yml?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,28 @@\n+name: Python Lint\n+\n+on:\n+  push:\n+    branches: [main, develop]\n+  pull_request:\n+    branches: [main, develop]\n+\n+jobs:\n+  lint:\n+    runs-on: ubuntu-latest\n+\n+    steps:\n+    - uses: actions/checkout@v2\n+\n+    - name: Set up Python\n+      uses: actions/setup-python@v2\n+      with:\n+        python-version: '3.x'\n+\n+    - name: Install Dependencies\n+      run: |\n+        python -m pip install --upgrade pip\n+        pip install flake8\n+\n+    - name: Lint with flake8\n+      run: |\n+        flake8 app"
      },
      {
        "sha": "69663764faaf23999ecdab70b43968ca63a5d87f",
        "filename": ".github/workflows/tests.yml",
        "status": "added",
        "additions": 50,
        "deletions": 0,
        "changes": 50,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.github%2Fworkflows%2Ftests.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.github%2Fworkflows%2Ftests.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.github%2Fworkflows%2Ftests.yml?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,50 @@\n+name: Run tests\n+\n+on:\n+  push:\n+    branches: [main, develop]\n+  pull_request:\n+    branches: [main, develop]\n+\n+jobs:\n+  pytest:\n+    runs-on: ubuntu-latest\n+\n+    services:\n+      mysql:\n+        image: mysql:5.7\n+        env:\n+          MYSQL_ROOT_PASSWORD: uvlhub_root_password\n+          MYSQL_DATABASE: uvlhubdb_test\n+          MYSQL_USER: uvlhub_user\n+          MYSQL_PASSWORD: uvlhub_password\n+        ports:\n+          - 3306:3306\n+        options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n+\n+    steps:\n+    - uses: actions/checkout@v4\n+\n+    - uses: actions/setup-python@v5\n+      with:\n+        python-version: '3.12'\n+\n+    - name: Prepare environment\n+      run: |\n+        sed -i '/rosemary @ file:\\/\\/\\/app/d' requirements.txt\n+\n+    - name: Install dependencies\n+      run: |\n+        python -m pip install --upgrade pip\n+        pip install -r requirements.txt\n+\n+    - name: Run Tests\n+      env:\n+        FLASK_ENV: testing\n+        MARIADB_HOSTNAME: 127.0.0.1\n+        MARIADB_PORT: 3306\n+        MARIADB_TEST_DATABASE: uvlhubdb_test\n+        MARIADB_USER: uvlhub_user\n+        MARIADB_PASSWORD: uvlhub_password\n+      run: |\n+        pytest app/modules/ --ignore-glob='*selenium*'"
      },
      {
        "sha": "71b757e7911bac6e31e296b39b6ccd3992a88e44",
        "filename": ".gitignore",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.gitignore",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.gitignore",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.gitignore?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,19 @@\n+.env\n+__pycache__/\n+.idea\n+uploads/\n+app.log\n+.DS_Store\n+rosemary.egg-info/\n+build/\n+.coverage\n+htmlcov/\n+.pytest_cache\n+venv/\n+ubuntu-bionic-18.04-cloudimg-console.log\n+.vagrant/\n+nginx.prod.ssl.conf\n+.version\n+entrypoint.sh\n+deployments.log\n+test_file.txt\n\\ No newline at end of file"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": ".moduleignore",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.moduleignore",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/.moduleignore",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/.moduleignore?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "e97e32cf2af7254e60397ad048f331098f29ec05",
        "filename": "README.md",
        "status": "added",
        "additions": 18,
        "deletions": 0,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/README.md",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/README.md",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/README.md?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,18 @@\n+<div align=\"center\">\n+\n+  <a href=\"\">[![Pytest Testing Suite](https://github.com/diverso-lab/uvlhub/actions/workflows/tests.yml/badge.svg?branch=main)](https://github.com/diverso-lab/uvlhub/actions/workflows/tests.yml)</a>\n+  <a href=\"\">[![Commits Syntax Checker](https://github.com/diverso-lab/uvlhub/actions/workflows/commits.yml/badge.svg?branch=main)](https://github.com/diverso-lab/uvlhub/actions/workflows/commits.yml)</a>\n+  \n+</div>\n+\n+<div style=\"text-align: center;\">\n+  <img src=\"https://www.uvlhub.io/static/img/logos/logo-light.svg\" alt=\"Logo\">\n+</div>\n+\n+# uvlhub.io\n+\n+Repository of feature models in UVL format integrated with Zenodo and flamapy following Open Science principles - Developed by DiversoLab\n+\n+## Official documentation\n+\n+You can consult the official documentation of the project at [docs.uvlhub.io](https://docs.uvlhub.io/)"
      },
      {
        "sha": "518c87fdce1c996b6f6a3f80b6a2c2b87b0ef1ad",
        "filename": "app/__init__.py",
        "status": "added",
        "additions": 70,
        "deletions": 0,
        "changes": 70,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,70 @@\n+import os\n+\n+from flask import Flask\n+\n+from flask_sqlalchemy import SQLAlchemy\n+from dotenv import load_dotenv\n+from flask_migrate import Migrate\n+\n+from core.configuration.configuration import get_app_version\n+from core.managers.module_manager import ModuleManager\n+from core.managers.config_manager import ConfigManager\n+from core.managers.error_handler_manager import ErrorHandlerManager\n+from core.managers.logging_manager import LoggingManager\n+\n+# Load environment variables\n+load_dotenv()\n+\n+# Create the instances\n+db = SQLAlchemy()\n+migrate = Migrate()\n+\n+\n+def create_app(config_name='development'):\n+    app = Flask(__name__)\n+\n+    # Load configuration according to environment\n+    config_manager = ConfigManager(app)\n+    config_manager.load_config(config_name=config_name)\n+\n+    # Initialize SQLAlchemy and Migrate with the app\n+    db.init_app(app)\n+    migrate.init_app(app, db)\n+\n+    # Register modules\n+    module_manager = ModuleManager(app)\n+    module_manager.register_modules()\n+\n+    # Register login manager\n+    from flask_login import LoginManager\n+    login_manager = LoginManager()\n+    login_manager.init_app(app)\n+    login_manager.login_view = \"auth.login\"\n+\n+    @login_manager.user_loader\n+    def load_user(user_id):\n+        from app.modules.auth.models import User\n+        return User.query.get(int(user_id))\n+\n+    # Set up logging\n+    logging_manager = LoggingManager(app)\n+    logging_manager.setup_logging()\n+\n+    # Initialize error handler manager\n+    error_handler_manager = ErrorHandlerManager(app)\n+    error_handler_manager.register_error_handlers()\n+\n+    # Injecting environment variables into jinja context\n+    @app.context_processor\n+    def inject_vars_into_jinja():\n+        return {\n+            'FLASK_APP_NAME': os.getenv('FLASK_APP_NAME'),\n+            'FLASK_ENV': os.getenv('FLASK_ENV'),\n+            'DOMAIN': os.getenv('DOMAIN', 'localhost'),\n+            'APP_VERSION': get_app_version()\n+        }\n+\n+    return app\n+\n+\n+app = create_app()"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "b7dc44ad5d20fcaae17a221d545e5e8c73fa09ec",
        "filename": "app/modules/auth/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+auth_bp = BaseBlueprint('auth', __name__, template_folder='templates')"
      },
      {
        "sha": "6b5c6196b18a8594c5a65948981c3cba9b75d903",
        "filename": "app/modules/auth/assets/scripts.js",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fassets%2Fscripts.js?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script loaded from auth module\");"
      },
      {
        "sha": "23ee544ea03b031df45e95bafb6e42e7463e9dd2",
        "filename": "app/modules/auth/forms.py",
        "status": "added",
        "additions": 18,
        "deletions": 0,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fforms.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,18 @@\n+from flask_wtf import FlaskForm\n+from wtforms import StringField, SubmitField, PasswordField, BooleanField\n+from wtforms.validators import DataRequired, Email, Length\n+\n+\n+class SignupForm(FlaskForm):\n+    name = StringField('Name', validators=[DataRequired(), Length(max=100)])\n+    surname = StringField('Surname', validators=[DataRequired(), Length(max=100)])\n+    password = PasswordField('Password', validators=[DataRequired()])\n+    email = StringField('Email', validators=[DataRequired(), Email()])\n+    submit = SubmitField('Submit')\n+\n+\n+class LoginForm(FlaskForm):\n+    email = StringField('Email', validators=[DataRequired()])\n+    password = PasswordField('Password', validators=[DataRequired()])\n+    remember_me = BooleanField('Remember me')\n+    submit = SubmitField('Login')"
      },
      {
        "sha": "76348c3eb58c7c727c42004f50827ec8ac27871b",
        "filename": "app/modules/auth/models.py",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fmodels.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,35 @@\n+from datetime import datetime, timezone\n+\n+from flask_login import UserMixin\n+from werkzeug.security import generate_password_hash, check_password_hash\n+\n+from app import db\n+\n+\n+class User(db.Model, UserMixin):\n+    id = db.Column(db.Integer, primary_key=True)\n+\n+    email = db.Column(db.String(256), unique=True, nullable=False)\n+    password = db.Column(db.String(256), nullable=False)\n+    created_at = db.Column(db.DateTime, nullable=False, default=lambda: datetime.now(timezone.utc))\n+\n+    data_sets = db.relationship('DataSet', backref='user', lazy=True)\n+    profile = db.relationship('UserProfile', backref='user', uselist=False)\n+\n+    def __init__(self, **kwargs):\n+        super(User, self).__init__(**kwargs)\n+        if 'password' in kwargs:\n+            self.set_password(kwargs['password'])\n+\n+    def __repr__(self):\n+        return f'<User {self.email}>'\n+\n+    def set_password(self, password):\n+        self.password = generate_password_hash(password)\n+\n+    def check_password(self, password):\n+        return check_password_hash(self.password, password)\n+\n+    def temp_folder(self) -> str:\n+        from app.modules.auth.services import AuthenticationService\n+        return AuthenticationService().temp_folder_by_user(self)"
      },
      {
        "sha": "f24e3bc9b3a6212119c15d718dc470d56305a8b9",
        "filename": "app/modules/auth/repositories.py",
        "status": "added",
        "additions": 21,
        "deletions": 0,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Frepositories.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,21 @@\n+from app.modules.auth.models import User\n+from core.repositories.BaseRepository import BaseRepository\n+\n+\n+class UserRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(User)\n+\n+    def create(self, commit: bool = True, **kwargs):\n+        password = kwargs.pop(\"password\")\n+        instance = self.model(**kwargs)\n+        instance.set_password(password)\n+        self.session.add(instance)\n+        if commit:\n+            self.session.commit()\n+        else:\n+            self.session.flush()\n+        return instance\n+\n+    def get_by_email(self, email: str):\n+        return self.model.query.filter_by(email=email).first()"
      },
      {
        "sha": "abe5dc6f62d27713ded23b764d679da472a6e009",
        "filename": "app/modules/auth/routes.py",
        "status": "added",
        "additions": 55,
        "deletions": 0,
        "changes": 55,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Froutes.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,55 @@\n+from flask import render_template, redirect, url_for, request\n+from flask_login import current_user, login_user, logout_user\n+\n+from app.modules.auth import auth_bp\n+from app.modules.auth.forms import SignupForm, LoginForm\n+from app.modules.auth.services import AuthenticationService\n+from app.modules.profile.services import UserProfileService\n+\n+\n+authentication_service = AuthenticationService()\n+user_profile_service = UserProfileService()\n+\n+\n+@auth_bp.route(\"/signup/\", methods=[\"GET\", \"POST\"])\n+def show_signup_form():\n+    if current_user.is_authenticated:\n+        return redirect(url_for('public.index'))\n+\n+    form = SignupForm()\n+    if form.validate_on_submit():\n+        email = form.email.data\n+        if not authentication_service.is_email_available(email):\n+            return render_template(\"auth/signup_form.html\", form=form, error=f'Email {email} in use')\n+\n+        try:\n+            user = authentication_service.create_with_profile(**form.data)\n+        except Exception as exc:\n+            return render_template(\"auth/signup_form.html\", form=form, error=f'Error creating user: {exc}')\n+\n+        # Log user\n+        login_user(user, remember=True)\n+        return redirect(url_for('public.index'))\n+\n+    return render_template(\"auth/signup_form.html\", form=form)\n+\n+\n+@auth_bp.route('/login', methods=['GET', 'POST'])\n+def login():\n+    if current_user.is_authenticated:\n+        return redirect(url_for('public.index'))\n+\n+    form = LoginForm()\n+    if request.method == 'POST' and form.validate_on_submit():\n+        if authentication_service.login(form.email.data, form.password.data):\n+            return redirect(url_for('public.index'))\n+\n+        return render_template(\"auth/login_form.html\", form=form, error='Invalid credentials')\n+\n+    return render_template('auth/login_form.html', form=form)\n+\n+\n+@auth_bp.route('/logout')\n+def logout():\n+    logout_user()\n+    return redirect(url_for('public.index'))"
      },
      {
        "sha": "27f5e44bbdea379670c7eaf8684fc1b6720e4b3b",
        "filename": "app/modules/auth/seeders.py",
        "status": "added",
        "additions": 37,
        "deletions": 0,
        "changes": 37,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fseeders.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,37 @@\n+from app.modules.auth.models import User\n+from app.modules.profile.models import UserProfile\n+from core.seeders.BaseSeeder import BaseSeeder\n+\n+\n+class AuthSeeder(BaseSeeder):\n+\n+    priority = 1  # Higher priority\n+\n+    def run(self):\n+\n+        # Seeding users\n+        users = [\n+            User(email='user1@example.com', password='1234'),\n+            User(email='user2@example.com', password='1234'),\n+        ]\n+\n+        # Inserted users with their assigned IDs are returned by `self.seed`.\n+        seeded_users = self.seed(users)\n+\n+        # Create profiles for each user inserted.\n+        user_profiles = []\n+        names = [(\"John\", \"Doe\"), (\"Jane\", \"Doe\")]\n+\n+        for user, name in zip(seeded_users, names):\n+            profile_data = {\n+                \"user_id\": user.id,\n+                \"orcid\": \"\",\n+                \"affiliation\": \"Some University\",\n+                \"name\": name[0],\n+                \"surname\": name[1],\n+            }\n+            user_profile = UserProfile(**profile_data)\n+            user_profiles.append(user_profile)\n+\n+        # Seeding user profiles\n+        self.seed(user_profiles)"
      },
      {
        "sha": "76a1cdba2596d950bb33e8ffc1e0b71d95451230",
        "filename": "app/modules/auth/services.py",
        "status": "added",
        "additions": 81,
        "deletions": 0,
        "changes": 81,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Fservices.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,81 @@\n+import os\n+from flask_login import login_user\n+from flask_login import current_user\n+\n+from app.modules.auth.models import User\n+from app.modules.auth.repositories import UserRepository\n+from app.modules.profile.models import UserProfile\n+from app.modules.profile.repositories import UserProfileRepository\n+from core.configuration.configuration import uploads_folder_name\n+from core.services.BaseService import BaseService\n+\n+\n+class AuthenticationService(BaseService):\n+    def __init__(self):\n+        super().__init__(UserRepository())\n+        self.user_profile_repository = UserProfileRepository()\n+\n+    def login(self, email, password, remember=True):\n+        user = self.repository.get_by_email(email)\n+        if user is not None and user.check_password(password):\n+            login_user(user, remember=remember)\n+            return True\n+        return False\n+\n+    def is_email_available(self, email: str) -> bool:\n+        return self.repository.get_by_email(email) is None\n+\n+    def create_with_profile(self, **kwargs):\n+        try:\n+            email = kwargs.pop(\"email\", None)\n+            password = kwargs.pop(\"password\", None)\n+            name = kwargs.pop(\"name\", None)\n+            surname = kwargs.pop(\"surname\", None)\n+\n+            if not email:\n+                raise ValueError(\"Email is required.\")\n+            if not password:\n+                raise ValueError(\"Password is required.\")\n+            if not name:\n+                raise ValueError(\"Name is required.\")\n+            if not surname:\n+                raise ValueError(\"Surname is required.\")\n+\n+            user_data = {\n+                \"email\": email,\n+                \"password\": password\n+            }\n+\n+            profile_data = {\n+                \"name\": name,\n+                \"surname\": surname,\n+            }\n+\n+            user = self.create(commit=False, **user_data)\n+            profile_data[\"user_id\"] = user.id\n+            self.user_profile_repository.create(**profile_data)\n+            self.repository.session.commit()\n+        except Exception as exc:\n+            self.repository.session.rollback()\n+            raise exc\n+        return user\n+\n+    def update_profile(self, user_profile_id, form):\n+        if form.validate():\n+            updated_instance = self.update(user_profile_id, **form.data)\n+            return updated_instance, None\n+\n+        return None, form.errors\n+\n+    def get_authenticated_user(self) -> User | None:\n+        if current_user.is_authenticated:\n+            return current_user\n+        return None\n+\n+    def get_authenticated_user_profile(self) -> UserProfile | None:\n+        if current_user.is_authenticated:\n+            return current_user.profile\n+        return None\n+\n+    def temp_folder_by_user(self, user: User) -> str:\n+        return os.path.join(uploads_folder_name(), \"temp\", str(user.id))"
      },
      {
        "sha": "6bf6ebb9c2d58aabd1272b84742f668eb14e2ab8",
        "filename": "app/modules/auth/templates/auth/login_form.html",
        "status": "added",
        "additions": 95,
        "deletions": 0,
        "changes": 95,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Ftemplates%2Fauth%2Flogin_form.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Ftemplates%2Fauth%2Flogin_form.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Ftemplates%2Fauth%2Flogin_form.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,95 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}Login{% endblock %}\n+\n+{% block content %}\n+\n+<h1 class=\"h2 mb-3\"><b>Login</b></h1>\n+\n+<div class=\"row\">\n+    <div class=\"col-12\">\n+\n+        <form action=\"\" method=\"post\" novalidate>\n+                    {{ form.hidden_tag() }}\n+\n+                    <div class=\"row\">\n+\n+                        <div class=\"col-md-6 col-lg-6 col-xs-12\">\n+                            <div class=\"mb-3\">\n+                                {{ form.email.label(class=\"form-label\") }}\n+                                {{ form.email(class=\"form-control\",placeholder=\"Enter email\") }}\n+                                {% for error in form.email.errors %}\n+                                <span style=\"color: red;\">{{ error }}</span>\n+                                {% endfor %}\n+                            </div>\n+                        </div>\n+\n+                    </div>\n+\n+\n+                    <div class=\"row\">\n+\n+                        <div class=\"col-md-6 col-lg-6 col-xs-12\">\n+                            <div class=\"mb-3\">\n+                                {{ form.password.label(class=\"form-label\") }}\n+                                {{ form.password(class=\"form-control\",placeholder=\"Enter password\") }}\n+                                {% for error in form.password.errors %}\n+                                <span style=\"color: red;\">{{ error }}</span>\n+                                {% endfor %}\n+                            </div>\n+                        </div>\n+\n+                    </div>\n+\n+                    <div class=\"row\">\n+\n+                        <div class=\"col-md-6 col-lg-6 col-xs-12\">\n+                            <div class=\"mb-3\">\n+                                {{ form.remember_me(class=\"form-check-input\") }}\n+                                {{ form.remember_me.label(class=\"form-check-label\") }}\n+                            </div>\n+                        </div>\n+\n+                    </div>\n+\n+                    <div class=\"row\">\n+\n+                        <div class=\"col-lg-6 col-12\">\n+                            {{ form.submit(class=\"btn btn-primary\") }}\n+                        </div>\n+\n+                    </div>\n+\n+                    <div class=\"row\">\n+\n+                        {% if error %}\n+\n+                        <div class=\"mt-3 col-lg-6 col-12\">\n+                            <span style=\"color: red;\">{{ error }}</span>\n+                        </div>\n+\n+                        {% endif %}\n+\n+                    </div>\n+\n+                    <div class=\"row\">\n+\n+                        <div class=\"mt-3\">\n+                            <div class=\"col-lg-6 col-12\">\n+                                Don't have an account? <a href=\"{{ url_for('auth.show_signup_form') }}\">Sign up!</a>\n+                            </div>\n+                        </div>\n+\n+                    </div>\n+\n+                </form>\n+\n+    </div>\n+</div>\n+\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('auth.scripts') }}\"></script>\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "6851470541e99a86d66695fd498d71d9a2566cf8",
        "filename": "app/modules/auth/templates/auth/signup_form.html",
        "status": "added",
        "additions": 116,
        "deletions": 0,
        "changes": 116,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Ftemplates%2Fauth%2Fsignup_form.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Ftemplates%2Fauth%2Fsignup_form.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Ftemplates%2Fauth%2Fsignup_form.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,116 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}Sign up{% endblock %}\n+\n+{% block content %}\n+\n+    <h1 class=\"h2 mb-3\"><b>Sign</b> Up</h1>\n+\n+    <div class=\"row\">\n+        <div class=\"col-5\">\n+\n+            <form action=\"\" method=\"post\" novalidate>\n+                {{ form.hidden_tag() }}\n+\n+                <div class=\"row\">\n+\n+                    <div class=\"col-md-6 col-lg-6 col-xs-12\">\n+                        <div class=\"mb-3\">\n+                            {{ form.name.label(class=\"form-label\") }} *\n+                            {{ form.name(class=\"form-control\",placeholder=\"Enter name\") }}\n+                            {% for error in form.name.errors %}\n+                                <span style=\"color: red;\">{{ error }}</span>\n+                            {% endfor %}\n+                        </div>\n+                    </div>\n+\n+                    <div class=\"col-md-6 col-lg-6 col-xs-12\">\n+                        <div class=\"mb-3\">\n+                            {{ form.surname.label(class=\"form-label\") }} *\n+                            {{ form.surname(class=\"form-control\",placeholder=\"Enter surname\") }}\n+                            {% for error in form.surname.errors %}\n+                                <span style=\"color: red;\">{{ error }}</span>\n+                            {% endfor %}\n+                        </div>\n+                    </div>\n+\n+                </div>\n+\n+                <div class=\"row\">\n+\n+\n+                </div>\n+\n+                <div class=\"row\">\n+\n+                    <div class=\"col-md-6 col-lg-6 col-xs-12\">\n+                        <div class=\"mb-3\">\n+                            {{ form.email.label(class=\"form-label\") }}\n+                            {{ form.email(class=\"form-control\",placeholder=\"Enter email\") }}\n+                            {% for error in form.email.errors %}\n+                                <span style=\"color: red;\">{{ error }}</span>\n+                            {% endfor %}\n+                        </div>\n+                    </div>\n+\n+                </div>\n+\n+\n+                <div class=\"row\">\n+\n+                    <div class=\"col-md-6 col-lg-6 col-xs-12\">\n+                        <div class=\"mb-3\">\n+                            {{ form.password.label(class=\"form-label\") }}\n+                            {{ form.password(class=\"form-control\",placeholder=\"Enter password\") }}\n+                            {% for error in form.password.errors %}\n+                                <span style=\"color: red;\">{{ error }}</span>\n+                            {% endfor %}\n+                        </div>\n+                    </div>\n+\n+                </div>\n+\n+                <div class=\"row\">\n+\n+                    <div class=\"col-lg-6 col-12\">\n+                        {{ form.submit(class=\"btn btn-primary\") }}\n+                    </div>\n+\n+                </div>\n+\n+                <div class=\"row\">\n+\n+                    <div class=\"col-lg-6 col-12\">\n+\n+                        {% if error %}\n+\n+                            <div class=\"mt-3\">\n+                                <p style=\"color: red;\"><strong>Error:</strong> {{ error }}\n+                            </div>\n+\n+                        {% endif %}\n+\n+                    </div>\n+\n+                </div>\n+\n+                <div class=\"row\">\n+\n+                    <div class=\"mt-3\">\n+                        <div class=\"col-lg-6 col-12\">\n+                            Already an account? <a href=\"{{ url_for('auth.login') }}\">Login</a>\n+                        </div>\n+                    </div>\n+\n+                </div>\n+\n+            </form>\n+\n+        </div>\n+    </div>\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('auth.scripts') }}\"></script>\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/auth/tests/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Ftests%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "5f7951c55fb27df19f621d1f5eaf0876bfe66e72",
        "filename": "app/modules/auth/tests/locustfile.py",
        "status": "added",
        "additions": 58,
        "deletions": 0,
        "changes": 58,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Ftests%2Flocustfile.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,58 @@\n+from locust import HttpUser, TaskSet, task\n+from core.locust.common import get_csrf_token, fake\n+from core.environment.host import get_host_for_locust_testing\n+\n+\n+class SignupBehavior(TaskSet):\n+    def on_start(self):\n+        self.signup()\n+\n+    @task\n+    def signup(self):\n+        response = self.client.get(\"/signup\")\n+        csrf_token = get_csrf_token(response)\n+\n+        response = self.client.post(\"/signup\", data={\n+            \"email\": fake.email(),\n+            \"password\": fake.password(),\n+            \"csrf_token\": csrf_token\n+        })\n+        if response.status_code != 200:\n+            print(f\"Signup failed: {response.status_code}\")\n+\n+\n+class LoginBehavior(TaskSet):\n+    def on_start(self):\n+        self.ensure_logged_out()\n+        self.login()\n+\n+    @task\n+    def ensure_logged_out(self):\n+        response = self.client.get(\"/logout\")\n+        if response.status_code != 200:\n+            print(f\"Logout failed or no active session: {response.status_code}\")\n+\n+    @task\n+    def login(self):\n+        response = self.client.get(\"/login\")\n+        if response.status_code != 200 or \"Login\" not in response.text:\n+            print(\"Already logged in or unexpected response, redirecting to logout\")\n+            self.ensure_logged_out()\n+            response = self.client.get(\"/login\")\n+\n+        csrf_token = get_csrf_token(response)\n+\n+        response = self.client.post(\"/login\", data={\n+            \"email\": 'user1@example.com',\n+            \"password\": '1234',\n+            \"csrf_token\": csrf_token\n+        })\n+        if response.status_code != 200:\n+            print(f\"Login failed: {response.status_code}\")\n+\n+\n+class AuthUser(HttpUser):\n+    tasks = [SignupBehavior, LoginBehavior]\n+    min_wait = 5000\n+    max_wait = 9000\n+    host = get_host_for_locust_testing()"
      },
      {
        "sha": "f5cf34093a4129ca20f55367a5917f13368c2535",
        "filename": "app/modules/auth/tests/test_selenium.py",
        "status": "added",
        "additions": 51,
        "deletions": 0,
        "changes": 51,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Ftests%2Ftest_selenium.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,51 @@\n+from selenium.webdriver.common.by import By\n+from selenium.webdriver.common.keys import Keys\n+from selenium.common.exceptions import NoSuchElementException\n+import time\n+\n+from core.environment.host import get_host_for_selenium_testing\n+from core.selenium.common import initialize_driver, close_driver\n+\n+\n+def test_login_and_check_element():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the login page\n+        driver.get(f'{host}/login')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(4)\n+\n+        # Find the username and password field and enter the values\n+        email_field = driver.find_element(By.NAME, 'email')\n+        password_field = driver.find_element(By.NAME, 'password')\n+\n+        email_field.send_keys('user1@example.com')\n+        password_field.send_keys('1234')\n+\n+        # Send the form\n+        password_field.send_keys(Keys.RETURN)\n+\n+        # Wait a little while to ensure that the action has been completed\n+        time.sleep(4)\n+\n+        try:\n+\n+            driver.find_element(By.XPATH, \"//h1[contains(@class, 'h2 mb-3') and contains(., 'Latest datasets')]\")\n+            print('Test passed!')\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Test failed!')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+# Call the test function\n+test_login_and_check_element()"
      },
      {
        "sha": "4216cc787a63b572680bde44c2a7b69e940b6cf4",
        "filename": "app/modules/auth/tests/test_selenium_ide/test_signup.py",
        "status": "added",
        "additions": 26,
        "deletions": 0,
        "changes": 26,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Ftests%2Ftest_selenium_ide%2Ftest_signup.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Ftests%2Ftest_selenium_ide%2Ftest_signup.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Ftests%2Ftest_selenium_ide%2Ftest_signup.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,26 @@\n+# Generated by Selenium IDE\n+from selenium.webdriver.common.by import By\n+\n+from core.environment.host import get_host_for_selenium_testing\n+from core.selenium.common import initialize_driver\n+\n+\n+class TestSignup():\n+    def setup_method(self, method):\n+        self.driver = initialize_driver()\n+        self.vars = {}\n+\n+    def teardown_method(self, method):\n+        self.driver.quit()\n+\n+    def test_signup(self):\n+        self.driver.get(get_host_for_selenium_testing())\n+        self.driver.find_element(By.LINK_TEXT, \"Sign Up\").click()\n+        self.driver.find_element(By.ID, \"email\").send_keys(\"user1@example.com\")\n+        self.driver.find_element(By.ID, \"password\").send_keys(\"1234\")\n+        self.driver.find_element(By.ID, \"name\").click()\n+        self.driver.find_element(By.ID, \"name\").send_keys(\"Hola\")\n+        self.driver.find_element(By.ID, \"surname\").send_keys(\"Juan\")\n+        self.driver.find_element(By.ID, \"email\").send_keys(\"holajuan@example.com\")\n+        self.driver.find_element(By.ID, \"password\").send_keys(\"holajuan\")\n+        self.driver.find_element(By.ID, \"submit\").click()"
      },
      {
        "sha": "b6db6d5b792584bf0b969029785f12d20350dd70",
        "filename": "app/modules/auth/tests/test_unit.py",
        "status": "added",
        "additions": 119,
        "deletions": 0,
        "changes": 119,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fauth%2Ftests%2Ftest_unit.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,119 @@\n+import pytest\n+from flask import url_for\n+\n+from app.modules.auth.services import AuthenticationService\n+from app.modules.auth.repositories import UserRepository\n+from app.modules.profile.repositories import UserProfileRepository\n+\n+\n+@pytest.fixture(scope=\"module\")\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    \"\"\"\n+    with test_client.application.app_context():\n+        # Add HERE new elements to the database that you want to exist in the test context.\n+        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+        pass\n+\n+    yield test_client\n+\n+\n+def test_login_success(test_client):\n+    response = test_client.post(\n+        \"/login\", data=dict(email=\"test@example.com\", password=\"test1234\"), follow_redirects=True\n+    )\n+\n+    assert response.request.path != url_for(\"auth.login\"), \"Login was unsuccessful\"\n+\n+    test_client.get(\"/logout\", follow_redirects=True)\n+\n+\n+def test_login_unsuccessful_bad_email(test_client):\n+    response = test_client.post(\n+        \"/login\", data=dict(email=\"bademail@example.com\", password=\"test1234\"), follow_redirects=True\n+    )\n+\n+    assert response.request.path == url_for(\"auth.login\"), \"Login was unsuccessful\"\n+\n+    test_client.get(\"/logout\", follow_redirects=True)\n+\n+\n+def test_login_unsuccessful_bad_password(test_client):\n+    response = test_client.post(\n+        \"/login\", data=dict(email=\"test@example.com\", password=\"basspassword\"), follow_redirects=True\n+    )\n+\n+    assert response.request.path == url_for(\"auth.login\"), \"Login was unsuccessful\"\n+\n+    test_client.get(\"/logout\", follow_redirects=True)\n+\n+\n+def test_signup_user_no_name(test_client):\n+    response = test_client.post(\n+        \"/signup\", data=dict(surname=\"Foo\", email=\"test@example.com\", password=\"test1234\"), follow_redirects=True\n+    )\n+    assert response.request.path == url_for(\"auth.show_signup_form\"), \"Signup was unsuccessful\"\n+    assert b\"This field is required\" in response.data, response.data\n+\n+\n+def test_signup_user_unsuccessful(test_client):\n+    email = \"test@example.com\"\n+    response = test_client.post(\n+        \"/signup\", data=dict(name=\"Test\", surname=\"Foo\", email=email, password=\"test1234\"), follow_redirects=True\n+    )\n+    assert response.request.path == url_for(\"auth.show_signup_form\"), \"Signup was unsuccessful\"\n+    assert f\"Email {email} in use\".encode(\"utf-8\") in response.data\n+\n+\n+def test_signup_user_successful(test_client):\n+    response = test_client.post(\n+        \"/signup\",\n+        data=dict(name=\"Foo\", surname=\"Example\", email=\"foo@example.com\", password=\"foo1234\"),\n+        follow_redirects=True,\n+    )\n+    assert response.request.path == url_for(\"public.index\"), \"Signup was unsuccessful\"\n+\n+\n+def test_service_create_with_profie_success(clean_database):\n+    data = {\n+        \"name\": \"Test\",\n+        \"surname\": \"Foo\",\n+        \"email\": \"service_test@example.com\",\n+        \"password\": \"test1234\"\n+    }\n+\n+    AuthenticationService().create_with_profile(**data)\n+\n+    assert UserRepository().count() == 1\n+    assert UserProfileRepository().count() == 1\n+\n+\n+def test_service_create_with_profile_fail_no_email(clean_database):\n+    data = {\n+        \"name\": \"Test\",\n+        \"surname\": \"Foo\",\n+        \"email\": \"\",\n+        \"password\": \"1234\"\n+    }\n+\n+    with pytest.raises(ValueError, match=\"Email is required.\"):\n+        AuthenticationService().create_with_profile(**data)\n+\n+    assert UserRepository().count() == 0\n+    assert UserProfileRepository().count() == 0\n+\n+\n+def test_service_create_with_profile_fail_no_password(clean_database):\n+    data = {\n+        \"name\": \"Test\",\n+        \"surname\": \"Foo\",\n+        \"email\": \"test@example.com\",\n+        \"password\": \"\"\n+    }\n+\n+    with pytest.raises(ValueError, match=\"Password is required.\"):\n+        AuthenticationService().create_with_profile(**data)\n+\n+    assert UserRepository().count() == 0\n+    assert UserProfileRepository().count() == 0"
      },
      {
        "sha": "b0e3ff37e8950786149bbae3645c33de6296f5f2",
        "filename": "app/modules/conftest.py",
        "status": "added",
        "additions": 84,
        "deletions": 0,
        "changes": 84,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fconftest.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fconftest.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fconftest.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,84 @@\n+import pytest\n+\n+from app import create_app, db\n+from app.modules.auth.models import User\n+\n+\n+@pytest.fixture(scope='session')\n+def test_app():\n+    \"\"\" Create and configure a new app instance for each test session. \"\"\"\n+    test_app = create_app('testing')\n+\n+    with test_app.app_context():\n+        # Imprimir los blueprints registrados\n+        print(\"TESTING SUITE (1): Blueprints registrados:\", test_app.blueprints)\n+        yield test_app\n+\n+\n+@pytest.fixture(scope='module')\n+def test_client(test_app):\n+\n+    with test_app.test_client() as testing_client:\n+        with test_app.app_context():\n+            print(\"TESTING SUITE (2): Blueprints registrados:\", test_app.blueprints)\n+\n+            db.drop_all()\n+            db.create_all()\n+            \"\"\"\n+            The test suite always includes the following user in order to avoid repetition\n+            of its creation\n+            \"\"\"\n+            user_test = User(email='test@example.com', password='test1234')\n+            db.session.add(user_test)\n+            db.session.commit()\n+\n+            print(\"Rutas registradas:\")\n+            for rule in test_app.url_map.iter_rules():\n+                print(rule)\n+            yield testing_client\n+\n+            db.session.remove()\n+            db.drop_all()\n+\n+\n+@pytest.fixture(scope='function')\n+def clean_database():\n+    db.session.remove()\n+    db.drop_all()\n+    db.create_all()\n+    yield\n+    db.session.remove()\n+    db.drop_all()\n+    db.create_all()\n+\n+\n+def login(test_client, email, password):\n+    \"\"\"\n+    Authenticates the user with the credentials provided.\n+\n+    Args:\n+        test_client: Flask test client.\n+        email (str): User's email address.\n+        password (str): User's password.\n+\n+    Returns:\n+        response: POST login request response.\n+    \"\"\"\n+    response = test_client.post('/login', data=dict(\n+        email=email,\n+        password=password\n+    ), follow_redirects=True)\n+    return response\n+\n+\n+def logout(test_client):\n+    \"\"\"\n+    Logs out the user.\n+\n+    Args:\n+        test_client: Flask test client.\n+\n+    Returns:\n+        response: Response to GET request to log out.\n+    \"\"\"\n+    return test_client.get('/logout', follow_redirects=True)"
      },
      {
        "sha": "c2e2d34047a68b910b8d0b20be08a98d58375d2c",
        "filename": "app/modules/dataset/__init__.py",
        "status": "added",
        "additions": 10,
        "deletions": 0,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,10 @@\n+from flask_restful import Api\n+\n+from app.modules.dataset.api import init_blueprint_api\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+dataset_bp = BaseBlueprint('dataset', __name__, template_folder='templates')\n+\n+\n+api = Api(dataset_bp)\n+init_blueprint_api(api)"
      },
      {
        "sha": "03731f1d0bfa9cfc3e0c685f4e45dea469c066d9",
        "filename": "app/modules/dataset/api.py",
        "status": "added",
        "additions": 28,
        "deletions": 0,
        "changes": 28,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fapi.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fapi.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fapi.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,28 @@\n+from app.modules.dataset.models import DataSet\n+from core.resources.generic_resource import create_resource\n+from core.serialisers.serializer import Serializer\n+\n+file_fields = {\n+    'file_id': 'id',\n+    'file_name': 'name',\n+    'size': 'get_formatted_size'\n+}\n+file_serializer = Serializer(file_fields)\n+\n+dataset_fields = {\n+    'dataset_id': 'id',\n+    'created': 'created_at',\n+    'name': 'name',\n+    'doi': 'get_uvlhub_doi',\n+    'files': 'files'\n+}\n+\n+dataset_serializer = Serializer(dataset_fields, related_serializers={'files': file_serializer})\n+\n+DataSetResource = create_resource(DataSet, dataset_serializer)\n+\n+\n+def init_blueprint_api(api):\n+    \"\"\" Function to register resources with the provided Flask-RESTful Api instance. \"\"\"\n+    api.add_resource(DataSetResource, '/api/v1/datasets/', endpoint='datasets')\n+    api.add_resource(DataSetResource, '/api/v1/datasets/<int:id>', endpoint='dataset')"
      },
      {
        "sha": "ba83afe5135af2f30039acfc85aa95eb09d8ee4f",
        "filename": "app/modules/dataset/assets/scripts.js",
        "status": "added",
        "additions": 239,
        "deletions": 0,
        "changes": 239,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fassets%2Fscripts.js?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,239 @@\n+var currentId = 0;\n+        var amount_authors = 0;\n+\n+        function show_upload_dataset() {\n+            document.getElementById(\"upload_dataset\").style.display = \"block\";\n+        }\n+\n+        function generateIncrementalId() {\n+            return currentId++;\n+        }\n+\n+        function addField(newAuthor, name, text, className = 'col-lg-6 col-12 mb-3') {\n+            let fieldWrapper = document.createElement('div');\n+            fieldWrapper.className = className;\n+\n+            let label = document.createElement('label');\n+            label.className = 'form-label';\n+            label.for = name;\n+            label.textContent = text;\n+\n+            let field = document.createElement('input');\n+            field.name = name;\n+            field.className = 'form-control';\n+\n+            fieldWrapper.appendChild(label);\n+            fieldWrapper.appendChild(field);\n+            newAuthor.appendChild(fieldWrapper);\n+        }\n+\n+        function addRemoveButton(newAuthor) {\n+            let buttonWrapper = document.createElement('div');\n+            buttonWrapper.className = 'col-12 mb-2';\n+\n+            let button = document.createElement('button');\n+            button.textContent = 'Remove author';\n+            button.className = 'btn btn-danger btn-sm';\n+            button.type = 'button';\n+            button.addEventListener('click', function (event) {\n+                event.preventDefault();\n+                newAuthor.remove();\n+            });\n+\n+            buttonWrapper.appendChild(button);\n+            newAuthor.appendChild(buttonWrapper);\n+        }\n+\n+        function createAuthorBlock(idx, suffix) {\n+            let newAuthor = document.createElement('div');\n+            newAuthor.className = 'author row';\n+            newAuthor.style.cssText = \"border:2px dotted #ccc;border-radius:10px;padding:10px;margin:10px 0; background-color: white\";\n+\n+            addField(newAuthor, `${suffix}authors-${idx}-name`, 'Name *');\n+            addField(newAuthor, `${suffix}authors-${idx}-affiliation`, 'Affiliation');\n+            addField(newAuthor, `${suffix}authors-${idx}-orcid`, 'ORCID');\n+            addRemoveButton(newAuthor);\n+\n+            return newAuthor;\n+        }\n+\n+        function check_title_and_description() {\n+            let titleInput = document.querySelector('input[name=\"title\"]');\n+            let descriptionTextarea = document.querySelector('textarea[name=\"desc\"]');\n+\n+            titleInput.classList.remove(\"error\");\n+            descriptionTextarea.classList.remove(\"error\");\n+            clean_upload_errors();\n+\n+            let titleLength = titleInput.value.trim().length;\n+            let descriptionLength = descriptionTextarea.value.trim().length;\n+\n+            if (titleLength < 3) {\n+                write_upload_error(\"title must be of minimum length 3\");\n+                titleInput.classList.add(\"error\");\n+            }\n+\n+            if (descriptionLength < 3) {\n+                write_upload_error(\"description must be of minimum length 3\");\n+                descriptionTextarea.classList.add(\"error\");\n+            }\n+\n+            return (titleLength >= 3 && descriptionLength >= 3);\n+        }\n+\n+\n+        document.getElementById('add_author').addEventListener('click', function () {\n+            let authors = document.getElementById('authors');\n+            let newAuthor = createAuthorBlock(amount_authors++, \"\");\n+            authors.appendChild(newAuthor);\n+        });\n+\n+\n+        document.addEventListener('click', function (event) {\n+            if (event.target && event.target.classList.contains('add_author_to_uvl')) {\n+\n+                let authorsButtonId = event.target.id;\n+                let authorsId = authorsButtonId.replace(\"_button\", \"\");\n+                let authors = document.getElementById(authorsId);\n+                let id = authorsId.replace(\"_form_authors\", \"\")\n+                let newAuthor = createAuthorBlock(amount_authors, `feature_models-${id}-`);\n+                authors.appendChild(newAuthor);\n+\n+            }\n+        });\n+\n+        function show_loading() {\n+            document.getElementById(\"upload_button\").style.display = \"none\";\n+            document.getElementById(\"loading\").style.display = \"block\";\n+        }\n+\n+        function hide_loading() {\n+            document.getElementById(\"upload_button\").style.display = \"block\";\n+            document.getElementById(\"loading\").style.display = \"none\";\n+        }\n+\n+        function clean_upload_errors() {\n+            let upload_error = document.getElementById(\"upload_error\");\n+            upload_error.innerHTML = \"\";\n+            upload_error.style.display = 'none';\n+        }\n+\n+        function write_upload_error(error_message) {\n+            let upload_error = document.getElementById(\"upload_error\");\n+            let alert = document.createElement('p');\n+            alert.style.margin = '0';\n+            alert.style.padding = '0';\n+            alert.textContent = 'Upload error: ' + error_message;\n+            upload_error.appendChild(alert);\n+            upload_error.style.display = 'block';\n+        }\n+\n+        window.onload = function () {\n+\n+            test_zenodo_connection();\n+\n+            document.getElementById('upload_button').addEventListener('click', function () {\n+\n+                clean_upload_errors();\n+                show_loading();\n+\n+                // check title and description\n+                let check = check_title_and_description();\n+\n+                if (check) {\n+                    // process data form\n+                    const formData = {};\n+\n+                    [\"basic_info_form\", \"uploaded_models_form\"].forEach((formId) => {\n+                        const form = document.getElementById(formId);\n+                        const inputs = form.querySelectorAll('input, select, textarea');\n+                        inputs.forEach(input => {\n+                            if (input.name) {\n+                                formData[input.name] = formData[input.name] || [];\n+                                formData[input.name].push(input.value);\n+                            }\n+                        });\n+                    });\n+\n+                    let formDataJson = JSON.stringify(formData);\n+                    console.log(formDataJson);\n+\n+                    const csrfToken = document.getElementById('csrf_token').value;\n+                    const formUploadData = new FormData();\n+                    formUploadData.append('csrf_token', csrfToken);\n+\n+                    for (let key in formData) {\n+                        if (formData.hasOwnProperty(key)) {\n+                            formUploadData.set(key, formData[key]);\n+                        }\n+                    }\n+\n+                    let checked_orcid = true;\n+                    if (Array.isArray(formData.author_orcid)) {\n+                        for (let orcid of formData.author_orcid) {\n+                            orcid = orcid.trim();\n+                            if (orcid !== '' && !isValidOrcid(orcid)) {\n+                                hide_loading();\n+                                write_upload_error(\"ORCID value does not conform to valid format: \" + orcid);\n+                                checked_orcid = false;\n+                                break;\n+                            }\n+                        }\n+                    }\n+\n+\n+                    let checked_name = true;\n+                    if (Array.isArray(formData.author_name)) {\n+                        for (let name of formData.author_name) {\n+                            name = name.trim();\n+                            if (name === '') {\n+                                hide_loading();\n+                                write_upload_error(\"The author's name cannot be empty\");\n+                                checked_name = false;\n+                                break;\n+                            }\n+                        }\n+                    }\n+\n+\n+                    if (checked_orcid && checked_name) {\n+                        fetch('/dataset/upload', {\n+                            method: 'POST',\n+                            body: formUploadData\n+                        })\n+                            .then(response => {\n+                                if (response.ok) {\n+                                    console.log('Dataset sent successfully');\n+                                    response.json().then(data => {\n+                                        console.log(data.message);\n+                                        window.location.href = \"/dataset/list\";\n+                                    });\n+                                } else {\n+                                    response.json().then(data => {\n+                                        console.error('Error: ' + data.message);\n+                                        hide_loading();\n+\n+                                        write_upload_error(data.message);\n+\n+                                    });\n+                                }\n+                            })\n+                            .catch(error => {\n+                                console.error('Error in POST request:', error);\n+                            });\n+                    }\n+\n+\n+                } else {\n+                    hide_loading();\n+                }\n+\n+\n+            });\n+        };\n+\n+\n+        function isValidOrcid(orcid) {\n+            let orcidRegex = /^\\d{4}-\\d{4}-\\d{4}-\\d{4}$/;\n+            return orcidRegex.test(orcid);\n+        }\n\\ No newline at end of file"
      },
      {
        "sha": "f72ad5199d0b0a1a573d704f2741ca6a67c1b8c2",
        "filename": "app/modules/dataset/forms.py",
        "status": "added",
        "additions": 96,
        "deletions": 0,
        "changes": 96,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fforms.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,96 @@\n+from flask_wtf import FlaskForm\n+from wtforms import StringField, SelectField, FieldList, FormField, SubmitField, TextAreaField\n+from wtforms.validators import DataRequired, URL, Optional\n+\n+from app.modules.dataset.models import PublicationType\n+\n+\n+class AuthorForm(FlaskForm):\n+    name = StringField(\"Name\", validators=[DataRequired()])\n+    affiliation = StringField(\"Affiliation\")\n+    orcid = StringField(\"ORCID\")\n+    gnd = StringField(\"GND\")\n+\n+    class Meta:\n+        csrf = False  # disable CSRF because is subform\n+\n+    def get_author(self):\n+        return {\n+            \"name\": self.name.data,\n+            \"affiliation\": self.affiliation.data,\n+            \"orcid\": self.orcid.data,\n+        }\n+\n+\n+class FeatureModelForm(FlaskForm):\n+    uvl_filename = StringField(\"UVL Filename\", validators=[DataRequired()])\n+    title = StringField(\"Title\", validators=[Optional()])\n+    desc = TextAreaField(\"Description\", validators=[Optional()])\n+    publication_type = SelectField(\n+        \"Publication type\",\n+        choices=[(pt.value, pt.name.replace(\"_\", \" \").title()) for pt in PublicationType],\n+        validators=[Optional()],\n+    )\n+    publication_doi = StringField(\"Publication DOI\", validators=[Optional(), URL()])\n+    tags = StringField(\"Tags (separated by commas)\")\n+    version = StringField(\"UVL Version\")\n+    authors = FieldList(FormField(AuthorForm))\n+\n+    class Meta:\n+        csrf = False  # disable CSRF because is subform\n+\n+    def get_authors(self):\n+        return [author.get_author() for author in self.authors]\n+\n+    def get_fmmetadata(self):\n+        return {\n+            \"uvl_filename\": self.uvl_filename.data,\n+            \"title\": self.title.data,\n+            \"description\": self.desc.data,\n+            \"publication_type\": self.publication_type.data,\n+            \"publication_doi\": self.publication_doi.data,\n+            \"tags\": self.tags.data,\n+            \"uvl_version\": self.version.data,\n+        }\n+\n+\n+class DataSetForm(FlaskForm):\n+    title = StringField(\"Title\", validators=[DataRequired()])\n+    desc = TextAreaField(\"Description\", validators=[DataRequired()])\n+    publication_type = SelectField(\n+        \"Publication type\",\n+        choices=[(pt.value, pt.name.replace(\"_\", \" \").title()) for pt in PublicationType],\n+        validators=[DataRequired()],\n+    )\n+    publication_doi = StringField(\"Publication DOI\", validators=[Optional(), URL()])\n+    dataset_doi = StringField(\"Dataset DOI\", validators=[Optional(), URL()])\n+    tags = StringField(\"Tags (separated by commas)\")\n+    authors = FieldList(FormField(AuthorForm))\n+    feature_models = FieldList(FormField(FeatureModelForm), min_entries=1)\n+\n+    submit = SubmitField(\"Submit\")\n+\n+    def get_dsmetadata(self):\n+\n+        publication_type_converted = self.convert_publication_type(self.publication_type.data)\n+\n+        return {\n+            \"title\": self.title.data,\n+            \"description\": self.desc.data,\n+            \"publication_type\": publication_type_converted,\n+            \"publication_doi\": self.publication_doi.data,\n+            \"dataset_doi\": self.dataset_doi.data,\n+            \"tags\": self.tags.data,\n+        }\n+\n+    def convert_publication_type(self, value):\n+        for pt in PublicationType:\n+            if pt.value == value:\n+                return pt.name\n+        return \"NONE\"\n+\n+    def get_authors(self):\n+        return [author.get_author() for author in self.authors]\n+\n+    def get_feature_models(self):\n+        return [fm.get_feature_model() for fm in self.feature_models]"
      },
      {
        "sha": "222ca3617274219768bca1be310b9996bf2c8934",
        "filename": "app/modules/dataset/models.py",
        "status": "added",
        "additions": 166,
        "deletions": 0,
        "changes": 166,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fmodels.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,166 @@\n+from datetime import datetime\n+from enum import Enum\n+\n+from flask import request\n+from sqlalchemy import Enum as SQLAlchemyEnum\n+\n+from app import db\n+\n+\n+class PublicationType(Enum):\n+    NONE = 'none'\n+    ANNOTATION_COLLECTION = 'annotationcollection'\n+    BOOK = 'book'\n+    BOOK_SECTION = 'section'\n+    CONFERENCE_PAPER = 'conferencepaper'\n+    DATA_MANAGEMENT_PLAN = 'datamanagementplan'\n+    JOURNAL_ARTICLE = 'article'\n+    PATENT = 'patent'\n+    PREPRINT = 'preprint'\n+    PROJECT_DELIVERABLE = 'deliverable'\n+    PROJECT_MILESTONE = 'milestone'\n+    PROPOSAL = 'proposal'\n+    REPORT = 'report'\n+    SOFTWARE_DOCUMENTATION = 'softwaredocumentation'\n+    TAXONOMIC_TREATMENT = 'taxonomictreatment'\n+    TECHNICAL_NOTE = 'technicalnote'\n+    THESIS = 'thesis'\n+    WORKING_PAPER = 'workingpaper'\n+    OTHER = 'other'\n+\n+\n+class Author(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+    name = db.Column(db.String(120), nullable=False)\n+    affiliation = db.Column(db.String(120))\n+    orcid = db.Column(db.String(120))\n+    ds_meta_data_id = db.Column(db.Integer, db.ForeignKey('ds_meta_data.id'))\n+    fm_meta_data_id = db.Column(db.Integer, db.ForeignKey('fm_meta_data.id'))\n+\n+    def to_dict(self):\n+        return {\n+            'name': self.name,\n+            'affiliation': self.affiliation,\n+            'orcid': self.orcid\n+        }\n+\n+\n+class DSMetrics(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+    number_of_models = db.Column(db.String(120))\n+    number_of_features = db.Column(db.String(120))\n+\n+    def __repr__(self):\n+        return f'DSMetrics<models={self.number_of_models}, features={self.number_of_features}>'\n+\n+\n+class DSMetaData(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+    deposition_id = db.Column(db.Integer)\n+    title = db.Column(db.String(120), nullable=False)\n+    description = db.Column(db.Text, nullable=False)\n+    publication_type = db.Column(SQLAlchemyEnum(PublicationType), nullable=False)\n+    publication_doi = db.Column(db.String(120))\n+    dataset_doi = db.Column(db.String(120))\n+    tags = db.Column(db.String(120))\n+    ds_metrics_id = db.Column(db.Integer, db.ForeignKey('ds_metrics.id'))\n+    ds_metrics = db.relationship('DSMetrics', uselist=False, backref='ds_meta_data', cascade=\"all, delete\")\n+    authors = db.relationship('Author', backref='ds_meta_data', lazy=True, cascade=\"all, delete\")\n+\n+\n+class DataSet(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)\n+\n+    ds_meta_data_id = db.Column(db.Integer, db.ForeignKey('ds_meta_data.id'), nullable=False)\n+    created_at = db.Column(db.DateTime, nullable=False, default=datetime.utcnow)\n+\n+    ds_meta_data = db.relationship('DSMetaData', backref=db.backref('data_set', uselist=False))\n+    feature_models = db.relationship('FeatureModel', backref='data_set', lazy=True, cascade=\"all, delete\")\n+\n+    def name(self):\n+        return self.ds_meta_data.title\n+\n+    def files(self):\n+        return [file for fm in self.feature_models for file in fm.files]\n+\n+    def delete(self):\n+        db.session.delete(self)\n+        db.session.commit()\n+\n+    def get_cleaned_publication_type(self):\n+        return self.ds_meta_data.publication_type.name.replace('_', ' ').title()\n+\n+    def get_zenodo_url(self):\n+        return f'https://zenodo.org/record/{self.ds_meta_data.deposition_id}' if self.ds_meta_data.dataset_doi else None\n+\n+    def get_files_count(self):\n+        return sum(len(fm.files) for fm in self.feature_models)\n+\n+    def get_file_total_size(self):\n+        return sum(file.size for fm in self.feature_models for file in fm.files)\n+\n+    def get_file_total_size_for_human(self):\n+        from app.modules.dataset.services import SizeService\n+        return SizeService().get_human_readable_size(self.get_file_total_size())\n+\n+    def get_uvlhub_doi(self):\n+        from app.modules.dataset.services import DataSetService\n+        return DataSetService().get_uvlhub_doi(self)\n+\n+    def to_dict(self):\n+        return {\n+            'title': self.ds_meta_data.title,\n+            'id': self.id,\n+            'created_at': self.created_at,\n+            'created_at_timestamp': int(self.created_at.timestamp()),\n+            'description': self.ds_meta_data.description,\n+            'authors': [author.to_dict() for author in self.ds_meta_data.authors],\n+            'publication_type': self.get_cleaned_publication_type(),\n+            'publication_doi': self.ds_meta_data.publication_doi,\n+            'dataset_doi': self.ds_meta_data.dataset_doi,\n+            'tags': self.ds_meta_data.tags.split(\",\") if self.ds_meta_data.tags else [],\n+            'url': self.get_uvlhub_doi(),\n+            'download': f'{request.host_url.rstrip(\"/\")}/dataset/download/{self.id}',\n+            'zenodo': self.get_zenodo_url(),\n+            'files': [file.to_dict() for fm in self.feature_models for file in fm.files],\n+            'files_count': self.get_files_count(),\n+            'total_size_in_bytes': self.get_file_total_size(),\n+            'total_size_in_human_format': self.get_file_total_size_for_human(),\n+        }\n+\n+    def __repr__(self):\n+        return f'DataSet<{self.id}>'\n+\n+\n+class DSDownloadRecord(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=True)\n+    dataset_id = db.Column(db.Integer, db.ForeignKey('data_set.id'))\n+    download_date = db.Column(db.DateTime, nullable=False, default=datetime.utcnow)\n+    download_cookie = db.Column(db.String(36), nullable=False)  # Assuming UUID4 strings\n+\n+    def __repr__(self):\n+        return (\n+            f'<Download id={self.id} '\n+            f'dataset_id={self.dataset_id} '\n+            f'date={self.download_date} '\n+            f'cookie={self.download_cookie}>'\n+        )\n+\n+\n+class DSViewRecord(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=True)\n+    dataset_id = db.Column(db.Integer, db.ForeignKey('data_set.id'))\n+    view_date = db.Column(db.DateTime, nullable=False, default=datetime.utcnow)\n+    view_cookie = db.Column(db.String(36), nullable=False)  # Assuming UUID4 strings\n+\n+    def __repr__(self):\n+        return f'<View id={self.id} dataset_id={self.dataset_id} date={self.view_date} cookie={self.view_cookie}>'\n+\n+\n+class DOIMapping(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+    dataset_doi_old = db.Column(db.String(120))\n+    dataset_doi_new = db.Column(db.String(120))"
      },
      {
        "sha": "50ee7082a653d42f6b5de9e9b3e7aca32574ca24",
        "filename": "app/modules/dataset/repositories.py",
        "status": "added",
        "additions": 123,
        "deletions": 0,
        "changes": 123,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Frepositories.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,123 @@\n+from datetime import datetime, timezone\n+import logging\n+from flask_login import current_user\n+from typing import Optional\n+\n+from sqlalchemy import desc, func\n+\n+from app.modules.dataset.models import (\n+    Author,\n+    DOIMapping,\n+    DSDownloadRecord,\n+    DSMetaData,\n+    DSViewRecord,\n+    DataSet\n+)\n+from core.repositories.BaseRepository import BaseRepository\n+\n+logger = logging.getLogger(__name__)\n+\n+\n+class AuthorRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(Author)\n+\n+\n+class DSDownloadRecordRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(DSDownloadRecord)\n+\n+    def total_dataset_downloads(self) -> int:\n+        max_id = self.model.query.with_entities(func.max(self.model.id)).scalar()\n+        return max_id if max_id is not None else 0\n+\n+\n+class DSMetaDataRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(DSMetaData)\n+\n+    def filter_by_doi(self, doi: str) -> Optional[DSMetaData]:\n+        return self.model.query.filter_by(dataset_doi=doi).first()\n+\n+\n+class DSViewRecordRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(DSViewRecord)\n+\n+    def total_dataset_views(self) -> int:\n+        max_id = self.model.query.with_entities(func.max(self.model.id)).scalar()\n+        return max_id if max_id is not None else 0\n+\n+    def the_record_exists(self, dataset: DataSet, user_cookie: str):\n+        return self.model.query.filter_by(\n+            user_id=current_user.id if current_user.is_authenticated else None,\n+            dataset_id=dataset.id,\n+            view_cookie=user_cookie\n+        ).first()\n+\n+    def create_new_record(self, dataset: DataSet, user_cookie: str) -> DSViewRecord:\n+        return self.create(\n+                user_id=current_user.id if current_user.is_authenticated else None,\n+                dataset_id=dataset.id,\n+                view_date=datetime.now(timezone.utc),\n+                view_cookie=user_cookie,\n+            )\n+\n+\n+class DataSetRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(DataSet)\n+\n+    def get_synchronized(self, current_user_id: int) -> DataSet:\n+        return (\n+            self.model.query.join(DSMetaData)\n+            .filter(DataSet.user_id == current_user_id, DSMetaData.dataset_doi.isnot(None))\n+            .order_by(self.model.created_at.desc())\n+            .all()\n+        )\n+\n+    def get_unsynchronized(self, current_user_id: int) -> DataSet:\n+        return (\n+            self.model.query.join(DSMetaData)\n+            .filter(DataSet.user_id == current_user_id, DSMetaData.dataset_doi.is_(None))\n+            .order_by(self.model.created_at.desc())\n+            .all()\n+        )\n+\n+    def get_unsynchronized_dataset(self, current_user_id: int, dataset_id: int) -> DataSet:\n+        return (\n+            self.model.query.join(DSMetaData)\n+            .filter(DataSet.user_id == current_user_id, DataSet.id == dataset_id, DSMetaData.dataset_doi.is_(None))\n+            .first()\n+        )\n+\n+    def count_synchronized_datasets(self):\n+        return (\n+            self.model.query.join(DSMetaData)\n+            .filter(DSMetaData.dataset_doi.isnot(None))\n+            .count()\n+        )\n+\n+    def count_unsynchronized_datasets(self):\n+        return (\n+            self.model.query.join(DSMetaData)\n+            .filter(DSMetaData.dataset_doi.is_(None))\n+            .count()\n+        )\n+\n+    def latest_synchronized(self):\n+        return (\n+            self.model.query.join(DSMetaData)\n+            .filter(DSMetaData.dataset_doi.isnot(None))\n+            .order_by(desc(self.model.id))\n+            .limit(5)\n+            .all()\n+        )\n+\n+\n+class DOIMappingRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(DOIMapping)\n+\n+    def get_new_doi(self, old_doi: str) -> str:\n+        return self.model.query.filter_by(dataset_doi_old=old_doi).first()"
      },
      {
        "sha": "77a61b06c31d91d9b7b950d7e1efbd434baf742c",
        "filename": "app/modules/dataset/routes.py",
        "status": "added",
        "additions": 280,
        "deletions": 0,
        "changes": 280,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Froutes.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,280 @@\n+import logging\n+import os\n+import json\n+import shutil\n+import tempfile\n+import uuid\n+from datetime import datetime, timezone\n+from zipfile import ZipFile\n+\n+from flask import (\n+    redirect,\n+    render_template,\n+    request,\n+    jsonify,\n+    send_from_directory,\n+    make_response,\n+    abort,\n+    url_for,\n+)\n+from flask_login import login_required, current_user\n+\n+from app.modules.dataset.forms import DataSetForm\n+from app.modules.dataset.models import (\n+    DSDownloadRecord\n+)\n+from app.modules.dataset import dataset_bp\n+from app.modules.dataset.services import (\n+    AuthorService,\n+    DSDownloadRecordService,\n+    DSMetaDataService,\n+    DSViewRecordService,\n+    DataSetService,\n+    DOIMappingService\n+)\n+from app.modules.zenodo.services import ZenodoService\n+\n+logger = logging.getLogger(__name__)\n+\n+\n+dataset_service = DataSetService()\n+author_service = AuthorService()\n+dsmetadata_service = DSMetaDataService()\n+zenodo_service = ZenodoService()\n+doi_mapping_service = DOIMappingService()\n+ds_view_record_service = DSViewRecordService()\n+\n+\n+@dataset_bp.route(\"/dataset/upload\", methods=[\"GET\", \"POST\"])\n+@login_required\n+def create_dataset():\n+    form = DataSetForm()\n+    if request.method == \"POST\":\n+\n+        dataset = None\n+\n+        if not form.validate_on_submit():\n+            return jsonify({\"message\": form.errors}), 400\n+\n+        try:\n+            logger.info(\"Creating dataset...\")\n+            dataset = dataset_service.create_from_form(form=form, current_user=current_user)\n+            logger.info(f\"Created dataset: {dataset}\")\n+            dataset_service.move_feature_models(dataset)\n+        except Exception as exc:\n+            logger.exception(f\"Exception while create dataset data in local {exc}\")\n+            return jsonify({\"Exception while create dataset data in local: \": str(exc)}), 400\n+\n+        # send dataset as deposition to Zenodo\n+        data = {}\n+        try:\n+            zenodo_response_json = zenodo_service.create_new_deposition(dataset)\n+            response_data = json.dumps(zenodo_response_json)\n+            data = json.loads(response_data)\n+        except Exception as exc:\n+            data = {}\n+            zenodo_response_json = {}\n+            logger.exception(f\"Exception while create dataset data in Zenodo {exc}\")\n+\n+        if data.get(\"conceptrecid\"):\n+            deposition_id = data.get(\"id\")\n+\n+            # update dataset with deposition id in Zenodo\n+            dataset_service.update_dsmetadata(dataset.ds_meta_data_id, deposition_id=deposition_id)\n+\n+            try:\n+                # iterate for each feature model (one feature model = one request to Zenodo)\n+                for feature_model in dataset.feature_models:\n+                    zenodo_service.upload_file(dataset, deposition_id, feature_model)\n+\n+                # publish deposition\n+                zenodo_service.publish_deposition(deposition_id)\n+\n+                # update DOI\n+                deposition_doi = zenodo_service.get_doi(deposition_id)\n+                dataset_service.update_dsmetadata(dataset.ds_meta_data_id, dataset_doi=deposition_doi)\n+            except Exception as e:\n+                msg = f\"it has not been possible upload feature models in Zenodo and update the DOI: {e}\"\n+                return jsonify({\"message\": msg}), 200\n+\n+        # Delete temp folder\n+        file_path = current_user.temp_folder()\n+        if os.path.exists(file_path) and os.path.isdir(file_path):\n+            shutil.rmtree(file_path)\n+\n+        msg = \"Everything works!\"\n+        return jsonify({\"message\": msg}), 200\n+\n+    return render_template(\"dataset/upload_dataset.html\", form=form)\n+\n+\n+@dataset_bp.route(\"/dataset/list\", methods=[\"GET\", \"POST\"])\n+@login_required\n+def list_dataset():\n+    return render_template(\n+        \"dataset/list_datasets.html\",\n+        datasets=dataset_service.get_synchronized(current_user.id),\n+        local_datasets=dataset_service.get_unsynchronized(current_user.id),\n+    )\n+\n+\n+@dataset_bp.route(\"/dataset/file/upload\", methods=[\"POST\"])\n+@login_required\n+def upload():\n+    file = request.files[\"file\"]\n+    temp_folder = current_user.temp_folder()\n+\n+    if not file or not file.filename.endswith(\".uvl\"):\n+        return jsonify({\"message\": \"No valid file\"}), 400\n+\n+    # create temp folder\n+    if not os.path.exists(temp_folder):\n+        os.makedirs(temp_folder)\n+\n+    file_path = os.path.join(temp_folder, file.filename)\n+\n+    if os.path.exists(file_path):\n+        # Generate unique filename (by recursion)\n+        base_name, extension = os.path.splitext(file.filename)\n+        i = 1\n+        while os.path.exists(\n+            os.path.join(temp_folder, f\"{base_name} ({i}){extension}\")\n+        ):\n+            i += 1\n+        new_filename = f\"{base_name} ({i}){extension}\"\n+        file_path = os.path.join(temp_folder, new_filename)\n+    else:\n+        new_filename = file.filename\n+\n+    try:\n+        file.save(file_path)\n+    except Exception as e:\n+        return jsonify({\"message\": str(e)}), 500\n+\n+    return (\n+        jsonify(\n+            {\n+                \"message\": \"UVL uploaded and validated successfully\",\n+                \"filename\": new_filename,\n+            }\n+        ),\n+        200,\n+    )\n+\n+\n+@dataset_bp.route(\"/dataset/file/delete\", methods=[\"POST\"])\n+def delete():\n+    data = request.get_json()\n+    filename = data.get(\"file\")\n+    temp_folder = current_user.temp_folder()\n+    filepath = os.path.join(temp_folder, filename)\n+\n+    if os.path.exists(filepath):\n+        os.remove(filepath)\n+        return jsonify({\"message\": \"File deleted successfully\"})\n+\n+    return jsonify({\"error\": \"Error: File not found\"})\n+\n+\n+@dataset_bp.route(\"/dataset/download/<int:dataset_id>\", methods=[\"GET\"])\n+def download_dataset(dataset_id):\n+    dataset = dataset_service.get_or_404(dataset_id)\n+\n+    file_path = f\"uploads/user_{dataset.user_id}/dataset_{dataset.id}/\"\n+\n+    temp_dir = tempfile.mkdtemp()\n+    zip_path = os.path.join(temp_dir, f\"dataset_{dataset_id}.zip\")\n+\n+    with ZipFile(zip_path, \"w\") as zipf:\n+        for subdir, dirs, files in os.walk(file_path):\n+            for file in files:\n+                full_path = os.path.join(subdir, file)\n+\n+                relative_path = os.path.relpath(full_path, file_path)\n+\n+                zipf.write(\n+                    full_path,\n+                    arcname=os.path.join(\n+                        os.path.basename(zip_path[:-4]), relative_path\n+                    ),\n+                )\n+\n+    user_cookie = request.cookies.get(\"download_cookie\")\n+    if not user_cookie:\n+        user_cookie = str(\n+            uuid.uuid4()\n+        )  # Generate a new unique identifier if it does not exist\n+        # Save the cookie to the user's browser\n+        resp = make_response(\n+            send_from_directory(\n+                temp_dir,\n+                f\"dataset_{dataset_id}.zip\",\n+                as_attachment=True,\n+                mimetype=\"application/zip\",\n+            )\n+        )\n+        resp.set_cookie(\"download_cookie\", user_cookie)\n+    else:\n+        resp = send_from_directory(\n+            temp_dir,\n+            f\"dataset_{dataset_id}.zip\",\n+            as_attachment=True,\n+            mimetype=\"application/zip\",\n+        )\n+\n+    # Check if the download record already exists for this cookie\n+    existing_record = DSDownloadRecord.query.filter_by(\n+        user_id=current_user.id if current_user.is_authenticated else None,\n+        dataset_id=dataset_id,\n+        download_cookie=user_cookie\n+    ).first()\n+\n+    if not existing_record:\n+        # Record the download in your database\n+        DSDownloadRecordService().create(\n+            user_id=current_user.id if current_user.is_authenticated else None,\n+            dataset_id=dataset_id,\n+            download_date=datetime.now(timezone.utc),\n+            download_cookie=user_cookie,\n+        )\n+\n+    return resp\n+\n+\n+@dataset_bp.route(\"/doi/<path:doi>/\", methods=[\"GET\"])\n+def subdomain_index(doi):\n+\n+    # Check if the DOI is an old DOI\n+    new_doi = doi_mapping_service.get_new_doi(doi)\n+    if new_doi:\n+        # Redirect to the same path with the new DOI\n+        return redirect(url_for('dataset.subdomain_index', doi=new_doi), code=302)\n+\n+    # Try to search the dataset by the provided DOI (which should already be the new one)\n+    ds_meta_data = dsmetadata_service.filter_by_doi(doi)\n+\n+    if not ds_meta_data:\n+        abort(404)\n+\n+    # Get dataset\n+    dataset = ds_meta_data.data_set\n+\n+    # Save the cookie to the user's browser\n+    user_cookie = ds_view_record_service.create_cookie(dataset=dataset)\n+    resp = make_response(render_template(\"dataset/view_dataset.html\", dataset=dataset))\n+    resp.set_cookie(\"view_cookie\", user_cookie)\n+\n+    return resp\n+\n+\n+@dataset_bp.route(\"/dataset/unsynchronized/<int:dataset_id>/\", methods=[\"GET\"])\n+@login_required\n+def get_unsynchronized_dataset(dataset_id):\n+\n+    # Get dataset\n+    dataset = dataset_service.get_unsynchronized_dataset(current_user.id, dataset_id)\n+\n+    if not dataset:\n+        abort(404)\n+\n+    return render_template(\"dataset/view_dataset.html\", dataset=dataset)"
      },
      {
        "sha": "5f6d7b69d060d42c0675b11580a8d0e0184c0d96",
        "filename": "app/modules/dataset/seeders.py",
        "status": "added",
        "additions": 124,
        "deletions": 0,
        "changes": 124,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fseeders.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,124 @@\n+import os\n+import shutil\n+from app.modules.auth.models import User\n+from app.modules.featuremodel.models import FMMetaData, FeatureModel\n+from app.modules.hubfile.models import Hubfile\n+from core.seeders.BaseSeeder import BaseSeeder\n+from app.modules.dataset.models import (\n+    DataSet,\n+    DSMetaData,\n+    PublicationType,\n+    DSMetrics,\n+    Author)\n+from datetime import datetime, timezone\n+from dotenv import load_dotenv\n+\n+\n+class DataSetSeeder(BaseSeeder):\n+\n+    priority = 2  # Lower priority\n+\n+    def run(self):\n+        # Retrieve users\n+        user1 = User.query.filter_by(email='user1@example.com').first()\n+        user2 = User.query.filter_by(email='user2@example.com').first()\n+\n+        if not user1 or not user2:\n+            raise Exception(\"Users not found. Please seed users first.\")\n+\n+        # Create DSMetrics instance\n+        ds_metrics = DSMetrics(number_of_models='5', number_of_features='50')\n+        seeded_ds_metrics = self.seed([ds_metrics])[0]\n+\n+        # Create DSMetaData instances\n+        ds_meta_data_list = [\n+            DSMetaData(\n+                deposition_id=1 + i,\n+                title=f'Sample dataset {i+1}',\n+                description=f'Description for dataset {i+1}',\n+                publication_type=PublicationType.DATA_MANAGEMENT_PLAN,\n+                publication_doi=f'10.1234/dataset{i+1}',\n+                dataset_doi=f'10.1234/dataset{i+1}',\n+                tags='tag1, tag2',\n+                ds_metrics_id=seeded_ds_metrics.id\n+            ) for i in range(4)\n+        ]\n+        seeded_ds_meta_data = self.seed(ds_meta_data_list)\n+\n+        # Create Author instances and associate with DSMetaData\n+        authors = [\n+            Author(\n+                name=f'Author {i+1}',\n+                affiliation=f'Affiliation {i+1}',\n+                orcid=f'0000-0000-0000-000{i}',\n+                ds_meta_data_id=seeded_ds_meta_data[i % 4].id\n+            ) for i in range(4)\n+        ]\n+        self.seed(authors)\n+\n+        # Create DataSet instances\n+        datasets = [\n+            DataSet(\n+                user_id=user1.id if i % 2 == 0 else user2.id,\n+                ds_meta_data_id=seeded_ds_meta_data[i].id,\n+                created_at=datetime.now(timezone.utc)\n+            ) for i in range(4)\n+        ]\n+        seeded_datasets = self.seed(datasets)\n+\n+        # Assume there are 12 UVL files, create corresponding FMMetaData and FeatureModel\n+        fm_meta_data_list = [\n+            FMMetaData(\n+                uvl_filename=f'file{i+1}.uvl',\n+                title=f'Feature Model {i+1}',\n+                description=f'Description for feature model {i+1}',\n+                publication_type=PublicationType.SOFTWARE_DOCUMENTATION,\n+                publication_doi=f'10.1234/fm{i+1}',\n+                tags='tag1, tag2',\n+                uvl_version='1.0'\n+            ) for i in range(12)\n+        ]\n+        seeded_fm_meta_data = self.seed(fm_meta_data_list)\n+\n+        # Create Author instances and associate with FMMetaData\n+        fm_authors = [\n+            Author(\n+                name=f'Author {i+5}',\n+                affiliation=f'Affiliation {i+5}',\n+                orcid=f'0000-0000-0000-000{i+5}',\n+                fm_meta_data_id=seeded_fm_meta_data[i].id\n+            ) for i in range(12)\n+        ]\n+        self.seed(fm_authors)\n+\n+        feature_models = [\n+            FeatureModel(\n+                data_set_id=seeded_datasets[i // 3].id,\n+                fm_meta_data_id=seeded_fm_meta_data[i].id\n+            ) for i in range(12)\n+        ]\n+        seeded_feature_models = self.seed(feature_models)\n+\n+        # Create files, associate them with FeatureModels and copy files\n+        load_dotenv()\n+        working_dir = os.getenv('WORKING_DIR', '')\n+        src_folder = os.path.join(working_dir, 'app', 'modules', 'dataset', 'uvl_examples')\n+        for i in range(12):\n+            file_name = f'file{i+1}.uvl'\n+            feature_model = seeded_feature_models[i]\n+            dataset = next(ds for ds in seeded_datasets if ds.id == feature_model.data_set_id)\n+            user_id = dataset.user_id\n+\n+            dest_folder = os.path.join(working_dir, 'uploads', f'user_{user_id}', f'dataset_{dataset.id}')\n+            os.makedirs(dest_folder, exist_ok=True)\n+            shutil.copy(os.path.join(src_folder, file_name), dest_folder)\n+\n+            file_path = os.path.join(dest_folder, file_name)\n+\n+            uvl_file = Hubfile(\n+                name=file_name,\n+                checksum=f'checksum{i+1}',\n+                size=os.path.getsize(file_path),\n+                feature_model_id=feature_model.id\n+            )\n+            self.seed([uvl_file])"
      },
      {
        "sha": "b3ca798783c890a4dcef011fb5f0be4c69d273c8",
        "filename": "app/modules/dataset/services.py",
        "status": "added",
        "additions": 214,
        "deletions": 0,
        "changes": 214,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fservices.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,214 @@\n+import logging\n+import os\n+import hashlib\n+import shutil\n+from typing import Optional\n+import uuid\n+\n+from flask import request\n+\n+from app.modules.auth.services import AuthenticationService\n+from app.modules.dataset.models import DSViewRecord, DataSet, DSMetaData\n+from app.modules.dataset.repositories import (\n+    AuthorRepository,\n+    DOIMappingRepository,\n+    DSDownloadRecordRepository,\n+    DSMetaDataRepository,\n+    DSViewRecordRepository,\n+    DataSetRepository\n+)\n+from app.modules.featuremodel.repositories import FMMetaDataRepository, FeatureModelRepository\n+from app.modules.hubfile.repositories import (\n+    HubfileDownloadRecordRepository,\n+    HubfileRepository,\n+    HubfileViewRecordRepository\n+)\n+from core.services.BaseService import BaseService\n+\n+logger = logging.getLogger(__name__)\n+\n+\n+def calculate_checksum_and_size(file_path):\n+    file_size = os.path.getsize(file_path)\n+    with open(file_path, \"rb\") as file:\n+        content = file.read()\n+        hash_md5 = hashlib.md5(content).hexdigest()\n+        return hash_md5, file_size\n+\n+\n+class DataSetService(BaseService):\n+    def __init__(self):\n+        super().__init__(DataSetRepository())\n+        self.feature_model_repository = FeatureModelRepository()\n+        self.author_repository = AuthorRepository()\n+        self.dsmetadata_repository = DSMetaDataRepository()\n+        self.fmmetadata_repository = FMMetaDataRepository()\n+        self.dsdownloadrecord_repository = DSDownloadRecordRepository()\n+        self.hubfiledownloadrecord_repository = HubfileDownloadRecordRepository()\n+        self.hubfilerepository = HubfileRepository()\n+        self.dsviewrecord_repostory = DSViewRecordRepository()\n+        self.hubfileviewrecord_repository = HubfileViewRecordRepository()\n+\n+    def move_feature_models(self, dataset: DataSet):\n+        current_user = AuthenticationService().get_authenticated_user()\n+        source_dir = current_user.temp_folder()\n+\n+        working_dir = os.getenv(\"WORKING_DIR\", \"\")\n+        dest_dir = os.path.join(working_dir, \"uploads\", f\"user_{current_user.id}\", f\"dataset_{dataset.id}\")\n+\n+        os.makedirs(dest_dir, exist_ok=True)\n+\n+        for feature_model in dataset.feature_models:\n+            uvl_filename = feature_model.fm_meta_data.uvl_filename\n+            shutil.move(os.path.join(source_dir, uvl_filename), dest_dir)\n+\n+    def get_synchronized(self, current_user_id: int) -> DataSet:\n+        return self.repository.get_synchronized(current_user_id)\n+\n+    def get_unsynchronized(self, current_user_id: int) -> DataSet:\n+        return self.repository.get_unsynchronized(current_user_id)\n+\n+    def get_unsynchronized_dataset(self, current_user_id: int, dataset_id: int) -> DataSet:\n+        return self.repository.get_unsynchronized_dataset(current_user_id, dataset_id)\n+\n+    def latest_synchronized(self):\n+        return self.repository.latest_synchronized()\n+\n+    def count_synchronized_datasets(self):\n+        return self.repository.count_synchronized_datasets()\n+\n+    def count_feature_models(self):\n+        return self.feature_model_service.count_feature_models()\n+\n+    def count_authors(self) -> int:\n+        return self.author_repository.count()\n+\n+    def count_dsmetadata(self) -> int:\n+        return self.dsmetadata_repository.count()\n+\n+    def total_dataset_downloads(self) -> int:\n+        return self.dsdownloadrecord_repository.total_dataset_downloads()\n+\n+    def total_dataset_views(self) -> int:\n+        return self.dsviewrecord_repostory.total_dataset_views()\n+\n+    def create_from_form(self, form, current_user) -> DataSet:\n+        main_author = {\n+            \"name\": f\"{current_user.profile.surname}, {current_user.profile.name}\",\n+            \"affiliation\": current_user.profile.affiliation,\n+            \"orcid\": current_user.profile.orcid,\n+        }\n+        try:\n+            logger.info(f\"Creating dsmetadata...: {form.get_dsmetadata()}\")\n+            dsmetadata = self.dsmetadata_repository.create(**form.get_dsmetadata())\n+            for author_data in [main_author] + form.get_authors():\n+                author = self.author_repository.create(commit=False, ds_meta_data_id=dsmetadata.id, **author_data)\n+                dsmetadata.authors.append(author)\n+\n+            dataset = self.create(commit=False, user_id=current_user.id, ds_meta_data_id=dsmetadata.id)\n+\n+            for feature_model in form.feature_models:\n+                uvl_filename = feature_model.uvl_filename.data\n+                fmmetadata = self.fmmetadata_repository.create(commit=False, **feature_model.get_fmmetadata())\n+                for author_data in feature_model.get_authors():\n+                    author = self.author_repository.create(commit=False, fm_meta_data_id=fmmetadata.id, **author_data)\n+                    fmmetadata.authors.append(author)\n+\n+                fm = self.feature_model_repository.create(\n+                    commit=False, data_set_id=dataset.id, fm_meta_data_id=fmmetadata.id\n+                )\n+\n+                # associated files in feature model\n+                file_path = os.path.join(current_user.temp_folder(), uvl_filename)\n+                checksum, size = calculate_checksum_and_size(file_path)\n+\n+                file = self.hubfilerepository.create(\n+                    commit=False, name=uvl_filename, checksum=checksum, size=size, feature_model_id=fm.id\n+                )\n+                fm.files.append(file)\n+            self.repository.session.commit()\n+        except Exception as exc:\n+            logger.info(f\"Exception creating dataset from form...: {exc}\")\n+            self.repository.session.rollback()\n+            raise exc\n+        return dataset\n+\n+    def update_dsmetadata(self, id, **kwargs):\n+        return self.dsmetadata_repository.update(id, **kwargs)\n+\n+    def get_uvlhub_doi(self, dataset: DataSet) -> str:\n+        domain = os.getenv('DOMAIN', 'localhost')\n+        return f'http://{domain}/doi/{dataset.ds_meta_data.dataset_doi}'\n+\n+\n+class AuthorService(BaseService):\n+    def __init__(self):\n+        super().__init__(AuthorRepository())\n+\n+\n+class DSDownloadRecordService(BaseService):\n+    def __init__(self):\n+        super().__init__(DSDownloadRecordRepository())\n+\n+\n+class DSMetaDataService(BaseService):\n+    def __init__(self):\n+        super().__init__(DSMetaDataRepository())\n+\n+    def update(self, id, **kwargs):\n+        return self.repository.update(id, **kwargs)\n+\n+    def filter_by_doi(self, doi: str) -> Optional[DSMetaData]:\n+        return self.repository.filter_by_doi(doi)\n+\n+\n+class DSViewRecordService(BaseService):\n+    def __init__(self):\n+        super().__init__(DSViewRecordRepository())\n+\n+    def the_record_exists(self, dataset: DataSet, user_cookie: str):\n+        return self.repository.the_record_exists(dataset, user_cookie)\n+\n+    def create_new_record(self, dataset: DataSet,  user_cookie: str) -> DSViewRecord:\n+        return self.repository.create_new_record(dataset, user_cookie)\n+\n+    def create_cookie(self, dataset: DataSet) -> str:\n+\n+        user_cookie = request.cookies.get(\"view_cookie\")\n+        if not user_cookie:\n+            user_cookie = str(uuid.uuid4())\n+\n+        existing_record = self.the_record_exists(dataset=dataset, user_cookie=user_cookie)\n+\n+        if not existing_record:\n+            self.create_new_record(dataset=dataset, user_cookie=user_cookie)\n+\n+        return user_cookie\n+\n+\n+class DOIMappingService(BaseService):\n+    def __init__(self):\n+        super().__init__(DOIMappingRepository())\n+\n+    def get_new_doi(self, old_doi: str) -> str:\n+        doi_mapping = self.repository.get_new_doi(old_doi)\n+        if doi_mapping:\n+            return doi_mapping.dataset_doi_new\n+        else:\n+            return None\n+\n+\n+class SizeService():\n+\n+    def __init__(self):\n+        pass\n+\n+    def get_human_readable_size(self, size: int) -> str:\n+        if size < 1024:\n+            return f'{size} bytes'\n+        elif size < 1024 ** 2:\n+            return f'{round(size / 1024, 2)} KB'\n+        elif size < 1024 ** 3:\n+            return f'{round(size / (1024 ** 2), 2)} MB'\n+        else:\n+            return f'{round(size / (1024 ** 3), 2)} GB'"
      },
      {
        "sha": "0e17349e5c4dc2c9cbe870960029ff270c0f2bf7",
        "filename": "app/modules/dataset/templates/dataset/list_datasets.html",
        "status": "added",
        "additions": 118,
        "deletions": 0,
        "changes": 118,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Flist_datasets.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,118 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}My datasets{% endblock %}\n+\n+{% block content %}\n+\n+    <h1 class=\"h3 mb-3\">My datasets</h1>\n+\n+    {% if datasets %}\n+        <div class=\" col-12\">\n+            <div class=\"card\">\n+\n+                <div class=\"card-body\">\n+                    <table class=\"table\">\n+                        <thead>\n+                        <tr>\n+                            <th>Title</th>\n+                            <th>Description</th>\n+                            <th>Publication type</th>\n+                            <th>Dataset DOI</th>\n+                            <th>Options</th>\n+                        </tr>\n+                        </thead>\n+                        <tbody>\n+                        {% for dataset in datasets %}\n+                            <tr>\n+                                <td>\n+                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                        {{ dataset.ds_meta_data.title }}\n+                                    </a>\n+                                </td>\n+                                <td>{{ dataset.ds_meta_data.description }}</td>\n+                                <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                <td><a href=\"{{ dataset.get_uvlhub_doi() }}\"\n+                                       target=\"_blank\">{{ dataset.get_uvlhub_doi() }}</a></td>\n+                                <td>\n+                                    <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                        <i data-feather=\"eye\"></i>\n+                                    </a>\n+                                    <a href=\"{{ url_for('dataset.download_dataset', dataset_id=dataset.id) }}\">\n+                                        <i data-feather=\"download\"></i>\n+                                    </a>\n+                                </td>\n+                            </tr>\n+                        {% endfor %}\n+                        </tbody>\n+                    </table>\n+                </div>\n+\n+            </div>\n+\n+        </div>\n+    {% else %}\n+        <div class=\"col-12 col-md-6\">\n+            <div class=\"card\">\n+                <div class=\"card-header\">\n+                    <h5 class=\"card-title mb-0\">No datasets found</h5>\n+                </div>\n+                <div class=\"card-body\">\n+                    <p class=\"card-text\">\n+                        You have not created any dataset synchronized with Zenodo, are you up for it?\n+                    </p>\n+                    <a href=\"{{ url_for('dataset.create_dataset') }}\" class=\"btn btn-primary\">\n+                        Upload dataset</a>\n+                </div>\n+            </div>\n+        </div>\n+    {% endif %}\n+\n+    <div class=\"row\">\n+\n+\n+        <div class=\"col-12\">\n+            {% if local_datasets %}\n+                <div class=\"card\">\n+                    <div class=\"card-body\">\n+                        <div class=\"card-header\">\n+                            <h5 class=\"card-title\">Unsynchronized datasets</h5>\n+                        </div>\n+                        <div class=\"card-body\">\n+                            <table class=\"table\">\n+                                <thead>\n+                                <tr>\n+                                    <th>Title</th>\n+                                    <th>Description</th>\n+                                    <th>Publication type</th>\n+                                    <th>Options</th>\n+                                </tr>\n+                                </thead>\n+                                <tbody>\n+                                {% for local_dataset in local_datasets %}\n+                                    <tr>\n+                                        <td>\n+                                            <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=local_dataset.id) }}\">\n+                                                {{ local_dataset.ds_meta_data.title }}\n+                                            </a>\n+                                        </td>\n+                                        <td>{{ local_dataset.ds_meta_data.description }}</td>\n+                                        <td>{{ local_dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                                        <td>\n+                                            <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=local_dataset.id) }}\">\n+                                                <i data-feather=\"eye\"></i>\n+                                            </a>\n+                                            <a href=\"{{ url_for('dataset.download_dataset', dataset_id=local_dataset.id) }}\">\n+                                                <i data-feather=\"download\"></i>\n+                                            </a>\n+                                        </td>\n+                                    </tr>\n+                                {% endfor %}\n+                                </tbody>\n+                            </table>\n+                        </div>\n+                    </div>\n+                </div>\n+            {% endif %}\n+        </div>\n+\n+{% endblock %}"
      },
      {
        "sha": "fcc2e87cdabfb25715a21ce6a1c5dbc880874207",
        "filename": "app/modules/dataset/templates/dataset/upload_dataset.html",
        "status": "added",
        "additions": 532,
        "deletions": 0,
        "changes": 532,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fupload_dataset.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fupload_dataset.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fupload_dataset.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,532 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}Upload dataset{% endblock %}\n+\n+{% block content %}\n+\n+    <h1 class=\"h2 mb-3\"><b>Upload</b> dataset</h1>\n+\n+    <div class=\"row\">\n+        <div class=\"col-12 mb-3\">\n+            <div class=\"alert alert-warning\" role=\"alert\" id=\"test_zenodo_connection_error\" style=\"display: none\">\n+                <div class=\"alert-message\">\n+\n+                    <h4 class=\"alert-heading\"><i class=\"align-middle\" data-feather=\"alert-triangle\"></i> Limited\n+                        connection to the Zenodo API</h4>\n+                    <p class=\"p-0 m-0\">\n+                        There seems to be some kind of problem with the Zenodo API and synchronization of your dataset\n+                        files may not be possible. We will save your files locally to eventually synchronize them with\n+                        Zenodo. Sorry for the inconvenience, Zenodo is an external service and we can't do\n+                        anything about it.\n+                    </p>\n+                </div>\n+            </div>\n+        </div>\n+\n+    </div>\n+\n+    {% if messages %}\n+        <ul>\n+            {% for message in messages %}\n+                <li>{{ message }}</li>\n+            {% endfor %}\n+        </ul>\n+    {% endif %}\n+\n+    <div class=\"row\">\n+\n+        <div class=\"col-xl-6 col-lg-12 col-md-12 col-sm-12\">\n+            <div id=\"basic_info_form\">\n+\n+                {{ form.hidden_tag() }}\n+\n+                <div class=\"row\">\n+\n+                    <div class=\"col-12\">\n+\n+                        <h1 class=\"h3 mb-3\">Basic info</h1>\n+\n+                        <div class=\"row\" style=\"padding-left: 2rem\">\n+\n+                            <div class=\"col-lg-6 col-xs-12 col-md-12\">\n+                                <div class=\"mb-3\">\n+                                    {{ form.title.label(class=\"form-label\") }} *\n+                                    {{ form.title(class=\"form-control\") }}\n+                                    {% for error in form.title.errors %}\n+                                        <span style=\"color: red;\">{{ error }}</span>\n+                                    {% endfor %}\n+                                </div>\n+                            </div>\n+\n+                            <div class=\"col-12\">\n+                                <div class=\"mb-3\">\n+                                    {{ form.desc.label(class=\"form-label\") }} *\n+                                    {{ form.desc(rows=4, class=\"form-control\") }}\n+                                    {% for error in form.desc.errors %}\n+                                        <span style=\"color: red;\">{{ error }}</span>\n+                                    {% endfor %}\n+                                </div>\n+                            </div>\n+\n+                            <div class=\"col-lg-6 col-6\">\n+                                <div class=\"mb-3\">\n+                                    {{ form.publication_type.label(class=\"form-label\") }}\n+                                    {{ form.publication_type(class=\"form-control\") }}\n+                                </div>\n+\n+                            </div>\n+\n+                            <div class=\"col-lg-6 col-6\">\n+                                <div class=\"mb-3\">\n+                                    {{ form.publication_doi.label(class=\"form-label\") }}\n+                                    {{ form.publication_doi(class=\"form-control\") }}\n+                                    {% for error in form.publication_doi.errors %}\n+                                        <span style=\"color: red;\">{{ error }}</span>\n+                                    {% endfor %}\n+                                </div>\n+                            </div>\n+\n+                            <div class=\"col-6\">\n+                                <div class=\"mb-3\">\n+                                    {{ form.tags.label(class=\"form-label\") }}\n+                                    {{ form.tags(class=\"form-control\") }}\n+                                    {% for error in form.tags.errors %}\n+                                        <span style=\"color: red;\">{{ error }}</span>\n+                                    {% endfor %}\n+                                </div>\n+                            </div>\n+\n+                        </div>\n+\n+                        <h1 class=\"h3 mb-3 mt-4\">\n+                          Authors\n+                          <a href=\"#\" data-toggle=\"modal\" data-target=\"#infoModal\">\n+                            <i data-feather=\"info\"></i> <!-- Usamos \"info\" porque Feather no tiene un \u00edcono espec\u00edfico llamado \"feather\" para m\u00e1s info -->\n+                          </a>\n+                        </h1>\n+\n+                        <!-- Modal -->\n+                        <div class=\"modal fade\" id=\"infoModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"infoModalLabel\" aria-hidden=\"true\" style=\"display: none\">\n+                          <div class=\"modal-dialog\" role=\"document\">\n+                            <div class=\"modal-content\">\n+                              <div class=\"modal-header\">\n+                                <h5 class=\"modal-title\" id=\"infoModalLabel\">Informaci\u00f3n Importante</h5>\n+                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n+                                  <span aria-hidden=\"true\">&times;</span>\n+                                </button>\n+                              </div>\n+                              <div class=\"modal-body\">\n+                                \u00a1Cuidado! Los autores no se pueden editar una vez que el dataset se haya subido a UVLHub. Esta funcionalidad estar\u00e1 disponible para futuras versiones.\n+                              </div>\n+                              <div class=\"modal-footer\">\n+                                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cerrar</button>\n+                              </div>\n+                            </div>\n+                          </div>\n+                        </div>\n+\n+                        <div class=\"row\" style=\"padding-left: 2rem\">\n+\n+                            <div class=\"col-lg-6 col-12 mb-3\">\n+                                <label class=\"form-label\">Author name</label>\n+                                <input class=\"form-control\"\n+                                       disabled\n+                                       value=\"{{ current_user.profile.surname }}, {{ current_user.profile.name }}\">\n+                            </div>\n+\n+                            <div class=\"col-lg-6 col-12 mb-3\">\n+                                <label class=\"form-label\">Author affiliation</label>\n+                                <input class=\"form-control\"\n+                                       disabled value=\"{{ current_user.profile.affiliation }}\">\n+                            </div>\n+\n+                            <div class=\"col-lg-6 col-12 mb-3\">\n+                                <label class=\"form-label\">Author ORCID</label>\n+                                <input class=\"form-control\"\n+                                       disabled value=\"{{ current_user.profile.orcid }}\">\n+                            </div>\n+\n+                            <div class=\"col-12\">\n+\n+                                <div class=\"mb-3\">\n+\n+                                    <div id=\"authors\">\n+                                        {% for subform in form.authors %}\n+                                        <div class=\"row author\" {% if not loop.first %}\n+                                            style=\"border:2px dotted #ccc;border-radius:10px;padding:10px;margin:10px 0; background-color: white\"\n+                                            {% endif %}\n+                                        >\n+                                            <div class=\"col-lg-6 col-12 mb-3\">\n+                                                {{ subform.form.name.label(class=\"form-label\") }}\n+                                                {{ subform.form.name(class=\"form-control\", disabled=loop.first) }}\n+                                                {% for error in subform.name.errors %}\n+                                                    <span style=\"color: red;\">{{ error }}</span>\n+                                                {% endfor %}\n+                                            </div>\n+\n+                                            <div class=\"col-lg-6 col-12 mb-3\">\n+                                                {{ subform.form.affiliation.label(class=\"form-label\") }}\n+                                                {{ subform.form.affiliation(class=\"form-control\", disabled=loop.first) }}\n+                                                {% for error in subform.name.errors %}\n+                                                    <span style=\"color: red;\">{{ error }}</span>\n+                                                {% endfor %}\n+                                            </div>\n+\n+                                            <div class=\"col-lg-6 col-12 mb-3\">\n+                                                {{ subform.orcid.label(class=\"form-label\") }}\n+                                                {{ subform.orcid(class=\"form-control\", disabled=loop.first) }}\n+                                                {% for error in subform.orcid.errors %}\n+                                                    <span style=\"color: red;\">{{ error }}</span>\n+                                                {% endfor %}\n+                                            </div>\n+                                        </div>\n+                                        {% endfor %}\n+                                    </div>\n+                                    <button type=\"button\" class=\"btn btn-secondary\" id=\"add_author\">Add author\n+                                    </button>\n+\n+                                </div>\n+\n+                            </div>\n+\n+\n+                        </div>\n+\n+                    </div>\n+\n+                </div>\n+\n+                <div class=\"row\">\n+\n+                    {% if error %}\n+\n+                        <div class=\"mt-3 col-lg-6 col-12\">\n+                            <span style=\"color: red;\">{{ error }}</span>\n+                        </div>\n+\n+                    {% endif %}\n+\n+                </div>\n+\n+\n+            </div>\n+        </div>\n+\n+        <div class=\"col-xl-6 col-lg-12 col-md-12 col-sm-12\">\n+\n+            <h1 class=\"h3 mb-3 mt-2\">UVL models</h1>\n+\n+            <div id=\"uploaded_models_form\" style=\"padding-left: 2rem\">\n+\n+                <form action=\"{{ url_for('dataset.upload') }}\" class=\"dropzone\" id=\"myDropzone\">\n+                    <div id=\"dropzone-text\"></div>\n+                </form>\n+\n+                <span class=\"text-danger\" id=\"alerts\" style=\"display: none\">\n+                    </span>\n+\n+                <ul class=\"mt-2\" id=\"file-list\"></ul>\n+\n+                <script>\n+                    let dropzone = Dropzone.options.myDropzone = {\n+                        url: \"/dataset/file/upload\",\n+                        paramName: 'file',\n+                        maxFilesize: 10,\n+                        acceptedFiles: '.uvl',\n+                        init: function () {\n+\n+                            let fileList = document.getElementById('file-list');\n+                            let dropzoneText = document.getElementById('dropzone-text');\n+                            let alerts = document.getElementById('alerts');\n+\n+                            this.on('addedfile', function (file) {\n+\n+                                let ext = file.name.split('.').pop();\n+                                if (ext !== 'uvl') {\n+                                    this.removeFile(file);\n+\n+                                    let alert = document.createElement('p');\n+                                    alert.textContent = 'Invalid file extension: ' + file.name;\n+                                    alerts.appendChild(alert);\n+                                    alerts.style.display = 'block';\n+                                }\n+\n+                            });\n+\n+                            this.on('success', function (file, response) {\n+\n+                                let dropzone = this;\n+\n+                                show_upload_dataset();\n+\n+                                console.log(\"File uploaded: \", response);\n+                                // actions when UVL model is uploaded\n+                                let listItem = document.createElement('li');\n+                                let h4Element = document.createElement('h4');\n+                                h4Element.textContent = response.filename;\n+                                listItem.appendChild(h4Element);\n+\n+                                // generate incremental id for form\n+                                let formUniqueId = generateIncrementalId();\n+\n+                                /*\n+                                    ##########################################\n+                                    FORM BUTTON\n+                                    ##########################################\n+                                */\n+                                let formButton = document.createElement('button');\n+                                formButton.innerHTML = 'Show info';\n+                                formButton.classList.add('info-button', 'btn', 'btn-outline-secondary', \"btn-sm\");\n+                                formButton.style.borderRadius = '5px';\n+                                formButton.id = formUniqueId + \"_button\";\n+\n+                                formButton.addEventListener('click', function () {\n+                                    if (formContainer.style.display === \"none\") {\n+                                        formContainer.style.display = \"block\";\n+                                        formButton.innerHTML = 'Hide info';\n+                                    } else {\n+                                        formContainer.style.display = \"none\";\n+                                        formButton.innerHTML = 'Add info';\n+                                    }\n+                                });\n+\n+                                // append space\n+                                let space = document.createTextNode(\" \");\n+                                listItem.appendChild(space);\n+\n+                                /*\n+                                    ##########################################\n+                                    REMOVE BUTTON\n+                                    ##########################################\n+                                */\n+\n+                                // remove button\n+                                let removeButton = document.createElement('button');\n+                                removeButton.innerHTML = 'Delete model';\n+                                removeButton.classList.add(\"remove-button\", \"btn\", \"btn-outline-danger\", \"btn-sm\", \"remove-button\");\n+                                removeButton.style.borderRadius = '5px';\n+\n+                                // append space\n+                                space = document.createTextNode(\" \");\n+                                listItem.appendChild(space);\n+\n+                                removeButton.addEventListener('click', function () {\n+                                    fileList.removeChild(listItem);\n+                                    this.removeFile(file);\n+\n+                                    // Ajax request\n+                                    let xhr = new XMLHttpRequest();\n+                                    xhr.open('POST', '/dataset/file/delete', true);\n+                                    xhr.setRequestHeader('Content-Type', 'application/json');\n+                                    xhr.onload = function () {\n+                                        if (xhr.status === 200) {\n+                                            console.log('Deleted file from server');\n+\n+                                            if (dropzone.files.length === 0) {\n+                                                document.getElementById(\"upload_dataset\").style.display = \"none\";\n+                                                clean_upload_errors();\n+                                            }\n+\n+                                        }\n+                                    };\n+                                    xhr.send(JSON.stringify({file: file.name}));\n+                                }.bind(this));\n+\n+                                /*\n+                                    ##########################################\n+                                    APPEND BUTTONS\n+                                    ##########################################\n+                                */\n+                                listItem.appendChild(formButton);\n+                                listItem.appendChild(removeButton);\n+\n+                                /*\n+                                    ##########################################\n+                                    UVL FORM\n+                                    ##########################################\n+                                */\n+\n+                                // create specific form for UVL\n+                                let formContainer = document.createElement('div');\n+                                formContainer.id = formUniqueId + \"_form\";\n+                                formContainer.classList.add('uvl_form', \"mt-3\");\n+                                formContainer.style.display = \"none\";\n+\n+                                formContainer.innerHTML = `\n+                                    <div class=\"row\">\n+                                        <input type=\"hidden\" value=\"${response.filename}\" name=\"feature_models-${formUniqueId}-uvl_filename\">\n+                                        <div class=\"col-12\">\n+                                            <div class=\"row\">\n+                                                <div class=\"col-12\">\n+                                                    <div class=\"mb-3\">\n+                                                        <label class=\"form-label\">Title</label>\n+                                                        <input type=\"text\" class=\"form-control\" name=\"feature_models-${formUniqueId}-title\">\n+                                                    </div>\n+                                                </div>\n+                                                <div class=\"col-12\">\n+                                                    <div class=\"mb-3\">\n+                                                        <label class=\"form-label\">Description</label>\n+                                                        <textarea rows=\"4\" class=\"form-control\" name=\"feature_models-${formUniqueId}-desc\"></textarea>\n+                                                    </div>\n+                                                </div>\n+                                                <div class=\"col-lg-6 col-12\">\n+                                                    <div class=\"mb-3\">\n+                                                        <label class=\"form-label\" for=\"publication_type\">Publication type</label>\n+                                                        <select class=\"form-control\" name=\"feature_models-${formUniqueId}-publication_type\">\n+                                                            <option value=\"none\">None</option>\n+                                                            <option value=\"annotationcollection\">Annotation Collection</option>\n+                                                            <option value=\"book\">Book</option>\n+                                                            <option value=\"section\">Book Section</option>\n+                                                            <option value=\"conferencepaper\">Conference Paper</option>\n+                                                            <option value=\"datamanagementplan\">Data Management Plan</option>\n+                                                            <option value=\"article\">Journal Article</option>\n+                                                            <option value=\"patent\">Patent</option>\n+                                                            <option value=\"preprint\">Preprint</option>\n+                                                            <option value=\"deliverable\">Project Deliverable</option>\n+                                                            <option value=\"milestone\">Project Milestone</option>\n+                                                            <option value=\"proposal\">Proposal</option>\n+                                                            <option value=\"report\">Report</option>\n+                                                            <option value=\"softwaredocumentation\">Software Documentation</option>\n+                                                            <option value=\"taxonomictreatment\">Taxonomic Treatment</option>\n+                                                            <option value=\"technicalnote\">Technical Note</option>\n+                                                            <option value=\"thesis\">Thesis</option>\n+                                                            <option value=\"workingpaper\">Working Paper</option>\n+                                                            <option value=\"other\">Other</option>\n+                                                        </select>\n+                                                    </div>\n+                                                </div>\n+                                                <div class=\"col-lg-6 col-6\">\n+                                                    <div class=\"mb-3\">\n+                                                        <label class=\"form-label\" for=\"publication_doi\">Publication DOI</label>\n+                                                        <input class=\"form-control\" name=\"feature_models-${formUniqueId}-publication_doi\" type=\"text\" value=\"\">\n+                                                    </div>\n+                                                </div>\n+                                                <div class=\"col-6\">\n+                                                    <div class=\"mb-3\">\n+                                                        <label class=\"form-label\">Tags (separated by commas)</label>\n+                                                        <input type=\"text\" class=\"form-control\" name=\"feature_models-${formUniqueId}-tags\">\n+                                                    </div>\n+                                                </div>\n+                                                <div class=\"col-6\">\n+                                                    <div class=\"mb-3\">\n+                                                        <label class=\"form-label\">UVL version</label>\n+                                                        <input type=\"text\" class=\"form-control\" name=\"feature_models-${formUniqueId}-uvl_version\">\n+                                                    </div>\n+                                                </div>\n+                                                <div class=\"col-12\">\n+                                                    <div class=\"mb-3\">\n+                                                        <label class=\"form-label\">Authors</label>\n+                                                        <div id=\"` + formContainer.id + `_authors\">\n+                                                        </div>\n+                                                        <button type=\"button\" class=\"add_author_to_uvl btn btn-secondary\" id=\"` + formContainer.id + `_authors_button\">Add author</button>\n+                                                    </div>\n+                                                </div>\n+                                            </div>\n+                                        </div>\n+                                    </div>\n+                                    `;\n+\n+                                listItem.appendChild(formContainer);\n+                                fileList.appendChild(listItem);\n+\n+                            });\n+\n+                            this.on('error', function (file, response) {\n+                                console.error(\"Error uploading file: \", response);\n+                                let alert = document.createElement('p');\n+                                alert.textContent = 'UVL not valid: ' + file.name;\n+                                alerts.appendChild(alert);\n+                                alerts.style.display = 'block';\n+                            });\n+\n+                        }\n+                    };\n+\n+\n+                </script>\n+\n+            </div>\n+        </div>\n+\n+    </div>\n+\n+    <div class=\"row\" id=\"upload_dataset\" style=\"display: none\">\n+\n+        <div class=\"col-12\">\n+\n+            <hr>\n+\n+            <h1 class=\"h3 mb-3 mt-2\">Upload dataset</h1>\n+\n+            <div style=\"padding-left: 2rem\">\n+\n+                <label class=\"form-check\">\n+                    <input id=\"agreeCheckbox\" class=\"form-check-input\" type=\"checkbox\" value=\"\">\n+                    <span class=\"form-check-label\" style=\"font-size: 15px\">\n+                                I agree to have my feature models automatically uploaded to Zenodo and made available to the public according to the <a\n+                            href=\"https://en.wikipedia.org/wiki/Open_science\" target=\"_blank\">Open Science</a> manifesto\n+                            </span>\n+                </label>\n+\n+                <button id=\"upload_button\" class=\"btn btn-primary mt-2\" disabled>\n+                    <i data-feather=\"upload\" class=\"center-button-icon\"></i>\n+                    Upload dataset</button>\n+\n+                <div id=\"loading\" style=\"display: none\">\n+                    <img width=\"40px\" src=\"{{ url_for(\"static\", filename=\"gifs/loading.svg\") }}\"/>\n+                    Uploading dataset, please wait...\n+                </div>\n+\n+                <div class=\"row\">\n+                    <div class=\"col-12 mb-3\">\n+\n+                    </div>\n+                </div>\n+\n+                <div class=\"alert alert-error\" role=\"alert\" id=\"upload_error\"\n+                     style=\"display: none\">\n+                    <div class=\"alert-message\">\n+\n+                        <h4 class=\"alert-heading\"><i class=\"align-middle\" data-feather=\"alert-triangle\"></i> Limited\n+                            connection to the Zenodo API</h4>\n+                        <p class=\"p-0 m-0\">\n+                            There seems to be some kind of problem with the Zenodo API and synchronization of your\n+                            dataset\n+                            files may not be possible. We will save your files locally to eventually synchronize\n+                            them with\n+                            Zenodo. Sorry for the inconvenience, Zenodo is an external service and we can't do\n+                            anything about it.\n+                        </p>\n+                    </div>\n+                </div>\n+\n+\n+                <span class=\"text-danger mt-2\" id=\"upload_error\" style=\"display: none\">\n+\n+                    </span>\n+\n+                <script>\n+                    const checkbox = document.getElementById('agreeCheckbox');\n+                    const upload_button = document.getElementById('upload_button');\n+\n+                    checkbox.addEventListener('change', function () {\n+                        upload_button.disabled = !checkbox.checked;\n+                    });\n+                </script>\n+\n+            </div>\n+\n+\n+\n+\n+        </div>\n+\n+    </div>\n+\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('zenodo.scripts') }}\"></script>\n+    <script src=\"{{ url_for('dataset.scripts') }}\"></script>\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "6246ba957094975080fd4ecd7df8be4c9f93af80",
        "filename": "app/modules/dataset/templates/dataset/view_dataset.html",
        "status": "added",
        "additions": 497,
        "deletions": 0,
        "changes": 497,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftemplates%2Fdataset%2Fview_dataset.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,497 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View dataset{% endblock %}\n+\n+{% block head_extra %}\n+<style>\n+    .option-button {\n+        display: block;\n+        width: 100%;\n+        margin-bottom: 5px;\n+    }\n+\n+    .option-button:last-child {\n+        margin-bottom: 0;\n+    }\n+</style>\n+{% endblock %}\n+\n+{% block content %}\n+\n+<div class=\"row mb-3\">\n+\n+    <div class=\"col-6\">\n+        <a href=\"/explore\" class=\"btn btn-primary btn-sm\" id=\"search\" style=\"border-radius: 5px;\">\n+            <i data-feather=\"search\" class=\"center-button-icon\"></i>\n+            Explore more datasets\n+        </a>\n+    </div>\n+\n+</div>\n+\n+<div class=\"row\">\n+\n+    <div class=\"col-xl-8 col-lg-12 col-md-12 col-sm-12\">\n+\n+        <div class=\"card\">\n+            <div class=\"card-body\">\n+                <div class=\"d-flex align-items-center justify-content-between\">\n+                    <h1><b>{{ dataset.ds_meta_data.title }}</b></h1>\n+                    <div>\n+                        <span class=\"badge bg-secondary\">{{ dataset.get_cleaned_publication_type() }}</span>\n+                    </div>\n+                </div>\n+                <p class=\"text-secondary\">{{ dataset.created_at.strftime('%B %d, %Y at %I:%M %p') }}</p>\n+\n+                <div class=\"row mb-4\">\n+\n+                    <div class=\"col-md-4 col-12\">\n+                        <span class=\" text-secondary\">\n+                            Description\n+                        </span>\n+                    </div>\n+                    <div class=\"col-md-8 col-12\">\n+                        <p class=\"card-text\">{{ dataset.ds_meta_data.description }}</p>\n+                    </div>\n+\n+                </div>\n+\n+                <div class=\"row mb-2\">\n+\n+                    <div class=\"col-md-4 col-12\">\n+                        <span class=\" text-secondary\">\n+                            Uploaded by\n+                        </span>\n+                    </div>\n+                    <div class=\"col-md-8 col-12\">\n+                        <a href=\"#\">{{ dataset.user.profile.surname }}, {{ dataset.user.profile.name }}</a>\n+                    </div>\n+\n+                </div>\n+\n+                <div class=\"row mb-2\">\n+\n+                    <div class=\"col-md-4 col-12\">\n+                        <span class=\" text-secondary\">\n+                            Authors\n+                        </span>\n+                    </div>\n+                    <div class=\"col-md-8 col-12\">\n+                        {% for author in dataset.ds_meta_data.authors %}\n+                        <p class=\"p-0 m-0\">\n+                            {{ author.name }}\n+                            {% if author.affiliation %}\n+                            ({{ author.affiliation }})\n+                            {% endif %}\n+                            {% if author.orcid %}\n+                            ({{ author.orcid }})\n+                            {% endif %}\n+                        </p>\n+                        {% endfor %}\n+                    </div>\n+\n+\n+                </div>\n+\n+                {% if dataset.ds_meta_data.publication_doi %}\n+                <div class=\"row mb-2\">\n+                    <div class=\"col-md-4 col-12\">\n+                        <span class=\"text-secondary\">\n+                            Publication DOI\n+                        </span>\n+                    </div>\n+                    <div class=\"col-md-8 col-12\">\n+                        <a href=\"{{ dataset.ds_meta_data.publication_doi }}\">\n+                            {{ dataset.ds_meta_data.publication_doi }}\n+                        </a>\n+                    </div>\n+                </div>\n+                {% endif %}\n+\n+                {% if dataset.ds_meta_data.dataset_doi %}\n+                <div class=\"row mb-2\">\n+                    \n+                        <div class=\"col-md-4 col-12\">\n+                            <span class=\" text-secondary\">\n+                                Zenodo record\n+                            </span>\n+                        </div>\n+\n+                        {% if FLASK_ENV == 'production' %}\n+                            <div class=\"col-md-8 col-12\">\n+                                <a href=\"https://zenodo.org/records/{{ dataset.ds_meta_data.deposition_id }}\" target=\"_blank\">\n+                                    https://zenodo.org/records/{{ dataset.ds_meta_data.deposition_id }}\n+                                </a>\n+                            </div>\n+                        {% elif FLASK_ENV == 'development' %}\n+                            <div class=\"col-md-8 col-12\">\n+                                <a href=\"https://sandbox.zenodo.org/records/{{ dataset.ds_meta_data.deposition_id }}\" target=\"_blank\">\n+                                    https://sandbox.zenodo.org/records/{{ dataset.ds_meta_data.deposition_id }}\n+                                </a>\n+                            </div>\n+                        {% else %}\n+                            <div class=\"col-md-8 col-12\">\n+                                <a href=\"https://zenodo.org/records/{{ dataset.ds_meta_data.deposition_id }}\" target=\"_blank\">\n+                                    https://sandbox.zenodo.org/records/{{ dataset.ds_meta_data.deposition_id }}\n+                                </a>\n+                            </div>\n+                        {% endif %}\n+\n+                </div>\n+                {% endif %}\n+                <div class=\"row mb-2\">\n+\n+                    <div class=\"col-md-4 col-12\">\n+                        <span class=\" text-secondary\">\n+                            Tags\n+                        </span>\n+                    </div>\n+                    <div class=\"col-md-8 col-12\">\n+                        {% for tag in dataset.ds_meta_data.tags.split(',') %}\n+                        <span class=\"badge bg-secondary\">{{ tag.strip() }}</span>\n+                        {% endfor %}\n+                    </div>\n+\n+                </div>\n+\n+                \n+\n+            </div>\n+\n+            {% if dataset.ds_meta_data.dataset_doi %}\n+            <div class=\"card-body\" style=\"padding-top: 0px\">\n+\n+                <div id=\"dataset_doi_uvlhub\" style=\"display: none\">\n+                    {{ dataset.get_uvlhub_doi() }}\n+                </div>\n+\n+                <button type=\"button\" class=\"btn doi_button btn-sm\" onclick=\"copyText('dataset_doi_uvlhub')\">\n+                    <span class=\"button_doi_id\">\n+                        <i data-feather=\"clipboard\" class=\"center-button-icon\" style=\"cursor: pointer\"></i>\n+                        <b>DOI</b>\n+                    </span>\n+                    <span class=\"doi_text\">\n+                        {{ dataset.get_uvlhub_doi() }}\n+                    </span>\n+                </button>\n+                \n+                <div id=\"dataset_doi_uvlhub\" style=\"display: none\">\n+                    {{ dataset.get_uvlhub_doi() }}\n+                </div>\n+                \n+            </div>\n+            {% endif %}\n+\n+        </div>\n+\n+        <div class=\"card\">\n+\n+            <div class=\"card-body\">\n+\n+                <h3> Related publication </h3>\n+                \n+                David Romero-Organvidez, Jos\u00e9 A. Galindo, Chico Sundermann, Jose-Miguel Horcas, David Benavides,\n+                <i>UVLHub: A feature model data repository using UVL and open science principles</i>,\n+                Journal of Systems and Software,\n+                2024,\n+                112150,\n+                ISSN 0164-1212,\n+                <a href=\"https://doi.org/10.1016/j.jss.2024.112150\" target=\"_blank\">https://doi.org/10.1016/j.jss.2024.112150</a>\n+\n+            </div>\n+\n+            <div class=\"card-body mt-0 pt-0\">\n+\n+                <button onclick=\"copyText('bibtex_cite')\" class=\"btn btn-light btn-sm\" style=\"border-radius: 5px; margin-right: 10px\">\n+                    <i data-feather=\"clipboard\" class=\"center-button-icon\"></i>\n+                    Copy in BibTex\n+                </button>\n+\n+                <button onclick=\"copyText('ris_cite')\" class=\"btn btn-light btn-sm\" style=\"border-radius: 5px;\">\n+                    <i data-feather=\"clipboard\" class=\"center-button-icon\"></i>\n+                    Copy in RIS\n+                </button>\n+\n+                <button onclick=\"copyText('apa_cite')\" class=\"btn btn-light btn-sm\" style=\"border-radius: 5px;\">\n+                    <i data-feather=\"clipboard\" class=\"center-button-icon\"></i>\n+                    Copy in APA\n+                </button>\n+\n+                <button onclick=\"copyText('text_cite')\" class=\"btn btn-light btn-sm\" style=\"border-radius: 5px;\">\n+                    <i data-feather=\"clipboard\" class=\"center-button-icon\"></i>\n+                    Copy in text\n+                </button>\n+\n+            </div>\n+\n+        </div>\n+\n+\n+    </div>\n+\n+    <div class=\"col-xl-4 col-lg-12 col-md-12 col-sm-12\">\n+\n+        <div class=\"list-group\">\n+\n+            <div class=\"list-group-item\">\n+\n+                <div class=\"row\">\n+                    <div class=\"col-12 d-flex justify-content-between align-items-center\">\n+                        <h4 style=\"margin-bottom: 0px\">UVL models</h4>\n+                        <h4 style=\"margin-bottom: 0px;\"><span class=\"badge bg-dark\">{{ dataset.get_files_count() }}</span></h4>\n+                    </div>\n+                </div>\n+                \n+\n+            </div>\n+            \n+\n+            {% for feature_model in dataset.feature_models %}\n+                {% for file in feature_model.files %}\n+                    <div class=\"list-group-item\">\n+                        \n+                        <div class=\"row\">\n+                            <div class=\"col-12\">\n+\n+                                <div class=\"row\">\n+                                    <div class=\"col-8\">\n+                                        <i data-feather=\"file\"></i> {{ file.name }}\n+                                        <br>\n+                                        <small class=\"text-muted\">({{ file.get_formatted_size() }})</small>\n+                                    </div>\n+                                    <div class=\"col-2\">\n+                                        <div id=\"check_{{ file.id }}\">\n+                                        </div>\n+                                    </div>\n+                                </div>\n+\n+                                \n+                            </div>\n+                            <div class=\"col-12 text-end\" >\n+\n+                                <button onclick=\"viewFile('{{ file.id }}')\" class=\"btn btn-outline-secondary btn-sm\" style=\"border-radius: 5px;\">\n+                                    <i data-feather=\"eye\"></i> View\n+                                </button>\n+\n+                                <div class=\"btn-group\" role=\"group\">\n+                                    <button id=\"btnGroupDrop{{ file.id }}\" type=\"button\" class=\"btn btn-outline-primary btn-sm dropdown-toggle\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\" style=\" border-radius: 5px;\">\n+                                        <i data-feather=\"check\"></i> Check\n+                                    </button>\n+                                    <ul class=\"dropdown-menu\" aria-labelledby=\"btnGroupDrop{{ file.id }}\">\n+                                        <li>\n+                                            <a class=\"dropdown-item\" href=\"javascript:void(0);\" onclick=\"checkUVL('{{ file.id }}')\">Syntax check</a>\n+                                        </li>\n+                                        <!--\n+                                        <li>\n+                                            <a class=\"dropdown-item\" href=\"{{ url_for('flamapy.valid', file_id=file.id) }}\">SAT validity check</a>\n+                                        </li>\n+                                        -->\n+                                    </ul>\n+                                </div>\n+                                \n+                                <div class=\"btn-group\" role=\"group\">\n+                                    <button id=\"btnGroupDropExport{{ file.id }}\" type=\"button\" class=\"btn btn-primary btn-sm dropdown-toggle\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\" style=\" border-radius: 5px;\">\n+                                        <i data-feather=\"download\"></i> Export\n+                                    </button>\n+                                    <ul class=\"dropdown-menu\" aria-labelledby=\"btnGroupDropExport{{ file.id }}\">\n+                                        <li>\n+                                            <a class=\"dropdown-item\" href=\"{{ url_for('hubfile.download_file', file_id=file.id) }}\">\n+                                                UVL\n+                                            </a>\n+                                            <a class=\"dropdown-item\" href=\"{{ url_for('flamapy.to_glencoe', file_id=file.id) }}\">\n+                                                Glencoe\n+                                            </a>\n+                                        </li>\n+                                        <li>\n+                                            <a class=\"dropdown-item\" href=\"{{ url_for('flamapy.to_cnf', file_id=file.id) }}\">\n+                                                DIMACS\n+                                            </a>\n+                                        </li>\n+                                        <li>\n+                                            <a class=\"dropdown-item\" href=\"{{ url_for('flamapy.to_splot', file_id=file.id) }}\">\n+                                                SPLOT\n+                                            </a>\n+                                        </li>\n+                                    </ul>\n+                                </div>\n+                                \n+                                \n+\n+                            </div>\n+                        </div>\n+                    </div>\n+                {% endfor %}\n+            {% endfor %}\n+        </div>\n+        \n+        \n+    \n+        <a href=\"/dataset/download/{{ dataset.id }}\" class=\"btn btn-primary mt-3\" style=\"border-radius: 5px;\">\n+            <i data-feather=\"download\" class=\"center-button-icon\"></i>\n+            Download all ({{ dataset.get_file_total_size_for_human() }})\n+        </a>\n+    </div>\n+    \n+</div>\n+\n+<!-- Modal-->\n+<div class=\"modal fade\" id=\"fileViewerModal\" tabindex=\"-1\" aria-labelledby=\"fileViewerModalLabel\" aria-hidden=\"true\">\n+    <div class=\"modal-dialog modal-lg\" style=\"height: 80vh; display: flex; align-items: center;\">\n+        <div class=\"modal-content\" style=\"height: 80vh;\">\n+            <div class=\"modal-header\" style=\"display: flex; justify-content: space-between; align-items: center;\">\n+                <h5 class=\"modal-title\" id=\"fileViewerModalLabel\">Feature model view</h5>\n+                <div>\n+                    <a href=\"#\" class=\"btn btn-outline-primary btn-sm\" id=\"downloadButton\"\n+                        style=\"margin-right: 5px; margin-bottom: 5px; border-radius: 5px;\">\n+                        <i data-feather=\"download\"></i>\n+                    </a>\n+                    <button onclick=\"copyToClipboard()\" class=\"btn btn-outline-secondary btn-sm\"\n+                        style=\"margin-right: 5px; margin-bottom: 5px; border-radius: 5px;\">\n+                        <i data-feather=\"copy\"></i>\n+                    </button>\n+                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n+                </div>\n+            </div>\n+            <div class=\"modal-body\" style=\"overflow-y: auto; height: calc(100vh - 50px);\">\n+                <pre id=\"fileContent\" style=\"height: 100%; overflow-y: auto; white-space: pre-wrap; word-wrap: break-word; background-color: #f5f5f5; padding: 20px; border-radius: 5px; border: 1px solid #ccc;\"></pre>\n+\n+            </div>\n+        </div>\n+    </div>\n+</div>\n+\n+<script type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js\"></script>\n+\n+\n+\n+<script>\n+    document.addEventListener('DOMContentLoaded', function () {\n+        feather.replace();\n+    });\n+\n+    var currentFileId;\n+\n+    function viewFile(fileId) {\n+        fetch(`/file/view/${fileId}`)\n+            .then(response => response.json())\n+            .then(data => {\n+                document.getElementById('fileContent').textContent = data.content;\n+                currentFileId = fileId;\n+                document.getElementById('downloadButton').href = `/file/download/${fileId}`;\n+                var modal = new bootstrap.Modal(document.getElementById('fileViewerModal'));\n+                modal.show();\n+            })\n+            .catch(error => console.error('Error loading file:', error));\n+    }\n+\n+    function showLoading() {\n+        document.getElementById(\"loading\").style.display = \"initial\";\n+    }\n+\n+    function hideLoading() {\n+        document.getElementById(\"loading\").style.display = \"none\";\n+    }\n+\n+    function checkUVL(file_id) {\n+    const outputDiv = document.getElementById('check_' + file_id);\n+    outputDiv.innerHTML = ''; // Clear previous output\n+\n+    fetch(`/flamapy/check_uvl/${file_id}`)\n+        .then(response => {\n+            return response.json().then(data => ({\n+                status: response.status,\n+                data\n+            }));\n+        })\n+        .then(({ status, data }) => {\n+            if (status === 400) {\n+                // Display errors\n+                if (data.errors) {\n+                    outputDiv.innerHTML = '<span class=\"badge badge-danger\">Errors:</span>';\n+                    data.errors.forEach(error => {\n+                        const errorElement = document.createElement('span');\n+                        errorElement.className = 'badge badge-danger';\n+                        errorElement.textContent = error;\n+                        outputDiv.appendChild(errorElement);\n+                        outputDiv.appendChild(document.createElement('br')); // Line break for better readability\n+                    });\n+                } else {\n+                    outputDiv.innerHTML = `<span class=\"badge badge-danger\">Error: ${data.error}</span>`;\n+                }\n+            } else if (status === 200) {\n+                // Display success message\n+                outputDiv.innerHTML = '<span class=\"badge badge-success\">Valid Model</span>';\n+            } else {\n+                // Handle unexpected status\n+                outputDiv.innerHTML = `<span class=\"badge badge-warning\">Unexpected response status: ${status}</span>`;\n+            }\n+        })\n+        .catch(error => {\n+            // Handle fetch errors\n+            outputDiv.innerHTML = `<span class=\"badge badge-danger\">An unexpected error occurred: ${error.message}</span>`;\n+        });\n+}\n+\n+\n+    /*\n+    async function valid() {\n+        showLoading()\n+        let pyodide = await loadPyodide();\n+        await pyodide.loadPackage(\"micropip\");\n+        const micropip = pyodide.pyimport(\"micropip\");\n+        //await micropip.install(\"/assets/web_assembly/antlr4_python3_runtime-4.7.2-py3-none-any.whl\");\n+        await micropip.install(\"antlr4-python3-runtime==4.13.1\");\n+        await micropip.install(\"uvlparser==2.0.1\");\n+        //await micropip.install(\"afmparser==1.0.0\");\n+\n+        await pyodide.runPythonAsync(\n+        `\n+            import micropip\n+            #await micropip.install(\"flamapy-fm-dist\", deps=False)#this is to avoid problems with deps later on\n+            await micropip.install(\"flamapy==2.0.1.dev1\", deps=False);\n+            await micropip.install(\"flamapy-fm==2.0.1.dev1\", deps=False);\n+            await micropip.install(\"flamapy-sat\");\n+        `\n+        )\n+        hideLoading()\n+\n+        try {\n+            let output = pyodide.runPython(\n+            `\n+            import js\n+\n+            file_content = js.document.getElementById('fileContent').textContent \n+            div = js.document.createElement(\"result\")\n+\n+            with open(\"uvlfile.uvl\", \"w\") as text_file:\n+                print(file_content, file=text_file)\n+\n+            from flamapy.interfaces.python.FLAMAFeatureModel import FLAMAFeatureModel\n+\n+            fm = FLAMAFeatureModel(\"uvlfile.uvl\")\n+            result=fm.valid()\n+\n+            div.innerHTML = \"<div id='deleteme'>\"+str(result)+\"</div>\"\n+            exists=js.document.getElementById('deleteme')\n+            if(exists):\n+                exists.remove()\n+\n+            js.document.getElementById('result').append(div)\n+            `\n+        );\n+        } catch (err) {\n+            console.log(err);\n+        }\n+    }\n+    */\n+    function copyToClipboard() {\n+        const text = document.getElementById('fileContent').textContent;\n+        navigator.clipboard.writeText(text).then(() => {\n+            console.log('Text copied to clipboard');\n+        }).catch(err => {\n+            console.error('Failed to copy text: ', err);\n+        });\n+    }\n+</script>\n+\n+{% endblock %}"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/dataset/tests/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "8337b2ff3e8a6a9548ec897c8721e36a71fc69fb",
        "filename": "app/modules/dataset/tests/locustfile.py",
        "status": "added",
        "additions": 20,
        "deletions": 0,
        "changes": 20,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Flocustfile.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,20 @@\n+from locust import HttpUser, TaskSet, task\n+from core.locust.common import get_csrf_token\n+from core.environment.host import get_host_for_locust_testing\n+\n+\n+class DatasetBehavior(TaskSet):\n+    def on_start(self):\n+        self.dataset()\n+\n+    @task\n+    def dataset(self):\n+        response = self.client.get(\"/dataset/upload\")\n+        get_csrf_token(response)\n+\n+\n+class DatasetUser(HttpUser):\n+    tasks = [DatasetBehavior]\n+    min_wait = 5000\n+    max_wait = 9000\n+    host = get_host_for_locust_testing()"
      },
      {
        "sha": "6f601972cbba66c0b635a532d3733db27c084feb",
        "filename": "app/modules/dataset/tests/test_selenium.py",
        "status": "added",
        "additions": 135,
        "deletions": 0,
        "changes": 135,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Ftests%2Ftest_selenium.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,135 @@\n+import os\n+import time\n+\n+from selenium.webdriver.common.by import By\n+from selenium.webdriver.common.keys import Keys\n+from selenium.webdriver.support.ui import WebDriverWait\n+\n+from core.environment.host import get_host_for_selenium_testing\n+from core.selenium.common import initialize_driver, close_driver\n+\n+\n+def wait_for_page_to_load(driver, timeout=4):\n+    WebDriverWait(driver, timeout).until(\n+        lambda driver: driver.execute_script(\"return document.readyState\") == \"complete\"\n+    )\n+\n+\n+def count_datasets(driver, host):\n+    driver.get(f\"{host}/dataset/list\")\n+    wait_for_page_to_load(driver)\n+\n+    try:\n+        amount_datasets = len(driver.find_elements(By.XPATH, \"//table//tbody//tr\"))\n+    except Exception:\n+        amount_datasets = 0\n+    return amount_datasets\n+\n+\n+def test_upload_dataset():\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the login page\n+        driver.get(f\"{host}/login\")\n+        wait_for_page_to_load(driver)\n+\n+        # Find the username and password field and enter the values\n+        email_field = driver.find_element(By.NAME, \"email\")\n+        password_field = driver.find_element(By.NAME, \"password\")\n+\n+        email_field.send_keys(\"user1@example.com\")\n+        password_field.send_keys(\"1234\")\n+\n+        # Send the form\n+        password_field.send_keys(Keys.RETURN)\n+        wait_for_page_to_load(driver)\n+\n+        # Count initial datasets\n+        initial_datasets = count_datasets(driver, host)\n+\n+        # Open the upload dataset\n+        driver.get(f\"{host}/dataset/upload\")\n+        wait_for_page_to_load(driver)\n+\n+        # Find basic info and UVL model and fill values\n+        title_field = driver.find_element(By.NAME, \"title\")\n+        title_field.send_keys(\"Title\")\n+        desc_field = driver.find_element(By.NAME, \"desc\")\n+        desc_field.send_keys(\"Description\")\n+        tags_field = driver.find_element(By.NAME, \"tags\")\n+        tags_field.send_keys(\"tag1,tag2\")\n+\n+        # Add two authors and fill\n+        add_author_button = driver.find_element(By.ID, \"add_author\")\n+        add_author_button.send_keys(Keys.RETURN)\n+        wait_for_page_to_load(driver)\n+        add_author_button.send_keys(Keys.RETURN)\n+        wait_for_page_to_load(driver)\n+\n+        name_field0 = driver.find_element(By.NAME, \"authors-0-name\")\n+        name_field0.send_keys(\"Author0\")\n+        affiliation_field0 = driver.find_element(By.NAME, \"authors-0-affiliation\")\n+        affiliation_field0.send_keys(\"Club0\")\n+        orcid_field0 = driver.find_element(By.NAME, \"authors-0-orcid\")\n+        orcid_field0.send_keys(\"0000-0000-0000-0000\")\n+\n+        name_field1 = driver.find_element(By.NAME, \"authors-1-name\")\n+        name_field1.send_keys(\"Author1\")\n+        affiliation_field1 = driver.find_element(By.NAME, \"authors-1-affiliation\")\n+        affiliation_field1.send_keys(\"Club1\")\n+\n+        # Obt\u00e9n las rutas absolutas de los archivos\n+        file1_path = os.path.abspath(\"app/modules/dataset/uvl_examples/file1.uvl\")\n+        file2_path = os.path.abspath(\"app/modules/dataset/uvl_examples/file2.uvl\")\n+\n+        # Subir el primer archivo\n+        dropzone = driver.find_element(By.CLASS_NAME, \"dz-hidden-input\")\n+        dropzone.send_keys(file1_path)\n+        wait_for_page_to_load(driver)\n+\n+        # Subir el segundo archivo\n+        dropzone = driver.find_element(By.CLASS_NAME, \"dz-hidden-input\")\n+        dropzone.send_keys(file2_path)\n+        wait_for_page_to_load(driver)\n+\n+        # Add authors in UVL models\n+        show_button = driver.find_element(By.ID, \"0_button\")\n+        show_button.send_keys(Keys.RETURN)\n+        add_author_uvl_button = driver.find_element(By.ID, \"0_form_authors_button\")\n+        add_author_uvl_button.send_keys(Keys.RETURN)\n+        wait_for_page_to_load(driver)\n+\n+        name_field = driver.find_element(By.NAME, \"feature_models-0-authors-2-name\")\n+        name_field.send_keys(\"Author3\")\n+        affiliation_field = driver.find_element(By.NAME, \"feature_models-0-authors-2-affiliation\")\n+        affiliation_field.send_keys(\"Club3\")\n+\n+        # Check I agree and send form\n+        check = driver.find_element(By.ID, \"agreeCheckbox\")\n+        check.send_keys(Keys.SPACE)\n+        wait_for_page_to_load(driver)\n+\n+        upload_btn = driver.find_element(By.ID, \"upload_button\")\n+        upload_btn.send_keys(Keys.RETURN)\n+        wait_for_page_to_load(driver)\n+        time.sleep(2)  # Force wait time\n+\n+        assert driver.current_url == f\"{host}/dataset/list\", \"Test failed!\"\n+\n+        # Count final datasets\n+        final_datasets = count_datasets(driver, host)\n+        assert final_datasets == initial_datasets + 1, \"Test failed!\"\n+\n+        print(\"Test passed!\")\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+# Call the test function\n+test_upload_dataset()"
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file1.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile1.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile1.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile1.uvl?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file10.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile10.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile10.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile10.uvl?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file11.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile11.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile11.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile11.uvl?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file12.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile12.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile12.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile12.uvl?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file2.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile2.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile2.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile2.uvl?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file3.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile3.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile3.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile3.uvl?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file4.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile4.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile4.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile4.uvl?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file5.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile5.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile5.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile5.uvl?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file6.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile6.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile6.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile6.uvl?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file7.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile7.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile7.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile7.uvl?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file8.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile8.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile8.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile8.uvl?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "2468f3dc2130148db5edcce6128edbaa8c06da87",
        "filename": "app/modules/dataset/uvl_examples/file9.uvl",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile9.uvl",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile9.uvl",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fdataset%2Fuvl_examples%2Ffile9.uvl?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,19 @@\n+features\n+    Chat\n+        mandatory\n+            Connection\n+                alternative\n+                    \"Peer 2 Peer\"\n+                    Server\n+            Messages\n+                or\n+                    Text\n+                    Video\n+                    Audio\n+        optional\n+            \"Data Storage\"\n+            \"Media Player\"\n+\n+constraints\n+    Server => \"Data Storage\"\n+    Video | Audio => \"Media Player\""
      },
      {
        "sha": "e26eb1d71fee5609a6a2c087532e98ade7a604be",
        "filename": "app/modules/explore/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fexplore%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fexplore%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fexplore%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+explore_bp = BaseBlueprint('explore', __name__, template_folder='templates')"
      },
      {
        "sha": "2966e778826ec5ae7c093d75f60b7385a58806c1",
        "filename": "app/modules/explore/assets/scripts.js",
        "status": "added",
        "additions": 205,
        "deletions": 0,
        "changes": 205,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fexplore%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fexplore%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fexplore%2Fassets%2Fscripts.js?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,205 @@\n+document.addEventListener('DOMContentLoaded', () => {\n+    send_query();\n+});\n+\n+function send_query() {\n+\n+    console.log(\"send query...\")\n+\n+    document.getElementById('results').innerHTML = '';\n+    document.getElementById(\"results_not_found\").style.display = \"none\";\n+    console.log(\"hide not found icon\");\n+\n+    const filters = document.querySelectorAll('#filters input, #filters select, #filters [type=\"radio\"]');\n+\n+    filters.forEach(filter => {\n+        filter.addEventListener('input', () => {\n+            const csrfToken = document.getElementById('csrf_token').value;\n+\n+            const searchCriteria = {\n+                csrf_token: csrfToken,\n+                query: document.querySelector('#query').value,\n+                publication_type: document.querySelector('#publication_type').value,\n+                sorting: document.querySelector('[name=\"sorting\"]:checked').value,\n+            };\n+\n+            console.log(document.querySelector('#publication_type').value);\n+\n+            fetch('/explore', {\n+                method: 'POST',\n+                headers: {\n+                    'Content-Type': 'application/json',\n+                },\n+                body: JSON.stringify(searchCriteria),\n+            })\n+                .then(response => response.json())\n+                .then(data => {\n+\n+                    console.log(data);\n+                    document.getElementById('results').innerHTML = '';\n+\n+                    // results counter\n+                    const resultCount = data.length;\n+                    const resultText = resultCount === 1 ? 'dataset' : 'datasets';\n+                    document.getElementById('results_number').textContent = `${resultCount} ${resultText} found`;\n+\n+                    if (resultCount === 0) {\n+                        console.log(\"show not found icon\");\n+                        document.getElementById(\"results_not_found\").style.display = \"block\";\n+                    } else {\n+                        document.getElementById(\"results_not_found\").style.display = \"none\";\n+                    }\n+\n+\n+                    data.forEach(dataset => {\n+                        let card = document.createElement('div');\n+                        card.className = 'col-12';\n+                        card.innerHTML = `\n+                            <div class=\"card\">\n+                                <div class=\"card-body\">\n+                                    <div class=\"d-flex align-items-center justify-content-between\">\n+                                        <h3><a href=\"${dataset.url}\">${dataset.title}</a></h3>\n+                                        <div>\n+                                            <span class=\"badge bg-primary\" style=\"cursor: pointer;\" onclick=\"set_publication_type_as_query('${dataset.publication_type}')\">${dataset.publication_type}</span>\n+                                        </div>\n+                                    </div>\n+                                    <p class=\"text-secondary\">${formatDate(dataset.created_at)}</p>\n+\n+                                    <div class=\"row mb-2\">\n+\n+                                        <div class=\"col-md-4 col-12\">\n+                                            <span class=\" text-secondary\">\n+                                                Description\n+                                            </span>\n+                                        </div>\n+                                        <div class=\"col-md-8 col-12\">\n+                                            <p class=\"card-text\">${dataset.description}</p>\n+                                        </div>\n+\n+                                    </div>\n+\n+                                    <div class=\"row mb-2\">\n+\n+                                        <div class=\"col-md-4 col-12\">\n+                                            <span class=\" text-secondary\">\n+                                                Authors\n+                                            </span>\n+                                        </div>\n+                                        <div class=\"col-md-8 col-12\">\n+                                            ${dataset.authors.map(author => `\n+                                                <p class=\"p-0 m-0\">${author.name}${author.affiliation ? ` (${author.affiliation})` : ''}${author.orcid ? ` (${author.orcid})` : ''}</p>\n+                                            `).join('')}\n+                                        </div>\n+\n+                                    </div>\n+\n+                                    <div class=\"row mb-2\">\n+\n+                                        <div class=\"col-md-4 col-12\">\n+                                            <span class=\" text-secondary\">\n+                                                Tags\n+                                            </span>\n+                                        </div>\n+                                        <div class=\"col-md-8 col-12\">\n+                                            ${dataset.tags.map(tag => `<span class=\"badge bg-primary me-1\" style=\"cursor: pointer;\" onclick=\"set_tag_as_query('${tag}')\">${tag}</span>`).join('')}\n+                                        </div>\n+\n+                                    </div>\n+\n+                                    <div class=\"row\">\n+\n+                                        <div class=\"col-md-4 col-12\">\n+\n+                                        </div>\n+                                        <div class=\"col-md-8 col-12\">\n+                                            <a href=\"${dataset.url}\" class=\"btn btn-outline-primary btn-sm\" id=\"search\" style=\"border-radius: 5px;\">\n+                                                View dataset\n+                                            </a>\n+                                            <a href=\"/dataset/download/${dataset.id}\" class=\"btn btn-outline-primary btn-sm\" id=\"search\" style=\"border-radius: 5px;\">\n+                                                Download (${dataset.total_size_in_human_format})\n+                                            </a>\n+                                        </div>\n+\n+\n+                                    </div>\n+\n+                                </div>\n+                            </div>\n+                        `;\n+\n+                        document.getElementById('results').appendChild(card);\n+                    });\n+                });\n+        });\n+    });\n+}\n+\n+function formatDate(dateString) {\n+    const options = {day: 'numeric', month: 'long', year: 'numeric', hour: 'numeric', minute: 'numeric'};\n+    const date = new Date(dateString);\n+    return date.toLocaleString('en-US', options);\n+}\n+\n+function set_tag_as_query(tagName) {\n+    const queryInput = document.getElementById('query');\n+    queryInput.value = tagName.trim();\n+    queryInput.dispatchEvent(new Event('input', {bubbles: true}));\n+}\n+\n+function set_publication_type_as_query(publicationType) {\n+    const publicationTypeSelect = document.getElementById('publication_type');\n+    for (let i = 0; i < publicationTypeSelect.options.length; i++) {\n+        if (publicationTypeSelect.options[i].text === publicationType.trim()) {\n+            // Set the value of the select to the value of the matching option\n+            publicationTypeSelect.value = publicationTypeSelect.options[i].value;\n+            break;\n+        }\n+    }\n+    publicationTypeSelect.dispatchEvent(new Event('input', {bubbles: true}));\n+}\n+\n+document.getElementById('clear-filters').addEventListener('click', clearFilters);\n+\n+function clearFilters() {\n+\n+    // Reset the search query\n+    let queryInput = document.querySelector('#query');\n+    queryInput.value = \"\";\n+    // queryInput.dispatchEvent(new Event('input', {bubbles: true}));\n+\n+    // Reset the publication type to its default value\n+    let publicationTypeSelect = document.querySelector('#publication_type');\n+    publicationTypeSelect.value = \"any\"; // replace \"any\" with whatever your default value is\n+    // publicationTypeSelect.dispatchEvent(new Event('input', {bubbles: true}));\n+\n+    // Reset the sorting option\n+    let sortingOptions = document.querySelectorAll('[name=\"sorting\"]');\n+    sortingOptions.forEach(option => {\n+        option.checked = option.value == \"newest\"; // replace \"default\" with whatever your default value is\n+        // option.dispatchEvent(new Event('input', {bubbles: true}));\n+    });\n+\n+    // Perform a new search with the reset filters\n+    queryInput.dispatchEvent(new Event('input', {bubbles: true}));\n+}\n+\n+document.addEventListener('DOMContentLoaded', () => {\n+\n+    //let queryInput = document.querySelector('#query');\n+    //queryInput.dispatchEvent(new Event('input', {bubbles: true}));\n+\n+    let urlParams = new URLSearchParams(window.location.search);\n+    let queryParam = urlParams.get('query');\n+\n+    if (queryParam && queryParam.trim() !== '') {\n+\n+        const queryInput = document.getElementById('query');\n+        queryInput.value = queryParam\n+        queryInput.dispatchEvent(new Event('input', {bubbles: true}));\n+        console.log(\"throw event\");\n+\n+    } else {\n+        const queryInput = document.getElementById('query');\n+        queryInput.dispatchEvent(new Event('input', {bubbles: true}));\n+    }\n+});\n\\ No newline at end of file"
      },
      {
        "sha": "aeecfe91fcc0578b65df2bc65560658e6b3c5c33",
        "filename": "app/modules/explore/forms.py",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fexplore%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fexplore%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fexplore%2Fforms.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,6 @@\n+from flask_wtf import FlaskForm\n+from wtforms import SubmitField\n+\n+\n+class ExploreForm(FlaskForm):\n+    submit = SubmitField('Submit')"
      },
      {
        "sha": "29ae7a24b58460b8765c1aeef6fc487d6ffb0029",
        "filename": "app/modules/explore/repositories.py",
        "status": "added",
        "additions": 61,
        "deletions": 0,
        "changes": 61,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fexplore%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fexplore%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fexplore%2Frepositories.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,61 @@\n+import re\n+from sqlalchemy import any_, or_\n+import unidecode\n+from app.modules.dataset.models import Author, DSMetaData, DataSet, PublicationType\n+from app.modules.featuremodel.models import FMMetaData, FeatureModel\n+from core.repositories.BaseRepository import BaseRepository\n+\n+\n+class ExploreRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(DataSet)\n+\n+    def filter(self, query=\"\", sorting=\"newest\", publication_type=\"any\", tags=[], **kwargs):\n+        # Normalize and remove unwanted characters\n+        normalized_query = unidecode.unidecode(query).lower()\n+        cleaned_query = re.sub(r'[,.\":\\'()\\[\\]^;!\u00a1\u00bf?]', \"\", normalized_query)\n+\n+        filters = []\n+        for word in cleaned_query.split():\n+            filters.append(DSMetaData.title.ilike(f\"%{word}%\"))\n+            filters.append(DSMetaData.description.ilike(f\"%{word}%\"))\n+            filters.append(Author.name.ilike(f\"%{word}%\"))\n+            filters.append(Author.affiliation.ilike(f\"%{word}%\"))\n+            filters.append(Author.orcid.ilike(f\"%{word}%\"))\n+            filters.append(FMMetaData.uvl_filename.ilike(f\"%{word}%\"))\n+            filters.append(FMMetaData.title.ilike(f\"%{word}%\"))\n+            filters.append(FMMetaData.description.ilike(f\"%{word}%\"))\n+            filters.append(FMMetaData.publication_doi.ilike(f\"%{word}%\"))\n+            filters.append(FMMetaData.tags.ilike(f\"%{word}%\"))\n+            filters.append(DSMetaData.tags.ilike(f\"%{word}%\"))\n+\n+        datasets = (\n+            self.model.query\n+            .join(DataSet.ds_meta_data)\n+            .join(DSMetaData.authors)\n+            .join(DataSet.feature_models)\n+            .join(FeatureModel.fm_meta_data)\n+            .filter(or_(*filters))\n+            .filter(DSMetaData.dataset_doi.isnot(None))  # Exclude datasets with empty dataset_doi\n+        )\n+\n+        if publication_type != \"any\":\n+            matching_type = None\n+            for member in PublicationType:\n+                if member.value.lower() == publication_type:\n+                    matching_type = member\n+                    break\n+\n+            if matching_type is not None:\n+                datasets = datasets.filter(DSMetaData.publication_type == matching_type.name)\n+\n+        if tags:\n+            datasets = datasets.filter(DSMetaData.tags.ilike(any_(f\"%{tag}%\" for tag in tags)))\n+\n+        # Order by created_at\n+        if sorting == \"oldest\":\n+            datasets = datasets.order_by(self.model.created_at.asc())\n+        else:\n+            datasets = datasets.order_by(self.model.created_at.desc())\n+\n+        return datasets.all()"
      },
      {
        "sha": "489b36f50dd89c351ce67a298056648a25eedee8",
        "filename": "app/modules/explore/routes.py",
        "status": "added",
        "additions": 18,
        "deletions": 0,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fexplore%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fexplore%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fexplore%2Froutes.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,18 @@\n+from flask import render_template, request, jsonify\n+\n+from app.modules.explore import explore_bp\n+from app.modules.explore.forms import ExploreForm\n+from app.modules.explore.services import ExploreService\n+\n+\n+@explore_bp.route('/explore', methods=['GET', 'POST'])\n+def index():\n+    if request.method == 'GET':\n+        query = request.args.get('query', '')\n+        form = ExploreForm()\n+        return render_template('explore/index.html', form=form, query=query)\n+\n+    if request.method == 'POST':\n+        criteria = request.get_json()\n+        datasets = ExploreService().filter(**criteria)\n+        return jsonify([dataset.to_dict() for dataset in datasets])"
      },
      {
        "sha": "db4670655386ed6d00b4aa8b61db2e91da54352b",
        "filename": "app/modules/explore/services.py",
        "status": "added",
        "additions": 10,
        "deletions": 0,
        "changes": 10,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fexplore%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fexplore%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fexplore%2Fservices.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,10 @@\n+from app.modules.explore.repositories import ExploreRepository\n+from core.services.BaseService import BaseService\n+\n+\n+class ExploreService(BaseService):\n+    def __init__(self):\n+        super().__init__(ExploreRepository())\n+\n+    def filter(self, query=\"\", sorting=\"newest\", publication_type=\"any\", tags=[], **kwargs):\n+        return self.repository.filter(query, sorting, publication_type, tags, **kwargs)"
      },
      {
        "sha": "3ab05cabf9007c3efb4048ca43ce48b84ea65681",
        "filename": "app/modules/explore/templates/explore/index.html",
        "status": "added",
        "additions": 155,
        "deletions": 0,
        "changes": 155,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fexplore%2Ftemplates%2Fexplore%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fexplore%2Ftemplates%2Fexplore%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fexplore%2Ftemplates%2Fexplore%2Findex.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,155 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}Explore{% endblock %}\n+\n+{% block content %}\n+\n+    <h1 class=\"h2 mb-3\"><b>Explore</b></h1>\n+\n+    <div class=\"row\">\n+\n+        <h3 class=\"h3 mb-3\">\n+                <span id=\"results_number\"></span>\n+            </h3>\n+\n+        <div class=\"col-lg-7 scrollable-column\">\n+\n+\n+            <div class=\"row\">\n+\n+                <div id=\"results\"></div>\n+\n+                <div class=\"col text-center\" id=\"results_not_found\">\n+                    <img src=\"{{ url_for('static', filename='img/items/not_found.svg') }}\"\n+                         style=\"width: 50%; max-width: 100px; height: auto; margin-top: 30px\"/>\n+                    <p style=\"margin-top: 20px\">\n+                        We have not found any datasets that meet your search criteria. <br>How about trying some others?\n+                    </p>\n+                </div>\n+\n+                <div id=\"results_not_found\" style=\"text-align: center;\">\n+\n+                </div>\n+\n+\n+            </div>\n+        </div>\n+\n+        <div class=\"col-lg-5 fixed-column\" id=\"filters\">\n+\n+            {{ form.hidden_tag() }}\n+\n+            <div class=\"row\">\n+\n+                <div class=\"col-12\">\n+\n+                    <div class=\"row\">\n+\n+                        <div class=\"col-12\">\n+                            <div class=\"mb-3\">\n+                                <label class=\"form-label\" for=\"query\">\n+                                    Search for datasets by title, description, authors, tags, UVL files...\n+                                </label>\n+                                <input class=\"form-control\" id=\"query\" name=\"query\" required=\"\" type=\"text\"\n+                                       value=\"\" autofocus>\n+                            </div>\n+                        </div>\n+\n+                        <div class=\"col-lg-6\">\n+                            <div class=\"mb-3\">\n+                                <label class=\"form-label\" for=\"publication_type\">Filter by publication\n+                                    type</label>\n+                                <select class=\"form-control\" id=\"publication_type\" name=\"publication_type\"\n+                                        required=\"\">\n+                                    <option value=\"any\">Any</option>\n+                                    <option value=\"none\">None</option>\n+                                    <option value=\"annotationcollection\">Annotation Collection</option>\n+                                    <option value=\"book\">Book</option>\n+                                    <option value=\"section\">Book Section</option>\n+                                    <option value=\"conferencepaper\">Conference Paper</option>\n+                                    <option value=\"datamanagementplan\">Data Management Plan</option>\n+                                    <option value=\"article\">Journal Article</option>\n+                                    <option value=\"patent\">Patent</option>\n+                                    <option value=\"preprint\">Preprint</option>\n+                                    <option value=\"deliverable\">Project Deliverable</option>\n+                                    <option value=\"milestone\">Project Milestone</option>\n+                                    <option value=\"proposal\">Proposal</option>\n+                                    <option value=\"report\">Report</option>\n+                                    <option value=\"softwaredocumentation\">Software Documentation</option>\n+                                    <option value=\"taxonomictreatment\">Taxonomic Treatment</option>\n+                                    <option value=\"technicalnote\">Technical Note</option>\n+                                    <option value=\"thesis\">Thesis</option>\n+                                    <option value=\"workingpaper\">Working Paper</option>\n+                                    <option value=\"other\">Other</option>\n+                                </select>\n+                            </div>\n+\n+                        </div>\n+\n+                    </div>\n+\n+                    <div class=\"row\">\n+\n+                        <div class=\"col-6\">\n+\n+                            <div>\n+                                Sort results by creation date\n+                                <label class=\"form-check\">\n+                                    <input class=\"form-check-input\" type=\"radio\" value=\"newest\" name=\"sorting\"\n+                                           checked=\"\">\n+                                    <span class=\"form-check-label\">\n+                                      Newest first\n+                                    </span>\n+                                </label>\n+                                <label class=\"form-check\">\n+                                    <input class=\"form-check-input\" type=\"radio\" value=\"oldest\" name=\"sorting\">\n+                                    <span class=\"form-check-label\">\n+                                      Oldest first\n+                                    </span>\n+                                </label>\n+                            </div>\n+\n+                        </div>\n+\n+                    </div>\n+\n+                    <div class=\"row\">\n+\n+                        <div class=\"col-12\">\n+\n+                            <div class=\"mt-3\">\n+\n+                                <div id=\"authors\">\n+\n+                                </div>\n+\n+                                <button id=\"clear-filters\" class=\"btn btn-outline-primary\">\n+                                    <i data-feather=\"x-circle\" style=\"vertical-align: middle; margin-top: -2px\"></i>\n+                                    Clear filters\n+                                </button>\n+\n+\n+                            </div>\n+\n+                        </div>\n+                    </div>\n+\n+                </div>\n+\n+            </div>\n+\n+            <div class=\"row\">\n+\n+            </div>\n+\n+        </div>\n+\n+\n+    </div>\n+\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('explore.scripts') }}\"></script>\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "1985b2059b6cf46e6081428163fb32f77b870713",
        "filename": "app/modules/featuremodel/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffeaturemodel%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+featuremodel_bp = BaseBlueprint('featuremodel', __name__, template_folder='templates')"
      },
      {
        "sha": "2da3c876a2136a6cf3dbfc7b113d325eb66458e0",
        "filename": "app/modules/featuremodel/assets/scripts.js",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffeaturemodel%2Fassets%2Fscripts.js?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script loaded from featuremodel module\");"
      },
      {
        "sha": "49913c891917cf8aaa3129e01ff5e64dfcb0ba9e",
        "filename": "app/modules/featuremodel/forms.py",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffeaturemodel%2Fforms.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,6 @@\n+from flask_wtf import FlaskForm\n+from wtforms import SubmitField\n+\n+\n+class FeaturemodelForm(FlaskForm):\n+    submit = SubmitField('Save featuremodel')"
      },
      {
        "sha": "c51f8977e163bc2b92420c0ef640d81964bf9067",
        "filename": "app/modules/featuremodel/models.py",
        "status": "added",
        "additions": 42,
        "deletions": 0,
        "changes": 42,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffeaturemodel%2Fmodels.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,42 @@\n+from app import db\n+from sqlalchemy import Enum as SQLAlchemyEnum\n+\n+from app.modules.dataset.models import Author, PublicationType\n+\n+\n+class FeatureModel(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+    data_set_id = db.Column(db.Integer, db.ForeignKey('data_set.id'), nullable=False)\n+    fm_meta_data_id = db.Column(db.Integer, db.ForeignKey('fm_meta_data.id'))\n+    files = db.relationship('Hubfile', backref='feature_model', lazy=True, cascade=\"all, delete\")\n+    fm_meta_data = db.relationship('FMMetaData', uselist=False, backref='feature_model', cascade=\"all, delete\")\n+\n+    def __repr__(self):\n+        return f'FeatureModel<{self.id}>'\n+\n+\n+class FMMetaData(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+    uvl_filename = db.Column(db.String(120), nullable=False)\n+    title = db.Column(db.String(120), nullable=False)\n+    description = db.Column(db.Text, nullable=False)\n+    publication_type = db.Column(SQLAlchemyEnum(PublicationType), nullable=False)\n+    publication_doi = db.Column(db.String(120))\n+    tags = db.Column(db.String(120))\n+    uvl_version = db.Column(db.String(120))\n+    fm_metrics_id = db.Column(db.Integer, db.ForeignKey('fm_metrics.id'))\n+    fm_metrics = db.relationship('FMMetrics', uselist=False, backref='fm_meta_data')\n+    authors = db.relationship('Author', backref='fm_metadata', lazy=True, cascade=\"all, delete\",\n+                              foreign_keys=[Author.fm_meta_data_id])\n+\n+    def __repr__(self):\n+        return f'FMMetaData<{self.title}'\n+\n+\n+class FMMetrics(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+    solver = db.Column(db.Text)\n+    not_solver = db.Column(db.Text)\n+\n+    def __repr__(self):\n+        return f'FMMetrics<solver={self.solver}, not_solver={self.not_solver}>'"
      },
      {
        "sha": "4f6685ae0f6b9fbaf01cff1b49dcf6c0d695f3be",
        "filename": "app/modules/featuremodel/repositories.py",
        "status": "added",
        "additions": 18,
        "deletions": 0,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffeaturemodel%2Frepositories.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,18 @@\n+\n+from sqlalchemy import func\n+from app.modules.featuremodel.models import FMMetaData, FeatureModel\n+from core.repositories.BaseRepository import BaseRepository\n+\n+\n+class FeatureModelRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(FeatureModel)\n+\n+    def count_feature_models(self) -> int:\n+        max_id = self.model.query.with_entities(func.max(self.model.id)).scalar()\n+        return max_id if max_id is not None else 0\n+\n+\n+class FMMetaDataRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(FMMetaData)"
      },
      {
        "sha": "a47e6fcb29a19d11f1cd541fb217e8fd936a803f",
        "filename": "app/modules/featuremodel/routes.py",
        "status": "added",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffeaturemodel%2Froutes.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,7 @@\n+from flask import render_template\n+from app.modules.featuremodel import featuremodel_bp\n+\n+\n+@featuremodel_bp.route('/featuremodel', methods=['GET'])\n+def index():\n+    return render_template('featuremodel/index.html')"
      },
      {
        "sha": "f7d27c1528c5abb220b0e0d423e319a745c90686",
        "filename": "app/modules/featuremodel/seeders.py",
        "status": "added",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffeaturemodel%2Fseeders.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,12 @@\n+from core.seeders.BaseSeeder import BaseSeeder\n+\n+\n+class FeaturemodelSeeder(BaseSeeder):\n+\n+    def run(self):\n+\n+        data = [\n+            # Create any Model object you want to make seed\n+        ]\n+\n+        self.seed(data)"
      },
      {
        "sha": "d6fad6c8f0e15a6f19a276f934f8922984346664",
        "filename": "app/modules/featuremodel/services.py",
        "status": "added",
        "additions": 22,
        "deletions": 0,
        "changes": 22,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffeaturemodel%2Fservices.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,22 @@\n+from app.modules.featuremodel.repositories import FMMetaDataRepository, FeatureModelRepository\n+from app.modules.hubfile.services import HubfileService\n+from core.services.BaseService import BaseService\n+\n+\n+class FeatureModelService(BaseService):\n+    def __init__(self):\n+        super().__init__(FeatureModelRepository())\n+        self.hubfile_service = HubfileService()\n+\n+    def total_feature_model_views(self) -> int:\n+        return self.hubfile_service.total_hubfile_views()\n+\n+    def total_feature_model_downloads(self) -> int:\n+        return self.hubfile_service.total_hubfile_downloads()\n+\n+    def count_feature_models(self):\n+        return self.repository.count_feature_models()\n+\n+    class FMMetaDataService(BaseService):\n+        def __init__(self):\n+            super().__init__(FMMetaDataRepository())"
      },
      {
        "sha": "01597e4a6b06a9d36028d01965324dd8ffa33ffd",
        "filename": "app/modules/featuremodel/templates/featuremodel/index.html",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Ftemplates%2Ffeaturemodel%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Ftemplates%2Ffeaturemodel%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffeaturemodel%2Ftemplates%2Ffeaturemodel%2Findex.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,11 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View featuremodel{% endblock %}\n+\n+{% block content %}\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('featuremodel.scripts') }}\"></script>\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/featuremodel/tests/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffeaturemodel%2Ftests%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "71160998b0b1b7f87e0c2a29b2c4fe1f34af9c3e",
        "filename": "app/modules/featuremodel/tests/locustfile.py",
        "status": "added",
        "additions": 21,
        "deletions": 0,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffeaturemodel%2Ftests%2Flocustfile.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,21 @@\n+from locust import HttpUser, TaskSet, task\n+from core.environment.host import get_host_for_locust_testing\n+\n+\n+class FeaturemodelBehavior(TaskSet):\n+    def on_start(self):\n+        self.index()\n+\n+    @task\n+    def index(self):\n+        response = self.client.get(\"/featuremodel\")\n+\n+        if response.status_code != 200:\n+            print(f\"Featuremodel index failed: {response.status_code}\")\n+\n+\n+class FeaturemodelUser(HttpUser):\n+    tasks = [FeaturemodelBehavior]\n+    min_wait = 5000\n+    max_wait = 9000\n+    host = get_host_for_locust_testing()"
      },
      {
        "sha": "92e025d8c566ecd3e736276992e3c279d7077cdb",
        "filename": "app/modules/featuremodel/tests/test_selenium.py",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffeaturemodel%2Ftests%2Ftest_selenium.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,35 @@\n+from selenium.common.exceptions import NoSuchElementException\n+import time\n+\n+from core.environment.host import get_host_for_selenium_testing\n+from core.selenium.common import initialize_driver, close_driver\n+\n+\n+def test_featuremodel_index():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}/featuremodel')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(4)\n+\n+        try:\n+\n+            pass\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Test failed!')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+# Call the test function\n+test_featuremodel_index()"
      },
      {
        "sha": "950421eb7b4ee15f00b45f83730c55dd2dda9336",
        "filename": "app/modules/featuremodel/tests/test_unit.py",
        "status": "added",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Ffeaturemodel%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Ffeaturemodel%2Ftests%2Ftest_unit.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,24 @@\n+import pytest\n+\n+\n+@pytest.fixture(scope='module')\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    \"\"\"\n+    with test_client.application.app_context():\n+        # Add HERE new elements to the database that you want to exist in the test context.\n+        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+        pass\n+\n+    yield test_client\n+\n+\n+def test_sample_assertion(test_client):\n+    \"\"\"\n+    Sample test to verify that the test framework and environment are working correctly.\n+    It does not communicate with the Flask application; it only performs a simple assertion to\n+    confirm that the tests in this module can be executed.\n+    \"\"\"\n+    greeting = \"Hello, World!\"\n+    assert greeting == \"Hello, World!\", \"The greeting does not coincide with 'Hello, World!'\""
      },
      {
        "sha": "17f2d8133d83b3e60dd0c2ceb7c2908877d2bba4",
        "filename": "app/modules/flamapy/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fflamapy%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+flamapy_bp = BaseBlueprint('flamapy', __name__, template_folder='templates')"
      },
      {
        "sha": "888aaa6de2608b31e145a171347404b6be236018",
        "filename": "app/modules/flamapy/assets/scripts.js",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fflamapy%2Fassets%2Fscripts.js?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script from flamapy module ;)\")\n\\ No newline at end of file"
      },
      {
        "sha": "39c42b5e7809bc6c0b1af4ebf144c76537cdf8ee",
        "filename": "app/modules/flamapy/forms.py",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fflamapy%2Fforms.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,6 @@\n+from flask_wtf import FlaskForm\n+from wtforms import SubmitField\n+\n+\n+class FlamapyForm(FlaskForm):\n+    submit = SubmitField('Save flamapy')"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/flamapy/models.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fflamapy%2Fmodels.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "b9fe86f0a1a1b99940891294c1ce3b819a36d3ba",
        "filename": "app/modules/flamapy/repositories.py",
        "status": "added",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fflamapy%2Frepositories.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,7 @@\n+from app.modules.flamapy.models import Flamapy\n+from core.repositories.BaseRepository import BaseRepository\n+\n+\n+class FlamapyRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(Flamapy)"
      },
      {
        "sha": "d12f2c72d1e5496b79fc20e86342206d88cac236",
        "filename": "app/modules/flamapy/routes.py",
        "status": "added",
        "additions": 117,
        "deletions": 0,
        "changes": 117,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fflamapy%2Froutes.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,117 @@\n+import logging\n+from app.modules.hubfile.services import HubfileService\n+from flask import send_file, jsonify\n+from app.modules.flamapy import flamapy_bp\n+from flamapy.metamodels.fm_metamodel.transformations import UVLReader, GlencoeWriter, SPLOTWriter\n+from flamapy.metamodels.pysat_metamodel.transformations import FmToPysat, DimacsWriter\n+import tempfile\n+import os\n+\n+from antlr4 import CommonTokenStream, FileStream\n+from uvl.UVLCustomLexer import UVLCustomLexer\n+from uvl.UVLPythonParser import UVLPythonParser\n+from antlr4.error.ErrorListener import ErrorListener\n+\n+logger = logging.getLogger(__name__)\n+\n+\n+@flamapy_bp.route('/flamapy/check_uvl/<int:file_id>', methods=['GET'])\n+def check_uvl(file_id):\n+    class CustomErrorListener(ErrorListener):\n+        def __init__(self):\n+            self.errors = []\n+\n+        def syntaxError(self, recognizer, offendingSymbol, line, column, msg, e):\n+            if \"\\\\t\" in msg:\n+                warning_message = (\n+                    f\"The UVL has the following warning that prevents reading it: \"\n+                    f\"Line {line}:{column} - {msg}\"\n+                )\n+                print(warning_message)\n+                self.errors.append(warning_message)\n+            else:\n+                error_message = (\n+                    f\"The UVL has the following error that prevents reading it: \"\n+                    f\"Line {line}:{column} - {msg}\"\n+                )\n+                self.errors.append(error_message)\n+\n+    try:\n+        hubfile = HubfileService().get_by_id(file_id)\n+        input_stream = FileStream(hubfile.get_path())\n+        lexer = UVLCustomLexer(input_stream)\n+\n+        error_listener = CustomErrorListener()\n+\n+        lexer.removeErrorListeners()\n+        lexer.addErrorListener(error_listener)\n+\n+        stream = CommonTokenStream(lexer)\n+        parser = UVLPythonParser(stream)\n+\n+        parser.removeErrorListeners()\n+        parser.addErrorListener(error_listener)\n+\n+        # tree = parser.featureModel()\n+\n+        if error_listener.errors:\n+            return jsonify({\"errors\": error_listener.errors}), 400\n+\n+        # Optional: Print the parse tree\n+        # print(tree.toStringTree(recog=parser))\n+\n+        return jsonify({\"message\": \"Valid Model\"}), 200\n+\n+    except Exception as e:\n+        return jsonify({\"error\": str(e)}), 500\n+\n+\n+@flamapy_bp.route('/flamapy/valid/<int:file_id>', methods=['GET'])\n+def valid(file_id):\n+    return jsonify({\"success\": True, \"file_id\": file_id})\n+\n+\n+@flamapy_bp.route('/flamapy/to_glencoe/<int:file_id>', methods=['GET'])\n+def to_glencoe(file_id):\n+    temp_file = tempfile.NamedTemporaryFile(suffix='.json', delete=False)\n+    try:\n+        hubfile = HubfileService().get_or_404(file_id)\n+        fm = UVLReader(hubfile.get_path()).transform()\n+        GlencoeWriter(temp_file.name, fm).transform()\n+\n+        # Return the file in the response\n+        return send_file(temp_file.name, as_attachment=True, download_name=f'{hubfile.name}_glencoe.txt')\n+    finally:\n+        # Clean up the temporary file\n+        os.remove(temp_file.name)\n+\n+\n+@flamapy_bp.route('/flamapy/to_splot/<int:file_id>', methods=['GET'])\n+def to_splot(file_id):\n+    temp_file = tempfile.NamedTemporaryFile(suffix='.splx', delete=False)\n+    try:\n+        hubfile = HubfileService().get_by_id(file_id)\n+        fm = UVLReader(hubfile.get_path()).transform()\n+        SPLOTWriter(temp_file.name, fm).transform()\n+\n+        # Return the file in the response\n+        return send_file(temp_file.name, as_attachment=True, download_name=f'{hubfile.name}_splot.txt')\n+    finally:\n+        # Clean up the temporary file\n+        os.remove(temp_file.name)\n+\n+\n+@flamapy_bp.route('/flamapy/to_cnf/<int:file_id>', methods=['GET'])\n+def to_cnf(file_id):\n+    temp_file = tempfile.NamedTemporaryFile(suffix='.cnf', delete=False)\n+    try:\n+        hubfile = HubfileService().get_by_id(file_id)\n+        fm = UVLReader(hubfile.get_path()).transform()\n+        sat = FmToPysat(fm).transform()\n+        DimacsWriter(temp_file.name, sat).transform()\n+\n+        # Return the file in the response\n+        return send_file(temp_file.name, as_attachment=True, download_name=f'{hubfile.name}_cnf.txt')\n+    finally:\n+        # Clean up the temporary file\n+        os.remove(temp_file.name)"
      },
      {
        "sha": "45172294f0a9b66005216d2082f928567cb46fbc",
        "filename": "app/modules/flamapy/seeders.py",
        "status": "added",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fflamapy%2Fseeders.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,12 @@\n+from core.seeders.BaseSeeder import BaseSeeder\n+\n+\n+class FlamapySeeder(BaseSeeder):\n+\n+    def run(self):\n+\n+        data = [\n+            # Create any Model object you want to make seed\n+        ]\n+\n+        self.seed(data)"
      },
      {
        "sha": "e0f09de2bf0d87c8de15a5d754bcc40eccce861a",
        "filename": "app/modules/flamapy/services.py",
        "status": "added",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fflamapy%2Fservices.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,7 @@\n+from app.modules.flamapy.repositories import FlamapyRepository\n+from core.services.BaseService import BaseService\n+\n+\n+class FlamapyService(BaseService):\n+    def __init__(self):\n+        super().__init__(FlamapyRepository())"
      },
      {
        "sha": "f75ff78988e9ded441122a03b99fb6a1fd9f4c7e",
        "filename": "app/modules/flamapy/templates/flamapy/index.html",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Ftemplates%2Fflamapy%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Ftemplates%2Fflamapy%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fflamapy%2Ftemplates%2Fflamapy%2Findex.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,11 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View flamapy{% endblock %}\n+\n+{% block content %}\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('flamapy.scripts') }}\"></script>\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/flamapy/tests/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fflamapy%2Ftests%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "1e73253e3c068bf19c18b91459cd65fffbc8bf7e",
        "filename": "app/modules/flamapy/tests/locustfile.py",
        "status": "added",
        "additions": 21,
        "deletions": 0,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fflamapy%2Ftests%2Flocustfile.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,21 @@\n+from locust import HttpUser, TaskSet, task\n+from core.environment.host import get_host_for_locust_testing\n+\n+\n+class FlamapyBehavior(TaskSet):\n+    def on_start(self):\n+        self.index()\n+\n+    @task\n+    def index(self):\n+        response = self.client.get(\"/flamapy\")\n+\n+        if response.status_code != 200:\n+            print(f\"Flamapy index failed: {response.status_code}\")\n+\n+\n+class FlamapyUser(HttpUser):\n+    tasks = [FlamapyBehavior]\n+    min_wait = 5000\n+    max_wait = 9000\n+    host = get_host_for_locust_testing()"
      },
      {
        "sha": "c182ff2b20cb451751c46912af7ae16fdb54c5a1",
        "filename": "app/modules/flamapy/tests/test_selenium.py",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fflamapy%2Ftests%2Ftest_selenium.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,35 @@\n+from selenium.common.exceptions import NoSuchElementException\n+import time\n+\n+from core.environment.host import get_host_for_selenium_testing\n+from core.selenium.common import initialize_driver, close_driver\n+\n+\n+def test_flamapy_index():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}/flamapy')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(4)\n+\n+        try:\n+\n+            pass\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Test failed!')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+# Call the test function\n+test_flamapy_index()"
      },
      {
        "sha": "950421eb7b4ee15f00b45f83730c55dd2dda9336",
        "filename": "app/modules/flamapy/tests/test_unit.py",
        "status": "added",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fflamapy%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fflamapy%2Ftests%2Ftest_unit.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,24 @@\n+import pytest\n+\n+\n+@pytest.fixture(scope='module')\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    \"\"\"\n+    with test_client.application.app_context():\n+        # Add HERE new elements to the database that you want to exist in the test context.\n+        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+        pass\n+\n+    yield test_client\n+\n+\n+def test_sample_assertion(test_client):\n+    \"\"\"\n+    Sample test to verify that the test framework and environment are working correctly.\n+    It does not communicate with the Flask application; it only performs a simple assertion to\n+    confirm that the tests in this module can be executed.\n+    \"\"\"\n+    greeting = \"Hello, World!\"\n+    assert greeting == \"Hello, World!\", \"The greeting does not coincide with 'Hello, World!'\""
      },
      {
        "sha": "21a20dd81c8787d37deba2e96334aeab1f4fd80a",
        "filename": "app/modules/hubfile/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+hubfile_bp = BaseBlueprint('hubfile', __name__, template_folder='templates')"
      },
      {
        "sha": "6d3a6790f5c445f222344252acc7bb88d5bc1b7e",
        "filename": "app/modules/hubfile/assets/scripts.js",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Fassets%2Fscripts.js?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script loaded from hubfile module\");"
      },
      {
        "sha": "0e946b4787a859d05038fb1f37850f79de4a48d5",
        "filename": "app/modules/hubfile/forms.py",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Fforms.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,6 @@\n+from flask_wtf import FlaskForm\n+from wtforms import SubmitField\n+\n+\n+class HubfileForm(FlaskForm):\n+    submit = SubmitField('Save hubfile')"
      },
      {
        "sha": "76b2bdac9cdf84aeb7f679f3d5a08bee9067dd4e",
        "filename": "app/modules/hubfile/models.py",
        "status": "added",
        "additions": 72,
        "deletions": 0,
        "changes": 72,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Fmodels.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,72 @@\n+from datetime import datetime, timezone\n+from flask import request\n+from app import db\n+from app.modules.auth.models import User\n+from app.modules.dataset.models import DataSet\n+\n+\n+class Hubfile(db.Model):\n+    __tablename__ = 'file'\n+    id = db.Column(db.Integer, primary_key=True)\n+    name = db.Column(db.String(120), nullable=False)\n+    checksum = db.Column(db.String(120), nullable=False)\n+    size = db.Column(db.Integer, nullable=False)\n+    feature_model_id = db.Column(db.Integer, db.ForeignKey('feature_model.id'), nullable=False)\n+\n+    def get_formatted_size(self):\n+        from app.modules.dataset.services import SizeService\n+        return SizeService().get_human_readable_size(self.size)\n+\n+    def get_owner_user(self) -> User:\n+        from app.modules.hubfile.services import HubfileService\n+        return HubfileService().get_owner_user_by_hubfile(self)\n+\n+    def get_dataset(self) -> DataSet:\n+        from app.modules.hubfile.services import HubfileService\n+        return HubfileService().get_dataset_by_hubfile(self)\n+\n+    def get_path(self) -> DataSet:\n+        from app.modules.hubfile.services import HubfileService\n+        return HubfileService().get_path_by_hubfile(self)\n+\n+    def to_dict(self):\n+        return {\n+            'id': self.id,\n+            'name': self.name,\n+            'checksum': self.checksum,\n+            'size_in_bytes': self.size,\n+            'size_in_human_format': self.get_formatted_size(),\n+            'url': f'{request.host_url.rstrip(\"/\")}/file/download/{self.id}',\n+        }\n+\n+    def __repr__(self):\n+        return f'File<{self.id}>'\n+\n+\n+class HubfileViewRecord(db.Model):\n+    __tablename__ = 'file_view_record'\n+    id = db.Column(db.Integer, primary_key=True)\n+    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=True)\n+    file_id = db.Column(db.Integer, db.ForeignKey('file.id'), nullable=False)\n+    view_date = db.Column(db.DateTime, default=lambda: datetime.now(timezone.utc))\n+    view_cookie = db.Column(db.String(36))\n+\n+    def __repr__(self):\n+        return '<FileViewRecord {}>'.format(self.id)\n+\n+\n+class HubfileDownloadRecord(db.Model):\n+    __tablename__ = 'file_download_record'\n+    id = db.Column(db.Integer, primary_key=True)\n+    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=True)\n+    file_id = db.Column(db.Integer, db.ForeignKey('file.id'))\n+    download_date = db.Column(db.DateTime, nullable=False, default=lambda: datetime.now(timezone.utc))\n+    download_cookie = db.Column(db.String(36), nullable=False)\n+\n+    def __repr__(self):\n+        return (\n+            f'<FileDownload id={self.id} '\n+            f'file_id={self.file_id} '\n+            f'date={self.download_date} '\n+            f'cookie={self.download_cookie}>'\n+        )"
      },
      {
        "sha": "fec554e7245e900ac41af2923ea1063af28d3258",
        "filename": "app/modules/hubfile/repositories.py",
        "status": "added",
        "additions": 43,
        "deletions": 0,
        "changes": 43,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Frepositories.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,43 @@\n+from sqlalchemy import func\n+from app.modules.auth.models import User\n+from app.modules.dataset.models import DataSet\n+from app.modules.featuremodel.models import FeatureModel\n+from app.modules.hubfile.models import Hubfile, HubfileDownloadRecord, HubfileViewRecord\n+from core.repositories.BaseRepository import BaseRepository\n+from app import db\n+\n+\n+class HubfileRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(Hubfile)\n+\n+    def get_owner_user_by_hubfile(self, hubfile: Hubfile) -> User:\n+        return (\n+            db.session.query(User)\n+            .join(DataSet)\n+            .join(FeatureModel)\n+            .join(Hubfile)\n+            .filter(Hubfile.id == hubfile.id)\n+            .first()\n+        )\n+\n+    def get_dataset_by_hubfile(self, hubfile: Hubfile) -> DataSet:\n+        return db.session.query(DataSet).join(FeatureModel).join(Hubfile).filter(Hubfile.id == hubfile.id).first()\n+\n+\n+class HubfileViewRecordRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(HubfileViewRecord)\n+\n+    def total_hubfile_views(self) -> int:\n+        max_id = self.model.query.with_entities(func.max(self.model.id)).scalar()\n+        return max_id if max_id is not None else 0\n+\n+\n+class HubfileDownloadRecordRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(HubfileDownloadRecord)\n+\n+    def total_hubfile_downloads(self) -> int:\n+        max_id = self.model.query.with_entities(func.max(self.model.id)).scalar()\n+        return max_id if max_id is not None else 0"
      },
      {
        "sha": "b03c9bf65b20997991fa67ad4471aa612d810cd2",
        "filename": "app/modules/hubfile/routes.py",
        "status": "added",
        "additions": 98,
        "deletions": 0,
        "changes": 98,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Froutes.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,98 @@\n+from datetime import datetime, timezone\n+import os\n+import uuid\n+from flask import current_app, jsonify, make_response, request, send_from_directory\n+from flask_login import current_user\n+from app.modules.hubfile import hubfile_bp\n+from app.modules.hubfile.models import HubfileDownloadRecord, HubfileViewRecord\n+from app.modules.hubfile.services import HubfileDownloadRecordService, HubfileService\n+\n+from app import db\n+\n+\n+@hubfile_bp.route(\"/file/download/<int:file_id>\", methods=[\"GET\"])\n+def download_file(file_id):\n+    file = HubfileService().get_or_404(file_id)\n+    filename = file.name\n+\n+    directory_path = f\"uploads/user_{file.feature_model.data_set.user_id}/dataset_{file.feature_model.data_set_id}/\"\n+    parent_directory_path = os.path.dirname(current_app.root_path)\n+    file_path = os.path.join(parent_directory_path, directory_path)\n+\n+    # Get the cookie from the request or generate a new one if it does not exist\n+    user_cookie = request.cookies.get(\"file_download_cookie\")\n+    if not user_cookie:\n+        user_cookie = str(uuid.uuid4())\n+\n+    # Check if the download record already exists for this cookie\n+    existing_record = HubfileDownloadRecord.query.filter_by(\n+        user_id=current_user.id if current_user.is_authenticated else None,\n+        file_id=file_id,\n+        download_cookie=user_cookie\n+    ).first()\n+\n+    if not existing_record:\n+        # Record the download in your database\n+        HubfileDownloadRecordService().create(\n+            user_id=current_user.id if current_user.is_authenticated else None,\n+            file_id=file_id,\n+            download_date=datetime.now(timezone.utc),\n+            download_cookie=user_cookie,\n+        )\n+\n+    # Save the cookie to the user's browser\n+    resp = make_response(\n+        send_from_directory(directory=file_path, path=filename, as_attachment=True)\n+    )\n+    resp.set_cookie(\"file_download_cookie\", user_cookie)\n+\n+    return resp\n+\n+\n+@hubfile_bp.route('/file/view/<int:file_id>', methods=['GET'])\n+def view_file(file_id):\n+    file = HubfileService().get_or_404(file_id)\n+    filename = file.name\n+\n+    directory_path = f\"uploads/user_{file.feature_model.data_set.user_id}/dataset_{file.feature_model.data_set_id}/\"\n+    parent_directory_path = os.path.dirname(current_app.root_path)\n+    file_path = os.path.join(parent_directory_path, directory_path, filename)\n+\n+    try:\n+        if os.path.exists(file_path):\n+            with open(file_path, 'r') as f:\n+                content = f.read()\n+\n+            user_cookie = request.cookies.get('view_cookie')\n+            if not user_cookie:\n+                user_cookie = str(uuid.uuid4())\n+\n+            # Check if the view record already exists for this cookie\n+            existing_record = HubfileViewRecord.query.filter_by(\n+                user_id=current_user.id if current_user.is_authenticated else None,\n+                file_id=file_id,\n+                view_cookie=user_cookie\n+            ).first()\n+\n+            if not existing_record:\n+                # Register file view\n+                new_view_record = HubfileViewRecord(\n+                    user_id=current_user.id if current_user.is_authenticated else None,\n+                    file_id=file_id,\n+                    view_date=datetime.now(),\n+                    view_cookie=user_cookie\n+                )\n+                db.session.add(new_view_record)\n+                db.session.commit()\n+\n+            # Prepare response\n+            response = jsonify({'success': True, 'content': content})\n+            if not request.cookies.get('view_cookie'):\n+                response = make_response(response)\n+                response.set_cookie('view_cookie', user_cookie, max_age=60*60*24*365*2)\n+\n+            return response\n+        else:\n+            return jsonify({'success': False, 'error': 'File not found'}), 404\n+    except Exception as e:\n+        return jsonify({'success': False, 'error': str(e)}), 500"
      },
      {
        "sha": "b93f960c8f2af90e344abe585837edeb6b1cf9e8",
        "filename": "app/modules/hubfile/seeders.py",
        "status": "added",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Fseeders.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,12 @@\n+from core.seeders.BaseSeeder import BaseSeeder\n+\n+\n+class HubfileSeeder(BaseSeeder):\n+\n+    def run(self):\n+\n+        data = [\n+            # Create any Model object you want to make seed\n+        ]\n+\n+        self.seed(data)"
      },
      {
        "sha": "266b6b1680c2f438e09a513c497211eb158b449f",
        "filename": "app/modules/hubfile/services.py",
        "status": "added",
        "additions": 49,
        "deletions": 0,
        "changes": 49,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Fservices.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,49 @@\n+import os\n+from app.modules.auth.models import User\n+from app.modules.dataset.models import DataSet\n+from app.modules.hubfile.models import Hubfile\n+from app.modules.hubfile.repositories import (\n+    HubfileDownloadRecordRepository,\n+    HubfileRepository,\n+    HubfileViewRecordRepository\n+)\n+from core.services.BaseService import BaseService\n+\n+\n+class HubfileService(BaseService):\n+    def __init__(self):\n+        super().__init__(HubfileRepository())\n+        self.hubfile_view_record_repository = HubfileViewRecordRepository()\n+        self.hubfile_download_record_repository = HubfileDownloadRecordRepository()\n+\n+    def get_owner_user_by_hubfile(self, hubfile: Hubfile) -> User:\n+        return self.repository.get_owner_user_by_hubfile(hubfile)\n+\n+    def get_dataset_by_hubfile(self, hubfile: Hubfile) -> DataSet:\n+        return self.repository.get_dataset_by_hubfile(hubfile)\n+\n+    def get_path_by_hubfile(self, hubfile: Hubfile) -> str:\n+\n+        hubfile_user = self.get_owner_user_by_hubfile(hubfile)\n+        hubfile_dataset = self.get_dataset_by_hubfile(hubfile)\n+        working_dir = os.getenv('WORKING_DIR')\n+\n+        path = os.path.join(working_dir,\n+                            'uploads',\n+                            f'user_{hubfile_user.id}',\n+                            f'dataset_{hubfile_dataset.id}',\n+                            hubfile.name)\n+\n+        return path\n+\n+    def total_hubfile_views(self) -> int:\n+        return self.hubfile_view_record_repository.total_hubfile_views()\n+\n+    def total_hubfile_downloads(self) -> int:\n+        hubfile_download_record_repository = HubfileDownloadRecordRepository()\n+        return hubfile_download_record_repository.total_hubfile_downloads()\n+\n+\n+class HubfileDownloadRecordService(BaseService):\n+    def __init__(self):\n+        super().__init__(HubfileDownloadRecordRepository())"
      },
      {
        "sha": "bf989b12fede7c3e473bee3baee6eabaea4491b2",
        "filename": "app/modules/hubfile/templates/hubfile/index.html",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Ftemplates%2Fhubfile%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Ftemplates%2Fhubfile%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Ftemplates%2Fhubfile%2Findex.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,11 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View hubfile{% endblock %}\n+\n+{% block content %}\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('hubfile.scripts') }}\"></script>\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/hubfile/tests/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Ftests%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "0a93e370bedec149f36361a359028581ccaf6e24",
        "filename": "app/modules/hubfile/tests/locustfile.py",
        "status": "added",
        "additions": 21,
        "deletions": 0,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Ftests%2Flocustfile.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Ftests%2Flocustfile.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Ftests%2Flocustfile.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,21 @@\n+from locust import HttpUser, TaskSet, task\n+from core.environment.host import get_host_for_locust_testing\n+\n+\n+class HubfileBehavior(TaskSet):\n+    def on_start(self):\n+        self.index()\n+\n+    @task\n+    def index(self):\n+        response = self.client.get(\"/hubfile\")\n+\n+        if response.status_code != 200:\n+            print(f\"Hubfile index failed: {response.status_code}\")\n+\n+\n+class HubfileUser(HttpUser):\n+    tasks = [HubfileBehavior]\n+    min_wait = 5000\n+    max_wait = 9000\n+    host = get_host_for_locust_testing()"
      },
      {
        "sha": "e86eef52600a450e1544b92aabb344c361f8b4fa",
        "filename": "app/modules/hubfile/tests/test_selenium.py",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_selenium.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,35 @@\n+from selenium.common.exceptions import NoSuchElementException\n+import time\n+\n+from core.environment.host import get_host_for_selenium_testing\n+from core.selenium.common import initialize_driver, close_driver\n+\n+\n+def test_hubfile_index():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}/hubfile')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(4)\n+\n+        try:\n+\n+            pass\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Test failed!')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+# Call the test function\n+test_hubfile_index()"
      },
      {
        "sha": "950421eb7b4ee15f00b45f83730c55dd2dda9336",
        "filename": "app/modules/hubfile/tests/test_unit.py",
        "status": "added",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fhubfile%2Ftests%2Ftest_unit.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,24 @@\n+import pytest\n+\n+\n+@pytest.fixture(scope='module')\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    \"\"\"\n+    with test_client.application.app_context():\n+        # Add HERE new elements to the database that you want to exist in the test context.\n+        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+        pass\n+\n+    yield test_client\n+\n+\n+def test_sample_assertion(test_client):\n+    \"\"\"\n+    Sample test to verify that the test framework and environment are working correctly.\n+    It does not communicate with the Flask application; it only performs a simple assertion to\n+    confirm that the tests in this module can be executed.\n+    \"\"\"\n+    greeting = \"Hello, World!\"\n+    assert greeting == \"Hello, World!\", \"The greeting does not coincide with 'Hello, World!'\""
      },
      {
        "sha": "ddef5239e4801c59b788a4bbca4625ba9d215b72",
        "filename": "app/modules/profile/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+profile_bp = BaseBlueprint('profile', __name__, template_folder='templates')"
      },
      {
        "sha": "138b965263bed079eb7acbba7fb9e93c4edcccf4",
        "filename": "app/modules/profile/assets/scripts.js",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Fassets%2Fscripts.js?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script loaded from profile module\");"
      },
      {
        "sha": "868a382b212ba451a35f201bd1981b381a0fda8c",
        "filename": "app/modules/profile/forms.py",
        "status": "added",
        "additions": 18,
        "deletions": 0,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Fforms.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,18 @@\n+from flask_wtf import FlaskForm\n+from wtforms import StringField, SubmitField\n+from wtforms.validators import DataRequired, Length, Regexp, Optional\n+\n+\n+class UserProfileForm(FlaskForm):\n+    name = StringField('Name', validators=[DataRequired(), Length(max=100)])\n+    surname = StringField('Surname', validators=[DataRequired(), Length(max=100)])\n+    orcid = StringField('ORCID', validators=[\n+        Optional(),\n+        Length(min=19, max=19, message='ORCID must have 16 numbers separated by dashes'),\n+        Regexp(r'^\\d{4}-\\d{4}-\\d{4}-\\d{4}$', message='Invalid ORCID format')\n+    ])\n+    affiliation = StringField('Affiliation', validators=[\n+        Optional(),\n+        Length(min=5, max=100)\n+    ])\n+    submit = SubmitField('Save profile')"
      },
      {
        "sha": "cdeeba4f5afebe088ff7c7a2b3032c45daca36e9",
        "filename": "app/modules/profile/models.py",
        "status": "added",
        "additions": 16,
        "deletions": 0,
        "changes": 16,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Fmodels.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,16 @@\n+from app import db\n+\n+\n+class UserProfile(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), unique=True, nullable=False)\n+\n+    orcid = db.Column(db.String(19))\n+    affiliation = db.Column(db.String(100))\n+    name = db.Column(db.String(100), nullable=False)\n+    surname = db.Column(db.String(100), nullable=False)\n+\n+    def save(self):\n+        if not self.id:\n+            db.session.add(self)\n+        db.session.commit()"
      },
      {
        "sha": "0c4b789b1158483e413c2730092e5cb6c3cbc9b6",
        "filename": "app/modules/profile/repositories.py",
        "status": "added",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Frepositories.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,7 @@\n+from app.modules.profile.models import UserProfile\n+from core.repositories.BaseRepository import BaseRepository\n+\n+\n+class UserProfileRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(UserProfile)"
      },
      {
        "sha": "8cae4442bef033da9f1de8bbc2cf58c28f8ec321",
        "filename": "app/modules/profile/routes.py",
        "status": "added",
        "additions": 55,
        "deletions": 0,
        "changes": 55,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Froutes.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,55 @@\n+from app.modules.auth.services import AuthenticationService\n+from app.modules.dataset.models import DataSet\n+from flask import render_template, redirect, url_for, request\n+from flask_login import login_required, current_user\n+\n+from app import db\n+from app.modules.profile import profile_bp\n+from app.modules.profile.forms import UserProfileForm\n+from app.modules.profile.services import UserProfileService\n+\n+\n+@profile_bp.route(\"/profile/edit\", methods=[\"GET\", \"POST\"])\n+@login_required\n+def edit_profile():\n+    auth_service = AuthenticationService()\n+    profile = auth_service.get_authenticated_user_profile\n+    if not profile:\n+        return redirect(url_for(\"public.index\"))\n+\n+    form = UserProfileForm()\n+    if request.method == \"POST\":\n+        service = UserProfileService()\n+        result, errors = service.update_profile(profile.id, form)\n+        return service.handle_service_response(\n+            result, errors, \"profile.edit_profile\", \"Profile updated successfully\", \"profile/edit.html\", form\n+        )\n+\n+    return render_template(\"profile/edit.html\", form=form)\n+\n+\n+@profile_bp.route('/profile/summary')\n+@login_required\n+def my_profile():\n+    page = request.args.get('page', 1, type=int)\n+    per_page = 5\n+\n+    user_datasets_pagination = db.session.query(DataSet) \\\n+        .filter(DataSet.user_id == current_user.id) \\\n+        .order_by(DataSet.created_at.desc()) \\\n+        .paginate(page=page, per_page=per_page, error_out=False)\n+\n+    total_datasets_count = db.session.query(DataSet) \\\n+        .filter(DataSet.user_id == current_user.id) \\\n+        .count()\n+\n+    print(user_datasets_pagination.items)\n+\n+    return render_template(\n+        'profile/summary.html',\n+        user_profile=current_user.profile,\n+        user=current_user,\n+        datasets=user_datasets_pagination.items,\n+        pagination=user_datasets_pagination,\n+        total_datasets=total_datasets_count\n+    )"
      },
      {
        "sha": "5b459beaeea7737e66249e8471c517a485f44adf",
        "filename": "app/modules/profile/services.py",
        "status": "added",
        "additions": 14,
        "deletions": 0,
        "changes": 14,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Fservices.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,14 @@\n+from app.modules.profile.repositories import UserProfileRepository\n+from core.services.BaseService import BaseService\n+\n+\n+class UserProfileService(BaseService):\n+    def __init__(self):\n+        super().__init__(UserProfileRepository())\n+\n+    def update_profile(self, user_profile_id, form):\n+        if form.validate():\n+            updated_instance = self.update(user_profile_id, **form.data)\n+            return updated_instance, None\n+\n+        return None, form.errors"
      },
      {
        "sha": "0ccdf16fc5adacd3427198743c904ad4743ad221",
        "filename": "app/modules/profile/templates/profile/edit.html",
        "status": "added",
        "additions": 128,
        "deletions": 0,
        "changes": 128,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fedit.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fedit.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fedit.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,128 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View dataset{% endblock %}\n+\n+{% block content %}\n+\n+    <h1 class=\"h3 mb-3\">Edit profile</h1>\n+\n+    {% with messages = get_flashed_messages(with_categories=true) %}\n+      {% if messages %}\n+        {% for category, message in messages %}\n+          <div class=\"row\">\n+            <div class=\"col-12 mb-3\">\n+              <!-- Aqu\u00ed se elige la clase en funci\u00f3n de la categor\u00eda del mensaje -->\n+              <div class=\"alert alert-{{ category }}\" role=\"alert\">\n+                <div class=\"alert-message\">\n+                  {% if category == 'success' %}\n+                    <h4 class=\"alert-heading\"><i class=\"align-middle\" data-feather=\"check-circle\"></i> Success</h4>\n+                  {% elif category == 'error' %}\n+                    <h4 class=\"alert-heading\"><i class=\"align-middle\" data-feather=\"x-circle\"></i> Error</h4>\n+                  {% endif %}\n+                  <p style=\"margin-bottom: 0px\">{{ message }}</p>\n+                </div>\n+              </div>\n+            </div>\n+          </div>\n+        {% endfor %}\n+      {% endif %}\n+    {% endwith %}\n+\n+\n+    <div class=\"row\">\n+\n+        <div class=\"col-12 col-lg-6\">\n+\n+            <form method=\"POST\" action=\"{{ url_for('profile.edit_profile') }}\" class=\"needs-validation\" novalidate>\n+                {{ form.hidden_tag() }}\n+\n+                <div class=\"row form-group\">\n+\n+                    <div class=\"col-6\">\n+                        {{ form.surname.label(class=\"form-label\") }}\n+                        {% set surname_value = form.surname.data if form.surname.data else current_user.profile.surname %}\n+                        {{ form.surname(class=\"form-control\", placeholder=\"Enter your surname\", required=true, value=surname_value) }}\n+                        {% for error in form.surname.errors %}\n+                            <span style=\"color: red;\">{{ error }}</span>\n+                            <br>\n+                        {% endfor %}\n+                    </div>\n+\n+                    <div class=\"col-6\">\n+                        {{ form.name.label(class=\"form-label\") }}\n+                        {% set name_value = form.name.data if form.name.data else current_user.profile.name %}\n+                        {{ form.name(class=\"form-control\", placeholder=\"Enter your name\",\n+                        required=true, value=name_value) }}\n+                        {% for error in form.name.errors %}\n+                            <span style=\"color: red;\">{{ error }}</span>\n+                            <br>\n+                        {% endfor %}\n+                    </div>\n+\n+                </div>\n+\n+                <div class=\"row form-group mt-3\">\n+\n+                    <div class=\"col-6\">\n+                        {{ form.affiliation.label(class=\"form-label\") }}\n+                        {% set affiliation_value = form.affiliation.data if form.affiliation.data else (current_user.profile.affiliation  if current_user.profile.affiliation else '') %}\n+                        {{ form.affiliation(class=\"form-control\", placeholder=\"Enter your affiliation\", required=true, value=affiliation_value) }}\n+                        {% for error in form.affiliation.errors %}\n+                            <span style=\"color: red;\">{{ error }}</span>\n+                            <br>\n+                        {% endfor %}\n+                    </div>\n+\n+                </div>\n+\n+                <div class=\"row form-group mt-3\">\n+\n+                    <div class=\"col-12\">\n+                        {{ form.orcid.label(class=\"form-label\") }}\n+                        {% set orcid_value = form.orcid.data if form.orcid.data else (current_user.profile.orcid  if current_user.profile.orcid else '') %}\n+                        {{ form.orcid(class=\"form-control\", placeholder=\"Enter your ORCID (0000-0123-4567-8901)\",\n+                        required=true, value=orcid_value) }}\n+                        {% for error in form.orcid.errors %}\n+                            <span style=\"color: red;\">{{ error }}</span>\n+                            <br>\n+                        {% endfor %}\n+                    </div>\n+\n+                </div>\n+\n+                <div class=\"row form-group\">\n+\n+                    <div class=\"col-12 mt-3\">\n+                        {{ form.submit(class=\"btn btn-primary\") }}\n+                    </div>\n+\n+\n+                </div>\n+            </form>\n+\n+\n+        </div>\n+\n+        <div class=\"row\">\n+\n+            <div class=\"col-lg-6 col-12\">\n+\n+                {% if error %}\n+\n+                    <div class=\"mt-3\">\n+                        <p style=\"color: red;\"><strong>Error:</strong> {{ error }}\n+                    </div>\n+\n+                {% endif %}\n+\n+            </div>\n+\n+        </div>\n+\n+    </div>\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('profile.scripts') }}\"></script>\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "3e32f4b3f0da4e5f245de9d39d3036350c706f87",
        "filename": "app/modules/profile/templates/profile/summary.html",
        "status": "added",
        "additions": 117,
        "deletions": 0,
        "changes": 117,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftemplates%2Fprofile%2Fsummary.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,117 @@\n+{% extends \"base_template.html\" %}\n+\n+\n+{% block title %}User Profile{% endblock %}\n+\n+{% block content %}\n+\n+<h1 class=\"h3 mb-3\">User profile</h1>\n+\n+<div class=\"row\">\n+\n+    <div class=\"col-12 col-md-8 col-lg-6\"> \n+\n+        <div class=\"card shadow-sm\" > \n+            <div class=\"card-header card-dark\"> \n+                <h5 class=\"card-title mb-0\" style=\"color: white; font-size: 15px;\">Profile Information</h5>\n+            </div>\n+            <div class=\"card-body\">\n+                <p class=\"card-text h5\"><i class=\"fa fa-user\"></i> <strong>Name:</strong> {{user_profile.name}}</p>\n+                <p class=\"card-text h5\"><i class=\"fa fa-user-circle\"></i> <strong>Surname:</strong> {{user_profile.surname}}</p>\n+                <p class=\"card-text h5\"><i class=\"fa fa-building\"></i> <strong>Affiliation:</strong> {{user_profile.affiliation}}</p>\n+                <p class=\"card-text h5\"><i class=\"fa fa-id-card\"></i> <strong>Orcid:</strong> {{user_profile.orcid}}</p>\n+                <p class=\"card-text h5\"><i class=\"fa fa-envelope\"></i> <strong>Email:</strong> {{user.email}}</p>\n+                <p class=\"card-text h5\"><i class=\"fa fa-database\"></i> <strong>Uploaded datasets:</strong> {{ total_datasets }} datasets</p>\n+            </div>\n+            \n+        </div>\n+\n+    </div>\n+\n+</div>\n+\n+<h1 class=\"h3 mb-3\">User datasets</h1>\n+\n+    {% if datasets %}\n+    <div class=\"row\">\n+        <div class=\"col-12\">\n+            <div class=\"card shadow-sm\">\n+                <div class=\"card-body\">\n+                    <table class=\"table table-hover\">\n+                        <thead class=\"table-light\">\n+                            <tr>\n+                                <th>Title</th>\n+                                <th>Publication type</th>\n+                            </tr>\n+                        </thead>\n+                        <tbody>\n+                          \n+                            {% for dataset in datasets %}\n+                            <tr>\n+                                <td>\n+\n+                                    {% if dataset.ds_meta_data.dataset_doi %}\n+                                        <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                            {{ dataset.ds_meta_data.title }}\n+                                        </a>\n+                                    {% else %}\n+                                        <a href=\"{{ url_for('dataset.get_unsynchronized_dataset', dataset_id=dataset.id) }}\">\n+                                            {{ dataset.ds_meta_data.title }}\n+                                        </a>                                    \n+                                    {% endif %}\n+\n+                                    \n+                                </td>\n+                                <td>{{ dataset.ds_meta_data.publication_type.name.replace('_', ' ').title() }}</td>\n+                            </tr>\n+                            {% else %}\n+                          \n+                            <tr>\n+                                <td colspan=\"2\">No datasets uploaded.</td>\n+                            </tr>\n+                            {% endfor %}\n+                        </tbody>\n+                    </table>\n+                </div>\n+            </div>\n+        </div>\n+    </div>\n+    \n+   <div class=\"row\">\n+        <div class=\"col-12\">\n+            <div class=\"d-flex justify-content-center mt-4\">\n+                <nav>\n+                    <ul class=\"pagination\">\n+                        <li class=\"page-item {% if not pagination.has_prev %}disabled{% endif %}\">\n+                            <a class=\"page-link\" href=\"{% if pagination.has_prev %}{{ url_for('profile.my_profile', page=pagination.prev_num) }}{% else %}# {% endif %}\" aria-label=\"Previous\">\n+                                &laquo;\n+                            </a>\n+                        </li>\n+                        {% for num in pagination.iter_pages() %}\n+                        <li class=\"page-item {% if num == pagination.page %}active{% endif %}\">\n+                            <a class=\"page-link\" href=\"{{ url_for('profile.my_profile', page=num) }}\">\n+                                {{ num }}\n+                            </a>\n+                        </li>\n+                        {% endfor %}\n+                        <li class=\"page-item {% if not pagination.has_next %}disabled{% endif %}\">\n+                            <a class=\"page-link\" href=\"{% if pagination.has_next %}{{ url_for('profile.my_profile', page=pagination.next_num) }}{% else %}# {% endif %}\" aria-label=\"Next\">\n+                                &raquo;\n+                            </a>\n+                        </li>\n+                    </ul>\n+                </nav>\n+            </div>\n+        </div>\n+    </div>\n+    {% else %}\n+    <div class=\"alert alert-info\" role=\"alert\">\n+        No datasets found\n+    </div>\n+    {% endif %}\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('profile.scripts') }}\"></script>\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/profile/tests/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "51be18576155bbf0cccfa0d58a39615025eb8b4e",
        "filename": "app/modules/profile/tests/test_unit.py",
        "status": "added",
        "additions": 38,
        "deletions": 0,
        "changes": 38,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fprofile%2Ftests%2Ftest_unit.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,38 @@\n+import pytest\n+\n+from app import db\n+from app.modules.conftest import login, logout\n+from app.modules.auth.models import User\n+from app.modules.profile.models import UserProfile\n+\n+\n+@pytest.fixture(scope=\"module\")\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    for module testing (por example, new users)\n+    \"\"\"\n+    with test_client.application.app_context():\n+        user_test = User(email='user@example.com', password='test1234')\n+        db.session.add(user_test)\n+        db.session.commit()\n+\n+        profile = UserProfile(user_id=user_test.id, name=\"Name\", surname=\"Surname\")\n+        db.session.add(profile)\n+        db.session.commit()\n+\n+    yield test_client\n+\n+\n+def test_edit_profile_page_get(test_client):\n+    \"\"\"\n+    Tests access to the profile editing page via a GET request.\n+    \"\"\"\n+    login_response = login(test_client, \"user@example.com\", \"test1234\")\n+    assert login_response.status_code == 200, \"Login was unsuccessful.\"\n+\n+    response = test_client.get(\"/profile/edit\")\n+    assert response.status_code == 200, \"The profile editing page could not be accessed.\"\n+    assert b\"Edit profile\" in response.data, \"The expected content is not present on the page\"\n+\n+    logout(test_client)"
      },
      {
        "sha": "8fad38e9e3db95874141373d129c46fa4cb67684",
        "filename": "app/modules/public/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fpublic%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fpublic%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fpublic%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+public_bp = BaseBlueprint('public', __name__, template_folder='templates')"
      },
      {
        "sha": "061917e8b2cb0b9f16c6f958aae0e652944dcb05",
        "filename": "app/modules/public/assets/scripts.js",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fpublic%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fpublic%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fpublic%2Fassets%2Fscripts.js?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script loaded from public module\");"
      },
      {
        "sha": "4ae03991e79ba2803915b59559986d87b334ec38",
        "filename": "app/modules/public/routes.py",
        "status": "added",
        "additions": 39,
        "deletions": 0,
        "changes": 39,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fpublic%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fpublic%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fpublic%2Froutes.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,39 @@\n+import logging\n+\n+from flask import render_template\n+\n+from app.modules.featuremodel.services import FeatureModelService\n+from app.modules.public import public_bp\n+from app.modules.dataset.services import DataSetService\n+\n+logger = logging.getLogger(__name__)\n+\n+\n+@public_bp.route(\"/\")\n+def index():\n+    logger.info(\"Access index\")\n+    dataset_service = DataSetService()\n+    feature_model_service = FeatureModelService()\n+\n+    # Statistics: total datasets and feature models\n+    datasets_counter = dataset_service.count_synchronized_datasets()\n+    feature_models_counter = feature_model_service.count_feature_models()\n+\n+    # Statistics: total downloads\n+    total_dataset_downloads = dataset_service.total_dataset_downloads()\n+    total_feature_model_downloads = feature_model_service.total_feature_model_downloads()\n+\n+    # Statistics: total views\n+    total_dataset_views = dataset_service.total_dataset_views()\n+    total_feature_model_views = feature_model_service.total_feature_model_views()\n+\n+    return render_template(\n+        \"public/index.html\",\n+        datasets=dataset_service.latest_synchronized(),\n+        datasets_counter=datasets_counter,\n+        feature_models_counter=feature_models_counter,\n+        total_dataset_downloads=total_dataset_downloads,\n+        total_feature_model_downloads=total_feature_model_downloads,\n+        total_dataset_views=total_dataset_views,\n+        total_feature_model_views=total_feature_model_views\n+    )"
      },
      {
        "sha": "177d154f8918f7b7e00b54ef54bbd20b25e08a9a",
        "filename": "app/modules/public/templates/public/index.html",
        "status": "added",
        "additions": 286,
        "deletions": 0,
        "changes": 286,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fpublic%2Ftemplates%2Fpublic%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fpublic%2Ftemplates%2Fpublic%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fpublic%2Ftemplates%2Fpublic%2Findex.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,286 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}Main page{% endblock %}\n+\n+{% block content %}\n+\n+    <h1 class=\"h2 mb-3\">\n+\n+        <b>Latest</b> datasets\n+    </h1>\n+\n+    <div class=\"row\">\n+\n+        <div class=\"mb-2 col-xl-8 col-lg-12 col-md-12 col-sm-12\">\n+\n+            {% for dataset in datasets %}\n+                <div class=\"card\">\n+                    <div class=\"card-body\">\n+                        <div class=\"d-flex align-items-center justify-content-between\">\n+                            <h2>\n+\n+                                <a href=\"{{ dataset.get_uvlhub_doi() }}\">\n+                                    {{ dataset.ds_meta_data.title }}\n+                                </a>\n+\n+                            </h2>\n+                            <div>\n+                                <span class=\"badge bg-secondary\">{{ dataset.get_cleaned_publication_type() }}</span>\n+                            </div>\n+                        </div>\n+                        <p class=\"text-secondary\">{{ dataset.created_at.strftime('%B %d, %Y at %I:%M %p') }}</p>\n+\n+                        <div class=\"row mb-2\">\n+\n+                            <div class=\"col-12\">\n+                                <p class=\"card-text\">{{ dataset.ds_meta_data.description }}</p>\n+                            </div>\n+\n+                        </div>\n+\n+                        <div class=\"row mb-2 mt-4\">\n+\n+                            <div class=\"col-12\">\n+                                {% for author in dataset.ds_meta_data.authors %}\n+                                    <p class=\"p-0 m-0\">\n+                                        {{ author.name }}\n+                                        {% if author.affiliation %}\n+                                            ({{ author.affiliation }})\n+                                        {% endif %}\n+                                        {% if author.orcid %}\n+                                            ({{ author.orcid }})\n+                                        {% endif %}\n+                                    </p>\n+                                {% endfor %}\n+                            </div>\n+\n+\n+                        </div>\n+\n+                        <div class=\"row mb-2\">\n+\n+                            <div class=\"col-12\">\n+                                <a href=\"{{ dataset.get_uvlhub_doi() }}\">{{ dataset.get_uvlhub_doi() }}</a>\n+                                 <div id=\"dataset_doi_uvlhub_{{ dataset.id }}\" style=\"display: none\">\n+                                {{ dataset.get_uvlhub_doi() }}\n+                            </div>\n+\n+                            <i data-feather=\"clipboard\" class=\"center-button-icon\"\n+                               style=\"cursor: pointer\"\n+                               onclick=\"copyText('dataset_doi_uvlhub_{{ dataset.id }}')\"></i>\n+                            </div>\n+\n+\n+\n+                        </div>\n+\n+                        <div class=\"row mb-2\">\n+\n+                            <div class=\"col-12\">\n+                                {% for tag in dataset.ds_meta_data.tags.split(',') %}\n+                                    <span class=\"badge bg-secondary\">{{ tag.strip() }}</span>\n+                                {% endfor %}\n+                            </div>\n+\n+                        </div>\n+\n+                        <div class=\"row  mt-4\">\n+                            <div class=\"col-12\">\n+                                <a href=\"{{ dataset.get_uvlhub_doi() }}\" class=\"btn btn-outline-primary btn-sm\"\n+                                   style=\"border-radius: 5px;\">\n+                                    <i data-feather=\"eye\" class=\"center-button-icon\"></i>\n+                                    View dataset\n+                                </a>\n+\n+                                <a href=\"/dataset/download/{{ dataset.id }}\" class=\"btn btn-outline-primary btn-sm\"\n+                                   style=\"border-radius: 5px;\">\n+                                    <i data-feather=\"download\" class=\"center-button-icon\"></i>\n+                                    Download ({{ dataset.get_file_total_size_for_human() }})\n+                                </a>\n+                            </div>\n+                        </div>\n+\n+\n+                    </div>\n+                </div>\n+            {% endfor %}\n+\n+            <a href=\"/explore\" class=\"btn btn-primary\">\n+                <i data-feather=\"search\" class=\"center-button-icon\"></i>\n+                Explore more datasets\n+            </a>\n+\n+        </div>\n+\n+        <div class=\"col-xl-4 col-lg-12 col-md-12 col-sm-12\">\n+\n+            <div class=\"row\">\n+\n+                <div class=\"col-12\">\n+\n+                <div class=\"card\">\n+\n+                    <div class=\"card-body\">\n+\n+                        <h2> <b>Hub statistics</b> </h2>\n+                    \n+                        <h1 class=\"h2 mb-3\">\n+                    \n+                            <h4 class=\"h4 mb-3\" class=\"stats-color\">\n+                                <i data-feather=\"database\" class=\"align-middle mr-2 stats-color\"></i>&nbsp;{{ datasets_counter }} datasets\n+                            </h4>\n+                    \n+                            <h4 class=\"h4 mb-3\" class=\"stats-color\">\n+                                <i data-feather=\"file\" class=\"align-middle mr-2 stats-color\"></i>&nbsp;{{ feature_models_counter }} feature models\n+                            </h4>\n+                    \n+                            <h4 class=\"h4 mb-3\" class=\"stats-color\">\n+                                <i data-feather=\"eye\" class=\"align-middle mr-2 stats-color\"></i>&nbsp;{{ total_dataset_views }} datasets viewed\n+                            </h4>\n+                    \n+                            <h4 class=\"h4 mb-3\" class=\"stats-color\">\n+                                <i data-feather=\"eye\" class=\"align-middle mr-2 stats-color\"></i>&nbsp;{{ total_feature_model_views }} feature models viewed\n+                            </h4>\n+                    \n+                            <h4 class=\"h4 mb-3\" class=\"stats-color\">\n+                                <i data-feather=\"download\" class=\"align-middle mr-2 stats-color\"></i>&nbsp;{{ total_dataset_downloads }} datasets downloaded\n+                            </h4>\n+                    \n+                            <h4 class=\"h4\" class=\"stats-color\">\n+                                <i data-feather=\"download\" class=\"align-middle mr-2 stats-color\"></i>&nbsp;{{ total_feature_model_downloads }} feature models downloaded\n+                            </h4>\n+                    \n+                        </h1>\n+                    \n+                    </div>                    \n+\n+                </div>\n+            </div>\n+\n+                <div class=\"col-12\">\n+\n+                    <div class=\"card\">\n+\n+                        <div class=\"card-body\">\n+                    \n+\n+                    \n+                            <h2> <b>Related publication</b> </h2>\n+                            \n+                            David Romero-Organvidez, Jos\u00e9 A. Galindo, Chico Sundermann, Jose-Miguel Horcas, David Benavides. \n+                            <i>UVLHub: A feature model data repository using UVL and open science principles</i>,\n+                            Journal of Systems and Software,\n+                            2024,\n+                            112150,\n+                            ISSN 0164-1212,\n+                            <a href=\"https://doi.org/10.1016/j.jss.2024.112150\" target=\"_blank\">https://doi.org/10.1016/j.jss.2024.112150</a>\n+                    \n+                        </div>\n+                    \n+                        <div class=\"card-body mt-0 pt-0\">\n+                    \n+                            <button onclick=\"copyText('bibtex_cite')\" class=\"btn btn-light\" style=\"border-radius: 5px; margin-right: 10px\">\n+                                <i data-feather=\"clipboard\" class=\"center-button-icon\"></i>\n+                                Copy in BibTex\n+                            </button>\n+                    \n+                            <button onclick=\"copyText('ris_cite')\" class=\"btn btn-light\" style=\"border-radius: 5px;\">\n+                                <i data-feather=\"clipboard\" class=\"center-button-icon\"></i>\n+                                Copy in RIS\n+                            </button>\n+                    \n+                        </div>\n+                    \n+                    </div>\n+                    \n+\n+                </div>\n+\n+                {% if current_user.is_anonymous %}\n+\n+                    <div class=\"col-12\">\n+                        <div class=\"card card-welcome\">\n+\n+                            <h2 class=\"card-title card-title-light\">\n+                                Let's get started!\n+                            </h2>\n+\n+                            <div class=\"card-body card-body-slim\">\n+\n+                                What are you waiting for to upload your fantastic feature models in UVL format?\n+\n+                                <div class=\"row mt-2\">\n+\n+                                    <div class=\"col-12\">\n+                                        <a href=\"/signup\"\n+                                           class=\"btn btn-dark\"\n+                                           style=\"background-color: #0662A6; border-color: #0662A6\">\n+                                            <i data-feather=\"user-plus\" class=\"center-button-icon\"></i>\n+                                            Sign up\n+                                        </a>\n+                                    </div>\n+\n+                                    <div class=\"col-12 mt-2\">\n+                                        <a href=\"/login\"\n+                                           class=\"btn btn-outline-dark\" style=\" border-color: #0662A6\">\n+                                            <i data-feather=\"log-in\" class=\"center-button-icon\"></i>\n+                                            I am already registered!\n+                                        </a>\n+                                    </div>\n+\n+                                </div>\n+\n+\n+                            </div>\n+\n+                        </div>\n+                    </div>\n+\n+                {% endif %}\n+\n+                <div class=\"col-12\">\n+\n+                    <div class=\"card card-dark\">\n+\n+                        <h2 class=\"card-title card-title-light\">\n+                            What is <b>uvlhub.io</b>?\n+                        </h2>\n+\n+                        <div class=\"card-body card-body-slim\">\n+\n+                            <strong>uvlhub.io</strong> is a repository of feature models in UVL format integrated with\n+                            Zenodo and FlamaPy developed by DiversoLab\n+\n+                        </div>\n+\n+                        <h2 class=\"card-title card-title-light\">\n+                            Can I contribute?\n+                        </h2>\n+\n+                        <div class=\"card-body card-body-slim\">\n+\n+                            Sure! You can make a fork of our official repository on GitHub,\n+                            create fantastic features and then make a pull request to us.\n+\n+                            <br><br>\n+\n+                            <a href=\"https://github.com/diverso-lab/uvlhub\" target=\"_blank\" class=\"btn btn-primary\">\n+                                Go to GitHub</a>\n+\n+                        </div>\n+\n+                    </div>\n+                </div>\n+\n+            </div>\n+\n+\n+        </div>\n+\n+    </div>\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('public.scripts') }}\"></script>\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "c24fe5bb9e65c74aec64d71269f3617ed1bb776b",
        "filename": "app/modules/pytest.ini",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fpytest.ini",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fpytest.ini",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fpytest.ini?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,3 @@\n+[pytest]\n+filterwarnings =\n+    ignore::DeprecationWarning"
      },
      {
        "sha": "48f9e4cb1ddc118d056d029e79614d0e4eced9ff",
        "filename": "app/modules/team/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fteam%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fteam%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fteam%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+team_bp = BaseBlueprint('team', __name__, template_folder='templates')"
      },
      {
        "sha": "4ca80ac056a0cf5fe47534a91d7408a003bcebfc",
        "filename": "app/modules/team/assets/scripts.js",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fteam%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fteam%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fteam%2Fassets%2Fscripts.js?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script loaded from team module\");"
      },
      {
        "sha": "e59587964741560e6d61abca4df9c0b9eee9b02d",
        "filename": "app/modules/team/routes.py",
        "status": "added",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fteam%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fteam%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fteam%2Froutes.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,8 @@\n+from flask import render_template\n+\n+from app.modules.team import team_bp\n+\n+\n+@team_bp.route('/team', methods=['GET'])\n+def index():\n+    return render_template('team/index.html')"
      },
      {
        "sha": "8ff8c610bee5f53c7d1284801a991068089e4595",
        "filename": "app/modules/team/templates/team/index.html",
        "status": "added",
        "additions": 74,
        "deletions": 0,
        "changes": 74,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fteam%2Ftemplates%2Fteam%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fteam%2Ftemplates%2Fteam%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fteam%2Ftemplates%2Fteam%2Findex.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,74 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View dataset{% endblock %}\n+\n+{% block content %}\n+\n+    <h1 class=\"h3 mb-3\"><b>Team</b></h1>\n+\n+\n+    <div class=\"row row-cols-1 row-cols-lg-3 row-cols-md-2 row-cols-12 g-4\">\n+\n+        <div class=\"col\">\n+\n+            <div class=\"card h-100\">\n+                <img src=\"{{ url_for('static', filename='img/logos/university_of_seville.svg') }}\"\n+                     class=\"card-img-top custom-img\" alt=\"University of Seville\">\n+                <div class=\"card-body custom-card-body\">\n+                    <h5 class=\"card-title\">University of Seville, Spain</h5>\n+                    <p class=\"card-text\">\n+                        Performs active development of the application and is responsible for code maintenance,\n+                        deployment, operation of services and new functionalities.\n+                    </p>\n+                </div>\n+                <div class=\"card-footer\">\n+                    <a href=\"http://www.us.es\" target=\"_blank\">www.us.es</a>\n+                </div>\n+            </div>\n+\n+        </div>\n+\n+        <div class=\"col\">\n+\n+            <div class=\"card h-100\">\n+                <img src=\"{{ url_for('static', filename='img/logos/university_of_malaga.svg') }}\"\n+                     class=\"card-img-top custom-img\" alt=\"University of Malaga\">\n+                <div class=\"card-body custom-card-body\">\n+                    <h5 class=\"card-title\">University of Malaga, Spain</h5>\n+                    <p class=\"card-text\">\n+                        Responsible for active research, technical support\n+                    </p>\n+                </div>\n+                <div class=\"card-footer\">\n+                    <a href=\"http://www.uma.es\" target=\"_blank\">www.uma.es</a>\n+                </div>\n+            </div>\n+\n+        </div>\n+\n+        <div class=\"col\">\n+\n+            <div class=\"card h-100\">\n+                <img src=\"{{ url_for('static', filename='img/logos/university_of_ulm.svg') }}\"\n+                     class=\"card-img-top custom-img\" alt=\"University of Ulm\">\n+                <div class=\"card-body custom-card-body\">\n+                    <h5 class=\"card-title\">University of Ulm, Germany</h5>\n+                    <p class=\"card-text\">\n+                        Provides population of consistent datasets with rich metadata for initial loading of models into\n+                        UVL. Responsible for the UVL parser. Active research.\n+                    </p>\n+                </div>\n+                <div class=\"card-footer\">\n+                    <a href=\"http://www.uni-ulm.de\" target=\"_blank\">www.uni-ulm.de</a>\n+                </div>\n+            </div>\n+\n+        </div>\n+\n+    </div>\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('team.scripts') }}\"></script>\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "22635ac456edaa384916ebe838651569f2b6a1cb",
        "filename": "app/modules/webhook/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fwebhook%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+webhook_bp = BaseBlueprint('webhook', __name__, template_folder='templates')"
      },
      {
        "sha": "5ae36dd6b2a4bbc06542eaaa8ebf9b690fee43ed",
        "filename": "app/modules/webhook/assets/scripts.js",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fwebhook%2Fassets%2Fscripts.js?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script loaded from webhook module\");"
      },
      {
        "sha": "cefc8595f30cd0f075015b2193369ec9adb9bdd8",
        "filename": "app/modules/webhook/forms.py",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fwebhook%2Fforms.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,6 @@\n+from flask_wtf import FlaskForm\n+from wtforms import SubmitField\n+\n+\n+class WebhookForm(FlaskForm):\n+    submit = SubmitField('Save webhook')"
      },
      {
        "sha": "4340dd08743f3a387319559aa5fd7c67b2af612e",
        "filename": "app/modules/webhook/models.py",
        "status": "added",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fwebhook%2Fmodels.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,5 @@\n+from app import db\n+\n+\n+class Webhook(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)"
      },
      {
        "sha": "4251f8ff5160ae2601791cc736e62c2bd6f1080f",
        "filename": "app/modules/webhook/repositories.py",
        "status": "added",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fwebhook%2Frepositories.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,7 @@\n+from app.modules.webhook.models import Webhook\n+from core.repositories.BaseRepository import BaseRepository\n+\n+\n+class WebhookRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(Webhook)"
      },
      {
        "sha": "4e6d99ba15eb4211efbd9b9dfcb0087a69463194",
        "filename": "app/modules/webhook/routes.py",
        "status": "added",
        "additions": 37,
        "deletions": 0,
        "changes": 37,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fwebhook%2Froutes.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,37 @@\n+from flask import request, abort\n+import os\n+from dotenv import load_dotenv\n+from app.modules.webhook import webhook_bp\n+from app.modules.webhook.services import WebhookService\n+load_dotenv()\n+\n+WEBHOOK_TOKEN = os.getenv('WEBHOOK_TOKEN')\n+\n+\n+@webhook_bp.route('/webhook/deploy', methods=['POST'])\n+def deploy():\n+\n+    token = request.headers.get('Authorization')\n+    if token != f\"Bearer {WEBHOOK_TOKEN}\":\n+        abort(403, description=\"Unauthorized\")\n+\n+    service = WebhookService()\n+\n+    web_container = service.get_web_container()\n+\n+    # Pull the latest code in the container\n+    service.execute_container_command(web_container, '/app/scripts/git_update.sh')\n+\n+    # Update dependencies in the container\n+    service.execute_container_command(web_container, 'pip install -r requirements.txt')\n+\n+    # Run migrations in the container\n+    service.execute_container_command(web_container, 'flask db upgrade')\n+\n+    # Log the deployment\n+    service.log_deployment(web_container)\n+\n+    # Ejecutar el script de reinicio en segundo plano\n+    service.restart_container(web_container)\n+\n+    return 'Deployment successful', 200"
      },
      {
        "sha": "aa6b7d5ac295651f4b18b828270ce4a68e94963b",
        "filename": "app/modules/webhook/seeders.py",
        "status": "added",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Fseeders.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Fseeders.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fwebhook%2Fseeders.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,12 @@\n+from core.seeders.BaseSeeder import BaseSeeder\n+\n+\n+class WebhookSeeder(BaseSeeder):\n+\n+    def run(self):\n+\n+        data = [\n+            # Create any Model object you want to make seed\n+        ]\n+\n+        self.seed(data)"
      },
      {
        "sha": "7ed45163e80b10602ba1b7c26d390f8c370d3f62",
        "filename": "app/modules/webhook/services.py",
        "status": "added",
        "additions": 61,
        "deletions": 0,
        "changes": 61,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fwebhook%2Fservices.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,61 @@\n+from app.modules.webhook.repositories import WebhookRepository\n+from core.services.BaseService import BaseService\n+\n+from flask import abort\n+import subprocess\n+import docker\n+from datetime import datetime, timezone\n+\n+client = docker.from_env()\n+\n+\n+class WebhookService(BaseService):\n+    def __init__(self):\n+        super().__init__(WebhookRepository())\n+\n+    def get_web_container(self):\n+        try:\n+            return client.containers.get('web_app_container')\n+        except docker.errors.NotFound:\n+            abort(404, description=\"Web container not found.\")\n+\n+    def get_volume_name(self, container):\n+        volume_name = next(\n+            (\n+                mount.get('Name') or mount.get('Source')\n+                for mount in container.attrs['Mounts']\n+                if mount['Destination'] == '/app'\n+            ),\n+            None\n+        )\n+\n+        if not volume_name:\n+            raise ValueError(\"No volume or bind mount found mounted on /app\")\n+\n+        return volume_name\n+\n+    def execute_host_command(self, volume_name, command):\n+        try:\n+            subprocess.run([\n+                'docker', 'run', '--rm',\n+                '-v', f'{volume_name}:/app',\n+                '-v', '/var/run/docker.sock:/var/run/docker.sock',\n+                '-w', '/app',\n+                *command\n+            ], check=True)\n+        except subprocess.CalledProcessError as e:\n+            abort(500, description=f\"Host command failed: {str(e)}\")\n+\n+    def execute_container_command(self, container, command, workdir='/app'):\n+        exit_code, output = container.exec_run(command, workdir=workdir)\n+        if exit_code != 0:\n+            abort(500, description=f\"Container command failed: {output.decode('utf-8')}\")\n+        return output.decode('utf-8')\n+\n+    def log_deployment(self, container):\n+        log_entry = f\"Deployment successful at {datetime.now(timezone.utc).isoformat()}\\n\"\n+        log_file_path = \"/app/deployments.log\"\n+        self.execute_container_command(container, f\"sh -c 'echo \\\"{log_entry}\\\" >> {log_file_path}'\")\n+\n+    def restart_container(self, container):\n+        subprocess.Popen([\"/bin/sh\", \"/app/scripts/restart_container.sh\", container.id])"
      },
      {
        "sha": "9638993df13eec0cf688f9e4bc9f9747c694ef92",
        "filename": "app/modules/webhook/templates/webhook/index.html",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Ftemplates%2Fwebhook%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Ftemplates%2Fwebhook%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fwebhook%2Ftemplates%2Fwebhook%2Findex.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,11 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View webhook{% endblock %}\n+\n+{% block content %}\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('webhook.scripts') }}\"></script>\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/modules/webhook/tests/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Ftests%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Ftests%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fwebhook%2Ftests%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "1b8001ccaab345e88b7e42f5ee1e89ed3fa0064b",
        "filename": "app/modules/webhook/tests/test_selenium.py",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Ftests%2Ftest_selenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Ftests%2Ftest_selenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fwebhook%2Ftests%2Ftest_selenium.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,35 @@\n+from selenium.common.exceptions import NoSuchElementException\n+import time\n+\n+from core.environment.host import get_host_for_selenium_testing\n+from core.selenium.common import initialize_driver, close_driver\n+\n+\n+def test_webhook_index():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}/webhook')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(4)\n+\n+        try:\n+\n+            pass\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Test failed!')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+# Call the test function\n+test_webhook_index()"
      },
      {
        "sha": "722bd6b0eb4a4437491b284bb00dd0d3dbdd7d0a",
        "filename": "app/modules/webhook/tests/test_unit.py",
        "status": "added",
        "additions": 25,
        "deletions": 0,
        "changes": 25,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Ftests%2Ftest_unit.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fwebhook%2Ftests%2Ftest_unit.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fwebhook%2Ftests%2Ftest_unit.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,25 @@\n+import pytest\n+\n+\n+@pytest.fixture(scope='module')\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    for module testing (por example, new users)\n+    \"\"\"\n+    with test_client.application.app_context():\n+        # Add HERE new elements to the database that you want to exist in the test context.\n+        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+        pass\n+\n+    yield test_client\n+\n+\n+def test_sample_assertion(test_client):\n+    \"\"\"\n+    Sample test to verify that the test framework and environment are working correctly.\n+    It does not communicate with the Flask application; it only performs a simple assertion to\n+    confirm that the tests in this module can be executed.\n+    \"\"\"\n+    greeting = \"Hello, World!\"\n+    assert greeting == \"Hello, World!\", \"The greeting does not coincide with 'Hello, World!'\""
      },
      {
        "sha": "973e947552aaa428e0c052fb87aa9606266d7910",
        "filename": "app/modules/zenodo/.env.example",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2F.env.example",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2F.env.example",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2F.env.example?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1 @@\n+ZENODO_ACCESS_TOKEN=<GET_ACCESS_TOKEN_IN_ZENODO>\n\\ No newline at end of file"
      },
      {
        "sha": "997c9b7f77f37283ae41682e9f6400df5adcce64",
        "filename": "app/modules/zenodo/__init__.py",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+zenodo_bp = BaseBlueprint('zenodo', __name__, template_folder='templates')"
      },
      {
        "sha": "2252385d42ab3c9e17b38ab6468e56400da427e4",
        "filename": "app/modules/zenodo/assets/scripts.js",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2Fassets%2Fscripts.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2Fassets%2Fscripts.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Fassets%2Fscripts.js?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,19 @@\n+function test_zenodo_connection() {\n+    var xhr = new XMLHttpRequest();\n+    xhr.open('GET', '/zenodo/test', true);\n+    xhr.setRequestHeader('Content-Type', 'application/json');\n+    xhr.onreadystatechange = function () {\n+        if (xhr.readyState === 4 && xhr.status === 200) {\n+            var response = JSON.parse(xhr.responseText);\n+            if (!response.success) {\n+                document.getElementById(\"test_zenodo_connection_error\").style.display = \"block\";\n+                console.log(response);\n+                console.log(response.success);\n+                console.log(response.messages);\n+            }\n+        } else if (xhr.readyState === 4 && xhr.status !== 200) {\n+            console.error('Error:', xhr.status);\n+        }\n+    };\n+    xhr.send();\n+}"
      },
      {
        "sha": "aa61d03e7eed91a324caa600996324464d3dc90c",
        "filename": "app/modules/zenodo/forms.py",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2Fforms.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2Fforms.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Fforms.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,6 @@\n+from flask_wtf import FlaskForm\n+from wtforms import SubmitField\n+\n+\n+class ZenodoForm(FlaskForm):\n+    submit = SubmitField('Save zenodo')"
      },
      {
        "sha": "be29e74b3b1d98f32ddef22eca2add5ffdfe0b57",
        "filename": "app/modules/zenodo/models.py",
        "status": "added",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2Fmodels.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2Fmodels.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Fmodels.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,5 @@\n+from app import db\n+\n+\n+class Zenodo(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)"
      },
      {
        "sha": "202849a3e7120b01ff1c9f5ee884e9ba494e57c6",
        "filename": "app/modules/zenodo/repositories.py",
        "status": "added",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2Frepositories.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2Frepositories.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Frepositories.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,7 @@\n+from app.modules.zenodo.models import Zenodo\n+from core.repositories.BaseRepository import BaseRepository\n+\n+\n+class ZenodoRepository(BaseRepository):\n+    def __init__(self):\n+        super().__init__(Zenodo)"
      },
      {
        "sha": "d06fb4265e9587159f2f64b7e39eec2be455b6f5",
        "filename": "app/modules/zenodo/routes.py",
        "status": "added",
        "additions": 15,
        "deletions": 0,
        "changes": 15,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2Froutes.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2Froutes.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Froutes.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,15 @@\n+from flask import render_template\n+\n+from app.modules.zenodo import zenodo_bp\n+from app.modules.zenodo.services import ZenodoService\n+\n+\n+@zenodo_bp.route('/zenodo', methods=['GET'])\n+def index():\n+    return render_template('zenodo/index.html')\n+\n+\n+@zenodo_bp.route('/zenodo/test', methods=['GET'])\n+def zenodo_test() -> dict:\n+    service = ZenodoService()\n+    return service.test_full_connection()"
      },
      {
        "sha": "c0cde2e146ba3dbf0359e5967d1357ab25e9b793",
        "filename": "app/modules/zenodo/services.py",
        "status": "added",
        "additions": 250,
        "deletions": 0,
        "changes": 250,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2Fservices.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2Fservices.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Fservices.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,250 @@\n+import logging\n+import os\n+import requests\n+\n+from app.modules.dataset.models import DataSet\n+from app.modules.featuremodel.models import FeatureModel\n+from app.modules.zenodo.repositories import ZenodoRepository\n+\n+from core.configuration.configuration import uploads_folder_name\n+from dotenv import load_dotenv\n+from flask import jsonify, Response\n+from flask_login import current_user\n+\n+\n+from core.services.BaseService import BaseService\n+\n+logger = logging.getLogger(__name__)\n+\n+load_dotenv()\n+\n+\n+class ZenodoService(BaseService):\n+\n+    def get_zenodo_url(self):\n+\n+        FLASK_ENV = os.getenv(\"FLASK_ENV\", \"development\")\n+        ZENODO_API_URL = \"\"\n+\n+        if FLASK_ENV == \"development\":\n+            ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n+        elif FLASK_ENV == \"production\":\n+            ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://zenodo.org/api/deposit/depositions\")\n+        else:\n+            ZENODO_API_URL = os.getenv(\"ZENODO_API_URL\", \"https://sandbox.zenodo.org/api/deposit/depositions\")\n+\n+        return ZENODO_API_URL\n+\n+    def get_zenodo_access_token(self):\n+        return os.getenv(\"ZENODO_ACCESS_TOKEN\")\n+\n+    def __init__(self):\n+        super().__init__(ZenodoRepository())\n+        self.ZENODO_ACCESS_TOKEN = self.get_zenodo_access_token()\n+        self.ZENODO_API_URL = self.get_zenodo_url()\n+        self.headers = {\"Content-Type\": \"application/json\"}\n+        self.params = {\"access_token\": self.ZENODO_ACCESS_TOKEN}\n+\n+    def test_connection(self) -> bool:\n+        \"\"\"\n+        Test the connection with Zenodo.\n+\n+        Returns:\n+            bool: True if the connection is successful, False otherwise.\n+        \"\"\"\n+        response = requests.get(self.ZENODO_API_URL, params=self.params, headers=self.headers)\n+        return response.status_code == 200\n+\n+    def test_full_connection(self) -> Response:\n+        \"\"\"\n+        Test the connection with Zenodo by creating a deposition, uploading an empty test file, and deleting the\n+        deposition.\n+\n+        Returns:\n+            bool: True if the connection, upload, and deletion are successful, False otherwise.\n+        \"\"\"\n+\n+        success = True\n+\n+        # Create a test file\n+        working_dir = os.getenv('WORKING_DIR', \"\")\n+        file_path = os.path.join(working_dir, \"test_file.txt\")\n+        with open(file_path, \"w\") as f:\n+            f.write(\"This is a test file with some content.\")\n+\n+        messages = []  # List to store messages\n+\n+        # Step 1: Create a deposition on Zenodo\n+        data = {\n+            \"metadata\": {\n+                \"title\": \"Test Deposition\",\n+                \"upload_type\": \"dataset\",\n+                \"description\": \"This is a test deposition created via Zenodo API\",\n+                \"creators\": [{\"name\": \"John Doe\"}],\n+            }\n+        }\n+\n+        response = requests.post(self.ZENODO_API_URL, json=data, params=self.params, headers=self.headers)\n+\n+        if response.status_code != 201:\n+            return jsonify(\n+                {\n+                    \"success\": False,\n+                    \"messages\": f\"Failed to create test deposition on Zenodo. Response code: {response.status_code}\",\n+                }\n+            )\n+\n+        deposition_id = response.json()[\"id\"]\n+\n+        # Step 2: Upload an empty file to the deposition\n+        data = {\"name\": \"test_file.txt\"}\n+        files = {\"file\": open(file_path, \"rb\")}\n+        publish_url = f\"{self.ZENODO_API_URL}/{deposition_id}/files\"\n+        response = requests.post(publish_url, params=self.params, data=data, files=files)\n+        files[\"file\"].close()  # Close the file after uploading\n+\n+        logger.info(f\"Publish URL: {publish_url}\")\n+        logger.info(f\"Params: {self.params}\")\n+        logger.info(f\"Data: {data}\")\n+        logger.info(f\"Files: {files}\")\n+        logger.info(f\"Response Status Code: {response.status_code}\")\n+        logger.info(f\"Response Content: {response.content}\")\n+\n+        if response.status_code != 201:\n+            messages.append(f\"Failed to upload test file to Zenodo. Response code: {response.status_code}\")\n+            success = False\n+\n+        # Step 3: Delete the deposition\n+        response = requests.delete(f\"{self.ZENODO_API_URL}/{deposition_id}\", params=self.params)\n+\n+        if os.path.exists(file_path):\n+            os.remove(file_path)\n+\n+        return jsonify({\"success\": success, \"messages\": messages})\n+\n+    def get_all_depositions(self) -> dict:\n+        \"\"\"\n+        Get all depositions from Zenodo.\n+\n+        Returns:\n+            dict: The response in JSON format with the depositions.\n+        \"\"\"\n+        response = requests.get(self.ZENODO_API_URL, params=self.params, headers=self.headers)\n+        if response.status_code != 200:\n+            raise Exception(\"Failed to get depositions\")\n+        return response.json()\n+\n+    def create_new_deposition(self, dataset: DataSet) -> dict:\n+        \"\"\"\n+        Create a new deposition in Zenodo.\n+\n+        Args:\n+            dataset (DataSet): The DataSet object containing the metadata of the deposition.\n+\n+        Returns:\n+            dict: The response in JSON format with the details of the created deposition.\n+        \"\"\"\n+\n+        logger.info(\"Dataset sending to Zenodo...\")\n+        logger.info(f\"Publication type...{dataset.ds_meta_data.publication_type.value}\")\n+\n+        metadata = {\n+            \"title\": dataset.ds_meta_data.title,\n+            \"upload_type\": \"dataset\" if dataset.ds_meta_data.publication_type.value == \"none\" else \"publication\",\n+            \"publication_type\": (\n+                dataset.ds_meta_data.publication_type.value\n+                if dataset.ds_meta_data.publication_type.value != \"none\"\n+                else None\n+            ),\n+            \"description\": dataset.ds_meta_data.description,\n+            \"creators\": [\n+                {\n+                    \"name\": author.name,\n+                    **({\"affiliation\": author.affiliation} if author.affiliation else {}),\n+                    **({\"orcid\": author.orcid} if author.orcid else {}),\n+                }\n+                for author in dataset.ds_meta_data.authors\n+            ],\n+            \"keywords\": (\n+                [\"uvlhub\"] if not dataset.ds_meta_data.tags else dataset.ds_meta_data.tags.split(\", \") + [\"uvlhub\"]\n+            ),\n+            \"access_right\": \"open\",\n+            \"license\": \"CC-BY-4.0\",\n+        }\n+\n+        data = {\"metadata\": metadata}\n+\n+        response = requests.post(self.ZENODO_API_URL, params=self.params, json=data, headers=self.headers)\n+        if response.status_code != 201:\n+            error_message = f\"Failed to create deposition. Error details: {response.json()}\"\n+            raise Exception(error_message)\n+        return response.json()\n+\n+    def upload_file(self, dataset: DataSet, deposition_id: int, feature_model: FeatureModel, user=None) -> dict:\n+        \"\"\"\n+        Upload a file to a deposition in Zenodo.\n+\n+        Args:\n+            deposition_id (int): The ID of the deposition in Zenodo.\n+            feature_model (FeatureModel): The FeatureModel object representing the feature model.\n+            user (FeatureModel): The User object representing the file owner.\n+\n+        Returns:\n+            dict: The response in JSON format with the details of the uploaded file.\n+        \"\"\"\n+        uvl_filename = feature_model.fm_meta_data.uvl_filename\n+        data = {\"name\": uvl_filename}\n+        user_id = current_user.id if user is None else user.id\n+        file_path = os.path.join(uploads_folder_name(), f\"user_{str(user_id)}\", f\"dataset_{dataset.id}/\", uvl_filename)\n+        files = {\"file\": open(file_path, \"rb\")}\n+\n+        publish_url = f\"{self.ZENODO_API_URL}/{deposition_id}/files\"\n+        response = requests.post(publish_url, params=self.params, data=data, files=files)\n+        if response.status_code != 201:\n+            error_message = f\"Failed to upload files. Error details: {response.json()}\"\n+            raise Exception(error_message)\n+        return response.json()\n+\n+    def publish_deposition(self, deposition_id: int) -> dict:\n+        \"\"\"\n+        Publish a deposition in Zenodo.\n+\n+        Args:\n+            deposition_id (int): The ID of the deposition in Zenodo.\n+\n+        Returns:\n+            dict: The response in JSON format with the details of the published deposition.\n+        \"\"\"\n+        publish_url = f\"{self.ZENODO_API_URL}/{deposition_id}/actions/publish\"\n+        response = requests.post(publish_url, params=self.params, headers=self.headers)\n+        if response.status_code != 202:\n+            raise Exception(\"Failed to publish deposition\")\n+        return response.json()\n+\n+    def get_deposition(self, deposition_id: int) -> dict:\n+        \"\"\"\n+        Get a deposition from Zenodo.\n+\n+        Args:\n+            deposition_id (int): The ID of the deposition in Zenodo.\n+\n+        Returns:\n+            dict: The response in JSON format with the details of the deposition.\n+        \"\"\"\n+        deposition_url = f\"{self.ZENODO_API_URL}/{deposition_id}\"\n+        response = requests.get(deposition_url, params=self.params, headers=self.headers)\n+        if response.status_code != 200:\n+            raise Exception(\"Failed to get deposition\")\n+        return response.json()\n+\n+    def get_doi(self, deposition_id: int) -> str:\n+        \"\"\"\n+        Get the DOI of a deposition from Zenodo.\n+\n+        Args:\n+            deposition_id (int): The ID of the deposition in Zenodo.\n+\n+        Returns:\n+            str: The DOI of the deposition.\n+        \"\"\"\n+        return self.get_deposition(deposition_id).get(\"doi\")"
      },
      {
        "sha": "6d5c9210981ab0eb41f61c92bd866392a7795bc5",
        "filename": "app/modules/zenodo/templates/zenodo/index.html",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2Ftemplates%2Fzenodo%2Findex.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fmodules%2Fzenodo%2Ftemplates%2Fzenodo%2Findex.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fmodules%2Fzenodo%2Ftemplates%2Fzenodo%2Findex.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,11 @@\n+{% extends \"base_template.html\" %}\n+\n+{% block title %}View zenodo{% endblock %}\n+\n+{% block content %}\n+\n+{% endblock %}\n+\n+{% block scripts %}\n+    <script src=\"{{ url_for('zenodo.scripts') }}\"></script>\n+{% endblock %}\n\\ No newline at end of file"
      },
      {
        "sha": "478ed4f0cc17d9aa4b2c0d4b54975810905ffe90",
        "filename": "app/static/css/app.css",
        "status": "added",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fcss%2Fapp.css",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fcss%2Fapp.css",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fcss%2Fapp.css?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "825c6602f9de9bb5f2643dd253b5511884c9b22c",
        "filename": "app/static/css/app.css.map",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fcss%2Fapp.css.map",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fcss%2Fapp.css.map",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fcss%2Fapp.css.map?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "56ef8d6c13648a26c9349989856830a106b5358a",
        "filename": "app/static/css/dropzone.css",
        "status": "added",
        "additions": 49,
        "deletions": 0,
        "changes": 49,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fcss%2Fdropzone.css",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fcss%2Fdropzone.css",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fcss%2Fdropzone.css?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,49 @@\n+#myDropzone {\n+    min-height: auto;\n+    border: 2px dashed #ccc;\n+    border-radius:10px;\n+    padding: 20px;\n+    display: flex;\n+    flex-wrap: wrap;\n+    justify-content: flex-start;\n+}\n+\n+#myDropzone .dz-preview {\n+    display: flex;\n+    flex-direction: column;\n+    align-items: center;\n+    margin: 10px;\n+    width: 150px;\n+}\n+\n+#myDropzone .dz-preview .dz-details {\n+    text-align: center;\n+    padding: 5px;\n+}\n+\n+#dropzone-text {\n+    position: absolute;\n+    top: 50%;\n+    left: 50%;\n+    transform: translate(-50%, -50%);\n+    text-align: center;\n+}\n+\n+#file-list {\n+    list-style-type: none;\n+    padding: 0;\n+    margin: 0;\n+}\n+\n+#file-list li {\n+    margin-bottom: 10px;\n+    padding: 10px;\n+    background-color: #F4F7FB;\n+    border: 1px solid #ccc;\n+    border-radius: 5px;\n+}\n+\n+\n+.remove-button {\n+    margin-left: 10px;\n+}\n\\ No newline at end of file"
      },
      {
        "sha": "c94fe51fa5fcb14b3ace7ab8cf3f6f693785eb25",
        "filename": "app/static/css/own.css",
        "status": "added",
        "additions": 187,
        "deletions": 0,
        "changes": 187,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fcss%2Fown.css",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fcss%2Fown.css",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fcss%2Fown.css?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,187 @@\n+.error {\n+    border: 1px solid red;\n+}\n+\n+.alert-warning {\n+    background-color: #FFF3CD;\n+    padding: 20px;\n+    border-radius: 5px;\n+}\n+\n+.alert-success {\n+    background-color: #D4EDD9;\n+    padding: 20px;\n+    border-radius: 5px;\n+}\n+\n+.alert-error {\n+    background-color: #F9D6D9;\n+    padding: 20px;\n+    border-radius: 5px;\n+}\n+\n+.fixed-column {\n+    position: sticky;\n+    top: 0;\n+    height: 100vh;\n+    overflow-y: auto;\n+    padding-left: 50px;\n+}\n+\n+.scrollable-column {\n+    height: 200vh;\n+    overflow-y: auto;\n+}\n+\n+.rounded-search {\n+    border: none;\n+    border-radius: 20px;\n+    background-color: #f3f6fa;\n+    font-size: 12px;\n+    padding: 10px 50px 10px 20px;\n+}\n+\n+.center-button-icon {\n+    vertical-align: middle;\n+    margin-top: -2px\n+}\n+\n+.card-header-slim {\n+    padding-bottom: 0px;\n+}\n+\n+.card-body-slim {\n+    padding-top: 0px\n+}\n+\n+.card-dark {\n+    background-color: #2B3947 !important;\n+    color: #ffffff;\n+}\n+\n+.card-header-dark {\n+    background: inherit;\n+    color: inherit !important;\n+}\n+\n+.card-welcome{\n+    background: #F68017 radial-gradient(circle at center left, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.5));\n+    color: #ffffff;\n+}\n+\n+.card-note{\n+    background: #1ab7ea radial-gradient(circle at center right, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.5));\n+    color: #ffffff;\n+}\n+\n+.card-header-welcome {\n+    background: inherit;\n+    color: inherit !important;\n+}\n+\n+.card-title-light {\n+    margin-left: 1.25rem;\n+    margin-top: 1.25rem;\n+    color: white;\n+    font-size: 17px;\n+}\n+\n+.card-title-note {\n+    margin-left: 1.25rem;\n+    margin-top: 0.5rem;\n+    color: white;\n+    font-size: 35px;\n+}\n+\n+.custom-card-body {\n+    height: 150px;\n+}\n+\n+.custom-img {\n+    padding: 0px 20px;\n+    max-height: 200px;\n+    min-height: 200px;\n+}\n+\n+.stats-color {\n+    color: #009688; \n+}\n+\n+.doi_button {\n+    background-color: #147ABB;\n+    border-color: #147ABB;\n+    color: white;\n+    display: flex;\n+    align-items: center;\n+    padding: 0;\n+    border-radius: 5px;\n+    overflow: hidden;\n+}\n+\n+.doi_button:hover {\n+    background-color: #075585;\n+    border-color: #075585;\n+}\n+\n+.button_doi_id {\n+    background-color: #5C5C5C;\n+    padding: 10px;\n+    margin: 0;\n+    display: flex;\n+    align-items: center;\n+    justify-content: center;\n+    transition: background-color 0.3s ease, color 0.3s ease;\n+}\n+\n+.doi_button:hover .button_doi_id {\n+    background-color: #075585;\n+    color: white;\n+}\n+\n+.doi_text {\n+    background-color: #147ABB;\n+    padding: 10px;\n+    display: flex;\n+    align-items: center;\n+    transition: background-color 0.3s ease;\n+}\n+\n+.doi_button:hover .doi_text {\n+    background-color: #4ebbff;\n+    color: white;\n+}\n+\n+.doi_button:active .doi_text {\n+    background-color: #4ebbff;\n+    color: white;\n+}\n+\n+.doi_button:active .button_doi_id {\n+    background-color: #075585;\n+    color: white;\n+}\n+\n+.center-button-icon {\n+    margin-right: 5px;\n+}\n+\n+.badge-success {\n+    background-color: green;\n+    color: white;\n+    padding: 5px;\n+    border-radius: 3px;\n+}\n+\n+.badge-danger {\n+    background-color: red;\n+    color: white;\n+    padding: 5px;\n+    border-radius: 3px;\n+}\n+\n+.badge-warning {\n+    background-color: orange;\n+    color: white;\n+    padding: 5px;\n+    border-radius: 3px;\n+}\n\\ No newline at end of file"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "app/static/fonts/.gitkeep",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Ffonts%2F.gitkeep",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Ffonts%2F.gitkeep",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Ffonts%2F.gitkeep?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "161477839f8de059129f9b73bb60fb7f76c549d0",
        "filename": "app/static/gifs/loading.svg",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fgifs%2Floading.svg",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fgifs%2Floading.svg",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fgifs%2Floading.svg?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,6 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"margin: auto; background: none; display: block; shape-rendering: auto;\" width=\"249px\" height=\"249px\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\">\n+<circle cx=\"50\" cy=\"41\" r=\"31\" fill=\"#222e3c\">\n+  <animate attributeName=\"cy\" dur=\"0.7518796992481203s\" repeatCount=\"indefinite\" calcMode=\"spline\" keySplines=\"0.45 0 0.9 0.55;0 0.45 0.55 0.9\" keyTimes=\"0;0.5;1\" values=\"41;59;41\"></animate>\n+</circle>\n+<!-- [ldio] generated by https://loading.io/ --></svg>\n\\ No newline at end of file"
      },
      {
        "sha": "45eb491c9c313383c9a2316636a5a4aea971d1c9",
        "filename": "app/static/img/avatars/avatar-2.jpg",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Favatars%2Favatar-2.jpg",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Favatars%2Favatar-2.jpg",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fimg%2Favatars%2Favatar-2.jpg?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "f3d30c1bd8825ddacb72f365b46008df367b5a03",
        "filename": "app/static/img/avatars/avatar-3.jpg",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Favatars%2Favatar-3.jpg",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Favatars%2Favatar-3.jpg",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fimg%2Favatars%2Favatar-3.jpg?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "ddf9bd5b6dec490fb04c755d62d3c851da2972af",
        "filename": "app/static/img/avatars/avatar-4.jpg",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Favatars%2Favatar-4.jpg",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Favatars%2Favatar-4.jpg",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fimg%2Favatars%2Favatar-4.jpg?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "60f0e5d31c6ff14597c35721a9c558f9c37953b0",
        "filename": "app/static/img/avatars/avatar-5.jpg",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Favatars%2Favatar-5.jpg",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Favatars%2Favatar-5.jpg",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fimg%2Favatars%2Favatar-5.jpg?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "3c01e595abdaac9531cbf135b0e027b4eff9d5d8",
        "filename": "app/static/img/avatars/avatar.jpg",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Favatars%2Favatar.jpg",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Favatars%2Favatar.jpg",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fimg%2Favatars%2Favatar.jpg?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "5e585af04080c6c10326eff2750e74d7eaeeda99",
        "filename": "app/static/img/icons/icon-250x250.png",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Ficons%2Ficon-250x250.png",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Ficons%2Ficon-250x250.png",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fimg%2Ficons%2Ficon-250x250.png?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "b7e28fdbdcd15d67a91d551fb78584f8e04f13c8",
        "filename": "app/static/img/items/not_found.svg",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Fitems%2Fnot_found.svg",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Fitems%2Fnot_found.svg",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fimg%2Fitems%2Fnot_found.svg?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1 @@\n+<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"500\" zoomAndPan=\"magnify\" viewBox=\"0 0 375 374.999991\" height=\"500\" preserveAspectRatio=\"xMidYMid meet\" version=\"1.0\"><path fill=\"#222e3c\" d=\"M 93.75 112.5 C 93.136719 112.5 92.523438 112.53125 91.914062 112.589844 C 91.300781 112.652344 90.695312 112.742188 90.09375 112.859375 C 89.488281 112.980469 88.894531 113.128906 88.308594 113.308594 C 87.71875 113.484375 87.140625 113.691406 86.574219 113.925781 C 86.007812 114.164062 85.453125 114.425781 84.910156 114.714844 C 84.371094 115.003906 83.84375 115.320312 83.332031 115.660156 C 82.824219 116 82.328125 116.367188 81.855469 116.757812 C 81.378906 117.144531 80.925781 117.558594 80.492188 117.992188 C 80.058594 118.425781 79.644531 118.878906 79.257812 119.355469 C 78.867188 119.828125 78.5 120.324219 78.160156 120.832031 C 77.820312 121.34375 77.503906 121.871094 77.214844 122.410156 C 76.925781 122.953125 76.664062 123.507812 76.425781 124.074219 C 76.191406 124.640625 75.984375 125.21875 75.808594 125.808594 C 75.628906 126.394531 75.480469 126.988281 75.359375 127.59375 C 75.242188 128.195312 75.152344 128.800781 75.089844 129.414062 C 75.03125 130.023438 75 130.636719 75 131.25 C 75 131.863281 75.03125 132.476562 75.089844 133.085938 C 75.152344 133.699219 75.242188 134.304688 75.359375 134.90625 C 75.480469 135.511719 75.628906 136.105469 75.808594 136.691406 C 75.984375 137.28125 76.191406 137.859375 76.425781 138.425781 C 76.664062 138.992188 76.925781 139.546875 77.214844 140.089844 C 77.503906 140.628906 77.820312 141.15625 78.160156 141.667969 C 78.5 142.175781 78.867188 142.671875 79.257812 143.144531 C 79.644531 143.621094 80.058594 144.074219 80.492188 144.507812 C 80.925781 144.941406 81.378906 145.355469 81.855469 145.742188 C 82.328125 146.132812 82.824219 146.5 83.332031 146.839844 C 83.84375 147.179688 84.371094 147.496094 84.910156 147.785156 C 85.453125 148.074219 86.007812 148.335938 86.574219 148.574219 C 87.140625 148.808594 87.71875 149.015625 88.308594 149.191406 C 88.894531 149.371094 89.488281 149.519531 90.09375 149.640625 C 90.695312 149.757812 91.300781 149.847656 91.914062 149.910156 C 92.523438 149.96875 93.136719 150 93.75 150 C 94.363281 150 94.976562 149.96875 95.585938 149.910156 C 96.199219 149.847656 96.804688 149.757812 97.40625 149.640625 C 98.011719 149.519531 98.605469 149.371094 99.191406 149.191406 C 99.78125 149.015625 100.359375 148.808594 100.925781 148.574219 C 101.492188 148.335938 102.046875 148.074219 102.589844 147.785156 C 103.128906 147.496094 103.65625 147.179688 104.167969 146.839844 C 104.675781 146.5 105.171875 146.132812 105.644531 145.742188 C 106.121094 145.355469 106.574219 144.941406 107.007812 144.507812 C 107.441406 144.074219 107.855469 143.621094 108.242188 143.144531 C 108.632812 142.671875 109 142.175781 109.339844 141.667969 C 109.679688 141.15625 109.996094 140.628906 110.285156 140.089844 C 110.574219 139.546875 110.835938 138.992188 111.074219 138.425781 C 111.308594 137.859375 111.515625 137.28125 111.691406 136.691406 C 111.871094 136.105469 112.019531 135.511719 112.140625 134.90625 C 112.257812 134.304688 112.347656 133.699219 112.410156 133.085938 C 112.46875 132.476562 112.5 131.863281 112.5 131.25 C 112.5 130.636719 112.46875 130.023438 112.410156 129.414062 C 112.347656 128.800781 112.257812 128.195312 112.140625 127.59375 C 112.019531 126.988281 111.871094 126.394531 111.691406 125.808594 C 111.515625 125.21875 111.308594 124.640625 111.074219 124.074219 C 110.835938 123.507812 110.574219 122.953125 110.285156 122.410156 C 109.996094 121.871094 109.679688 121.34375 109.339844 120.832031 C 109 120.324219 108.632812 119.828125 108.242188 119.355469 C 107.855469 118.878906 107.441406 118.425781 107.007812 117.992188 C 106.574219 117.558594 106.121094 117.144531 105.644531 116.757812 C 105.171875 116.367188 104.675781 116 104.167969 115.660156 C 103.65625 115.320312 103.128906 115.003906 102.589844 114.714844 C 102.046875 114.425781 101.492188 114.164062 100.925781 113.925781 C 100.359375 113.691406 99.78125 113.484375 99.191406 113.308594 C 98.605469 113.128906 98.011719 112.980469 97.40625 112.859375 C 96.804688 112.742188 96.199219 112.652344 95.585938 112.589844 C 94.976562 112.53125 94.363281 112.5 93.75 112.5 Z M 206.25 112.5 C 205.636719 112.5 205.023438 112.53125 204.414062 112.589844 C 203.800781 112.652344 203.195312 112.742188 202.59375 112.859375 C 201.988281 112.980469 201.394531 113.128906 200.808594 113.308594 C 200.21875 113.484375 199.640625 113.691406 199.074219 113.925781 C 198.507812 114.164062 197.953125 114.425781 197.410156 114.714844 C 196.871094 115.003906 196.34375 115.320312 195.832031 115.660156 C 195.324219 116 194.828125 116.367188 194.355469 116.757812 C 193.878906 117.144531 193.425781 117.558594 192.992188 117.992188 C 192.558594 118.425781 192.144531 118.878906 191.757812 119.355469 C 191.367188 119.828125 191 120.324219 190.660156 120.832031 C 190.320312 121.34375 190.003906 121.871094 189.714844 122.410156 C 189.425781 122.953125 189.164062 123.507812 188.925781 124.074219 C 188.691406 124.640625 188.484375 125.21875 188.308594 125.808594 C 188.128906 126.394531 187.980469 126.988281 187.859375 127.59375 C 187.742188 128.195312 187.652344 128.800781 187.589844 129.414062 C 187.53125 130.023438 187.5 130.636719 187.5 131.25 C 187.5 131.863281 187.53125 132.476562 187.589844 133.085938 C 187.652344 133.699219 187.742188 134.304688 187.859375 134.90625 C 187.980469 135.511719 188.128906 136.105469 188.308594 136.691406 C 188.484375 137.28125 188.691406 137.859375 188.925781 138.425781 C 189.164062 138.992188 189.425781 139.546875 189.714844 140.089844 C 190.003906 140.628906 190.320312 141.15625 190.660156 141.667969 C 191 142.175781 191.367188 142.671875 191.757812 143.144531 C 192.144531 143.621094 192.558594 144.074219 192.992188 144.507812 C 193.425781 144.941406 193.878906 145.355469 194.355469 145.742188 C 194.828125 146.132812 195.324219 146.5 195.832031 146.839844 C 196.34375 147.179688 196.871094 147.496094 197.410156 147.785156 C 197.953125 148.074219 198.507812 148.335938 199.074219 148.574219 C 199.640625 148.808594 200.21875 149.015625 200.808594 149.191406 C 201.394531 149.371094 201.988281 149.519531 202.59375 149.640625 C 203.195312 149.757812 203.800781 149.847656 204.414062 149.910156 C 205.023438 149.96875 205.636719 150 206.25 150 C 206.863281 150 207.476562 149.96875 208.085938 149.910156 C 208.699219 149.847656 209.304688 149.757812 209.90625 149.640625 C 210.511719 149.519531 211.105469 149.371094 211.691406 149.191406 C 212.28125 149.015625 212.859375 148.808594 213.425781 148.574219 C 213.992188 148.335938 214.546875 148.074219 215.089844 147.785156 C 215.628906 147.496094 216.15625 147.179688 216.667969 146.839844 C 217.175781 146.5 217.671875 146.132812 218.144531 145.742188 C 218.621094 145.355469 219.074219 144.941406 219.507812 144.507812 C 219.941406 144.074219 220.355469 143.621094 220.742188 143.144531 C 221.132812 142.671875 221.5 142.175781 221.839844 141.667969 C 222.179688 141.15625 222.496094 140.628906 222.785156 140.089844 C 223.074219 139.546875 223.335938 138.992188 223.574219 138.425781 C 223.808594 137.859375 224.015625 137.28125 224.191406 136.691406 C 224.371094 136.105469 224.519531 135.511719 224.640625 134.90625 C 224.757812 134.304688 224.847656 133.699219 224.910156 133.085938 C 224.96875 132.476562 225 131.863281 225 131.25 C 225 130.636719 224.96875 130.023438 224.910156 129.414062 C 224.847656 128.800781 224.757812 128.195312 224.640625 127.59375 C 224.519531 126.988281 224.371094 126.394531 224.191406 125.808594 C 224.015625 125.21875 223.808594 124.640625 223.574219 124.074219 C 223.335938 123.507812 223.074219 122.953125 222.785156 122.410156 C 222.496094 121.871094 222.179688 121.34375 221.839844 120.832031 C 221.5 120.324219 221.132812 119.828125 220.742188 119.355469 C 220.355469 118.878906 219.941406 118.425781 219.507812 117.992188 C 219.074219 117.558594 218.621094 117.144531 218.144531 116.757812 C 217.671875 116.367188 217.175781 116 216.667969 115.660156 C 216.15625 115.320312 215.628906 115.003906 215.089844 114.714844 C 214.546875 114.425781 213.992188 114.164062 213.425781 113.925781 C 212.859375 113.691406 212.28125 113.484375 211.691406 113.308594 C 211.105469 113.128906 210.511719 112.980469 209.90625 112.859375 C 209.304688 112.742188 208.699219 112.652344 208.085938 112.589844 C 207.476562 112.53125 206.863281 112.5 206.25 112.5 Z M 193.125 219.375 C 166.875 200.625 131.25 200.625 106.875 219.375 L 84.375 189.375 C 121.875 161.25 176.25 161.25 215.625 189.375 Z M 375 337.5 L 337.5 375 L 262.5 300 L 262.5 262.5 L 300 262.5 Z M 375 337.5 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#222e3c\" d=\"M 150 300 C 67.5 300 0 232.5 0 150 C 0 67.5 67.5 0 150 0 C 232.5 0 300 67.5 300 150 C 300 232.5 232.5 300 150 300 Z M 150 37.5 C 88.125 37.5 37.5 88.125 37.5 150 C 37.5 211.875 88.125 262.5 150 262.5 C 211.875 262.5 262.5 211.875 262.5 150 C 262.5 88.125 211.875 37.5 150 37.5 Z M 150 37.5 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#222e3c\" d=\"M 236.707031 251.273438 L 249.964844 238.015625 L 296.371094 284.417969 L 283.109375 297.675781 Z M 236.707031 251.273438 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/></svg>\n\\ No newline at end of file"
      },
      {
        "sha": "fead383ca177b6906e2a0e94b9f51181cea2bd00",
        "filename": "app/static/img/logos/logo-dark.svg",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Flogos%2Flogo-dark.svg",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Flogos%2Flogo-dark.svg",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fimg%2Flogos%2Flogo-dark.svg?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "5694a2712b26829448b2c366499a1cd27436b5c1",
        "filename": "app/static/img/logos/logo-light.svg",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Flogos%2Flogo-light.svg",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Flogos%2Flogo-light.svg",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fimg%2Flogos%2Flogo-light.svg?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "f7e9a25be3b3d6338e06a18a171f324fe3e67253",
        "filename": "app/static/img/logos/university_of_malaga.svg",
        "status": "added",
        "additions": 1616,
        "deletions": 0,
        "changes": 1616,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Flogos%2Funiversity_of_malaga.svg",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Flogos%2Funiversity_of_malaga.svg",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fimg%2Flogos%2Funiversity_of_malaga.svg?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "a46639132f91582185e1bcfbe76523444ad961eb",
        "filename": "app/static/img/logos/university_of_seville.svg",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Flogos%2Funiversity_of_seville.svg",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Flogos%2Funiversity_of_seville.svg",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fimg%2Flogos%2Funiversity_of_seville.svg?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1 @@\n+<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 894.83 372.82\"><defs><style>.cls-1{fill:#1a171b;}.cls-2{fill:#bd0e2e;fill-rule:evenodd;}</style></defs><title>logo_us_color</title><g id=\"Capa_2\" data-name=\"Capa 2\"><g id=\"Capa_1-2\" data-name=\"Capa 1\"><path class=\"cls-1\" d=\"M318.88,346.3a19.71,19.71,0,0,0,10.41-8.49h.13v27.38c0,2.77-.2,5,2.44,6.7V372h-10.2v-.15c3-1.46,2.87-3.73,2.87-6.7V346.45h-5.65Z\"/><path class=\"cls-1\" d=\"M358,346h-.14c-1.81-1.94-5.15-2.08-7.74-2.08l-5.29.29-.43,8a17.48,17.48,0,0,1,4.71-.64c6.36,0,11.76,3.6,11.76,10.41,0,6.49-6.22,10.87-14.43,10.87a27.4,27.4,0,0,1-6.28-.78l-2.27-5a18.14,18.14,0,0,0,8.5,1.95c4.48,0,8.94-2,8.94-7.13,0-4.66-4.46-6.56-8.47-6.56a19.44,19.44,0,0,0-7.42,1.61l1.06-16.86H358Z\"/><path class=\"cls-1\" d=\"M365.39,356.16c0-9,4.43-16.85,13-16.85,9,0,12.82,8.69,12.82,16.56s-3.88,16.95-13,16.95c-7.63-.1-12.78-7.69-12.78-16.66m5.2-.49c0,4.91,1.6,13.35,7.87,13.35,4.82,0,7.55-5.92,7.55-12.76s-2.94-13.07-7.84-13.16c-6.12,0-7.58,7.87-7.58,12.57\"/><path class=\"cls-1\" d=\"M416.33,346h-.15c-1.79-1.94-5.15-2.08-7.73-2.08l-5.29.29-.44,8a17.49,17.49,0,0,1,4.72-.63c6.38,0,11.76,3.59,11.76,10.4,0,6.49-6.22,10.87-14.45,10.87a27.29,27.29,0,0,1-6.25-.78l-2.29-5a18.41,18.41,0,0,0,8.51,1.93c4.46,0,8.94-2,8.94-7.13,0-4.66-4.48-6.56-8.46-6.56a19.54,19.54,0,0,0-7.44,1.61l1.06-16.86h17.51Z\"/><path class=\"cls-2\" d=\"M452.84,256.41l31.73.21v10.3s-2.77-3.72-6.57-3.72-13.78.61-13.78.61v16.68h13.71l1.33-.31v9.29l-2.77-2.1-12.1,0v20.7s4.32,2.15,11.67,2.15,16.62-5,16.62-5L492,307l-3.39,9.6H450.81s4.13-2.73,4.08-5.89,0-48.2,0-48.2.23-4.88-3.34-4.88c.83-1.16,1.29-1.17,1.29-1.17\"/><path class=\"cls-2\" d=\"M372.05,283.92c0-16.68-13.5-24.28-21.27-26.44-6.52-1.71-14.71-1.37-18.82-1.34l-12-.09s-.45,0-1.24,1.17a2.78,2.78,0,0,1,2.23,1c.18.34.39.69.55.95A6.14,6.14,0,0,1,322,261v48.3c-.4,2.84-3.91,5.12-3.91,5.12h24.41s29.59,1.35,29.59-30.46m-26.91,23.25H334.07a17.54,17.54,0,0,1-2.84-1V286.09h13.09l1.31.62v-8.07l-1.31.76H331V263.22s14-.74,19.74,1.69,12.2,8.32,12.2,19.74c0,19.67-17.84,22.52-17.84,22.52\"/><path class=\"cls-2\" d=\"M719.25,317.06h18c-3.66-.54-6.61-7.14-6.61-7.14l-21-52.24H695.8c3.49,1.48.71,8.52.71,8.52s-13.64,33.43-16.43,40.71-7.23,9.7-7.23,9.7l-.31.37h16.08a10,10,0,0,1-2.19-2.16c-1.34-2-.21-5.54-.21-5.54l5.89-14.63h23.06s4.68,13.26,6.29,17.27a3.57,3.57,0,0,1-2.21,5.14m-25.44-27.92,9.63-23.63,8.84,23.64Z\"/><path class=\"cls-2\" d=\"M492.35,256.45H505v3.91l15.41,40.95,1.07,3.45,1.21-.85,14.14-38.16s1.71-5,.2-6.93a17.59,17.59,0,0,1-1.69-2.28h12.41l-.86,3.7-22.8,58.27s-7.85-1.9-11.4-12.15c-3.2-9.22-15.57-41.69-15.57-41.69s-1.58-3.2-3.06-5.65c-.68-1.13-1.82-1.09-1.75-2.56\"/><path class=\"cls-2\" d=\"M553.68,256.38h15.83l.74.75s-3.41,2.35-3.41,4.65c0,1.84,0,49.92,0,49.92s.79,2.9,1.78,3.4a4,4,0,0,1,1.54,1.33H554v-1s3.17-1.36,3.17-4.18-.42-48.8-.42-50c0-2.64-3.07-3.43-3.07-3.43Z\"/><path class=\"cls-2\" d=\"M605.84,310.26c-5.91,0-9.89-.66-11.19-1.19,0-10.76,0-45.91,0-47.47,0-2.28,3.41-4.64,3.41-4.64l0-.43H580.84v.52c0,.08,2.45.78,3.28,2.4a6.4,6.4,0,0,1,.48,1.67c0,.35,0,4.16.08,9.56,0,13.13,0,37.69,0,40,0,3.77-4.08,5.89-4.08,5.89h37.78l3.38-9.59.71-1.69s-7.63,5-16.63,5\"/><path class=\"cls-2\" d=\"M653.73,310.26c-5.93,0-9.9-.66-11.19-1.19,0-10.76,0-45.91,0-47.47,0-2.28,3.43-4.64,3.43-4.64l0-.43H628.72v.52c0,.08,2.45.78,3.27,2.4a6.44,6.44,0,0,1,.49,1.67c0,.35,0,4.16.06,9.56,0,13.13,0,37.69,0,40,0,3.77-4.08,5.89-4.08,5.89h37.77l3.4-9.59.72-1.69s-7.65,5-16.64,5\"/><path class=\"cls-2\" d=\"M437.81,261V250.15s-8.23-2.38-14.8-2.38-25.66,1.22-25.66,19.12c0,18.73,35.26,16.53,35.26,33.52,0,5.22-7.76,9.95-15.39,9.95-10.79,0-21.45-8-21.45-8l2.59,12a50.47,50.47,0,0,0,17.09,3.36c9,0,28.11-5.05,28.11-20.61,0-20.94-35.07-18.32-35.07-32.73,0-6.09,4.94-9.45,12.77-9.45,9.09,0,16.55,6.06,16.55,6.06\"/><path class=\"cls-2\" d=\"M318.05,159.59h17.86v.74s-3.76.18-3.76,5.42V207.8s1.15,12.42,15.09,12.42c17,0,18.36-10.44,18.36-10.44l0-42.81s-.6-7-3.82-7c0-.67.29-.28.29-.28h17.58v.63a4.15,4.15,0,0,0-3.53,4.3v55.08c0,2,.36,4.08,2.32,5.52s1.55,1.56,1.55,1.56H365.7v-6.43h-1.36s-5.65,7.68-18.46,7.68c-14.56,0-23.81-8.24-23.81-20.26V165.59s-1.35-5.18-4-6\"/><path class=\"cls-2\" d=\"M389.07,167.81v-.66h12.45l35.55,45.61V172.89s-1.48-4.62-3.65-4.95v-.82h14.76v.7s-3.87,1.08-3.87,5.93-.6,55.58-.6,55.58h-1.33s-4.85-2-16.62-16.56-25.25-32.11-25.25-32.11l-.42-.31v40.84s2,5.07,4.26,5.07V227h-15.8v-1s3.86-2.73,3.86-5,.41-46.77.41-46.77-.55-5.26-3.75-6.51\"/><path class=\"cls-2\" d=\"M457.59,167.06l15.66.24v.57s-3.09.72-3.09,3.69v49.91s.3,3.5,2.9,4.55v1H457.51l0-1a5.21,5.21,0,0,0,3.3-4.81v-49.4s-1.06-2.87-3.23-3.9a1.3,1.3,0,0,1,0-.81\"/><path class=\"cls-2\" d=\"M693.44,167.05l15.65.25v.58s-3.07.69-3.07,3.68v49.92s.31,3.5,2.9,4.54v1H693.34l.07-1a5.22,5.22,0,0,0,3.31-4.81v-49.4s-1.08-2.87-3.23-3.89a1.59,1.59,0,0,1,0-.83\"/><path class=\"cls-2\" d=\"M478.57,167.13h12.52a13,13,0,0,0,.39,3.69c.48,1.65,16.87,44.56,16.87,44.56l15.37-40s.09-5.3-1.35-6.42-1.54-1.93-1.54-1.93H534.4l-24.83,63.15s-6.51-2.25-10-10.4c-2.83-6.53-17.77-47.12-17.77-47.12l-3.3-4.45Z\"/><path class=\"cls-2\" d=\"M540.93,167.36l31.76.21v10.3s-2.78-4-6.54-4-13.82,0-13.82,0v17.54H566l1.34-.32v9.29l-2.76-2.09H552.5l-.07,20.78s4.33,2.13,11.69,2.13,16.68-5,16.68-5l-4.1,11.3H538.94s4.12-2.71,4.06-5.89,0-48.22,0-48.22.25-4.83-3.34-4.83c.85-1.18,1.27-1.21,1.27-1.21\"/><path class=\"cls-2\" d=\"M587.68,168s16.39-.57,20.61-.57,18.76,2.67,18.76,15.51c0,10.17-13.68,14.64-13.68,14.64l-.49,1.19s11.76,16.36,17.46,21.18a92.26,92.26,0,0,0,10,7.47H628.53s-3,.35-13.94-12.47-12.7-18.62-12.7-18.62,15.13-2,15.13-12.79c0-7.78-7.28-10.11-7.28-10.11s-9.78-1.57-9.78.44V223s1.92,4.41,3.51,4.41H586.73s3.67-.93,3.67-10.46V173s-1.27-4.3-2.72-4.93\"/><path class=\"cls-2\" d=\"M740.27,168.07H717.79l3.41,3.56-.05,51.4-3.37,4.66h21.37c14.65,0,33.66-6.3,33.66-31.21,0-26-25.36-28.41-32.54-28.41m2.67,52.39H730.55l-.08-45.36s33-6.49,33,22.15c0,22.9-20.53,23.21-20.53,23.21\"/><path class=\"cls-2\" d=\"M818.26,227.54h18c-3.71-.53-6.61-7.15-6.61-7.15l-21-52.2H794.8c3.49,1.44.74,8.48.74,8.48s-13.67,33.45-16.44,40.73-7.23,9.7-7.23,9.7l-.33.37h16.07a10.91,10.91,0,0,1-2.18-2.18c-1.33-1.95-.21-5.53-.21-5.53l5.9-14.62h23s4.68,13.27,6.32,17.26a3.6,3.6,0,0,1-2.23,5.14M792.8,199.6,802.45,176l8.82,23.63Z\"/><path class=\"cls-2\" d=\"M679.42,177.65v-9.74a57.86,57.86,0,0,0-13.31-2.14c-5.94,0-23.08,1.1-23.08,17.21,0,16.82,31.75,14.87,31.75,30.13,0,4.68-7,8.95-13.83,8.95-9.72,0-19.33-7.21-19.33-7.21l2.32,10.8a45.7,45.7,0,0,0,15.41,3c11.45,0,25.27-4.55,25.27-18.52,0-18.83-31.55-16.5-31.55-29.45,0-5.5,4.43-8.48,11.49-8.48,8.16,0,14.86,5.43,14.86,5.43\"/><path class=\"cls-2\" d=\"M862.3,168.07H839.78l3.42,3.56V223l-3.42,4.66h21.4c14.62,0,33.65-6.3,33.65-31.21,0-26-25.39-28.41-32.53-28.41M865,220.46H852.58l-.11-45.36s33-6.49,33,22.15c0,22.9-20.5,23.21-20.5,23.21\"/><path class=\"cls-1\" d=\"M240.67,294.41a17.68,17.68,0,0,0,2.09-.83c-.71.29-1.43.57-2.15.83Z\"/><path class=\"cls-1\" d=\"M234.93,250.09c-20.21-7.1-35-16.08-35-40.65.91-9.22,3.85-15.89,5.55-17.71,1-1-1.91-.07-4.68,3.29a5.19,5.19,0,0,1,1.27-2.56c5.41-5.85,8.37-9.47,8.37-10.61,1.4-2.26.38-1.72-1.73-.58-3.39,2.81-2.72,1.64-5,5.19-.4.63-1.26-.14-1.69.47-4.15,3-6,11.1-4,12.76a19.66,19.66,0,0,0-1.39,4.92c-.66,4.29-1,8-1.45,10.47-1.48-8.79-2.87-17.72-3.87-24.42,0-.47-.55-2.32-.62-2.77-.16-1.14.05-2.42-.48-3.6a4.73,4.73,0,0,1-.47-2.78c.73-4.26-.44-7-.9-9.79-.08-.5-.65-.4-.77.47-.19,1.44-.26,4.38-.68,5.21-.13.23-.89-4.55-1.3-5.29-.12-.21-.24-.73-.46-1.23a3.92,3.92,0,0,0-.38-.91,3.08,3.08,0,0,1-.4-.84c-.12-.29-.06-.72-.17-1s-.5-.75-.68-1.19c-1-2.48-2-5-2.35-4.52s.7,5.37,1.4,6.91A61.35,61.35,0,0,1,187.17,183c.14.74.65,3.12.8,3.83s.24,1.78.39,2.57.21,1.91.34,2.53c.29,1.62.23,2.36.45,3.3a15.51,15.51,0,0,0,.75,3.36c.65,1.62.65,5.09,0,4-.32-.55-3.09-4.16-4.07-4.76-.33-.19-.66-.44-1-.66-2.87-2-6.09-4.86-6.09-2.8,4.72,2.38,9.76,11.19,11.48,16.35a65.39,65.39,0,0,0,.27,7.17c.11,1.36-1.11,2.1-.83,3,.21.67,1.82,2.11,2.13,2.67.86,1.55,2.22,2.52,4.1,4.52a9.64,9.64,0,0,0,.93,1.87c0,5.17,32.12,17.5,12,15.24-4.28-2-10.7-5.94-12.56-5.94,0,4.16,15.58,12.45,25.46,15.05,1.58-1.61-10.15-4.68-7.38-4.68,2-.06,20.54,2.18,20.54.41\"/><path class=\"cls-1\" d=\"M184,69.54c.35.66.71,1.26,1,1.84,4.38-.74-1-4.41-1-1.84\"/><path class=\"cls-1\" d=\"M188.67,66.16c.29.23.56-.07.73-.16s.21,0,.34.09.3,0,.43-.06c4.24-2.48-4.19-3.32-1.81-.17.1.15.1.14.31.3\"/><path class=\"cls-1\" d=\"M151.57,208.51c1.09-.73,1-.6,1.52-1.48s.64-1.36-.29-2.35c-2.81-2.84-5.42-5.7-11.39-19.1-1.89-4.26-2.74,7.25-1.35,14.47,2.12,11,3.2,13.06,5.22,15.36,3.55,4,9.15,11,9.15,11s3.58,4,2.53-.55-4.51-7.81-7.6-9.94-1.86-4.4-1.86-4.4,1.59-1.23,4.07-3\"/><path class=\"cls-1\" d=\"M156.38,237.5c-.26-1.87-1.84-7.16-3-8.64S142.22,217,141,215.49s1.62,8.36,1.62,8.36.08.11.22.34c-.4.57-.29,2.58-.47,2.62,1.42,3.63,9.62,6.51,12.18,10.18,1,.83,1.89.94,1.82.51\"/><path class=\"cls-1\" d=\"M153.17,238.6c-2-1.73-5.72-4.28-7.39-4.28a10.87,10.87,0,0,0-4.12,1.41s-1.54,7.56-1.54,10.11-.33,7.82,1.65,5.94,2.87,1.45,4.56,1.45,0,3.08,5.13-2.58a17.38,17.38,0,0,0,4-6.9s.81-2.39-2.3-5.15\"/><path class=\"cls-1\" d=\"M135.78,259c-5.77,1.86-6,2.15-9.81,2.74-7.25,1.1-4.85-11.46-8.51-7.27s-5.35,6.83-5.32,12.64c0,3.16-3.41,4.16.84,7.21s5.71-.15,11.69-.39,4.46-1.8,9.54-2.88,8.31-3.36,9.53-9.17,3.95-5.14-.37-6.37-2.21,1.76-7.59,3.49\"/><path class=\"cls-1\" d=\"M251,250.4l6.86,3.79c1.1.6,5.5,3.88,1.93,0-3.39-3.67-19-11.12-22.52-20.81-.61-1.73-4-4-4-4,.21-2.23-.71-2.31-.59-4l-.19-1.07.26-2.91c.44-5.09,9.19-15.75,10.26-19.83.16-.61.64-1.84-2-2.05-8.11-.63-12.41-6.06-14.46-7.91-.4-.36-.68.19-.66.82.06,3-.08,7.38-.1,10.07-.32-.13-.67-.23-1.05-.35-1.78-.52-7.22-.61-10-.61a15.26,15.26,0,0,0-7.35,2.28c-1.38,1-7.48,3.36,1.92,1.19a31.09,31.09,0,0,1,6.69-.87,24.34,24.34,0,0,1,5.72,1.33c1.67.49,3.19,1,4.39,1.42.69,3.31,2.16,6.61,3,10.58a65.1,65.1,0,0,1,1.27,10.19s3.77,6.86,5.91,11.42c1,2.13,3,4,6.07,6.14a1.05,1.05,0,0,0-.19.58c-.08.65-.68-.65-3.22-1.09-1.23-.21-2.45-.29-3.15-.49a14.07,14.07,0,0,1-2.32-.78c-1.94-.89-3.24-1.38-5.46-2.21-4.64-2.71-7.44-2.38-9.4-4.22-3.54-2.68-7.37-6.75-8.3-5.49a6.62,6.62,0,0,0,1.87,2.68c.32.34.61.34,1,.71s.57,1,.87,1.23c.47.39,1.39.6,2.09,1.16s1,.59,1.54,1.05c.22.16.57.78.77.94a31.89,31.89,0,0,0,3.61,2.36c-.06.22,1.49,1.16,2.09,1.3a2,2,0,0,0,1.3,1c.66.69,2.53,1.32,3.82,1.75a4.65,4.65,0,0,0,2.2.91c1.07.73,3.25.78,4.24,1a31.8,31.8,0,0,0,9,3.06c2.45,1,6.8,1.24,6.18-.17a.21.21,0,0,0,.12-.08\"/><path class=\"cls-1\" d=\"M220.26,171c.11,2.56.49,5.12,1.64,6.59-.08-.2-.15-.4-.22-.61a51.56,51.56,0,0,1-1.42-6\"/><path class=\"cls-1\" d=\"M166.92,329.43l3.26-.2s2.64.93,5.1,1.84,8.35,5.44,9.15,6.15,4.86,6.48,5.67,7.28a13.93,13.93,0,0,1,2.67,4.65c.83,2.2.09,4.29-1.23,4.71-4.26,1.43-5.39-1.46-5.48-2.4s-.35-1,.56-2.56,3,.61,2.67-1.38-2.76-1.87-2.76-1.87-5.22.85-5.09,6,3.31,6.76,6.56,7.71,7-.47,8.25-2.8c4.84-9.31-1.36-18.46-1.5-18.82-2.53-6.5-10.56-13.4-10.56-13.4a15.76,15.76,0,0,1-1.64-2.58c-.31-.93,11,7.49,13.68,13.37,1.63,3.4,2.26,5,2.38,7.54s-.12,3,1,3.65,1.31-2.31,2-2.31,1.92-1.53,1.92-1.53a32.78,32.78,0,0,0,.63-6.58,30.68,30.68,0,0,0-1.8-10.28c-.91-2.2.83-.68.83-.68s2-.5,4,8.07-1.43,13-.95,13.57,1.88-1.7,2.57-2.61.87-2.32,1.2-4.77,2-9.34,2.49-10.1,1,2.81.74,8.58-1.22,5.15-2.25,8.87c-.66,2.29-2.47,7.1,2.88-.33,2.13-3,3.6-9.91,3.76-11.06.35-2.52,1.77-5.29,2.69-4.92s-.56,3.13-.88,5.13-2.42,8.19-2.81,9.22a30.77,30.77,0,0,1-1.49,3.37c-.37.69,4.69.4,12.73-20.15.3-.75,2-2.91,2.12-3.71.2-1.91.17-2.06-.52-2.69-.4-.34-.5-1-1.71-1.07a4.55,4.55,0,0,0-2.26.21c-1.28.33-.58,2.19-1.61,3s-6.7,1.23-8.05.86a25.74,25.74,0,0,0-3.6-.58c-.94-.12-.68-1.48-.68-2.45s-.36-1.95-1.15-1.95-2.44-3.43-4-3.69-3-1-3.65-1a7.37,7.37,0,0,1-4.63-2.61c-1.53-1.88-8.37,0-10.35-.14-1.21-.09-7.05,2.86-8.56,2.87-.49,0-1.69.73-2.65.73-.45,0-1.4.85-1.82.84-2.43-.08-3.44.18-3-.24,1.17-1.17,8.22-2.69,9.05-3.18,7.8-4.83,7.76-1.83,8.76-3.42.64-1.4,5.19-1.11,4.73-2.53s-6-.53-7.2-.53,0-1-8,2.33c-1.3.55-4.79,4.16-8.43,3.27-1.38-.34-9.22,1-11,2.84-1.5,2.37-2,1.44-2.14,2.93s0,2.32.34,2.43,4,0,4,0,4.54,1.53,4.84,5.22c.13,1.83-1.7,1.38-1.7,1.38s-1-1.52-.7-2.19-.35-1.29-1.5-.84-.94,3-.94,3,.34,3.37,5.08,2.39\"/><path class=\"cls-1\" d=\"M182,360.13s-3.34-2.15-3.63-5.39-2.55-2.33-2.55-2.33-1,5.13,2.27,7.93c4.22,3.67,8.7,4.91,7.86,3.16s-4-3.37-4-3.37\"/><path class=\"cls-1\" d=\"M176.87,347.92c-2.28-.88-9.89-2.38-9.89-2.38s1.1,3.84,4.23,3.84A51.43,51.43,0,0,1,178,350s1.1-1.17-1.1-2\"/><path class=\"cls-1\" d=\"M180.42,339.08c-1-.8-1.67-1.73-2.48-2.34-4.26-3.24-6.88-4-6.88-4a2.3,2.3,0,0,0-2,.5c-.37.34-.78.6-.93.94-.41.92,1.3,1.76,1.73,1.94a16.27,16.27,0,0,1,3.82,1.57,20.87,20.87,0,0,1,3.83,2.1,75.17,75.17,0,0,0,6.77,5s2.3-.78-3.9-5.75\"/><path class=\"cls-1\" d=\"M179.37,347.63s.57.29,2.53-.59-6.19-5-8.46-6.76-7.31-2.68-7.31-2.68-1.15-.28-1.15,2.08a6.56,6.56,0,0,0,1.15,3.81,16.64,16.64,0,0,1,6.78,1.33c3.07,1.48,6.46,2.81,6.46,2.81\"/><path class=\"cls-1\" d=\"M242.88,329.43c.79-2.3,8.78-14.38,8.2-16.89s-3.77-1.24-4.63-1.68-.63.41-2.27.41-2.42-2.86-3.57-1.56-3.27-.25-4.15,0-1.77.18-.94,1.94c.12.25-4.12,3.3-4.53,5s4,5,3.58,6.36a148.08,148.08,0,0,1-7.41,17.58c-1,1.87-3.78,5-4.47,6.38a10.08,10.08,0,0,0-.67,3.12c-.05.51,4.67,1.59,6.5,3.88a4.73,4.73,0,0,0,1.3,1.32,13.18,13.18,0,0,1,1.46,2.14c1.48,3,2.75,6.05,5.19,6.08a5,5,0,0,0,4.26-3.58c.49-2,.66-4.23-2-5.92a3.67,3.67,0,0,0-4.76.8s-.78,1.26.16,2.06.45-.95,1.53-1,1.08.16,1.53.51,1.65,1.86-.41,3.67c-.61.56-1.95.3-2.86-.85a6.8,6.8,0,0,1-1.07-3.55,7.36,7.36,0,0,0-.21-1.3c1.13-.49,2-1.34,3.1-1.67,1.32-.47,3.46-.87,4.5-.44,3.1,1.31,3.84,1.69,5.18,3.19s1.68-3.86.59-4.46-2.93-.35-4-2.17-2.38-4.55-3.56-5.18-3.22-1.27-3.61-1.11-1.36.55-.43,2.05,2.49,2.56.51,1.94-3.33-1.42-2.72-3.24a4.76,4.76,0,0,1,3.15-3c1-.36,2.93.67,3.87,1.8s4.2,1.78,3.95.15-1.3-6.13-1.91-6-1.38-.36-1.58-2.18,2.52-2.2,3.27-4.51\"/><path class=\"cls-1\" d=\"M247.29,294.2a31.82,31.82,0,0,0-8.58,5c-4.05,1.6-11.62,4.49-16,4.1-3.85-.35-2.23,1.1-7.17.53s-8.51,2.94-11.91,2.53c-2.4-.28-.09,0-4.62,0-3.14,0-3.07,1.52-2.76,2.47.15.41,2.19.62,4.88.93s5.9,2.79,8.45,4.1,3.54,4.48,4.24,5.49,4.66,1.16,7.51.87,3.68-2.17,5.23-5.94,3.69-3.89,6.23-6.07c.18-.15.4-.34.62-.56,4.51-.92,7.89-1.81,8.75-1.63,2.37.44,4.23,2.43,6.45,2.29s2.33.21,2.73-.65-.57-.76-2.16-1.91c-4.19-3,2.16-5.84,4.39-4s-2.23,2.66.75,3.11c2,.3,3.35-2.35,2.68-5.48s-3.71-7.42-9.74-5.18\"/><path class=\"cls-1\" d=\"M239,366.27c-.2-.32-.69-.58-1.79-.63-2.88-.13-2.16-.6-4-1.35s-.78.36-1.81-3.87a10.12,10.12,0,0,0-7.48-7.65,37.41,37.41,0,0,0-7.6-.58c-1.33.25,1.88,1.93,3.47,2.12s4-.68,5.18.94,1.92,2.39,1.85,3.42-.15,2.62-1.48,2.94-.8.74-3,1c-1.52.16-2.18.35-3.39-.73s-1.85-2.52-.94-3.67,2.86-2.29,1-2.79-5.31-3-6.76-2.25-4.15-.43-5.69.56a29.37,29.37,0,0,1-3.65,1.72c-1.28.64-1.3,1.32-1.3,1.32s-.45,1,.37,1.09,2-.89,3.85-.44,6.08,4.66,6.48,5.28a9.84,9.84,0,0,1,1.4,2.93.17.17,0,0,1,0,.07c-1.47,0-3,0-4.47,0a3,3,0,0,0-2.62-1.22c-1.62.06-1.76-.89-3.09-2.09-.58-.53-1.18-2.45-2.29-3.31s-6.2,1.11-6.85,1.57-2.53,1.57-5.56,4a10.42,10.42,0,0,1-1.27.92l-7.82-.08c-.13-.07-.27-.12-.4-.2a8.22,8.22,0,0,1-4.2-4.74c-.61-1.36-.57-4.69-.61-6.53s-.71-1.9-1.88-1.95-.68,2.62-.53,4.64-.88,3.92-.2,7.16c.52,2.5,1.3,5.6,2.09,5.54h.15a5.4,5.4,0,0,0,4.61,2.42c-5.69.55,51.11.63,56.14.15,3.15.3,4.67-3.4,4.31-5.16a1.29,1.29,0,0,0-.27-.55\"/><path class=\"cls-1\" d=\"M397.92,129c-4-7.5-19.84-21.21-28.69-27-3.39-2.23-7.52-3.76-11.51-5.78-2.68-1.33-5.09-3.21-7.94-4.43C345,89.7,341.15,89,337.65,87.71s-7-3.08-10.45-4.09c-4.77-1.42-9.23-1.89-13.64-2.87-1.88-.42-3.9-1.55-5.65-1.87a93.63,93.63,0,0,0-10.29-1c-2.44-.23-4.83-.89-6.68-.82-6.9.22-21.9-2.66-23.79,7.25.12,2.11,1.44,5.67,1.32,8.54-.2,5.13-8.44,7.69-11,7.72-7.74.14-14.21-.6-22.8,7.41-8.14,7.62-8.75,24.32-8.92,24.38-.3,2-.21,3.22.14,3.88-.21.14-.37.21-.51.17-1.14-.36-.38-3.1-.38-6.5a36.91,36.91,0,0,0-.78-6.81c-.37-2.3,4.18-14.62,8.1-17.24,1.59-1.07,2.8-2.2,2.55-2.54-1.51-2-9.1-.73-12.17,1.48-1,.74-2,.58-3.77,2.4-.3.31-1.27,1.43-2.17,2.35-.52.55-1.65,1.6-2.1,2.09a14,14,0,0,1-3.35,2.55S205.62,118,208.1,117c3-1.16,4.23-.59,5,.6s3,6.81,3,10.19-1.85,6.44,0,5.68,1-6.46,1-6.46l-.5-7.14s.3-1.82.49-1.37A14.26,14.26,0,0,1,218,121c1.21,4.27.84,16.38-.71,19.23a10.32,10.32,0,0,0-.18,8.06c1.52,2.93-.09,1.75-1,1.09a35.44,35.44,0,0,1-4.62-3.81c-1.47-1.52-1.84-3.36-1.31-4.17,1.07-1.73,1.54-1,2.75-1.17.62-.09-.38-1.34-2.41-2.79-.2-.17-.92-.13-1.44-.59a5.09,5.09,0,0,0-.69-.62c-.32-.23-1.22-.25-1.53-.64a11,11,0,0,0-2.22-1.91c-.51-.48,1.57-.26,3.28,0a6.26,6.26,0,0,0,3-.15c.47-.3.91-.65.55-.76-2.09-.59-6.91-1.12-8.72-1.62-2.37-.68-2.9,0-5.06-1.51s-1.09-6.78-1.09-6.78l3.07.06,1.84-1.34c.08.18.25.22.61,0a5.25,5.25,0,0,0,.79-.79.91.91,0,0,0,.55-.63c1.21-1.39,2.87-3.34,3.11-3.5s.48-.92.86-1.19.91-.07,1.25-.34.65-.56,1-.86.59-.58.87-.87a17.83,17.83,0,0,0,3.51-5.39c.5-1.19-.11-2.64,2.45-3.53s2.94-.57,3.57-1.11a5.85,5.85,0,0,0,1.78-2.72c.26-1.21.15-.7-.56-2.85s-1.22-3.2-2.09-3.2-1.12-3.07-.85-4,.95-1.78-.13-2-2.67,1.84-2.22,0,1.58,0,1.58-1.12,3.09.61,3.87-2-.05-7.12-1.34-8.33-2.64-2.89-1.87-3.44,2.44-1.6.95-3.17c-2.41-2.51-1.2-4.46-2.29-6.81-3.59-7.72-7.39-7.4-8.24-7.5s-1.36,1.52.12,4.08.24,2.36.1,2.31l-2.79-.85c-.86-.27-1.11,1,.48,3.48s3.33,3.69,3.47,4.88.76,1.54-.42,1.54-3.56-.73-3.89-.61c-3.65,1.34,1,8.33-.37,8.25-.46,0-2.68-4.84-3.7-5.86s-.95-2.22-.69-3.85a5.86,5.86,0,0,0-1.08-3.75c-.34-.62-2.35-2-.18-4.35s4-2.38,3.06-2.64-3.17-1.33-3.7-1.49-1-.26-1.08.66a5.05,5.05,0,0,1-.89,3.26c-.86,1-.6,2.32-1.41,2.17a3,3,0,0,0-1.91.6c-.54.44,0,.14-1.21,1.57-.72.92-1.1,1-.83,1.36s1.26,0,3,0,2.17-.46,2.54,1,.46,2.46-.42,2.82-3.4,0-4.57,1.46-.6,2.38-1.71,2.49-2.18-.81-2.62.1,0,2,0,3a2.82,2.82,0,0,1-2.48,1.94,3,3,0,0,1-2.3-1.59c-.53-.73-.31-1.4-.75-1.14,0,0-.63.13-.34,1.9s2.12,2.73,2.27,4.48.35,2.67.34,4c0,.86,1,2.08-.14,3.15-.4.38-3.93.53-6,1.63-1.8.92,2.31,5.88,1.79,7.12a13.5,13.5,0,0,0-1.14,2.9c-.17,1.71.84,2,1.09,3.27.14.71-.33,1.38-.41,1.77a1,1,0,0,0-.3-.29c-1-.66,0-2.5-1.22-3.47-2.34-1.79-1.16-1.77-.51-4.41a7.75,7.75,0,0,0-1.55-6.74c-.47-.78-3.44-2.53-5.63-3.61-2-2.22-10.54-1.5-11.25-2.84-2-3.85,3.94-10.62,4.89-14.7.16-.58.42-2.7.49-2.92,2.72,1,16.11,5.74,18,6.4a1.32,1.32,0,0,0,.89.39c1.06,0,1.84-.06,2.41-1.4.41-.79-1.93-.83-2.45-1-3.39-1.46-15-5.45-18.21-7a5.17,5.17,0,0,0-.29-3.53c-.4-1.14-1.37-2.74-4.49-2.83a2.69,2.69,0,0,0-2.56-.9.28.28,0,0,1-.2,0c-.15-.33-.8-.29-1.12-.52a2.78,2.78,0,0,0-2.86-.65.56.56,0,0,1,0-.08,5.64,5.64,0,0,0-3.16-1.2,2.5,2.5,0,0,1-.68.06c-.1,0-.13-.08-.22-.13-1.06-.55-3.69-.06-5.11.38-3.91-1.88-7.88-3.65-9.17-4.29C123.27,46.65,79.87,29,70.23,25.24A146.21,146.21,0,0,1,49,14.91c-2.74-1.69-5.17-5.09-7.42-12.23-.39-1.23-.1-4.75-3.19-1-3.25,4-6.93,11.4-8,20.34-.14,1.11-.74,3.68,1.42,2.54,3-1.6,8.71-4.47,14-3.31,6.84,1.49,28.79,9.41,45.42,16.3C102.35,42.19,137,55.93,140.57,58c.44.23.51.35.44.42s-.44,0-.65,0h-.23c-.07.39-7.74-2.55-26-3.6a65.55,65.55,0,0,0-11.82-.48c-2.83.15-6.22.8-9.8,1.18-4,.43-8.18.62-12.83,1.44-2.64.47-6.63.64-9.44,1.27a48.26,48.26,0,0,0-13,5c-3.06,1.49-6.64,1.4-10,2.68A129,129,0,0,0,5.75,91.12C0,96.45-3.25,99,4.92,97.59c2.4-.44,3.89.14,5.07-1.4,2.07-2.69,12.86-7,9.51.59-1.57,8.74,3.78,4.59,8.89,1.89,1.39-.74,14.86-7.86,15.91-7.71.52-.06.82.17.89.42a2,2,0,0,1-.26,1.35c-1.45,3.26-7.68,10-8,10-.43,2.29,1.85,2.84,5,1.24,8.47-1.94,15.37-8,24.32-10.16,5.81-1.4,9.68-2.88,11-2.15.63.34.48,2,.5,2.39.18,4.68-3.37,14.55-.68,15.33,2.85.82,10.38-11.52,12.06-13.68a28,28,0,0,1,2-2.26c.66-.69,1-.19,1.16.33a32.41,32.41,0,0,1,.82,7.35,18.9,18.9,0,0,1-1.16,7.27c-2.13,5.7,1.83,3.13,5.54,1a42.55,42.55,0,0,0,7.59-5.68c2.63-2.83,5.79-6.19,5.79-6.19a1.55,1.55,0,0,1,1.38-.76c3.35.84-1.11,17.84,4.48,17.84,4.91,0,7.1-10.1,9.08-9.37s5.73,13.2,9.73,14a8.32,8.32,0,0,1,.11-4.73c.83,1.24-.75-3.91.52-2.83,7.54,6.38,4.33,8.19,4.62,12.7.46,8,6.22,5.91,6.67,6.46,2.58,3.24-.92-4.39,1.78-2.07.71.6,6.69,2.15,6.36,3.16-1.72,5.37,4.37,13.47.51,17.57a17.13,17.13,0,0,0-3.4,5.45,53.71,53.71,0,0,0-10.52,23.23c1.73,10.6,10.83,22.33,13.12,23.94s2.89.77,2.37-1.45c-.4-1.67.74-3-1.08-5.21-.68-.83-1-3.81-1.38-4.81a61.2,61.2,0,0,1-3-9.12c-.2-1.3-.44-2.32-.56-3.41-.07-.48-.1-1-.13-1.46a20.23,20.23,0,0,1,.33-4.56,27.9,27.9,0,0,1,.72-3.51,9,9,0,0,1,.84-1.58c.43-.89.82-1.8,1.3-2.68.27-.44.31-1.06.58-1.49.42-.68,1.09-.81,1.33-1.17a2,2,0,0,0-.08-1.84c1.24-1.86,2.64-4,4-6,1.3-1.76,2.5-3.37,3-4a1,1,0,0,0,.26-.42,8.92,8.92,0,0,1,2.63-2.36,32.88,32.88,0,0,0,4-2.13c.4.18,1.22.07,2.58-.44,4.35-1.63,8.74-5.66,8.74-5.66l.32-1.17c1.11-1.16,2.14-2.28,3.12-3.14a21.34,21.34,0,0,0,1.79-1.75,5.16,5.16,0,0,1,3.09,0l3.69-8.31s1,5.81,1.42,7.35,2.24,5.54,4,5.54-.36-3.05-.36-3.05a22,22,0,0,1,3.62,2.63c2.2,1.89,5.49,1.89,6.58,4.51s0,3.06,0,3.06-14.89-4.89-20.73-3.78-15.17,4.09-18.44,7.87a6,6,0,0,0-1.25,2.29A37.4,37.4,0,0,1,166,154.6c-.38.47-.49,1.46-.9,2.05s-.23,1.33-.74,2.12c-1.62,2.53-1.45,5.09-3.1,9.07a52.26,52.26,0,0,0-2.32,5.5,31.75,31.75,0,0,0-.46,5.4c-.11,1.46-.46,3-.42,4.42a39.76,39.76,0,0,0,1.35,8.81c.83,4.82,2.23,14.21,1.89,20.68-.05.84.31,1.94.26,2.81s-.54,1.45-.6,2.3.41,2.45.34,3.26c-.33,5.88-1.12,10-1.12,13.65.12,1.74-.36,3.06-.1,4.42a56.11,56.11,0,0,1-13.73,26.09c-4.57,9.38-15.37,12-29.1,14.37-2.88,1.45-10-3.31-9.61-4.13-5.27-2.67-9.5,7.2-6.09,7.2,5,2.28,9.06,22.58,14.94,19.13,4.07-2.4,3.35,3.89,7.47,1.49,1.84-.44,2.51.09,4-2.7,3.44-5.64,8.84-8.65,12-12.18,2.29-2.49,6.26-13.67,7.39-13.22,0,7.64-9.61,20.7-14.07,23.22-6.78,6.93-3.17,10.42-.2,16.7.68,1.46.82,2.82,2.14,4a21.68,21.68,0,0,0,2.52,1.69c2.64,2.24,10.06,2.14,12.64.71s5.45-.51,5.92-1.4c.92-1.78-4.06-8.42-5.35-10s-2.49-1.34-1.85-3.49c1-3.52-2-2.89-.14-6.77,2-4.33,3.48-11,5.05-14.79.12,0,10.32-27.31,10.59-31.87.5-3.23,4-11.64,4.58-9.35-1.54,12.16-5.35,29-10.27,45.78,1.17,7.43-3.39,10.55-3.3,16.17.06,3.55,2.57,2.83,3.4,2.93,4.23.48,6.92,3.34,9.82,2.37,3.89-1.11,10.7-5.92,8.39-5.77-1.72.11,2.21-7.26,2.21-10.09,0-2.6-4.16-10.43-5-19.45-.3-3.12,6.08-7.77,6.05-9.05,0-1.52-5.64.6-6.56-1.37-1.46-3.21-1.32-12.06-.39-16.65.24-4.72,1.52-17.5,1.3-19.29.81-3.6,8.35,5.85,10.93,11.56.11,0,.38.82.48,3.16,0,.76-.16,1.77-.1,2.82s.32,2.49.35,4c0,.57,0,1.17,0,1.79s-.21,1.46-.19,2.07c0,1,.25,1.85.26,3,0,1.62,0,3.39,0,5.28,0,.87-.25.66-2.52,1.87-1.18.65-2.09.6-1.92,1.78.24,1.88,4.3,2.66,4.8,8,.21,2.18-.27,10.8.72,15.74.21,1,.46,2.53.54,2.65.64.85.83,4.26-.08,5.73-.24.38-1.29,5.52-.46,5.48l6.48-.95a7.88,7.88,0,0,0,1.53-.26,5.34,5.34,0,0,0,1.14.07,6.39,6.39,0,0,0,3.94-1.87c2.12-.88,4-.71,5.12-1.19,1.52-.67,9.4.31,11-.15,6.8-1.89,17.81-2.22,19.75-4.2a36.14,36.14,0,0,0,4-1.34c-.57.1-1.84,0-3.33-4.47a33,33,0,0,0-7.82-13.1c-3.29-3.23-16.21-18.26-16.21-18.26a45.27,45.27,0,0,0,5.42,2.8,55.56,55.56,0,0,0,11.82,2.42s4.25,7.16,7.23,11.08,9.73,10,11.25,12.55c1.67,2.77,1.55,3.09-1,4-2.05.76-3.87,1.53-5.19,2.11,3.23-1.33,6.19-2.64,7.56-2.67.95.15,1.76-.26,2.58,0h.62c7.32,1.36,10.5,12.42,12.05,12.52,3.4,1.07,4.18-.81,8-2.51,3.42-1.5-5-4.89-2.74-10.49.84-2,3.41-9.2,6.3-12.05,1.53-1.49,2.46-.76,3.23-1.55,1.1-1.12-.1-4.07-1-4.85-1.68-1.37-6.11-.44-9,5.42a2.61,2.61,0,0,1-1.59,1c-.59,0-.78.77-1.56.26s3.47-3.7,2.72-4.53c-2.3-2.48-7-3-3.74-4.55,1-1.45-.88-3.53-1-5-1-6.73-7.33-9.11-14.59-9.84-.8-.07-.47-1.27-1.52-1.09a32.32,32.32,0,0,1-3.95.84c-1.22,0-2.11-.43-3.47-.22a17.73,17.73,0,0,1-2.11.33c-.76,0-1.38-.19-2.12-.16-1.12.06-2.34.36-3.36.42a31.91,31.91,0,0,1-6.67-.12c-1.81-.33-1.75.64-5.39.87-12.76-2.55-20.09-7.24-29.95-18.07-6.7-4.17,1.39.37,1.29-1.21,4.08,1-4.92-2.69-9.92-6.51-1.67-2.64-4.13-1.52-8.33-5.89-.54-.55-1.81-1-4.19-3-.05-.2-.08-.39-.15-.6-.92-2.37-3-4-2.68-7.47a8.11,8.11,0,0,0-1.71-5.75s2.73-1.94,0-5.29a15.06,15.06,0,0,1-2.47-4.72c.1-.56.17-1.19.24-1.9.21-1.73-3.18-3.8-1.95-13.35.15-1.06.91-4.11,1.14-5.28.18-1-.69-2.8-.44-3.84.28-1.19,1.7-1.6,2.1-2.91.43-1.52.72-4.55,2.35-7.42a51.78,51.78,0,0,0,3.23-7.55l3.36-5.62s4.89-4.09,10-4.09,7.4-8.15,25,2.94c3.52,2.2,2.44,7.75,4.39,9.21,1.76,1.33,1.65,1.92,1.92,3.29.45,2.31-1.52,4.69-3,6.08-3.26,3.15-14.67,20.76-10.25,17.67,6.06-4.26,5.43-9.47,6.89-9.85s6.38-7.77,8.53-9.31c1.37-.94,2.16,2.28,2.9,5.84-.09-2.14,0-4.27,0-5.75,0-5.26,2.75-9.11,4.16-11.34,1.73-2.83,2.33-4,8.63-15s9-12.07,9-12.07a12.85,12.85,0,0,1,3.46-.73,13.48,13.48,0,0,1,3,.77c1.15.36,1.45,0,2.94.47s.92,1.48.72,3-.65,1.64-.77,2.2a25.07,25.07,0,0,1-6.93,13.92c-4.41,4.54-16.25,14.71-17.31,16.1s-.66,1.53-.6,2.67a8.09,8.09,0,0,0,2.55,4.17c.89.64,1.59,1.77,1.34,2.39s-.81.95-2.28-.24c-2.2-1.7-3.72-1.57-3.65,0s-.32,3.36.65,4.82c.62.92,2.93,2.51,4.15,1.93.66-.32,1.26-.55,1.52-.2s.24.45-.92,1.42c-1.36,1.12-4.21.95-7.29-1.19a2.81,2.81,0,0,1-.73-.73c1.31,3.89,2,7.44,3.08,9.6a4.44,4.44,0,0,1,.19.53c.22.33.38.58.5.73,6.15,8.54,9.71,7.46,9.71,7.46s4.22,1.31,5.82,1.83a2.46,2.46,0,0,1,.83.33l.27.16a33.15,33.15,0,0,1,3.53,2.86c1,.94.65,1.17,2,1.6,1.15.38.42.6,1.59.6,1.88,0,5.35-.42,6.58.07.42.18,1.37-3.16,4.6-5.38.1-.06,1.49-1.93,1.53-2.05s-6.13,6.39-10.52,3.24c-6.55-4.67-7.05-8.31-10.56-11.92-.24-.25-1.2-1.46-1.44-1.69-.5-.57-.62-.44-1.07-.95s-.68-.94-1-1.24c-1.59-1.47-2.72-4.41-3.22-5.29-.37-.68-.77-1.37-.39-1,.61.57,1.55,1.45,2.69,2.54.53.49,2.24,1.14,2.84,1.71.24.23.48.47.74.7s.57.54.86.83c4.65,4.37,12.47,3.86,13.78,4,.23,0-.23-.2,0-.2s2.84,1.42,3.17,1.39.54-.31.74-.35c.66-.08,1.38.22,1.94,0a7.18,7.18,0,0,0,.84-.39c.5-.29.93,0,1.24-.47,1.11-1.78,1.5.23,2-1.23.32-.87.63.14.77-.32a1.06,1.06,0,0,1,.66-.62,69.83,69.83,0,0,1-1.07,8.36c-.62,3.74-7.74,10.2-7.47,11.09a25.63,25.63,0,0,0,4.88,8.33,40.33,40.33,0,0,1,2.7,3.81c1,1.75,3,1.06,4.67-.68a11.78,11.78,0,0,0,1.49-2.72c.17-.34.72-1,1.12-1.69.53-.85,1.27-1.59,2-2.73.28-.47.3-1.2.59-1.69s1.07-1.09,1.33-1.56a8.38,8.38,0,0,0,.95-2.85c.36-2.83-3.57-4.22-3.55-4.5.19-1.31-3-2.56-2.12-6.6,1.48-6.79,5.87-8.8,2.68-13.46-.64-1-.76-2.81-1.28-3.4a6.64,6.64,0,0,0-2.57-1.5c-1.66-.75-3.7,2.53-5.94,2.21a19.57,19.57,0,0,1-9.91-4.93s-10.88-5.93-11.53-9c-.31-1.19-5.29-5-4.31-5.81.67-.55-.56.34.11-.21a9.94,9.94,0,0,1,1.45-1c.34-.16.35-.64.6-.38,1.64,1.67,6.26,9.49,8.53,10.7,2.94,1.59,3.57,1.69,6,4.49s2.67.05,2.79-2c.1-1.75,1.88-5,1.72-7.13-.31-4.54.09-7.16,1.52-12.44s2.3-8.79.15-14.84a11.25,11.25,0,0,1-.15-3.71c0-2.64-2.65-7.78-4.32-8.71-1.31-.76-3.66-2.33-8.51-.57a12.67,12.67,0,0,1-2,.66c-.28,0-.91.64-1,.61-.4-.1-.3-.46.26-1a11.88,11.88,0,0,1,1.55-1.25c1.2-.83,3.5-2,4.91-1.76,1.68.25,2.21-.93.63-1.31a10.53,10.53,0,0,0-5.3-.11,6.61,6.61,0,0,0-2.52,1.34,8.7,8.7,0,0,0-.86.59c-.13.14-.46.69-.6.81s-1.36,1.11-1.51,1.26a12,12,0,0,0-1.79,2.28c-1.11,1.5-4.74,4-5.85,7s-1.92,4.66-1.92,2.77-.19-1.27.62-4.63c3.39-5.7,9.14-12.44,12.1-14.11,5.9-2.42,7,.5,9.27,1.52,4.64,3.47,8.88,7,8.88,15.4,0,2.76,4.89-.35,5.5-1.23,1.66-2.36,4.6-5.15,4.91-4.6a17.7,17.7,0,0,1,2.82,3.61c.84,1.32,4.71,6.68,5.74,7.89,2.75,3.19,4,3,3.22-1.08-.9-4.7,2.32-13.24,2.78-15.24.59-.11,8.08,6.32,9.46,7.68,4.8,4.71,6.85,5.92,8.24,4.91s.71-3.27.52-5c-.52-4.4-1.62-11-.76-11.73s6.07,3.26,8.42,6.49c1.5,2.08,8.84,9.86,12,9.31,1.24-.23-1-2.23-1.69-5.79s-1.66-11.37.79-11.15c4.18.39,5.8,2.71,10.42,6,2.21,1.57,6.6,5.92,13.39,9,6.07,2.69,7.06,1.71,5.95-.4-.6-1.13-3.94-6.62-4.57-8.73s.17-3.35,1.52-2.26c5.82,4.71,16.73,9.62,18.14,10,5.49,1.38,8.2,2.57,9.13,1.17,1.31-1.91-.65-5.07-.83-7.22-.09-1,.08-1.77.65-1.32.95.76,2,1.71,3,2.69a29.21,29.21,0,0,0,14.11,7.71c2,.51,2-.31,1.41-1.4M175.08,104.3a7.06,7.06,0,0,1-.68-1.11l.68,1.11M157.33,59.72c-.31.06-.66.16-1,.24a.39.39,0,0,0,.16-.25.78.78,0,0,0-.05-.23,8.11,8.11,0,0,1,.88.24m-4.8-.1a1,1,0,0,0,.14.16c-.21-.09-.42-.17-.62-.27a1.48,1.48,0,0,1,.48.11m1.83.49a1.07,1.07,0,0,0,.64.23c-.22.08-.41.14-.63.2l-1.06-.46a4.36,4.36,0,0,1,1.05,0m37.42,61.1c0-.26,0-.39,0-.38-1.46-.16-1.51,1-3.3,2.71-.16.15-.36.3-.53.46a8.78,8.78,0,0,1-1.95,1.28c-2.34.75-7-.19-11.94,1-2.11-.21-4.35-.09-5.74,1a1.27,1.27,0,0,0-.47,1.7c-1.9.78-4.73,1.26-5.79.12a4.4,4.4,0,0,1,.47-1c3.53-5.41,4.09-3.22,2.77-10.06a27.58,27.58,0,0,1-.56-5.16c-.4-.54-1.24-1.47-3.42-.89s-4.47.39-10-.38a36.93,36.93,0,0,1-5.34-1.4c-.49-.13-1.52-.19-2-.32s-.88-.43-1.42-.6c-.24-.08-.7-.11-1-.19-2-.69-3.68-1.64-5.41-2.28-1.34-.5-2.88-.7-3.92-1a19.65,19.65,0,0,1-3.79-1.39c-.89-.87-.65-1-.5-3.5,1.11-16.44,11-24.38,11.59-25.62,2.54-4.78,5.06-7,6.45-9.11s1.27-4.33,1.68-4.74c.91.1,2.23,1,3,1,1.45.21,1.18.65,2.67.27a8.06,8.06,0,0,1,2.35.39,3.18,3.18,0,0,0,.63-.79c.23-.39.45-1.52.95-1.61a.88.88,0,0,1,1.1.94,6.8,6.8,0,0,1-.19,2.09,5.19,5.19,0,0,1-.85,1.36s-.05,0-.06,0l-.17.12c-.06,0-.13.13-.19.19s0,0,0,0c-.84.89-1.44,2.29-3.43,2.51-4.55.54-7.66,13.28-9.34,17.74-.89,2.41-3.34,6.1-3.25,9.17.14.54,1.21.88,2.47,1.12a29.28,29.28,0,0,0,5.73.51c1.06,0,2.26-.11,3.45-.13.81,0,1.56.14,2.42.13s2-.22,3.06-.25l5.37-.12a12.45,12.45,0,0,0,3.49-.71,14.92,14.92,0,0,1,5.45-.58,7.25,7.25,0,0,1-.11,2.61c-.1.06-.18.14-.28.21-.77.6-2.64,1.64-2.94,5.39s-.18,2.63,1,4.35c1.73,2.44.89.75,2.56.23s5.2,2.76,5.76,1.09c.16-.45-.11-1-.59-1.64a3,3,0,0,0,1.36.6c.27,0,.76-.08.88-.28.07.12.32.17.88.12,1.19-.1,1.91-2.24,1.69-4.6a6.1,6.1,0,0,1-.05-2.24,10.66,10.66,0,0,1,.81-4.93c.8-1.53,3.65-1.31,3.65-3.54s.12-6.78.69-6.49,1.24,2.35,1.24,5-.26,3,.64,3.9a8.5,8.5,0,0,0,2.3,1.5s1.69.53,1-2.32-2.14-3-1.5-5,1.38-4.42,4.22-1.72c1.78,1.71,1.07,1,2.45,3.63.62,1.18,1.42,2.31.87,4.23-.3,1.06-1.07,1.33-1.32,3.5s-.58,2.63,1.44,3.13,2.57.73,4.38-.73,3-2.49,3.72-2.23,1.87.31,1.38,1.51-1,.39-1.42,1.43c-.24.6-1.13,2.38.13,2.38s.36,1.49,1,1.91.87.45-.07,2.19-.28.86-1.43,2a27.53,27.53,0,0,0-4.33,7.34c-1.38-.11-3.66,3.22-5.71,2.65-1.38-.44-3.13.06-4.85,1m47.07,47.07c8,6.95,11.29,6.28,12.93,6.25s6.88,1.59,6.8,2.48-1.94-.38-2.42-.37c-10.53.52-16.31-3.75-18.85-5.23s-4.12-8.15-6.71-10.15c.7-.73,1-1,1.56-1.5,1.56.81,5.77,7.72,6.69,8.52\"/></g></g></svg>\n\\ No newline at end of file"
      },
      {
        "sha": "9bd4f35c6cd567d410d558c3e81d16b22fa5e5d2",
        "filename": "app/static/img/logos/university_of_ulm.svg",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Flogos%2Funiversity_of_ulm.svg",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Flogos%2Funiversity_of_ulm.svg",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fimg%2Flogos%2Funiversity_of_ulm.svg?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1 @@\n+<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"300\" zoomAndPan=\"magnify\" viewBox=\"0 0 224.87999 74.999997\" height=\"100\" preserveAspectRatio=\"xMidYMid meet\" version=\"1.0\"><defs><clipPath id=\"1bb9c47279\"><path d=\"M 0 0.0195312 L 224.761719 0.0195312 L 224.761719 74.980469 L 0 74.980469 Z M 0 0.0195312 \" clip-rule=\"nonzero\"/></clipPath><clipPath id=\"d9c3b46b4f\"><path d=\"M 179 28 L 224.761719 28 L 224.761719 63 L 179 63 Z M 179 28 \" clip-rule=\"nonzero\"/></clipPath></defs><g clip-path=\"url(#1bb9c47279)\"><path fill=\"#ffffff\" d=\"M 0 0.0195312 L 224.878906 0.0195312 L 224.878906 82.476562 L 0 82.476562 Z M 0 0.0195312 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#ffffff\" d=\"M 0 0.0195312 L 224.878906 0.0195312 L 224.878906 74.980469 L 0 74.980469 Z M 0 0.0195312 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#ffffff\" d=\"M 0 0.0195312 L 224.878906 0.0195312 L 224.878906 74.980469 L 0 74.980469 Z M 0 0.0195312 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/></g><path fill=\"#000000\" d=\"M 120.382812 28.972656 L 111.582031 28.972656 L 111.582031 45.414062 C 111.582031 49.699219 110.191406 56.644531 103.820312 56.644531 C 98.261719 56.644531 98.144531 51.089844 98.144531 46.917969 L 98.144531 28.972656 L 89.457031 28.972656 L 89.457031 50.277344 C 89.457031 57.804688 92.929688 63.476562 100.925781 63.476562 C 105.210938 63.476562 109.265625 61.507812 111.929688 58.152344 L 112.042969 58.152344 L 112.042969 62.78125 L 120.382812 62.78125 Z M 120.382812 28.972656 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 166.488281 11.949219 L 170.542969 11.949219 L 170.542969 62.667969 L 166.488281 62.667969 Z M 166.488281 11.949219 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 157.566406 14.613281 L 155.714844 14.613281 L 155.714844 12.296875 L 154.671875 12.644531 L 154.671875 14.496094 L 153.050781 14.496094 L 153.050781 15.425781 L 154.671875 15.425781 L 154.671875 20.054688 C 154.671875 21.5625 154.789062 22.71875 156.527344 22.71875 C 156.875 22.71875 157.335938 22.601562 157.683594 22.488281 L 157.566406 21.675781 C 157.21875 21.792969 156.988281 21.792969 156.640625 21.792969 C 155.832031 21.792969 155.484375 21.097656 155.484375 20.402344 L 155.484375 15.191406 L 157.335938 15.191406 L 157.335938 14.496094 L 157.566406 14.496094 Z M 146.910156 13.222656 L 148.070312 13.222656 L 148.070312 11.949219 L 146.910156 11.949219 Z M 149.574219 13.222656 L 150.734375 13.222656 L 150.734375 11.949219 L 149.574219 11.949219 Z M 150.617188 19.015625 C 150.617188 19.941406 150.503906 21.910156 148.300781 21.910156 C 147.375 21.910156 146.679688 21.5625 146.679688 20.519531 C 146.679688 18.78125 148.765625 18.667969 150.503906 18.667969 L 150.847656 18.667969 L 150.847656 19.015625 Z M 150.734375 22.601562 L 151.660156 22.601562 C 151.542969 22.023438 151.542969 21.445312 151.542969 20.980469 L 151.542969 17.507812 C 151.542969 15.425781 150.617188 14.496094 148.765625 14.496094 C 147.953125 14.496094 147.144531 14.730469 146.449219 15.078125 L 146.449219 16.003906 C 147.144531 15.539062 147.953125 15.308594 148.765625 15.425781 C 150.039062 15.425781 150.617188 16.117188 150.617188 17.507812 L 150.617188 17.855469 L 150.503906 17.855469 C 148.417969 17.855469 145.636719 17.972656 145.636719 20.636719 C 145.636719 21.910156 146.679688 22.949219 147.953125 22.949219 C 148.070312 22.949219 148.183594 22.949219 148.300781 22.949219 C 149.34375 22.949219 150.269531 22.371094 150.734375 21.445312 Z M 144.246094 14.613281 L 142.507812 14.613281 L 142.507812 12.296875 L 141.46875 12.644531 L 141.46875 14.496094 L 139.84375 14.496094 L 139.84375 15.425781 L 141.46875 15.425781 L 141.46875 20.054688 C 141.46875 21.5625 141.582031 22.71875 143.320312 22.71875 C 143.667969 22.71875 144.132812 22.601562 144.480469 22.488281 L 144.363281 21.675781 C 144.015625 21.792969 143.785156 21.792969 143.4375 21.792969 C 142.625 21.792969 142.277344 21.097656 142.277344 20.402344 L 142.277344 15.308594 L 144.132812 15.308594 L 144.132812 14.613281 Z M 138.222656 11.140625 L 137.179688 11.140625 L 137.179688 12.53125 L 138.222656 12.53125 Z M 137.296875 22.601562 L 138.339844 22.601562 L 138.339844 14.613281 L 137.296875 14.613281 Z M 130.347656 22.488281 C 131.042969 22.71875 131.851562 22.949219 132.546875 22.835938 C 133.707031 22.835938 135.328125 22.257812 135.328125 20.519531 C 135.328125 17.972656 131.390625 18.085938 131.390625 16.582031 C 131.390625 15.539062 132.085938 15.191406 133.125 15.191406 C 133.707031 15.191406 134.285156 15.308594 134.863281 15.539062 L 134.980469 14.613281 C 134.285156 14.382812 133.707031 14.265625 133.011719 14.265625 C 131.621094 14.265625 130.460938 14.960938 130.460938 16.464844 C 130.460938 18.78125 134.285156 18.550781 134.285156 20.402344 C 134.285156 21.328125 133.359375 21.792969 132.546875 21.792969 C 131.851562 21.792969 131.15625 21.5625 130.460938 21.328125 Z M 125.714844 22.601562 L 126.753906 22.601562 L 126.753906 18.667969 C 126.753906 17.277344 127.101562 15.425781 128.726562 15.425781 C 128.957031 15.425781 129.1875 15.425781 129.417969 15.539062 L 129.417969 14.496094 C 129.1875 14.382812 128.957031 14.382812 128.726562 14.382812 C 127.683594 14.382812 127.101562 15.308594 126.640625 16.117188 L 126.640625 14.613281 L 125.597656 14.613281 C 125.714844 15.191406 125.714844 15.773438 125.714844 16.464844 Z M 118.300781 18.085938 C 118.183594 16.699219 119.226562 15.425781 120.617188 15.308594 C 122.121094 15.308594 122.703125 16.699219 122.703125 18.085938 Z M 123.164062 21.445312 C 122.46875 21.792969 121.773438 22.023438 120.964844 22.023438 C 119.226562 22.023438 118.414062 20.636719 118.414062 18.898438 L 123.859375 18.898438 L 123.859375 18.320312 C 123.859375 16.234375 122.933594 14.382812 120.730469 14.382812 C 118.53125 14.382812 117.371094 16.117188 117.371094 18.550781 C 117.371094 20.980469 118.414062 22.71875 120.964844 22.71875 C 121.773438 22.71875 122.585938 22.601562 123.28125 22.257812 Z M 116.332031 14.613281 L 115.289062 14.613281 L 112.972656 21.5625 L 110.769531 14.613281 L 109.726562 14.613281 L 112.507812 22.601562 L 113.667969 22.601562 Z M 108.222656 11.140625 L 107.179688 11.140625 L 107.179688 12.53125 L 108.222656 12.53125 Z M 107.179688 22.601562 L 108.222656 22.601562 L 108.222656 14.613281 L 107.179688 14.613281 Z M 98.375 22.601562 L 99.417969 22.601562 L 99.417969 18.203125 C 99.417969 16.8125 99.996094 15.308594 101.734375 15.308594 C 103.125 15.308594 103.589844 16.234375 103.589844 17.738281 L 103.589844 22.601562 L 104.632812 22.601562 L 104.632812 17.507812 C 104.632812 15.773438 103.820312 14.382812 101.851562 14.382812 C 100.691406 14.265625 99.648438 14.960938 99.300781 16.003906 L 99.300781 14.613281 L 98.375 14.613281 C 98.492188 15.191406 98.492188 15.886719 98.492188 16.464844 Z M 95.828125 14.613281 L 94.785156 14.613281 L 94.785156 19.015625 C 94.785156 20.402344 94.207031 21.910156 92.46875 21.910156 C 91.078125 21.910156 90.613281 20.980469 90.613281 19.476562 L 90.613281 14.613281 L 89.6875 14.613281 L 89.6875 19.707031 C 89.6875 21.445312 90.5 22.835938 92.46875 22.835938 C 93.625 22.949219 94.667969 22.257812 95.015625 21.214844 L 95.015625 22.601562 L 95.941406 22.601562 C 95.828125 22.023438 95.828125 21.328125 95.828125 20.75 Z M 95.828125 14.613281 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 157.105469 28.855469 L 152.933594 28.855469 L 152.933594 47.5 C 152.933594 53.054688 150.617188 59.773438 142.855469 59.773438 C 137.066406 59.773438 134.863281 55.71875 134.863281 49.351562 L 134.863281 28.855469 L 130.695312 28.855469 L 130.695312 50.394531 C 130.695312 57.804688 133.820312 63.363281 142.160156 63.363281 C 149.226562 63.363281 151.660156 59.539062 153.050781 56.644531 L 153.167969 56.644531 L 153.167969 62.550781 L 157.21875 62.550781 C 156.988281 59.886719 156.988281 57.226562 156.988281 54.5625 Z M 157.105469 28.855469 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><g clip-path=\"url(#d9c3b46b4f)\"><path fill=\"#000000\" d=\"M 224.289062 62.667969 L 224.289062 39.394531 C 224.289062 32.792969 220.46875 28.160156 213.632812 28.160156 C 208.882812 28.046875 204.597656 30.941406 202.859375 35.339844 L 202.746094 35.339844 C 201.703125 29.433594 196.835938 28.160156 193.824219 28.160156 C 186.644531 28.160156 184.671875 32.445312 183.285156 34.761719 L 183.167969 34.644531 L 183.167969 28.972656 L 179.113281 28.972656 C 179.34375 31.636719 179.34375 34.296875 179.34375 36.960938 L 179.34375 62.667969 L 183.515625 62.667969 L 183.515625 44.023438 C 183.515625 35.6875 188.03125 31.75 192.550781 31.75 C 197.878906 31.75 199.617188 35.570312 199.617188 40.203125 L 199.617188 62.550781 L 203.785156 62.550781 L 203.785156 44.023438 C 203.785156 35.6875 208.304688 31.75 212.820312 31.75 C 218.152344 31.75 219.886719 35.570312 219.886719 40.203125 L 219.886719 62.550781 Z M 224.289062 62.667969 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/></g><path fill=\"#000000\" d=\"M 25.746094 49.46875 C 25.976562 50.507812 26.210938 51.550781 26.558594 52.59375 L 26.671875 52.59375 C 27.601562 52.59375 28.292969 53.289062 28.292969 54.214844 C 28.292969 54.675781 28.0625 55.140625 27.714844 55.488281 C 28.988281 58.265625 30.378906 59.773438 31.886719 59.773438 C 34.203125 59.773438 36.636719 55.835938 37.910156 49.234375 C 35.941406 48.539062 33.972656 47.730469 32.117188 46.804688 C 30.03125 47.730469 27.949219 48.65625 25.746094 49.46875 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 27.714844 44.488281 C 26.789062 43.910156 25.746094 43.328125 24.820312 42.636719 C 24.9375 44.488281 25.167969 46.339844 25.515625 48.191406 C 27.136719 47.5 28.875 46.804688 30.726562 46.109375 C 29.683594 45.644531 28.757812 45.066406 27.714844 44.488281 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 35.941406 30.246094 C 36.867188 30.824219 37.792969 31.402344 38.71875 31.867188 C 38.605469 30.128906 38.371094 28.394531 38.023438 26.773438 C 36.402344 27.351562 34.78125 28.046875 33.277344 28.738281 C 34.085938 29.203125 35.011719 29.667969 35.941406 30.246094 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 20.070312 26.078125 C 19.375 26.078125 18.679688 25.613281 18.449219 24.804688 C 17.871094 24.804688 17.289062 24.6875 16.828125 24.6875 C 14.742188 24.6875 13.234375 25.265625 12.65625 26.308594 C 11.5 28.277344 13.699219 32.328125 18.679688 36.730469 C 20.300781 35.339844 21.921875 34.183594 23.777344 32.910156 C 23.894531 30.707031 24.242188 28.507812 24.703125 26.308594 C 23.546875 25.960938 22.617188 25.730469 21.578125 25.382812 C 21.113281 25.960938 20.535156 26.191406 20.070312 26.078125 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 33.160156 46.226562 C 34.78125 47.035156 36.519531 47.613281 38.023438 48.191406 C 38.371094 46.457031 38.605469 44.71875 38.71875 42.984375 C 37.792969 43.5625 36.867188 44.140625 35.824219 44.71875 C 34.78125 45.296875 34.085938 45.761719 33.160156 46.226562 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 37.792969 25.730469 C 37.5625 24.570312 37.214844 23.296875 36.867188 22.140625 C 35.941406 22.023438 35.359375 21.328125 35.246094 20.519531 C 35.246094 20.054688 35.359375 19.59375 35.707031 19.359375 C 34.550781 16.8125 33.160156 15.425781 31.652344 15.425781 C 29.335938 15.425781 27.019531 19.246094 25.628906 25.5 C 27.714844 26.191406 29.800781 27.121094 31.769531 28.046875 C 33.738281 27.121094 35.824219 26.308594 37.792969 25.730469 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 19.375 37.425781 C 20.765625 38.582031 22.15625 39.625 23.546875 40.550781 C 23.429688 39.507812 23.429688 38.464844 23.429688 37.425781 C 23.429688 36.382812 23.429688 35.222656 23.546875 34.066406 C 22.039062 35.222656 20.648438 36.382812 19.375 37.425781 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 30.726562 28.738281 C 29.105469 27.929688 27.367188 27.234375 25.515625 26.65625 C 25.167969 28.507812 24.9375 30.359375 24.820312 32.214844 C 25.746094 31.636719 26.671875 31.054688 27.714844 30.476562 C 28.640625 29.898438 29.683594 29.320312 30.726562 28.738281 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 18.566406 38.121094 C 17.636719 38.929688 16.828125 39.742188 16.132812 40.433594 C 16.246094 40.667969 16.363281 40.898438 16.363281 41.246094 C 16.363281 42.171875 15.667969 42.867188 14.742188 42.867188 C 14.511719 42.867188 14.394531 42.867188 14.164062 42.75 C 12.308594 45.183594 11.847656 47.265625 12.542969 48.539062 C 13.46875 50.160156 16.363281 50.507812 20.417969 49.699219 C 21.808594 49.351562 23.082031 49.003906 24.472656 48.539062 C 24.007812 46.339844 23.777344 44.140625 23.660156 41.824219 C 21.921875 40.78125 20.1875 39.507812 18.566406 38.121094 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 29.570312 41.476562 C 29.570312 41.941406 30.378906 42.636719 31.539062 42.75 L 31.539062 40.320312 C 30.613281 40.320312 29.570312 40.898438 29.570312 41.476562 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 44.28125 37.425781 C 42.890625 36.265625 41.382812 35.109375 39.878906 34.066406 C 39.996094 35.222656 39.996094 36.382812 39.996094 37.539062 C 39.996094 38.699219 39.996094 39.742188 39.878906 40.898438 C 41.5 39.855469 42.890625 38.699219 44.28125 37.425781 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 45.089844 38.121094 C 43.46875 39.625 41.617188 41.015625 39.761719 42.171875 C 39.648438 44.257812 39.414062 46.339844 38.953125 48.425781 C 40.109375 48.773438 41.269531 49.121094 42.542969 49.351562 C 42.773438 48.773438 43.355469 48.425781 43.933594 48.425781 C 44.742188 48.425781 45.4375 49.003906 45.554688 49.8125 C 48.335938 50.046875 50.1875 49.46875 50.882812 48.308594 C 52.15625 46.570312 49.957031 42.636719 45.089844 38.121094 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 46.828125 51.089844 C 46.367188 51.089844 45.902344 51.089844 45.4375 50.972656 C 45.089844 51.433594 44.628906 51.78125 44.046875 51.898438 C 43.238281 51.898438 42.542969 51.320312 42.425781 50.507812 C 41.269531 50.277344 39.996094 49.929688 38.835938 49.582031 C 37.445312 55.953125 35.011719 60.8125 31.769531 60.8125 C 29.683594 60.8125 27.949219 58.847656 26.558594 55.835938 C 25.628906 55.835938 24.9375 55.140625 24.9375 54.214844 C 24.9375 53.75 25.167969 53.289062 25.398438 52.941406 C 25.050781 51.898438 24.820312 50.855469 24.589844 49.8125 C 23.199219 50.277344 21.808594 50.625 20.535156 50.972656 C 19.257812 51.320312 17.871094 51.433594 16.59375 51.433594 C 14.046875 51.433594 12.308594 50.742188 11.5 49.351562 C 10.457031 47.5 11.265625 45.066406 13.234375 42.402344 C 13.121094 42.171875 13.003906 41.824219 13.003906 41.476562 C 13.003906 40.550781 13.699219 39.855469 14.625 39.855469 C 14.859375 39.855469 15.089844 39.972656 15.207031 39.972656 C 15.898438 39.160156 16.828125 38.351562 17.636719 37.65625 C 12.773438 33.371094 9.875 28.855469 11.5 25.960938 C 12.425781 24.339844 14.859375 23.644531 18.332031 23.992188 C 18.566406 23.414062 19.144531 23.066406 19.839844 23.066406 C 20.648438 23.066406 21.460938 23.761719 21.460938 24.570312 C 22.503906 24.804688 23.546875 25.152344 24.589844 25.5 C 25.976562 19.128906 28.410156 14.496094 31.652344 14.496094 C 33.625 14.496094 35.359375 16.234375 36.636719 19.128906 L 36.75 19.128906 C 37.675781 19.128906 38.371094 19.824219 38.371094 20.75 C 38.371094 21.328125 38.140625 21.792969 37.675781 22.140625 C 38.023438 23.296875 38.257812 24.457031 38.605469 25.613281 C 39.996094 25.152344 41.382812 24.804688 42.660156 24.457031 C 47.292969 23.53125 50.535156 24.109375 51.695312 26.078125 C 52.621094 27.8125 52.042969 30.128906 50.304688 32.5625 C 50.417969 32.792969 50.535156 33.140625 50.535156 33.488281 C 50.535156 34.414062 49.839844 35.109375 48.914062 35.109375 C 48.683594 35.109375 48.566406 34.992188 48.335938 34.992188 C 47.523438 35.917969 46.710938 36.730469 45.785156 37.539062 C 50.652344 41.824219 53.429688 46.339844 51.808594 49.121094 C 51.230469 50.394531 49.378906 51.089844 46.828125 51.089844 M 31.769531 12.644531 C 17.984375 12.644531 6.863281 23.761719 6.75 37.425781 C 6.75 51.203125 17.871094 62.320312 31.539062 62.433594 C 45.324219 62.433594 56.441406 51.320312 56.558594 37.65625 C 56.558594 37.65625 56.558594 37.539062 56.558594 37.539062 C 56.558594 23.878906 45.4375 12.761719 31.769531 12.644531 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 45.089844 36.730469 C 46.019531 35.804688 46.945312 34.992188 47.640625 34.183594 C 47.523438 33.949219 47.40625 33.601562 47.40625 33.257812 C 47.40625 32.328125 48.101562 31.636719 49.03125 31.636719 C 49.144531 31.636719 49.378906 31.636719 49.492188 31.75 C 51 29.433594 51.460938 27.699219 50.882812 26.425781 C 50.1875 25.265625 48.796875 24.917969 46.710938 24.917969 C 45.4375 24.917969 44.28125 25.035156 43.007812 25.265625 C 41.617188 25.613281 40.339844 25.960938 38.953125 26.425781 C 39.300781 28.507812 39.648438 30.59375 39.761719 32.675781 C 41.730469 34.066406 43.585938 35.457031 45.089844 36.730469 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 29.222656 38.121094 C 29.222656 38.699219 30.378906 39.394531 31.539062 39.507812 L 31.539062 36.730469 C 30.378906 36.84375 29.222656 37.539062 29.222656 38.121094 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 35.941406 38.121094 C 35.941406 38.8125 35.246094 39.507812 34.085938 39.972656 C 35.011719 40.320312 35.707031 40.898438 35.707031 41.59375 C 35.707031 42.289062 35.128906 42.867188 34.085938 43.214844 C 33.625 43.328125 33.160156 43.445312 32.695312 43.445312 L 32.695312 44.371094 C 32.695312 44.605469 32.464844 44.835938 32.117188 44.71875 C 31.886719 44.71875 31.769531 44.488281 31.769531 44.371094 L 31.769531 43.5625 C 31.304688 43.5625 30.84375 43.445312 30.378906 43.328125 C 29.335938 42.984375 28.757812 42.402344 28.757812 41.707031 C 28.757812 41.015625 29.335938 40.550781 30.378906 40.085938 C 28.988281 39.742188 28.292969 39.046875 28.292969 38.234375 C 28.292969 37.425781 28.875 36.84375 30.03125 36.5 C 28.640625 36.152344 27.832031 35.339844 27.832031 34.53125 C 27.832031 33.71875 28.410156 33.140625 29.453125 32.792969 C 29.570312 32.5625 29.800781 32.328125 30.03125 32.214844 C 30.265625 32.097656 30.496094 32.097656 30.726562 32.214844 C 30.960938 32.328125 31.074219 32.328125 31.074219 32.5625 C 31.074219 32.792969 31.074219 32.910156 30.960938 33.140625 C 30.84375 33.371094 30.613281 33.488281 30.378906 33.488281 C 30.265625 33.488281 30.03125 33.601562 29.917969 33.601562 C 29.335938 33.949219 28.988281 34.296875 28.988281 34.644531 C 28.988281 35.339844 30.265625 36.035156 31.539062 36.265625 L 31.539062 31.289062 C 31.539062 31.054688 31.652344 30.824219 31.886719 30.707031 C 32.234375 30.707031 32.347656 30.941406 32.347656 31.289062 L 32.347656 36.265625 C 33.738281 36.152344 34.898438 35.339844 34.898438 34.644531 C 34.898438 34.296875 34.550781 33.949219 33.972656 33.601562 C 33.855469 33.601562 33.625 33.601562 33.507812 33.488281 C 33.277344 33.371094 33.042969 33.257812 32.929688 33.140625 C 32.8125 33.023438 32.695312 32.792969 32.8125 32.5625 C 32.929688 32.445312 33.042969 32.214844 33.160156 32.214844 C 33.390625 32.097656 33.625 32.097656 33.855469 32.214844 C 34.203125 32.328125 34.433594 32.5625 34.433594 32.792969 C 35.359375 33.257812 36.054688 33.949219 36.054688 34.53125 C 36.054688 35.457031 35.128906 36.152344 33.855469 36.5 C 35.246094 36.730469 35.941406 37.539062 35.941406 38.121094 M 35.476562 31.171875 L 32 29.320312 C 30.726562 30.015625 29.453125 30.59375 28.179688 31.402344 C 26.90625 32.214844 25.863281 32.792969 24.703125 33.488281 C 24.589844 34.761719 24.589844 36.152344 24.589844 37.539062 C 24.589844 38.929688 24.589844 40.085938 24.703125 41.363281 C 25.863281 42.054688 27.019531 42.867188 28.292969 43.5625 C 29.570312 44.257812 30.726562 44.949219 32 45.53125 C 33.160156 44.949219 34.316406 44.371094 35.359375 43.675781 C 36.402344 42.984375 37.675781 42.289062 38.835938 41.59375 C 38.953125 40.320312 38.953125 38.929688 38.953125 37.539062 C 38.953125 36.152344 38.835938 34.644531 38.835938 33.257812 C 37.792969 32.675781 36.636719 31.867188 35.476562 31.171875 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 32.464844 39.507812 C 33.625 39.394531 34.78125 38.699219 34.78125 38.121094 C 34.78125 37.539062 33.625 36.84375 32.464844 36.730469 Z M 32.464844 39.507812 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 32.464844 42.75 C 33.390625 42.636719 34.433594 42.054688 34.433594 41.476562 C 34.433594 40.898438 33.390625 40.320312 32.464844 40.203125 Z M 32.464844 42.75 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/><path fill=\"#000000\" d=\"M 5.242188 26.886719 C 5.476562 27.003906 5.707031 26.886719 5.824219 26.65625 C 5.9375 26.425781 5.824219 26.191406 5.589844 26.191406 C 5.359375 26.078125 5.242188 26.191406 5.128906 26.425781 C 5.128906 26.425781 5.128906 26.425781 5.128906 26.539062 C 5.011719 26.539062 5.011719 26.773438 5.242188 26.886719 M 3.273438 32.445312 C 4.433594 32.910156 5.707031 32.328125 6.054688 31.171875 C 6.054688 31.054688 6.171875 30.941406 6.171875 30.824219 C 6.519531 29.667969 5.9375 28.507812 4.78125 28.160156 C 4.664062 28.160156 4.546875 28.160156 4.433594 28.046875 C 3.273438 27.582031 2 28.160156 1.652344 29.320312 C 1.652344 29.433594 1.535156 29.550781 1.535156 29.667969 C 1.1875 30.824219 1.769531 31.980469 2.925781 32.328125 C 3.042969 32.445312 3.160156 32.445312 3.273438 32.445312 M 3.390625 31.75 C 2.464844 31.519531 1.769531 30.824219 2.117188 29.78125 C 2.347656 28.972656 3.273438 28.507812 4.085938 28.738281 C 4.199219 28.738281 4.199219 28.738281 4.199219 28.855469 C 5.011719 28.972656 5.707031 29.667969 5.589844 30.59375 C 5.476562 31.519531 4.78125 32.097656 3.851562 31.980469 C 3.738281 31.867188 3.503906 31.867188 3.390625 31.75 M 1.074219 36.730469 L 1.1875 35.917969 C 1.1875 34.992188 1.882812 34.296875 2.8125 34.296875 C 2.925781 34.296875 2.925781 34.296875 3.042969 34.296875 C 3.851562 34.183594 4.664062 34.878906 4.78125 35.6875 C 4.78125 35.804688 4.78125 36.035156 4.78125 36.152344 L 4.664062 36.84375 Z M 5.128906 37.539062 L 5.242188 36.152344 C 5.476562 34.992188 4.664062 33.835938 3.503906 33.601562 C 3.390625 33.601562 3.273438 33.601562 3.160156 33.601562 C 1.882812 33.488281 0.839844 34.53125 0.726562 35.804688 C 0.726562 35.804688 0.726562 35.917969 0.726562 35.917969 L 0.492188 37.425781 Z M 5.707031 42.75 L 5.707031 42.171875 L 1.882812 42.75 L 5.359375 40.203125 L 5.242188 39.277344 L 0.609375 39.855469 L 0.726562 40.550781 L 4.433594 39.972656 L 0.957031 42.519531 L 1.074219 43.445312 Z M 4.664062 45.644531 L 5.242188 47.5 L 2.695312 47.382812 Z M 7.328125 48.191406 L 7.097656 47.5 L 5.824219 47.5 L 5.128906 45.414062 L 6.054688 44.488281 L 5.824219 43.792969 L 2.117188 47.152344 L 2.347656 47.847656 Z M 5.242188 53.054688 L 4.894531 52.476562 C 4.546875 51.898438 4.664062 51.550781 5.011719 51.320312 C 5.359375 51.089844 5.824219 51.320312 6.171875 51.898438 L 6.402344 52.363281 Z M 9.183594 51.667969 L 8.835938 51.089844 L 6.980469 52.128906 L 6.863281 51.78125 C 6.632812 51.550781 6.632812 51.203125 6.863281 50.855469 L 8.023438 49.46875 L 7.675781 48.886719 L 6.519531 50.507812 C 6.402344 50.742188 6.285156 50.855469 6.402344 51.089844 C 6.054688 50.625 5.476562 50.507812 5.011719 50.742188 C 4.085938 51.320312 4.316406 52.128906 4.78125 52.941406 L 5.128906 53.867188 Z M 6.285156 55.835938 L 6.75 56.296875 L 8.835938 54.675781 C 9.53125 54.097656 10.222656 53.984375 10.6875 54.5625 C 11.152344 55.140625 10.917969 55.835938 10.222656 56.414062 L 8.140625 58.035156 L 8.488281 58.613281 L 10.570312 56.878906 C 11.382812 56.414062 11.730469 55.371094 11.152344 54.5625 C 11.035156 54.445312 11.035156 54.332031 10.917969 54.214844 C 10.339844 53.402344 9.296875 53.289062 8.601562 53.867188 C 8.488281 53.984375 8.371094 54.097656 8.253906 54.214844 Z M 10.109375 60.003906 C 10.222656 60.351562 10.457031 60.582031 10.6875 60.929688 C 11.613281 61.855469 13.121094 61.742188 13.929688 60.8125 C 13.929688 60.8125 14.046875 60.699219 14.046875 60.699219 C 14.972656 59.773438 14.859375 58.265625 13.929688 57.457031 C 13.816406 57.339844 13.816406 57.339844 13.699219 57.226562 C 13.46875 56.992188 13.121094 56.761719 12.773438 56.644531 L 12.425781 57.109375 C 12.773438 57.226562 13.121094 57.339844 13.351562 57.574219 C 14.046875 58.152344 14.164062 59.308594 13.582031 60.003906 C 13.003906 60.8125 11.960938 60.929688 11.152344 60.351562 C 11.152344 60.351562 11.035156 60.234375 11.035156 60.234375 C 10.804688 60.003906 10.570312 59.773438 10.457031 59.425781 Z M 16.246094 61.625 C 16.363281 61.507812 16.363281 61.160156 16.132812 61.046875 C 16.015625 60.929688 15.785156 60.929688 15.554688 61.160156 C 15.4375 61.277344 15.4375 61.625 15.667969 61.742188 C 15.898438 61.742188 16.132812 61.742188 16.246094 61.625 M 21.460938 64.636719 C 22.269531 63.710938 22.15625 62.203125 21.230469 61.394531 C 20.300781 60.582031 18.796875 60.699219 17.984375 61.625 C 17.753906 61.972656 17.523438 62.320312 17.40625 62.78125 C 16.59375 63.824219 16.828125 65.214844 17.871094 66.023438 C 18.910156 66.835938 20.300781 66.605469 21.113281 65.5625 C 21.230469 65.332031 21.460938 64.984375 21.460938 64.636719 M 20.882812 64.289062 C 20.648438 65.097656 19.722656 65.5625 18.796875 65.332031 C 18.796875 65.332031 18.796875 65.332031 18.679688 65.332031 C 17.871094 64.75 17.636719 63.59375 18.21875 62.78125 C 18.679688 62.089844 19.492188 61.855469 20.1875 61.972656 C 20.996094 62.320312 21.34375 63.246094 20.996094 64.054688 C 20.996094 64.171875 20.882812 64.289062 20.882812 64.289062 M 25.167969 67.53125 L 24.355469 67.296875 C 23.546875 67.183594 22.964844 66.257812 23.082031 65.445312 C 23.082031 65.332031 23.082031 65.214844 23.199219 65.214844 C 23.3125 64.289062 24.125 63.710938 25.050781 63.824219 C 25.167969 63.824219 25.28125 63.824219 25.398438 63.941406 L 26.09375 64.054688 Z M 26.90625 63.710938 L 25.515625 63.363281 C 24.242188 63.015625 22.964844 63.824219 22.734375 64.984375 C 22.386719 66.257812 23.199219 67.53125 24.355469 67.761719 L 25.746094 68.109375 Z M 32 64.171875 L 31.304688 64.171875 L 31.074219 67.992188 L 29.222656 64.054688 L 28.292969 63.941406 L 28.0625 68.574219 L 28.640625 68.574219 L 28.875 64.75 L 30.726562 68.574219 L 31.652344 68.6875 Z M 35.941406 63.824219 L 33.390625 64.171875 L 33.507812 64.75 L 35.476562 64.519531 L 35.59375 66.023438 L 33.855469 66.257812 L 33.972656 66.835938 L 35.707031 66.605469 L 35.824219 67.992188 L 33.855469 68.226562 L 33.972656 68.804688 L 36.519531 68.457031 Z M 38.371094 67.992188 C 38.71875 67.992188 39.066406 67.992188 39.414062 67.878906 C 40.6875 67.644531 41.617188 66.371094 41.269531 64.984375 C 41.035156 63.710938 39.761719 62.78125 38.371094 63.128906 C 38.257812 63.128906 38.140625 63.246094 38.023438 63.246094 C 37.675781 63.363281 37.328125 63.476562 37.097656 63.710938 L 37.328125 64.402344 C 37.5625 64.171875 37.910156 63.941406 38.257812 63.941406 C 39.183594 63.710938 40.226562 64.289062 40.457031 65.214844 C 40.804688 66.140625 40.339844 67.066406 39.53125 67.414062 C 39.414062 67.414062 39.414062 67.414062 39.300781 67.53125 C 38.953125 67.644531 38.605469 67.644531 38.257812 67.53125 Z M 46.132812 62.78125 C 45.554688 61.742188 44.164062 61.394531 43.007812 61.972656 C 41.847656 62.550781 41.617188 63.941406 42.195312 65.097656 C 42.773438 66.140625 44.046875 66.488281 45.089844 66.023438 C 46.25 65.332031 46.710938 63.941406 46.132812 62.78125 M 45.4375 63.128906 C 45.902344 63.941406 45.671875 64.867188 44.976562 65.445312 C 44.976562 65.445312 44.859375 65.445312 44.859375 65.445312 C 43.933594 65.910156 43.121094 65.332031 42.660156 64.519531 C 42.195312 63.710938 42.3125 62.667969 43.238281 62.203125 C 44.164062 61.625 44.976562 62.203125 45.4375 63.128906 M 50.535156 61.855469 L 49.957031 62.320312 C 49.261719 62.898438 48.21875 62.667969 47.640625 61.972656 C 47.640625 61.972656 47.640625 61.972656 47.640625 61.855469 C 47.058594 61.277344 47.058594 60.234375 47.753906 59.65625 C 47.871094 59.539062 47.988281 59.425781 48.101562 59.425781 L 48.683594 59.078125 Z M 48.796875 58.035156 L 47.640625 58.847656 C 46.597656 59.425781 46.132812 60.699219 46.710938 61.742188 C 46.828125 61.855469 46.945312 62.089844 47.058594 62.203125 C 47.871094 63.246094 49.261719 63.476562 50.304688 62.667969 C 50.304688 62.667969 50.417969 62.550781 50.417969 62.550781 L 51.578125 61.742188 Z M 51.808594 58.035156 C 51.695312 57.917969 51.460938 57.917969 51.230469 58.035156 C 51.113281 58.152344 51.113281 58.382812 51.230469 58.613281 C 51.347656 58.730469 51.578125 58.730469 51.808594 58.613281 C 51.808594 58.382812 51.925781 58.152344 51.808594 58.035156 M 55.863281 53.636719 C 55.054688 52.824219 53.664062 52.824219 52.734375 53.636719 C 52.621094 53.75 52.621094 53.867188 52.503906 53.867188 C 51.695312 54.792969 51.808594 56.066406 52.734375 56.878906 C 52.851562 56.992188 52.96875 56.992188 53.082031 57.109375 C 54.011719 57.917969 55.402344 57.804688 56.210938 56.878906 C 57.023438 55.953125 56.90625 54.5625 55.980469 53.75 C 55.980469 53.75 55.980469 53.636719 55.863281 53.636719 M 55.515625 54.214844 C 56.328125 54.675781 56.558594 55.71875 55.980469 56.53125 C 55.402344 57.226562 54.472656 57.226562 53.777344 56.644531 C 53.777344 56.644531 53.664062 56.53125 53.664062 56.53125 C 52.851562 56.066406 52.621094 55.140625 53.082031 54.332031 C 53.082031 54.332031 53.082031 54.214844 53.199219 54.214844 C 53.777344 53.402344 54.707031 53.636719 55.515625 54.214844 M 59.453125 50.625 L 59.105469 51.320312 C 58.644531 52.128906 57.71875 52.476562 56.90625 52.015625 C 56.90625 52.015625 56.90625 52.015625 56.789062 52.015625 C 55.980469 51.667969 55.632812 50.855469 55.863281 50.046875 C 55.863281 49.929688 55.980469 49.8125 55.980469 49.699219 L 56.328125 49.121094 Z M 56.210938 48.191406 L 55.632812 49.351562 C 54.9375 50.394531 55.167969 51.667969 56.09375 52.476562 C 56.210938 52.59375 56.328125 52.710938 56.558594 52.710938 C 57.601562 53.289062 58.992188 52.941406 59.570312 51.78125 C 59.570312 51.667969 59.6875 51.667969 59.6875 51.550781 L 60.265625 50.394531 Z M 57.71875 43.328125 L 57.601562 43.910156 L 61.308594 45.066406 L 57.023438 45.992188 L 56.789062 46.804688 L 61.308594 48.191406 L 61.425781 47.613281 L 57.832031 46.570312 L 62.003906 45.644531 L 62.234375 44.71875 Z M 58.179688 39.277344 L 57.832031 41.824219 L 58.414062 41.941406 L 58.644531 39.972656 L 60.148438 40.085938 L 60.035156 41.824219 L 60.613281 41.941406 L 60.730469 40.203125 L 62.117188 40.320312 L 62.003906 42.289062 L 62.582031 42.402344 L 62.929688 39.855469 Z M 58.179688 36.84375 L 58.179688 37.425781 L 62.8125 37.308594 L 62.8125 36.613281 Z M 62.699219 34.992188 C 62.8125 34.644531 62.8125 34.183594 62.8125 33.835938 C 62.699219 32.5625 61.65625 31.636719 60.382812 31.75 C 60.265625 31.75 60.265625 31.75 60.148438 31.75 C 58.875 31.867188 57.949219 33.023438 58.066406 34.296875 C 58.066406 34.414062 58.066406 34.414062 58.066406 34.53125 C 58.066406 34.878906 58.179688 35.222656 58.414062 35.570312 L 58.992188 35.457031 C 58.875 35.109375 58.644531 34.878906 58.644531 34.53125 C 58.527344 33.601562 59.105469 32.675781 60.035156 32.5625 C 60.035156 32.5625 60.148438 32.5625 60.148438 32.5625 C 61.078125 32.328125 62.003906 33.023438 62.234375 33.949219 C 62.234375 33.949219 62.234375 34.066406 62.234375 34.066406 C 62.351562 34.414062 62.234375 34.761719 62.117188 35.109375 Z M 61.886719 29.78125 C 61.886719 29.433594 61.886719 29.085938 61.769531 28.738281 C 61.539062 27.929688 60.84375 27.351562 60.148438 27.582031 C 58.757812 27.929688 59.570312 29.898438 58.527344 30.128906 C 57.949219 30.246094 57.601562 29.78125 57.484375 29.550781 C 57.371094 29.203125 57.371094 28.855469 57.371094 28.507812 L 56.789062 28.625 C 56.789062 28.972656 56.789062 29.320312 56.789062 29.667969 C 56.90625 30.476562 57.601562 31.054688 58.414062 30.941406 C 58.414062 30.941406 58.527344 30.941406 58.527344 30.941406 C 60.035156 30.59375 59.222656 28.625 60.148438 28.394531 C 60.613281 28.277344 60.84375 28.625 60.960938 29.085938 C 61.078125 29.320312 61.078125 29.667969 61.078125 29.898438 Z M 57.832031 25.960938 C 57.601562 26.078125 57.484375 26.308594 57.601562 26.539062 C 57.71875 26.773438 57.949219 26.886719 58.179688 26.773438 C 58.414062 26.773438 58.527344 26.539062 58.414062 26.308594 C 58.414062 26.078125 58.179688 25.960938 57.949219 25.960938 C 57.832031 25.960938 57.832031 25.960938 57.832031 25.960938 M 52.621094 21.097656 L 52.96875 21.675781 L 56.328125 19.476562 L 53.777344 22.949219 L 54.125 23.53125 L 58.414062 22.601562 L 55.054688 24.804688 L 55.402344 25.382812 L 59.339844 22.835938 L 58.757812 21.910156 L 54.707031 22.835938 L 57.136719 19.476562 L 56.558594 18.550781 Z M 50.304688 18.667969 L 52.15625 20.519531 L 52.503906 20.171875 L 51.113281 18.78125 L 54.011719 16.003906 L 53.546875 15.539062 Z M 52.042969 13.917969 L 51.460938 13.570312 L 49.722656 15.65625 C 49.144531 16.351562 48.566406 16.699219 47.871094 16.117188 C 47.175781 15.539062 47.292969 14.960938 47.871094 14.265625 L 49.609375 12.183594 L 49.03125 11.835938 L 47.292969 14.035156 C 46.597656 14.730469 46.597656 15.886719 47.292969 16.582031 C 47.988281 17.277344 49.144531 17.277344 49.839844 16.582031 C 49.957031 16.464844 50.070312 16.351562 50.070312 16.234375 Z M 42.542969 13.457031 L 43.121094 13.804688 L 44.859375 10.097656 L 46.132812 10.675781 L 46.367188 10.097656 L 43.121094 8.59375 L 42.890625 9.171875 L 44.28125 9.867188 Z M 40.804688 7.320312 L 41.382812 7.433594 L 41.5 6.855469 L 40.921875 6.738281 Z M 39.648438 6.972656 L 40.226562 7.085938 L 40.339844 6.507812 L 39.878906 6.390625 Z M 40.457031 10.675781 L 38.605469 10.097656 L 40.226562 8.128906 Z M 36.867188 11.488281 L 37.5625 11.71875 L 38.371094 10.675781 L 40.574219 11.371094 L 40.6875 12.644531 L 41.382812 12.875 L 40.804688 7.78125 L 40.109375 7.550781 Z M 34.898438 11.253906 L 35.476562 11.371094 L 36.054688 7.320312 L 37.445312 7.433594 L 37.5625 6.855469 L 33.972656 6.390625 L 33.855469 6.972656 L 35.246094 7.085938 Z M 32 11.023438 L 32.582031 11.023438 L 32.695312 6.390625 L 32.117188 6.390625 Z M 30.148438 6.507812 C 29.800781 6.390625 29.453125 6.390625 29.105469 6.390625 C 28.179688 6.507812 27.714844 6.972656 27.714844 7.78125 C 27.832031 9.171875 29.800781 8.707031 29.917969 9.867188 C 30.03125 10.445312 29.453125 10.675781 28.988281 10.792969 C 28.640625 10.792969 28.292969 10.792969 28.0625 10.675781 L 28.0625 11.371094 C 28.410156 11.488281 28.640625 11.488281 28.988281 11.488281 C 29.917969 11.371094 30.613281 10.910156 30.613281 9.980469 C 30.496094 8.476562 28.527344 8.824219 28.410156 7.898438 C 28.292969 7.433594 28.757812 7.320312 29.222656 7.203125 C 29.453125 7.203125 29.800781 7.203125 30.03125 7.320312 Z M 23.660156 8.011719 L 24.242188 7.898438 C 24.820312 7.78125 25.167969 8.011719 25.398438 8.359375 C 25.515625 8.707031 25.28125 9.171875 24.589844 9.289062 L 24.007812 9.402344 Z M 24.007812 12.066406 L 24.589844 11.949219 L 24.125 9.980469 L 24.472656 9.867188 C 24.820312 9.75 25.050781 9.75 25.398438 10.097656 L 26.558594 11.488281 L 27.253906 11.371094 L 25.976562 9.75 C 25.746094 9.519531 25.628906 9.402344 25.398438 9.402344 C 25.863281 9.171875 26.210938 8.707031 26.09375 8.128906 C 25.863281 6.972656 24.9375 7.085938 24.007812 7.320312 L 22.851562 7.550781 Z M 20.300781 13.570312 L 22.617188 12.53125 L 22.386719 12.066406 L 20.535156 12.875 L 19.953125 11.488281 L 21.578125 10.792969 L 21.34375 10.214844 L 19.722656 10.910156 L 19.144531 9.632812 L 20.996094 8.824219 L 20.765625 8.246094 L 18.449219 9.289062 Z M 16.828125 10.097656 L 16.246094 10.445312 L 17.175781 14.730469 L 13.816406 12.183594 L 13.234375 12.53125 L 17.289062 15.539062 L 17.984375 15.078125 Z M 14.511719 17.507812 L 15.089844 17.160156 L 12.078125 13.457031 L 11.5 13.804688 Z M 10.804688 21.214844 L 11.265625 20.75 L 8.371094 18.203125 L 12.65625 19.246094 L 13.234375 18.667969 L 9.761719 15.539062 L 9.296875 16.003906 L 12.078125 18.550781 L 7.90625 17.507812 L 7.328125 18.203125 Z M 5.9375 20.054688 L 5.589844 20.636719 L 7.90625 22.023438 C 8.71875 22.488281 9.066406 23.066406 8.601562 23.761719 C 8.140625 24.457031 7.445312 24.457031 6.75 23.992188 L 4.433594 22.601562 L 4.085938 23.183594 L 6.402344 24.570312 C 7.097656 25.152344 8.140625 25.152344 8.835938 24.457031 C 8.949219 24.339844 9.066406 24.222656 9.066406 24.109375 C 9.644531 23.296875 9.414062 22.140625 8.488281 21.675781 C 8.371094 21.675781 8.371094 21.5625 8.253906 21.5625 Z M 5.9375 20.054688 \" fill-opacity=\"1\" fill-rule=\"nonzero\"/></svg>\n\\ No newline at end of file"
      },
      {
        "sha": "9f75020f52b3ef159bf18a7c2be60cbdce5861f5",
        "filename": "app/static/img/photos/unsplash-1.jpg",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Fphotos%2Funsplash-1.jpg",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Fphotos%2Funsplash-1.jpg",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fimg%2Fphotos%2Funsplash-1.jpg?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "4843e3d07b6f6ed5636063a8b1eecde168026d9f",
        "filename": "app/static/img/photos/unsplash-2.jpg",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Fphotos%2Funsplash-2.jpg",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Fphotos%2Funsplash-2.jpg",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fimg%2Fphotos%2Funsplash-2.jpg?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "409a92e2a13af997a1b56ca486194744c095be58",
        "filename": "app/static/img/photos/unsplash-3.jpg",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Fphotos%2Funsplash-3.jpg",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fimg%2Fphotos%2Funsplash-3.jpg",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fimg%2Fphotos%2Funsplash-3.jpg?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "ed6ab95188ed5f0462777d47ac6b0e1f871e1e7c",
        "filename": "app/static/js/app.js",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fjs%2Fapp.js",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fjs%2Fapp.js",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fjs%2Fapp.js?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "db3b55e71ee74633e3f8f583265bd110a4542110",
        "filename": "app/static/js/app.js.map",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fjs%2Fapp.js.map",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Fstatic%2Fjs%2Fapp.js.map",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Fstatic%2Fjs%2Fapp.js.map?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "50dc681273f65ee43e071dd81c9a8fcf1988a86c",
        "filename": "app/templates/400.html",
        "status": "added",
        "additions": 57,
        "deletions": 0,
        "changes": 57,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Ftemplates%2F400.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Ftemplates%2F400.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Ftemplates%2F400.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,57 @@\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+\n+<head>\n+    <meta charset=\"utf-8\">\n+    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n+    <meta name=\"description\"\n+          content=\"Repository of feature models in UVL format integrated with Zenodo and FlamaPy\">\n+    <meta name=\"author\" content=\"University of Seville\">\n+    <meta name=\"keywords\"\n+          content=\"diversolab, uvl, feature models, software product line, university of seville,\n+           university of malaga, university of ulm, david romero, david benavides, jose a galindo, jose miguel horcas,\n+chico sundermann\">\n+\n+    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n+    <link rel=\"shortcut icon\" href=\"{{ url_for(\"static\", filename=\"img/icons/icon-250x250.png\") }}\"/>\n+\n+\n+    <link rel=\"canonical\" href=\"https://www.uvlhub.io\"/>\n+\n+\t<title>Bad Request | {{ FLASK_APP_NAME }}</title>\n+\n+\t<link rel=\"stylesheet\" href=\"{{ url_for(\"static\", filename=\"css/app.css\") }}\">\n+\t<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap\" rel=\"stylesheet\">\n+</head>\n+\n+<body>\n+\t<main class=\"d-flex w-100\">\n+\t\t<div class=\"container d-flex flex-column\">\n+\t\t\t<div class=\"row vh-100\">\n+\t\t\t\t<div class=\"col-sm-10 col-md-8 col-lg-6 mx-auto d-table h-100\">\n+\t\t\t\t\t<div class=\"d-table-cell align-middle\">\n+\n+\t\t\t\t\t\t<div class=\"text-center mt-4\">\n+\t\t\t\t\t\t\t<h1 style=\"font-size: 100px\">400</h1>\n+\t\t\t\t\t\t\t<p class=\"lead\">\n+\t\t\t\t\t\t\t\tBad Request\n+\t\t\t\t\t\t\t</p>\n+\n+\t\t\t\t\t\t</div>\n+\n+                        <div class=\"text-center mt-3\">\n+                            <a href=\"{{ url_for('public.index') }}\" class=\"btn btn-lg btn-primary\">Back to home</a>\n+                        </div>\n+\n+\t\t\t\t\t</div>\n+\t\t\t\t</div>\n+\t\t\t</div>\n+\t\t</div>\n+\t</main>\n+\n+\t<script src=\"{{ url_for(\"static\", filename=\"js/app.js\") }}\"></script>\n+\n+</body>\n+\n+</html>\n\\ No newline at end of file"
      },
      {
        "sha": "8b42843822155a933f4256199209f68be7fa1b94",
        "filename": "app/templates/401.html",
        "status": "added",
        "additions": 57,
        "deletions": 0,
        "changes": 57,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Ftemplates%2F401.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Ftemplates%2F401.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Ftemplates%2F401.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,57 @@\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+\n+<head>\n+    <meta charset=\"utf-8\">\n+    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n+    <meta name=\"description\"\n+          content=\"Repository of feature models in UVL format integrated with Zenodo and FlamaPy\">\n+    <meta name=\"author\" content=\"University of Seville\">\n+    <meta name=\"keywords\"\n+          content=\"diversolab, uvl, feature models, software product line, university of seville,\n+           university of malaga, university of ulm, david romero, david benavides, jose a galindo, jose miguel horcas,\n+chico sundermann\">\n+\n+    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n+    <link rel=\"shortcut icon\" href=\"{{ url_for(\"static\", filename=\"img/icons/icon-250x250.png\") }}\"/>\n+\n+\n+    <link rel=\"canonical\" href=\"https://www.uvlhub.io\"/>\n+\n+\t<title>Unauthorized | {{ FLASK_APP_NAME }}</title>\n+\n+\t<link rel=\"stylesheet\" href=\"{{ url_for(\"static\", filename=\"css/app.css\") }}\">\n+\t<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap\" rel=\"stylesheet\">\n+</head>\n+\n+<body>\n+\t<main class=\"d-flex w-100\">\n+\t\t<div class=\"container d-flex flex-column\">\n+\t\t\t<div class=\"row vh-100\">\n+\t\t\t\t<div class=\"col-sm-10 col-md-8 col-lg-6 mx-auto d-table h-100\">\n+\t\t\t\t\t<div class=\"d-table-cell align-middle\">\n+\n+\t\t\t\t\t\t<div class=\"text-center mt-4\">\n+\t\t\t\t\t\t\t<h1 style=\"font-size: 100px\">401</h1>\n+\t\t\t\t\t\t\t<p class=\"lead\">\n+\t\t\t\t\t\t\t\tUnauthorized\n+\t\t\t\t\t\t\t</p>\n+\n+\t\t\t\t\t\t</div>\n+\n+                        <div class=\"text-center mt-3\">\n+                            <a href=\"{{ url_for('public.index') }}\" class=\"btn btn-lg btn-primary\">Back to home</a>\n+                        </div>\n+\n+\t\t\t\t\t</div>\n+\t\t\t\t</div>\n+\t\t\t</div>\n+\t\t</div>\n+\t</main>\n+\n+\t<script src=\"{{ url_for(\"static\", filename=\"js/app.js\") }}\"></script>\n+\n+</body>\n+\n+</html>\n\\ No newline at end of file"
      },
      {
        "sha": "da5dce5b53c2e828c75f2767f12b5965ac7db46a",
        "filename": "app/templates/404.html",
        "status": "added",
        "additions": 57,
        "deletions": 0,
        "changes": 57,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Ftemplates%2F404.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Ftemplates%2F404.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Ftemplates%2F404.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,57 @@\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+\n+<head>\n+    <meta charset=\"utf-8\">\n+    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n+    <meta name=\"description\"\n+          content=\"Repository of feature models in UVL format integrated with Zenodo and FlamaPy\">\n+    <meta name=\"author\" content=\"University of Seville\">\n+    <meta name=\"keywords\"\n+          content=\"diversolab, uvl, feature models, software product line, university of seville,\n+           university of malaga, university of ulm, david romero, david benavides, jose a galindo, jose miguel horcas,\n+chico sundermann\">\n+\n+    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n+    <link rel=\"shortcut icon\" href=\"{{ url_for(\"static\", filename=\"img/icons/icon-250x250.png\") }}\"/>\n+\n+\n+    <link rel=\"canonical\" href=\"https://www.uvlhub.io\"/>\n+\n+\t<title>Page not found | {{ FLASK_APP_NAME }}</title>\n+\n+\t<link rel=\"stylesheet\" href=\"{{ url_for(\"static\", filename=\"css/app.css\") }}\">\n+\t<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap\" rel=\"stylesheet\">\n+</head>\n+\n+<body>\n+\t<main class=\"d-flex w-100\">\n+\t\t<div class=\"container d-flex flex-column\">\n+\t\t\t<div class=\"row vh-100\">\n+\t\t\t\t<div class=\"col-sm-10 col-md-8 col-lg-6 mx-auto d-table h-100\">\n+\t\t\t\t\t<div class=\"d-table-cell align-middle\">\n+\n+\t\t\t\t\t\t<div class=\"text-center mt-4\">\n+\t\t\t\t\t\t\t<h1 style=\"font-size: 100px\">404</h1>\n+\t\t\t\t\t\t\t<p class=\"lead\">\n+\t\t\t\t\t\t\t\tPage Not Found\n+\t\t\t\t\t\t\t</p>\n+\n+\t\t\t\t\t\t</div>\n+\n+                        <div class=\"text-center mt-3\">\n+                            <a href=\"{{ url_for('public.index') }}\" class=\"btn btn-lg btn-primary\">Back to home</a>\n+                        </div>\n+\n+\t\t\t\t\t</div>\n+\t\t\t\t</div>\n+\t\t\t</div>\n+\t\t</div>\n+\t</main>\n+\n+\t<script src=\"{{ url_for(\"static\", filename=\"js/app.js\") }}\"></script>\n+\n+</body>\n+\n+</html>\n\\ No newline at end of file"
      },
      {
        "sha": "42a9c376f0ede14955a9502ed51f85705bb698a8",
        "filename": "app/templates/500.html",
        "status": "added",
        "additions": 57,
        "deletions": 0,
        "changes": 57,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Ftemplates%2F500.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Ftemplates%2F500.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Ftemplates%2F500.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,57 @@\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+\n+<head>\n+    <meta charset=\"utf-8\">\n+    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n+    <meta name=\"description\"\n+          content=\"Repository of feature models in UVL format integrated with Zenodo and FlamaPy\">\n+    <meta name=\"author\" content=\"University of Seville\">\n+    <meta name=\"keywords\"\n+          content=\"diversolab, uvl, feature models, software product line, university of seville,\n+           university of malaga, university of ulm, david romero, david benavides, jose a galindo, jose miguel horcas,\n+chico sundermann\">\n+\n+    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n+    <link rel=\"shortcut icon\" href=\"{{ url_for(\"static\", filename=\"img/icons/icon-250x250.png\") }}\"/>\n+\n+\n+    <link rel=\"canonical\" href=\"https://www.uvlhub.io\"/>\n+\n+\t<title>Internal Server Error | {{ FLASK_APP_NAME }}</title>\n+\n+\t<link rel=\"stylesheet\" href=\"{{ url_for(\"static\", filename=\"css/app.css\") }}\">\n+\t<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap\" rel=\"stylesheet\">\n+</head>\n+\n+<body>\n+\t<main class=\"d-flex w-100\">\n+\t\t<div class=\"container d-flex flex-column\">\n+\t\t\t<div class=\"row vh-100\">\n+\t\t\t\t<div class=\"col-sm-10 col-md-8 col-lg-6 mx-auto d-table h-100\">\n+\t\t\t\t\t<div class=\"d-table-cell align-middle\">\n+\n+\t\t\t\t\t\t<div class=\"text-center mt-4\">\n+\t\t\t\t\t\t\t<h1 style=\"font-size: 100px\">500</h1>\n+\t\t\t\t\t\t\t<p class=\"lead\">\n+\t\t\t\t\t\t\t\tInternal Server Error\n+\t\t\t\t\t\t\t</p>\n+\n+\t\t\t\t\t\t</div>\n+\n+                        <div class=\"text-center mt-3\">\n+                            <a href=\"{{ url_for('public.index') }}\" class=\"btn btn-lg btn-primary\">Back to home</a>\n+                        </div>\n+\n+\t\t\t\t\t</div>\n+\t\t\t\t</div>\n+\t\t\t</div>\n+\t\t</div>\n+\t</main>\n+\n+\t<script src=\"{{ url_for(\"static\", filename=\"js/app.js\") }}\"></script>\n+\n+</body>\n+\n+</html>\n\\ No newline at end of file"
      },
      {
        "sha": "ed4a01627713d433910aa879b21ba668b2519010",
        "filename": "app/templates/base_template.html",
        "status": "added",
        "additions": 308,
        "deletions": 0,
        "changes": 308,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Ftemplates%2Fbase_template.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/app%2Ftemplates%2Fbase_template.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/app%2Ftemplates%2Fbase_template.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,308 @@\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+\n+<head>\n+    <meta charset=\"utf-8\">\n+    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n+    <meta name=\"description\"\n+          content=\"Repository of feature models in UVL format integrated with Zenodo and FlamaPy\">\n+    <meta name=\"author\" content=\"University of Seville\">\n+    <meta name=\"keywords\"\n+          content=\"diversolab, uvl, feature models, software product line, university of seville,\n+           university of malaga, university of ulm, david romero, david benavides, jose a galindo, jose miguel horcas,\n+chico sundermann\">\n+\n+    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n+    <link rel=\"shortcut icon\" href=\"{{ url_for(\"static\", filename=\"img/icons/icon-250x250.png\") }}\"/>\n+    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" integrity=\"sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN\" crossorigin=\"anonymous\">\n+  \n+    <link rel=\"canonical\" href=\"https://www.uvlhub.io\"/>\n+\n+    <title>{{ FLASK_APP_NAME }} - Repository of feature models in UVL </title>\n+\n+    <link rel=\"stylesheet\" href=\"{{ url_for(\"static\", filename=\"css/app.css\") }}\">\n+\n+    <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap\" rel=\"stylesheet\">\n+\n+    <script src=\"https://unpkg.com/dropzone@5/dist/min/dropzone.min.js\"></script>\n+\n+    <link rel=\"stylesheet\" href=\"https://unpkg.com/dropzone@5/dist/min/dropzone.min.css\" type=\"text/css\"/>\n+\n+    <link rel=\"stylesheet\" href=\"{{ url_for(\"static\", filename=\"css/dropzone.css\") }}\">\n+\n+    <link rel=\"stylesheet\" href=\"{{ url_for(\"static\", filename=\"css/own.css\") }}\">\n+\n+</head>\n+\n+<body>\n+<div class=\"wrapper\">\n+\n+    <nav id=\"sidebar\" class=\"sidebar js-sidebar\">\n+        <div class=\"sidebar-content js-simplebar\">\n+            <a class=\"sidebar-brand\" href=\"{{ url_for('public.index') }}\">\n+                <img src=\"{{ url_for(\"static\", filename=\"img/logos/logo-dark.svg\") }}\" class=\"d-block\"\n+                     style=\"max-width: 100%; height: auto;\">\n+            </a>\n+\n+\n+            <ul class=\"sidebar-nav\">\n+\n+                <li class=\"sidebar-header\">\n+                    Datasets\n+                </li>\n+\n+                <li class=\"sidebar-item {{ 'active' if request.endpoint == 'public.index' else '' }}\">\n+                    <a class=\"sidebar-link\" href=\"{{ url_for('public.index') }}\">\n+                        <i class=\"align-middle\" data-feather=\"home\"></i> <span class=\"align-middle\">Home</span>\n+                    </a>\n+                </li>\n+\n+                <li class=\"sidebar-item {{ 'active' if request.endpoint == 'explore.index' else '' }}\">\n+                    <a class=\"sidebar-link\" href=\"{{ url_for('explore.index') }}\">\n+                        <i class=\"align-middle\" data-feather=\"search\"></i> <span class=\"align-middle\">Explore</span>\n+                    </a>\n+                </li>\n+\n+                <li class=\"sidebar-item {{ 'active' if request.endpoint == 'team.index' else '' }}\">\n+                    <a class=\"sidebar-link\" href=\"{{ url_for('team.index') }}\">\n+                        <i class=\"align-middle\" data-feather=\"users\"></i> <span\n+                            class=\"align-middle\">Team</span>\n+                    </a>\n+                </li>\n+\n+                {% if current_user.is_anonymous %}\n+\n+                    <li class=\"sidebar-header\">\n+                        Let's get started!\n+                    </li>\n+\n+                    <li class=\"sidebar-item {{ 'active' if request.endpoint == 'auth.login' else '' }}\">\n+                        <a class=\"sidebar-link\" href=\"{{ url_for('auth.login') }}\">\n+                            <i class=\"align-middle\" data-feather=\"log-in\"></i> <span class=\"align-middle\">Login</span>\n+                        </a>\n+                    </li>\n+\n+                    <li class=\"sidebar-item {{ 'active' if request.endpoint == 'auth.show_signup_form' else '' }}\">\n+                        <a class=\"sidebar-link\" href=\"{{ url_for('auth.show_signup_form') }}\">\n+                            <i class=\"align-middle\" data-feather=\"user-plus\"></i> <span\n+                                class=\"align-middle\">Sign Up</span>\n+                        </a>\n+                    </li>\n+\n+                {% else %}\n+\n+                    <li class=\"sidebar-header\">\n+                        Datasets\n+                    </li>\n+\n+                    <li class=\"sidebar-item {{ 'active' if request.endpoint == 'dataset.create_dataset' else '' }}\">\n+                        <a class=\"sidebar-link\" href=\"{{ url_for('dataset.create_dataset') }}\">\n+                            <i class=\"align-middle\" data-feather=\"upload\"></i> <span\n+                                class=\"align-middle\">Upload dataset</span>\n+                        </a>\n+                    </li>\n+\n+                    <li class=\"sidebar-item {{ 'active' if request.endpoint == 'dataset.list_dataset' else '' }}\">\n+                        <a class=\"sidebar-link\" href=\"{{ url_for('dataset.list_dataset') }}\">\n+                            <i class=\"align-middle\" data-feather=\"list\"></i> <span\n+                                class=\"align-middle\">My datasets</span>\n+                        </a>\n+                    </li>\n+\n+                    <li class=\"sidebar-header\">\n+                        Options\n+                    </li>\n+\n+                    <li class=\"sidebar-item {{ 'active' if request.endpoint == 'profile.edit_profile' else '' }}\">\n+                        <a class=\"sidebar-link\" href=\"{{ url_for('profile.edit_profile') }}\">\n+                            <i class=\"align-middle\" data-feather=\"user\"></i> <span\n+                                class=\"align-middle\">Edit profile</span>\n+                        </a>\n+                    </li>\n+\n+                    <li class=\"sidebar-item\">\n+                        <a class=\"sidebar-link\" href=\"{{ url_for('auth.logout') }}\">\n+                            <i class=\"align-middle\" data-feather=\"log-out\"></i> <span\n+                                class=\"align-middle\">Log out</span>\n+                        </a>\n+                    </li>\n+\n+                {% endif %}\n+\n+            </ul>\n+\n+            {% if APP_VERSION != 'unknown' and APP_VERSION != '' %}\n+            <div class=\"sidebar-cta text-center\">\n+                <div class=\"sidebar-cta-content\">\n+                    <div class=\"text\">\n+                        Compilation build <a href=\"https://github.com/diverso-lab/uvlhub/releases/tag/{{ APP_VERSION }}\" target=\"_blank\">{{ APP_VERSION }}</a>\n+                    </div>\n+                </div>\n+            </div>\n+            {% endif %}\n+            \n+\n+        </div>\n+    </nav>\n+\n+    <div class=\"main\">\n+        <nav class=\"navbar navbar-expand navbar-light navbar-bg\">\n+            <a class=\"sidebar-toggle js-sidebar-toggle\">\n+                <i class=\"hamburger align-self-center\"></i>\n+            </a>\n+\n+            <form class=\"d-none d-sm-inline-block\" onsubmit=\"submitSearchForm(event)\">\n+                <div class=\"input-group input-group-navbar\">\n+                    <input type=\"text\" id=\"search-query\" class=\"form-control rounded-search\"\n+                           placeholder=\"Search datasets...\" aria-label=\"Search\">\n+                </div>\n+            </form>\n+\n+            <div class=\"navbar-collapse collapse\">\n+                <ul class=\"navbar-nav navbar-align\">\n+                    <li class=\"nav-item dropdown\">\n+\n+                        {% if current_user.is_anonymous %}\n+                            <a class=\"nav-link  d-none d-sm-inline-block\" href=\"{{ url_for('auth.login') }}\">Login</a>\n+                            <a class=\"nav-link  d-none d-sm-inline-block\" href=\"{{ url_for('auth.show_signup_form') }}\">Sign\n+                                up</a>\n+\n+                        {% else %}\n+\n+                        <a class=\"nav-icon dropdown-toggle d-inline-block d-sm-none\" href=\"#\" data-bs-toggle=\"dropdown\">\n+                            <i class=\"align-middle\" data-feather=\"user\"></i> \n+                        </a>\n+\n+                        <a class=\"nav-link dropdown-toggle d-none d-sm-inline-block\" href=\"#\" data-bs-toggle=\"dropdown\">\n+                            <span class=\"text-dark\">{{ current_user.profile.surname }}, {{ current_user.profile.name }}</span>\n+                        </a>\n+                        <div class=\"dropdown-menu dropdown-menu-end\">\n+                            <a class=\"dropdown-item\" href=\"{{ url_for('profile.my_profile') }}\">\n+                                <i class=\"align-middle me-1\" data-feather=\"user\"></i> My profile</a>\n+                            <a class=\"dropdown-item\" href=\"{{ url_for('auth.logout') }}\">\n+                                <i class=\"align-middle me-1\" data-feather=\"log-out\"></i> Log out</a>\n+                        </div>\n+                        \n+                        \n+\n+                        {% endif %}\n+\n+\n+                    </li>\n+                </ul>\n+            </div>\n+        </nav>\n+\n+        <main class=\"content\">\n+            <div class=\"container p-0\">\n+\n+                {% block content %}{% endblock %}\n+\n+            </div>\n+        </main>\n+\n+        <footer class=\"footer\">\n+            <div class=\"container-fluid\">\n+                <div class=\"row text-muted\">\n+                    <div class=\"col-6 text-start\">\n+                        <p class=\"mb-0\">\n+                            <strong>{{ FLASK_APP_NAME }} </strong> University of Seville \u00b7 University of Malaga \u00b7\n+                            University of Ulm\n+                        </p>\n+                    </div>\n+                    <div class=\"col-6 text-end\">\n+                        <ul class=\"list-inline\">\n+                            <li class=\"list-inline-item\">\n+                                <a class=\"text-muted\" href=\"https://github.com/diverso-lab/uvlhub\"\n+                                   target=\"_blank\">\n+                                    <i class=\"align-middle\" data-feather=\"github\"></i>\n+                                    Repository on GitHub</a>\n+                            </li>\n+                        </ul>\n+                    </div>\n+                </div>\n+            </div>\n+        </footer>\n+    </div>\n+</div>\n+\n+<pre id=\"bibtex_cite\" style=\"display: none\">\n+@article{romero2024_uvlhub_open_science,\n+    title = {UVLHub: A feature model data repository using UVL and open science principles},\n+    journal = {Journal of Systems and Software},\n+    pages = {112150},\n+    year = {2024},\n+    issn = {0164-1212},\n+    doi = {https://doi.org/10.1016/j.jss.2024.112150},\n+    url = {https://www.sciencedirect.com/science/article/pii/S016412122400195X},\n+    author = {David Romero-Organvidez and Jos\u00e9 A. Galindo and Chico Sundermann and Jose-Miguel Horcas and David Benavides},\n+    keywords = {Feature models, Software product line, Variability, Dataset, Uvl},\n+    abstract = {Feature models are the de facto standard for modelling variabilities and commonalities in features and relationships in software product lines. They are the base artefacts in many engineering activities, such as product configuration, derivation, or testing. Concrete models in different domains exist; however, many are in private or sparse repositories or belong to discontinued projects. The dispersion of knowledge of feature models hinders the study and reuse of these artefacts in different studies. The Universal Variability Language (UVL) is a community effort textual feature model language that promotes a common way of serialising feature models independently of concrete tools. Open science principles promote transparency, accessibility, and collaboration in scientific research. Although some attempts exist to promote feature model sharing, the existing solutions lack open science principles by design. In addition, existing and public feature models are described using formats not always supported by current tools. This paper presents , a repository of feature models in UVL format. provides a front end that facilitates the search, upload, storage, and management of feature model datasets, improving the capabilities of discontinued proposals. Furthermore, the tool communicates with Zenodo \u2013one of the most well-known open science repositories\u2013 providing a permanent save of datasets and following open science principles. includes existing datasets and is readily available to include new data and functionalities in the future. It is maintained by three active universities in variability modelling.}\n+}\n+</pre>\n+                        \n+<pre id=\"ris_cite\" style=\"display: none\">\n+TY  - JOUR\n+T1  - UVLHub: A feature model data repository using UVL and open science principles\n+AU  - Romero-Organvidez, David\n+AU  - Galindo, Jos\u00e9 A.\n+AU  - Sundermann, Chico\n+AU  - Horcas, Jose-Miguel\n+AU  - Benavides, David\n+JO  - Journal of Systems and Software\n+SP  - 112150\n+PY  - 2024\n+DA  - 2024/07/01/\n+SN  - 0164-1212\n+DO  - https://doi.org/10.1016/j.jss.2024.112150\n+UR  - https://www.sciencedirect.com/science/article/pii/S016412122400195X\n+KW  - Feature models\n+KW  - Software product line\n+KW  - Variability\n+KW  - Dataset\n+KW  - Uvl\n+AB  - Feature models are the de facto standard for modelling variabilities and commonalities in features and relationships in software product lines. They are the base artefacts in many engineering activities, such as product configuration, derivation, or testing. Concrete models in different domains exist; however, many are in private or sparse repositories or belong to discontinued projects. The dispersion of knowledge of feature models hinders the study and reuse of these artefacts in different studies. The Universal Variability Language (UVL) is a community effort textual feature model language that promotes a common way of serialising feature models independently of concrete tools. Open science principles promote transparency, accessibility, and collaboration in scientific research. Although some attempts exist to promote feature model sharing, the existing solutions lack open science principles by design. In addition, existing and public feature models are described using formats not always supported by current tools. This paper presents , a repository of feature models in UVL format. provides a front end that facilitates the search, upload, storage, and management of feature model datasets, improving the capabilities of discontinued proposals. Furthermore, the tool communicates with Zenodo \u2013one of the most well-known open science repositories\u2013 providing a permanent save of datasets and following open science principles. includes existing datasets and is readily available to include new data and functionalities in the future. It is maintained by three active universities in variability modelling.\n+ER  - \n+</pre>\n+\n+<pre id=\"text_cite\" style=\"display: none;\">\n+David Romero-Organvidez, Jos\u00e9 A. Galindo, Chico Sundermann, Jose-Miguel Horcas, David Benavides,\n+UVLHub: A feature model data repository using UVL and open science principles,\n+Journal of Systems and Software,\n+2024,\n+112150,\n+ISSN 0164-1212,\n+https://doi.org/10.1016/j.jss.2024.112150.\n+(https://www.sciencedirect.com/science/article/pii/S016412122400195X)\n+Abstract: Feature models are the de facto standard for modelling variabilities and commonalities in features and relationships in software product lines. They are the base artefacts in many engineering activities, such as product configuration, derivation, or testing. Concrete models in different domains exist; however, many are in private or sparse repositories or belong to discontinued projects. The dispersion of knowledge of feature models hinders the study and reuse of these artefacts in different studies. The Universal Variability Language (UVL) is a community effort textual feature model language that promotes a common way of serialising feature models independently of concrete tools. Open science principles promote transparency, accessibility, and collaboration in scientific research. Although some attempts exist to promote feature model sharing, the existing solutions lack open science principles by design. In addition, existing and public feature models are described using formats not always supported by current tools. This paper presents , a repository of feature models in UVL format. provides a front end that facilitates the search, upload, storage, and management of feature model datasets, improving the capabilities of discontinued proposals. Furthermore, the tool communicates with Zenodo \u2013one of the most well-known open science repositories\u2013 providing a permanent save of datasets and following open science principles. includes existing datasets and is readily available to include new data and functionalities in the future. It is maintained by three active universities in variability modelling.\n+Keywords: Feature models; Software product line; Variability; Dataset; Uvl\n+</pre>\n+\n+<pre id=\"apa_cite\" style=\"display: none;\">\n+Romero-Organvidez, D., Galindo, J. A., Sundermann, C., Horcas, J.-M., & Benavides, D. (2024). UVLHub: A feature model data repository using UVL and open science principles. Journal of Systems and Software, 2024, 112150. https://doi.org/10.1016/j.jss.2024.112150\n+</pre>\n+\n+<script src=\"{{ url_for(\"static\", filename=\"js/app.js\") }}\"></script>\n+\n+<script>\n+\n+    function submitSearchForm(event) {\n+        event.preventDefault();\n+        let query = document.getElementById('search-query').value;\n+        window.location.href = '/explore?query=' + encodeURIComponent(query);\n+    }\n+\n+    function copyText(div_identifier) {\n+        let textToCopy = document.getElementById(div_identifier).textContent;\n+        textToCopy = textToCopy.trim();\n+        navigator.clipboard.writeText(textToCopy);\n+    }\n+\n+</script>\n+\n+{% block scripts %}{% endblock %}\n+\n+</body>\n+\n+</html>\n\\ No newline at end of file"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "core/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "core/blueprints/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fblueprints%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fblueprints%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fblueprints%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "bd594c7de568a7ca443b0261256d39fed3b10108",
        "filename": "core/blueprints/base_blueprint.py",
        "status": "added",
        "additions": 31,
        "deletions": 0,
        "changes": 31,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fblueprints%2Fbase_blueprint.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fblueprints%2Fbase_blueprint.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fblueprints%2Fbase_blueprint.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,31 @@\n+from flask import Blueprint, Response\n+import os\n+\n+\n+class BaseBlueprint(Blueprint):\n+    def __init__(self, name, import_name, static_folder=None, static_url_path=None,\n+                 template_folder=None, url_prefix=None, subdomain=None,\n+                 url_defaults=None, root_path=None):\n+        super().__init__(name, import_name, static_folder=static_folder,\n+                         static_url_path=static_url_path, template_folder=template_folder,\n+                         url_prefix=url_prefix, subdomain=subdomain,\n+                         url_defaults=url_defaults, root_path=root_path)\n+        self.module_path = os.path.join(os.getenv('WORKING_DIR', ''), 'app', 'modules', name)\n+        self.add_script_route()\n+\n+    def add_script_route(self):\n+        script_path = os.path.join(self.module_path, 'assets', 'scripts.js')\n+        if os.path.exists(script_path):\n+            self.add_url_rule(f'/{self.name}/scripts.js', 'scripts', self.send_script)\n+        else:\n+            print(f\"(BaseBlueprint) -> {script_path} does not exist.\")\n+\n+    def send_script(self):\n+        script_path = os.path.join(self.module_path, 'assets', 'scripts.js')\n+\n+        try:\n+            with open(script_path, 'r') as file:\n+                script_content = file.read()\n+            return Response(script_content, mimetype='application/javascript')\n+        except FileNotFoundError:\n+            return Response(f\"File not found: {script_path}\", status=404)"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "core/bootstraps/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fbootstraps%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fbootstraps%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fbootstraps%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "48b9daee8de505a2bed65ab33e906aa2a5299e8e",
        "filename": "core/bootstraps/locustfile_bootstrap.py",
        "status": "added",
        "additions": 44,
        "deletions": 0,
        "changes": 44,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fbootstraps%2Flocustfile_bootstrap.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fbootstraps%2Flocustfile_bootstrap.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fbootstraps%2Flocustfile_bootstrap.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,44 @@\n+import os\n+import glob\n+import inspect\n+import importlib.util\n+from locust import HttpUser\n+from dotenv import load_dotenv\n+\n+\n+def load_locustfiles():\n+    load_dotenv()\n+    working_dir = os.getenv('WORKING_DIR', '')\n+    print(f\"Working directory: {working_dir}\")\n+\n+    module_dir = os.path.join(working_dir, 'app', 'modules')\n+    print(f\"Module directory: {module_dir}\")\n+\n+    locustfile_paths = glob.glob(os.path.join(module_dir, '*', 'tests', 'locustfile.py'))\n+    print(f\"Found locustfiles: {locustfile_paths}\")\n+\n+    found_user_classes = []\n+\n+    for path in locustfile_paths:\n+        print(f\"Loading locustfile: {path}\")\n+        module_name = os.path.splitext(os.path.basename(path))[0]\n+        spec = importlib.util.spec_from_file_location(module_name, path)\n+        locustfile = importlib.util.module_from_spec(spec)\n+        spec.loader.exec_module(locustfile)\n+\n+        # Collect all classes that inherit from HttpUser\n+        for name, obj in vars(locustfile).items():\n+            if inspect.isclass(obj) and issubclass(obj, HttpUser) and obj is not HttpUser:\n+                unique_name = f\"{name}_{os.path.basename(path).split('.')[0]}\"\n+                globals()[unique_name] = obj  # Add to globals\n+                found_user_classes.append((unique_name, obj))\n+                print(f\"Loaded user class: {unique_name}\")\n+\n+    if not found_user_classes:\n+        raise ValueError(\"No User class found!\")\n+\n+    return found_user_classes\n+\n+\n+found_user_classes = load_locustfiles()\n+print(f\"Total user classes loaded: {len(found_user_classes)}\")"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "core/configuration/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fconfiguration%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fconfiguration%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fconfiguration%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "50e69f7d7f4494db118a2768232d66ec62eae629",
        "filename": "core/configuration/configuration.py",
        "status": "added",
        "additions": 25,
        "deletions": 0,
        "changes": 25,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fconfiguration%2Fconfiguration.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fconfiguration%2Fconfiguration.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fconfiguration%2Fconfiguration.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,25 @@\n+import os\n+from dotenv import load_dotenv\n+\n+load_dotenv()\n+\n+\n+def uploads_folder_name():\n+    return os.getenv('UPLOADS_DIR', \"uploads\")\n+\n+\n+def get_app_version():\n+    version_file_path = os.path.join(os.getenv('WORKING_DIR', ''), '.version')\n+    try:\n+        with open(version_file_path, 'r') as file:\n+            return file.readline().strip()\n+    except FileNotFoundError:\n+        return 'unknown'\n+\n+\n+def is_develop():\n+    return os.getenv('FLASK_ENV') == 'development'\n+\n+\n+def is_production():\n+    return os.getenv('FLASK_ENV') == 'production'"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "core/decorators/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fdecorators%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fdecorators%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fdecorators%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "672726198188ace3afd851206c20269fc7fb7e32",
        "filename": "core/decorators/decorators.py",
        "status": "added",
        "additions": 17,
        "deletions": 0,
        "changes": 17,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fdecorators%2Fdecorators.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fdecorators%2Fdecorators.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fdecorators%2Fdecorators.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,17 @@\n+from functools import wraps\n+\n+from flask import abort\n+\n+\n+def pass_or_abort(condition):\n+\n+    def decorator(f):\n+\n+        @wraps(f)\n+        def decorated_function(*args, **kwargs):\n+            if not condition(**kwargs):\n+                abort(404)\n+            return f(*args, **kwargs)\n+        return decorated_function\n+\n+    return decorator"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "core/environment/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fenvironment%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fenvironment%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fenvironment%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "0b785766b4212da5b84ccd7e812bd852b257e5b7",
        "filename": "core/environment/host.py",
        "status": "added",
        "additions": 65,
        "deletions": 0,
        "changes": 65,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fenvironment%2Fhost.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fenvironment%2Fhost.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fenvironment%2Fhost.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,65 @@\n+import os\n+from dotenv import load_dotenv\n+\n+load_dotenv()\n+\n+\n+def get_host_for_testing(test_type: str) -> str:\n+    \"\"\"\n+    Get the host URL for testing based on the test type and the working directory.\n+\n+    Parameters:\n+    test_type (str): The type of test (either \"locust\" or \"selenium\").\n+\n+    Returns:\n+    str: The host URL corresponding to the test type and working directory.\n+\n+    Raises:\n+    ValueError: If the test type is unknown or the WORKING_DIR value is not mapped.\n+    \"\"\"\n+    # Define host mappings for locust and selenium tests\n+    host_mapping = {\n+        \"locust\": {\n+            \"\": \"http://localhost:5000\",\n+            \"/app/\": \"http://nginx_web_server_container\",\n+            \"/vagrant/\": \"http://localhost:5000\"\n+        },\n+        \"selenium\": {\n+            \"\": \"http://localhost:5000\",\n+            \"/app/\": \"http://localhost\",\n+            \"/vagrant/\": \"http://localhost:5000\"\n+        }\n+    }\n+\n+    # Check if the provided test type is valid\n+    if test_type not in host_mapping:\n+        raise ValueError(f\"Unknown test type: {test_type}\")\n+\n+    # Get the working directory from the environment variable\n+    working_dir = os.getenv('WORKING_DIR', \"\")\n+\n+    # Return the host URL based on the working directory\n+    if working_dir in host_mapping[test_type]:\n+        return host_mapping[test_type][working_dir]\n+    else:\n+        raise ValueError(f\"Unknown WORKING_DIR value: {working_dir}\")\n+\n+\n+def get_host_for_locust_testing() -> str:\n+    \"\"\"\n+    Get the host URL for locust testing.\n+\n+    Returns:\n+    str: The host URL for locust testing.\n+    \"\"\"\n+    return get_host_for_testing(\"locust\")\n+\n+\n+def get_host_for_selenium_testing() -> str:\n+    \"\"\"\n+    Get the host URL for selenium testing.\n+\n+    Returns:\n+    str: The host URL for selenium testing.\n+    \"\"\"\n+    return get_host_for_testing(\"selenium\")"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "core/locust/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Flocust%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Flocust%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Flocust%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "b558962e9032ae904fe0abf32a65047fdfa242c7",
        "filename": "core/locust/common.py",
        "status": "added",
        "additions": 14,
        "deletions": 0,
        "changes": 14,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Flocust%2Fcommon.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Flocust%2Fcommon.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Flocust%2Fcommon.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,14 @@\n+from faker import Faker\n+from bs4 import BeautifulSoup\n+\n+fake = Faker()\n+\n+\n+def get_csrf_token(response):\n+    soup = BeautifulSoup(response.text, 'html.parser')\n+    token_tag = soup.find('input', {'name': 'csrf_token'})\n+    if token_tag:\n+        return token_tag['value']\n+    else:\n+        print(\"Response HTML:\", response.text)\n+        raise ValueError(\"CSRF token not found in the response\")"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "core/managers/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fmanagers%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fmanagers%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fmanagers%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "81d7c7c020a3182e8b285d3b0c6f4d3e96508df0",
        "filename": "core/managers/config_manager.py",
        "status": "added",
        "additions": 55,
        "deletions": 0,
        "changes": 55,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fmanagers%2Fconfig_manager.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fmanagers%2Fconfig_manager.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fmanagers%2Fconfig_manager.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,55 @@\n+import os\n+import secrets\n+\n+\n+class ConfigManager:\n+    def __init__(self, app):\n+        self.app = app\n+\n+    def load_config(self, config_name='development'):\n+        # If config_name is not provided, use the environment variable FLASK_ENV\n+        if config_name is None:\n+            config_name = os.getenv('FLASK_ENV', 'development')\n+\n+        # Load configuration\n+        if config_name == 'testing':\n+            self.app.config.from_object(TestingConfig)\n+        elif config_name == 'production':\n+            self.app.config.from_object(ProductionConfig)\n+        else:\n+            self.app.config.from_object(DevelopmentConfig)\n+\n+\n+class Config:\n+    SECRET_KEY = os.getenv('SECRET_KEY', secrets.token_bytes())\n+    SQLALCHEMY_DATABASE_URI = (\n+        f\"mysql+pymysql://{os.getenv('MARIADB_USER', 'default_user')}:\"\n+        f\"{os.getenv('MARIADB_PASSWORD', 'default_password')}@\"\n+        f\"{os.getenv('MARIADB_HOSTNAME', 'localhost')}:\"\n+        f\"{os.getenv('MARIADB_PORT', '3306')}/\"\n+        f\"{os.getenv('MARIADB_DATABASE', 'default_db')}\"\n+    )\n+    SQLALCHEMY_TRACK_MODIFICATIONS = False\n+    TIMEZONE = 'Europe/Madrid'\n+    TEMPLATES_AUTO_RELOAD = True\n+    UPLOAD_FOLDER = 'uploads'\n+\n+\n+class DevelopmentConfig(Config):\n+    DEBUG = True\n+\n+\n+class TestingConfig(Config):\n+    TESTING = True\n+    SQLALCHEMY_DATABASE_URI = (\n+        f\"mysql+pymysql://{os.getenv('MARIADB_USER', 'default_user')}:\"\n+        f\"{os.getenv('MARIADB_PASSWORD', 'default_password')}@\"\n+        f\"{os.getenv('MARIADB_HOSTNAME', 'localhost')}:\"\n+        f\"{os.getenv('MARIADB_PORT', '3306')}/\"\n+        f\"{os.getenv('MARIADB_TEST_DATABASE', 'default_db')}\"\n+    )\n+    WTF_CSRF_ENABLED = False\n+\n+\n+class ProductionConfig(Config):\n+    DEBUG = False"
      },
      {
        "sha": "ecb631ee4661d392bbf991e426978b156605bb30",
        "filename": "core/managers/error_handler_manager.py",
        "status": "added",
        "additions": 27,
        "deletions": 0,
        "changes": 27,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fmanagers%2Ferror_handler_manager.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fmanagers%2Ferror_handler_manager.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fmanagers%2Ferror_handler_manager.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,27 @@\n+from flask import render_template\n+\n+\n+class ErrorHandlerManager:\n+    def __init__(self, app):\n+        self.app = app\n+\n+    def register_error_handlers(self):\n+        @self.app.errorhandler(500)\n+        def internal_error(e):\n+            self.app.logger.error('Internal Server Error: %s', str(e))\n+            return render_template('500.html'), 500\n+\n+        @self.app.errorhandler(404)\n+        def not_found_error(e):\n+            self.app.logger.warning('Page Not Found: %s', str(e))\n+            return render_template('404.html'), 404\n+\n+        @self.app.errorhandler(401)\n+        def unauthorized_error(e):\n+            self.app.logger.warning('Unauthorized Access: %s', str(e))\n+            return render_template('401.html'), 401\n+\n+        @self.app.errorhandler(400)\n+        def bad_request_error(e):\n+            self.app.logger.warning('Bad Request: %s', str(e))\n+            return render_template('400.html'), 400"
      },
      {
        "sha": "85fc8ad470576cf1cc24516121c408ae4586ddc6",
        "filename": "core/managers/logging_manager.py",
        "status": "added",
        "additions": 29,
        "deletions": 0,
        "changes": 29,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fmanagers%2Flogging_manager.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fmanagers%2Flogging_manager.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fmanagers%2Flogging_manager.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,29 @@\n+import logging\n+from logging.handlers import RotatingFileHandler\n+\n+\n+class LoggingManager:\n+    def __init__(self, app):\n+        self.app = app\n+\n+    def setup_logging(self):\n+        # Configure log format\n+        formatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')\n+\n+        # Configure the log file with file rotation\n+        file_handler = RotatingFileHandler('app.log', maxBytes=10240, backupCount=10)\n+        file_handler.setLevel(logging.ERROR)\n+        file_handler.setFormatter(formatter)\n+\n+        # Add handler to app logger\n+        self.app.logger.addHandler(file_handler)\n+\n+        # Configure console log if necessary\n+        if self.app.debug:\n+            stream_handler = logging.StreamHandler()\n+            stream_handler.setLevel(logging.INFO)\n+            stream_handler.setFormatter(formatter)\n+            self.app.logger.addHandler(stream_handler)\n+\n+        # Set the overall log level\n+        self.app.logger.setLevel(logging.INFO)"
      },
      {
        "sha": "4aad18eb741103468929052725c0d1875e90830e",
        "filename": "core/managers/module_manager.py",
        "status": "added",
        "additions": 87,
        "deletions": 0,
        "changes": 87,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fmanagers%2Fmodule_manager.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fmanagers%2Fmodule_manager.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fmanagers%2Fmodule_manager.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,87 @@\n+# module_manager.py\n+import os\n+import importlib.util\n+from flask import Blueprint\n+from dotenv import load_dotenv\n+\n+load_dotenv()\n+\n+\n+class ModuleManager:\n+    def __init__(self, app):\n+        self.app = app\n+        self.base_dir = os.path.abspath(os.path.dirname(__file__))\n+        working_dir = os.getenv('WORKING_DIR', '')\n+        self.modules_dir = os.path.join(working_dir, 'app/modules')\n+        self.ignored_modules_file = os.path.join(working_dir, '.moduleignore')\n+        self.ignored_modules = self._load_ignored_modules()\n+\n+    def _load_ignored_modules(self):\n+        ignored_modules = []\n+        if os.path.exists(self.ignored_modules_file):\n+            with open(self.ignored_modules_file, 'r') as f:\n+                ignored_modules = [line.strip() for line in f.readlines()]\n+        return ignored_modules\n+\n+    def register_modules(self):\n+        self.app.modules = {}\n+        self.app.blueprint_url_prefixes = {}\n+\n+        for module_name in os.listdir(self.modules_dir):\n+\n+            if module_name in self.ignored_modules:\n+                continue\n+\n+            module_path = os.path.join(self.modules_dir, module_name)\n+            if (os.path.isdir(module_path) and not module_name.startswith('__') and\n+                    os.path.exists(os.path.join(module_path, '__init__.py')) and\n+                    module_name != '.pytest_cache'):\n+                try:\n+                    routes_module = importlib.import_module(f'app.modules.{module_name}.routes')\n+                    for item in dir(routes_module):\n+                        if isinstance(getattr(routes_module, item), Blueprint):\n+                            blueprint = getattr(routes_module, item)\n+                            self.app.register_blueprint(blueprint)\n+                except ModuleNotFoundError as e:\n+                    print(\n+                        f\"Error registering modules: Could not load the module \"\n+                        f\"for Module '{module_name}': {e}\")\n+\n+    def register_module(self, module_name):\n+        module_path = os.path.join(self.modules_dir, module_name)\n+        if os.path.isdir(module_path) and not module_name.startswith('__'):\n+            try:\n+                routes_module = importlib.import_module(f'app.modules.{module_name}.routes')\n+                for item in dir(routes_module):\n+                    if isinstance(getattr(routes_module, item), Blueprint):\n+                        blueprint = getattr(routes_module, item)\n+                        self.app.register_module(blueprint)\n+                return\n+            except ModuleNotFoundError as e:\n+                print(f\"Could not load the module for Blueprint '{module_name}': {e}\")\n+\n+    def unregister_blueprints(self):\n+        for name, blueprint in list(self.app.modules.items()):\n+            print(f\"Unregistering module: {name}\")\n+            self.app.modules.pop(name)\n+\n+    def reload_blueprints(self):\n+        self.unregister_blueprints()\n+        self.register_modules()\n+\n+    def print_registered_modules(self):\n+        print(\"Registered blueprints\")\n+        for name, blueprint in self.app.modules.items():\n+            url_prefix = self.app.blueprint_url_prefixes.get(name, 'No URL prefix set')\n+            print(f\"Name: {name}, URL prefix: {url_prefix}\")\n+\n+    def get_modules(self):\n+        all_modules = []\n+        for module_name in os.listdir(self.modules_dir):\n+            module_path = os.path.join(self.modules_dir, module_name)\n+            if (os.path.isdir(module_path) and not module_name.startswith('__') and\n+                    os.path.exists(os.path.join(module_path, '__init__.py')) and\n+                    module_name != '.pytest_cache'):\n+                all_modules.append(module_name)\n+        loaded_modules = [m for m in all_modules if m not in self.ignored_modules]\n+        return loaded_modules, self.ignored_modules"
      },
      {
        "sha": "5d354fab8fdb488c8ce90233eba97668491a5995",
        "filename": "core/repositories/BaseRepository.py",
        "status": "added",
        "additions": 61,
        "deletions": 0,
        "changes": 61,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Frepositories%2FBaseRepository.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Frepositories%2FBaseRepository.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Frepositories%2FBaseRepository.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,61 @@\n+from typing import Generic, List, NoReturn, Optional, TypeVar, Union\n+\n+import app\n+\n+T = TypeVar('T')\n+\n+\n+class BaseRepository(Generic[T]):\n+    def __init__(self, model: T):\n+        self.model = model\n+        self.session = app.db.session\n+\n+    def create(self, commit: bool = True, **kwargs) -> T:\n+        instance: T = self.model(**kwargs)\n+        self.session.add(instance)\n+        if commit:\n+            self.session.commit()\n+        else:\n+            self.session.flush()\n+        return instance\n+\n+    def get_by_id(self, id: int) -> Optional[T]:\n+        instance: Optional[T] = self.model.query.get(id)\n+        return instance\n+\n+    def get_by_column(self, column_name: str, value) -> List[T]:\n+        instances: List[T] = self.session.query(self.model).filter(getattr(self.model, column_name) == value).all()\n+        return instances\n+\n+    def get_or_404(self, id: int) -> Union[T, NoReturn]:\n+        return self.model.query.get_or_404(id)\n+\n+    def update(self, id: int, **kwargs) -> Optional[T]:\n+        instance: Optional[T] = self.get_by_id(id)\n+        if instance:\n+            for key, value in kwargs.items():\n+                setattr(instance, key, value)\n+            self.session.commit()\n+            return instance\n+        return None\n+\n+    def delete(self, id: int) -> bool:\n+        instance: Optional[T] = self.get_by_id(id)\n+        if instance:\n+            self.session.delete(instance)\n+            self.session.commit()\n+            return True\n+        return False\n+\n+    def delete_by_column(self, column_name: str, value) -> bool:\n+        instances: List[T] = self.get_by_column(column_name, value)\n+        if not instances:\n+            return False\n+\n+        for instance in instances:\n+            self.session.delete(instance)\n+        self.session.commit()\n+        return True\n+\n+    def count(self) -> int:\n+        return self.model.query.count()"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "core/repositories/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Frepositories%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Frepositories%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Frepositories%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "core/resources/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fresources%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fresources%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fresources%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "96f89d2523a687ef8c58a6eff80455755ca3ca56",
        "filename": "core/resources/generic_resource.py",
        "status": "added",
        "additions": 69,
        "deletions": 0,
        "changes": 69,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fresources%2Fgeneric_resource.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fresources%2Fgeneric_resource.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fresources%2Fgeneric_resource.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,69 @@\n+from flask import request\n+from flask_restful import Resource\n+from datetime import datetime\n+\n+from app import db\n+\n+\n+def convert_value(value):\n+    if isinstance(value, datetime):\n+        return value.isoformat()\n+    return value\n+\n+\n+class GenericResource(Resource):\n+    def __init__(self, model, serializer):\n+        self.model = model\n+        self.model_name = model.__name__\n+        self.serializer = serializer\n+\n+    def get(self, id=None):\n+        if id:\n+            item = self.model.query.get(id)\n+            if not item:\n+                return {'message': f'{self.model_name} not found'}, 404\n+            return self.serializer.serialize(item), 200\n+        else:\n+            items = self.model.query.all()\n+            return {'items': [self.serializer.serialize(i) for i in items]}, 200\n+\n+    def post(self):\n+        data = request.get_json()\n+        if not data:\n+            return {'message': 'No input data provided'}, 400\n+\n+        if self.serializer.serialization_fields:\n+            filtered_data = {key: value for key, value in data.items() if key in self.serializer.serialization_fields}\n+            item = self.model(**filtered_data)\n+        else:\n+            item = self.model(**data)\n+\n+        db.session.add(item)\n+        db.session.commit()\n+        return {'message': f'{self.model.__name__} created successfully', 'id': item.id}, 201\n+\n+    def put(self, id):\n+        item = self.model.query.get(id)\n+        if not item:\n+            return {'message': f'{self.model_name} not found'}, 404\n+        data = request.get_json()\n+        for key, value in data.items():\n+            if key in self.serializer.serialization_fields:\n+                setattr(item, key, value)\n+        db.session.commit()\n+        return self.serializer.serialize(item), 200\n+\n+    def delete(self, id):\n+        item = self.model.query.get(id)\n+        if not item:\n+            return {'message': f'{self.model_name} not found'}, 404\n+        db.session.delete(item)\n+        db.session.commit()\n+        return {'message': f'{self.model_name} deleted successfully'}, 204\n+\n+\n+def create_resource(model, serialization_fields=None):\n+    class Resource(GenericResource):\n+        def __init__(self):\n+            super().__init__(model, serialization_fields)\n+    return Resource"
      },
      {
        "sha": "9f8af4ec7e7b9c096756a9991c2b9365d24693db",
        "filename": "core/seeders/BaseSeeder.py",
        "status": "added",
        "additions": 37,
        "deletions": 0,
        "changes": 37,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fseeders%2FBaseSeeder.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fseeders%2FBaseSeeder.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fseeders%2FBaseSeeder.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,37 @@\n+from sqlalchemy.exc import IntegrityError\n+from app import db\n+\n+\n+class BaseSeeder:\n+    priority = 10  # Default priority\n+\n+    def __init__(self):\n+        self.db = db\n+\n+    def run(self):\n+        raise NotImplementedError(\"The 'run' method must be implemented by the child class.\")\n+\n+    def seed(self, data):\n+        \"\"\"\n+        Attempts to insert a list of model objects and returns them with their IDs assigned after insertion.\n+        Throws an exception if data insertion fails.\n+\n+        :param data: List of model objects to insert.\n+        :return: List of model objects with IDs assigned.\n+        \"\"\"\n+        if not data:\n+            return []\n+\n+        model = type(data[0])\n+        if not all(isinstance(obj, model) for obj in data):\n+            raise ValueError(\"All objects must be of the same model.\")\n+\n+        try:\n+            self.db.session.add_all(data)\n+            self.db.session.commit()\n+        except IntegrityError as e:\n+            self.db.session.rollback()\n+            raise Exception(f\"Failed to insert data into `{model.__tablename__}` table. Error: {e}\")\n+\n+        # After committing, the `data` objects should have their IDs assigned.\n+        return data"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "core/seeders/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fseeders%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fseeders%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fseeders%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "core/selenium/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fselenium%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fselenium%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fselenium%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "6e11c140749afa6b7befde407e11c53e513eefda",
        "filename": "core/selenium/common.py",
        "status": "added",
        "additions": 17,
        "deletions": 0,
        "changes": 17,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fselenium%2Fcommon.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fselenium%2Fcommon.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fselenium%2Fcommon.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,17 @@\n+from selenium import webdriver\n+from selenium.webdriver.chrome.service import Service\n+from webdriver_manager.chrome import ChromeDriverManager\n+\n+\n+def initialize_driver():\n+    # Initializes the browser options\n+    options = webdriver.ChromeOptions()\n+\n+    # Initialise the browser using WebDriver Manager\n+    service = Service(ChromeDriverManager().install())\n+    driver = webdriver.Chrome(service=service, options=options)\n+    return driver\n+\n+\n+def close_driver(driver):\n+    driver.quit()"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "core/serialisers/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fserialisers%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fserialisers%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fserialisers%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "b27a08d16ced791e53222be0cda02ea153799f22",
        "filename": "core/serialisers/serializer.py",
        "status": "added",
        "additions": 30,
        "deletions": 0,
        "changes": 30,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fserialisers%2Fserializer.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fserialisers%2Fserializer.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fserialisers%2Fserializer.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,30 @@\n+from datetime import datetime\n+\n+\n+def convert_value(value):\n+    if isinstance(value, datetime):\n+        return value.isoformat()\n+    return value\n+\n+\n+class Serializer:\n+    def __init__(self, serialization_fields, related_serializers=None):\n+        self.serialization_fields = serialization_fields\n+        self.related_serializers = related_serializers or {}\n+\n+    def serialize(self, instance):\n+        serialized_data = {}\n+        for key, attr_name in self.serialization_fields.items():\n+            if key in self.related_serializers:\n+                related_data = getattr(instance, attr_name)()\n+                if isinstance(related_data, list):\n+                    serialized_data[key] = [self.related_serializers[key].serialize(sub_instance)\n+                                            for sub_instance in related_data]\n+                else:\n+                    serialized_data[key] = self.related_serializers[key].serialize(related_data)\n+            else:\n+                attr = getattr(instance, attr_name, None)\n+                if callable(attr):\n+                    attr = attr()\n+                serialized_data[key] = convert_value(attr)\n+        return serialized_data"
      },
      {
        "sha": "942dca6b88e389cd7be7a1e82f34923aa9124e5f",
        "filename": "core/services/BaseService.py",
        "status": "added",
        "additions": 34,
        "deletions": 0,
        "changes": 34,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fservices%2FBaseService.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fservices%2FBaseService.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fservices%2FBaseService.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,34 @@\n+from flask import flash, redirect, url_for, render_template\n+\n+\n+class BaseService:\n+    def __init__(self, repository):\n+        self.repository = repository\n+\n+    def create(self, **kwargs):\n+        return self.repository.create(**kwargs)\n+\n+    def count(self) -> int:\n+        return self.repository.count()\n+\n+    def get_by_id(self, id):\n+        return self.repository.get_by_id(id)\n+\n+    def get_or_404(self, id):\n+        return self.repository.get_or_404(id)\n+\n+    def update(self, id, **kwargs):\n+        return self.repository.update(id, **kwargs)\n+\n+    def delete(self, id):\n+        return self.repository.delete(id)\n+\n+    def handle_service_response(self, result, errors, success_url_redirect, success_msg, error_template, form):\n+        if result:\n+            flash(success_msg, 'success')\n+            return redirect(url_for(success_url_redirect))\n+        else:\n+            for error_field, error_messages in errors.items():\n+                for error_message in error_messages:\n+                    flash(f'{error_field}: {error_message}', 'error')\n+            return render_template(error_template, form=form)"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "core/services/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fservices%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/core%2Fservices%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/core%2Fservices%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "3e77c630e02716d416ed092e3e78d9eec0e20ebc",
        "filename": "docker/docker-compose.dev.yml",
        "status": "added",
        "additions": 53,
        "deletions": 0,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fdocker-compose.dev.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fdocker-compose.dev.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fdocker-compose.dev.yml?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,53 @@\n+services:\n+  web:\n+    container_name: web_app_container\n+    image: drorganvidez/uvlhub:dev\n+    env_file:\n+      - ../.env\n+    expose:\n+      - \"5000\"\n+    depends_on:\n+      - db\n+    build:\n+      context: ../\n+      dockerfile: docker/images/Dockerfile.dev\n+    volumes:\n+      - ../:/app\n+      - /var/run/docker.sock:/var/run/docker.sock\n+    command: [ \"sh\", \"-c\", \"sh /app/docker/entrypoints/development_entrypoint.sh\" ]\n+    networks:\n+      - uvlhub_network\n+\n+  db:\n+    container_name: mariadb_container\n+    env_file:\n+      - ../.env\n+    build:\n+      context: ../\n+      dockerfile: docker/images/Dockerfile.mariadb\n+    restart: always\n+    ports:\n+      - \"3306:3306\"\n+    volumes:\n+      - db_data:/var/lib/mysql\n+    networks:\n+      - uvlhub_network\n+\n+  nginx:\n+    container_name: nginx_web_server_container\n+    image: nginx:latest\n+    volumes:\n+      - ./nginx/nginx.dev.conf:/etc/nginx/nginx.conf\n+      - ./nginx/html:/usr/share/nginx/html\n+    ports:\n+      - \"80:80\"\n+    depends_on:\n+      - web\n+    networks:\n+      - uvlhub_network\n+\n+volumes:\n+  db_data:\n+\n+networks:\n+  uvlhub_network:"
      },
      {
        "sha": "70dc521a9b11cdff7825c11f0d9930cb53f6e060",
        "filename": "docker/docker-compose.prod.ssl.yml",
        "status": "added",
        "additions": 64,
        "deletions": 0,
        "changes": 64,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fdocker-compose.prod.ssl.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fdocker-compose.prod.ssl.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fdocker-compose.prod.ssl.yml?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,64 @@\n+services:\n+\n+  web:\n+    container_name: web_app_container\n+    image: drorganvidez/uvlhub:latest\n+    env_file:\n+      - ../.env\n+    ports:\n+      - \"5000:5000\"\n+    depends_on:\n+      - db\n+    restart: always\n+    volumes:\n+      - ./entrypoints/production_entrypoint.sh:/app/entrypoint.sh\n+      - ../scripts:/app/scripts\n+      - ../migrations:/app/migrations\n+      - ../uploads:/app/uploads\n+      - ../.moduleignore:/app/.moduleignore\n+    command: [ \"sh\", \"-c\", \"sh /app/entrypoint.sh\" ]\n+\n+  db:\n+    container_name: mariadb_container\n+    env_file:\n+      - ../.env\n+    image: mariadb:latest\n+    command: --default-authentication-plugin=mysql_native_password\n+    restart: always\n+    ports:\n+      - \"3306:3306\"\n+    volumes:\n+      - db_data:/var/lib/mysql\n+\n+  nginx:\n+    container_name: nginx_web_server_container\n+    image: nginx:latest\n+    volumes:\n+      - ./nginx/nginx.prod.ssl.conf:/etc/nginx/nginx.conf\n+      - ./nginx/html:/usr/share/nginx/html\n+      - ./letsencrypt:/etc/letsencrypt:ro\n+      - ./public:/var/www:rw\n+    ports:\n+      - \"80:80\"\n+      - \"443:443\"\n+    depends_on:\n+      - web\n+    restart: always\n+\n+  watchtower:\n+    container_name: watchtower_container\n+    image: containrrr/watchtower\n+    volumes:\n+      - /var/run/docker.sock:/var/run/docker.sock\n+    command: --cleanup --interval 120 web_app_container\n+    restart: always\n+\n+  certbot:\n+    image: certbot/certbot\n+    container_name: certbot_container\n+    volumes:\n+      - ./public:/var/www:rw\n+      - ./letsencrypt:/etc/letsencrypt\n+\n+volumes:\n+  db_data:"
      },
      {
        "sha": "2e4c14ef789141ca690519e77bc66c9572eecbbf",
        "filename": "docker/docker-compose.prod.webhook.yml",
        "status": "added",
        "additions": 50,
        "deletions": 0,
        "changes": 50,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fdocker-compose.prod.webhook.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fdocker-compose.prod.webhook.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fdocker-compose.prod.webhook.yml?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,50 @@\n+services:\n+\n+  web:\n+    container_name: web_app_container\n+    image: drorganvidez/uvlhub:latest\n+    env_file:\n+      - ../.env\n+    ports:\n+      - \"5000:5000\"\n+    depends_on:\n+      - db\n+    build:\n+      context: ../\n+      dockerfile: docker/images/Dockerfile.webhook\n+    restart: always\n+    volumes:\n+      - ./entrypoints/production_entrypoint.sh:/app/entrypoint.sh\n+      - ../scripts:/app/scripts\n+      - ../migrations:/app/migrations\n+      - ../uploads:/app/uploads\n+      - ../:/app\n+      - /var/run/docker.sock:/var/run/docker.sock\n+    command: [ \"sh\", \"-c\", \"sh /app/entrypoint.sh\" ]\n+\n+  db:\n+    container_name: mariadb_container\n+    env_file:\n+      - ../.env\n+    image: mariadb:latest\n+    command: --default-authentication-plugin=mysql_native_password\n+    restart: always\n+    ports:\n+      - \"3306:3306\"\n+    volumes:\n+      - db_data:/var/lib/mysql\n+\n+  nginx:\n+    container_name: nginx_web_server_container\n+    image: nginx:latest\n+    volumes:\n+      - ./nginx/nginx.prod.conf:/etc/nginx/nginx.conf\n+      - ./nginx/html:/usr/share/nginx/html\n+    ports:\n+      - \"80:80\"\n+    depends_on:\n+      - web\n+    restart: always\n+\n+volumes:\n+  db_data:\n\\ No newline at end of file"
      },
      {
        "sha": "86f1ce1c0cdd219fe5e035fe2cb3b2be8c81225b",
        "filename": "docker/docker-compose.prod.yml",
        "status": "added",
        "additions": 54,
        "deletions": 0,
        "changes": 54,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fdocker-compose.prod.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fdocker-compose.prod.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fdocker-compose.prod.yml?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,54 @@\n+services:\n+\n+  web:\n+    container_name: web_app_container\n+    image: drorganvidez/uvlhub:latest\n+    env_file:\n+      - ../.env\n+    ports:\n+      - \"5000:5000\"\n+    depends_on:\n+      - db\n+    restart: always\n+    volumes:\n+      - ./entrypoints/production_entrypoint.sh:/app/entrypoint.sh\n+      - ../scripts:/app/scripts\n+      - ../migrations:/app/migrations\n+      - ../uploads:/app/uploads\n+      - ../.moduleignore:/app/.moduleignore\n+    command: [ \"sh\", \"-c\", \"sh /app/entrypoint.sh\" ]\n+\n+  db:\n+    container_name: mariadb_container\n+    env_file:\n+      - ../.env\n+    image: mariadb:latest\n+    command: --default-authentication-plugin=mysql_native_password\n+    restart: always\n+    ports:\n+      - \"3306:3306\"\n+    volumes:\n+      - db_data:/var/lib/mysql\n+\n+  nginx:\n+    container_name: nginx_web_server_container\n+    image: nginx:latest\n+    volumes:\n+      - ./nginx/nginx.prod.conf:/etc/nginx/nginx.conf\n+      - ./nginx/html:/usr/share/nginx/html\n+    ports:\n+      - \"80:80\"\n+    depends_on:\n+      - web\n+    restart: always\n+\n+  watchtower:\n+    container_name: watchtower_container\n+    image: containrrr/watchtower\n+    volumes:\n+      - /var/run/docker.sock:/var/run/docker.sock\n+    command: --cleanup --interval 120 web_app_container\n+    restart: always\n+\n+volumes:\n+  db_data:\n\\ No newline at end of file"
      },
      {
        "sha": "90f79c0215b0009feb2ac7d49ce7abc27cf295b3",
        "filename": "docker/entrypoints/development_entrypoint.sh",
        "status": "added",
        "additions": 67,
        "deletions": 0,
        "changes": 67,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fentrypoints%2Fdevelopment_entrypoint.sh",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fentrypoints%2Fdevelopment_entrypoint.sh",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fentrypoints%2Fdevelopment_entrypoint.sh?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,67 @@\n+#!/bin/bash\n+\n+# ---------------------------------------------------------------------------\n+# Creative Commons CC BY 4.0 - David Romero - Diverso Lab\n+# ---------------------------------------------------------------------------\n+# This script is licensed under the Creative Commons Attribution 4.0 \n+# International License. You are free to share and adapt the material \n+# as long as appropriate credit is given, a link to the license is provided, \n+# and you indicate if changes were made.\n+#\n+# For more details, visit:\n+# https://creativecommons.org/licenses/by/4.0/\n+# ---------------------------------------------------------------------------\n+\n+# Exit immediately if a command exits with a non-zero status\n+set -e\n+\n+# Install Rosemary\n+pip install -e ./\n+\n+# Wait for the database to be ready by running a script\n+sh ./scripts/wait-for-db.sh\n+\n+# Create a specific database for testing by running a script\n+sh ./scripts/init-testing-db.sh\n+\n+# Initialize migrations only if the migrations directory doesn't exist\n+if [ ! -d \"migrations/versions\" ]; then\n+    # Initialize the migration repository\n+    flask db init\n+    flask db migrate\n+fi\n+\n+# Check if the database is empty\n+if [ $(mariadb -u $MARIADB_USER -p$MARIADB_PASSWORD -h $MARIADB_HOSTNAME -P $MARIADB_PORT -D $MARIADB_DATABASE -sse \"SELECT COUNT(*) FROM information_schema.tables WHERE table_schema = '$MARIADB_DATABASE';\") -eq 0 ]; then\n+ \n+    echo \"Empty database, migrating...\"\n+\n+    # Get the latest migration revision\n+    LATEST_REVISION=$(ls -1 migrations/versions/*.py | grep -v \"__pycache__\" | sort -r | head -n 1 | sed 's/.*\\/\\(.*\\)\\.py/\\1/')\n+\n+    echo \"Latest revision: $LATEST_REVISION\"\n+\n+    # Run the migration process to apply all database schema changes\n+    flask db upgrade\n+\n+    # Seed the database with initial data\n+    rosemary db:seed -y\n+\n+else\n+\n+    echo \"Database already initialized, updating migrations...\"\n+\n+    # Get the current revision to avoid duplicate stamp\n+    CURRENT_REVISION=$(mariadb -u $MARIADB_USER -p$MARIADB_PASSWORD -h $MARIADB_HOSTNAME -P $MARIADB_PORT -D $MARIADB_DATABASE -sse \"SELECT version_num FROM alembic_version LIMIT 1;\")\n+    \n+    if [ -z \"$CURRENT_REVISION\" ]; then\n+        # If no current revision, stamp with the latest revision\n+        flask db stamp head\n+    fi\n+\n+    # Run the migration process to apply all database schema changes\n+    flask db upgrade\n+fi\n+\n+# Start the Flask application with specified host and port, enabling reload and debug mode\n+exec flask run --host=0.0.0.0 --port=5000 --reload --debug"
      },
      {
        "sha": "4ba50f8b231ff93a0af20cdb93f7145bf63c9c2a",
        "filename": "docker/entrypoints/production_entrypoint.sh",
        "status": "added",
        "additions": 59,
        "deletions": 0,
        "changes": 59,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fentrypoints%2Fproduction_entrypoint.sh",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fentrypoints%2Fproduction_entrypoint.sh",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fentrypoints%2Fproduction_entrypoint.sh?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,59 @@\n+#!/bin/bash\n+\n+# ---------------------------------------------------------------------------\n+# Creative Commons CC BY 4.0 - David Romero - Diverso Lab\n+# ---------------------------------------------------------------------------\n+# This script is licensed under the Creative Commons Attribution 4.0 \n+# International License. You are free to share and adapt the material \n+# as long as appropriate credit is given, a link to the license is provided, \n+# and you indicate if changes were made.\n+#\n+# For more details, visit:\n+# https://creativecommons.org/licenses/by/4.0/\n+# ---------------------------------------------------------------------------\n+\n+# Exit immediately if a command exits with a non-zero status\n+set -e\n+\n+# Wait for the database to be ready by running a script\n+sh ./scripts/wait-for-db.sh\n+\n+# Initialize migrations only if the migrations directory doesn't exist\n+if [ ! -d \"migrations/versions\" ]; then\n+    # Initialize the migration repository\n+    flask db init\n+    flask db migrate\n+fi\n+\n+# Check if the database is empty\n+if [ $(mariadb -u $MARIADB_USER -p$MARIADB_PASSWORD -h $MARIADB_HOSTNAME -P $MARIADB_PORT -D $MARIADB_DATABASE -sse \"SELECT COUNT(*) FROM information_schema.tables WHERE table_schema = '$MARIADB_DATABASE';\") -eq 0 ]; then\n+ \n+    echo \"Empty database, migrating...\"\n+\n+    # Get the latest migration revision\n+    LATEST_REVISION=$(ls -1 migrations/versions/*.py | grep -v \"__pycache__\" | sort -r | head -n 1 | sed 's/.*\\/\\(.*\\)\\.py/\\1/')\n+\n+    echo \"Latest revision: $LATEST_REVISION\"\n+\n+    # Run the migration process to apply all database schema changes\n+    flask db upgrade\n+\n+else\n+\n+    echo \"Database already initialized, updating migrations...\"\n+\n+    # Get the current revision to avoid duplicate stamp\n+    CURRENT_REVISION=$(mariadb -u $MARIADB_USER -p$MARIADB_PASSWORD -h $MARIADB_HOSTNAME -P $MARIADB_PORT -D $MARIADB_DATABASE -sse \"SELECT version_num FROM alembic_version LIMIT 1;\")\n+    \n+    if [ -z \"$CURRENT_REVISION\" ]; then\n+        # If no current revision, stamp with the latest revision\n+        flask db stamp head\n+    fi\n+\n+    # Run the migration process to apply all database schema changes\n+    flask db upgrade\n+fi\n+\n+# Start the application using Gunicorn, binding it to port 5000\n+# Set the logging level to info and the timeout to 3600 seconds\n+exec gunicorn --bind 0.0.0.0:5000 app:app --log-level info --timeout 3600"
      },
      {
        "sha": "aa3145e217c2654a1462714b78e52abf35d6276e",
        "filename": "docker/entrypoints/render_entrypoint.sh",
        "status": "added",
        "additions": 56,
        "deletions": 0,
        "changes": 56,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fentrypoints%2Frender_entrypoint.sh",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fentrypoints%2Frender_entrypoint.sh",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fentrypoints%2Frender_entrypoint.sh?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,56 @@\n+#!/bin/bash\n+\n+# ---------------------------------------------------------------------------\n+# Creative Commons CC BY 4.0 - David Romero - Diverso Lab\n+# ---------------------------------------------------------------------------\n+# This script is licensed under the Creative Commons Attribution 4.0 \n+# International License. You are free to share and adapt the material \n+# as long as appropriate credit is given, a link to the license is provided, \n+# and you indicate if changes were made.\n+#\n+# For more details, visit:\n+# https://creativecommons.org/licenses/by/4.0/\n+# ---------------------------------------------------------------------------\n+\n+# Exit immediately if a command exits with a non-zero status\n+set -e\n+\n+# Initialize migrations only if the migrations directory doesn't exist\n+if [ ! -d \"migrations/versions\" ]; then\n+    # Initialize the migration repository\n+    flask db init\n+    flask db migrate\n+fi\n+\n+# Check if the database is empty\n+if [ $(mariadb -u $MARIADB_USER -p$MARIADB_PASSWORD -h $MARIADB_HOSTNAME -P $MARIADB_PORT -D $MARIADB_DATABASE -sse \"SELECT COUNT(*) FROM information_schema.tables WHERE table_schema = '$MARIADB_DATABASE';\") -eq 0 ]; then\n+ \n+    echo \"Empty database, migrating...\"\n+\n+    # Get the latest migration revision\n+    LATEST_REVISION=$(ls -1 migrations/versions/*.py | grep -v \"__pycache__\" | sort -r | head -n 1 | sed 's/.*\\/\\(.*\\)\\.py/\\1/')\n+\n+    echo \"Latest revision: $LATEST_REVISION\"\n+\n+    # Run the migration process to apply all database schema changes\n+    flask db upgrade\n+\n+else\n+\n+    echo \"Database already initialized, updating migrations...\"\n+\n+    # Get the current revision to avoid duplicate stamp\n+    CURRENT_REVISION=$(mariadb -u $MARIADB_USER -p$MARIADB_PASSWORD -h $MARIADB_HOSTNAME -P $MARIADB_PORT -D $MARIADB_DATABASE -sse \"SELECT version_num FROM alembic_version LIMIT 1;\")\n+    \n+    if [ -z \"$CURRENT_REVISION\" ]; then\n+        # If no current revision, stamp with the latest revision\n+        flask db stamp head\n+    fi\n+\n+    # Run the migration process to apply all database schema changes\n+    flask db upgrade\n+fi\n+\n+# Start the application using Gunicorn, binding it to port 80\n+# Set the logging level to info and the timeout to 3600 seconds\n+exec gunicorn --bind 0.0.0.0:80 app:app --log-level info --timeout 3600"
      },
      {
        "sha": "008af35821c79ff7e2699216df9b51ba64a6ed28",
        "filename": "docker/images/.dockerignore",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fimages%2F.dockerignore",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fimages%2F.dockerignore",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fimages%2F.dockerignore?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,3 @@\n+__pycache__\n+*.pyc\n+*.pyo"
      },
      {
        "sha": "fa7eb9f973a5a44ac002d7bc193141ef61dee985",
        "filename": "docker/images/Dockerfile.dev",
        "status": "added",
        "additions": 58,
        "deletions": 0,
        "changes": 58,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fimages%2FDockerfile.dev",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fimages%2FDockerfile.dev",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fimages%2FDockerfile.dev?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,58 @@\n+# Use an official Python runtime as a parent image\n+FROM python:3.12-slim\n+\n+# Set this environment variable to suppress the \"Running as root\" warning from pip\n+ENV PIP_ROOT_USER_ACTION=ignore\n+\n+# Install necessary packages\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends mariadb-client \\\n+    && apt-get install -y --no-install-recommends gcc libc-dev python3-dev libffi-dev \\\n+    && apt-get install -y --no-install-recommends curl \\\n+    && apt-get install -y --no-install-recommends bash \\\n+    && apt-get install -y --no-install-recommends openrc \\\n+    && apt-get install -y --no-install-recommends build-essential \n+\n+# Install Docker CLI\n+RUN apt-get install -y --no-install-recommends ca-certificates gnupg lsb-release \\\n+    && curl -fsSL https://download.docker.com/linux/debian/gpg | gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg \\\n+    && echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian $(lsb_release -cs) stable\" > /etc/apt/sources.list.d/docker.list \\\n+    && apt-get update \\\n+    && apt-get install -y --no-install-recommends docker-ce-cli \n+\n+# Clean up\n+RUN apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/*\n+        \n+# Set the working directory in the container to /app\n+WORKDIR /app\n+\n+# Copy requirements.txt to the /app working directory\n+COPY requirements.txt .\n+\n+# Removes cache at the build stage\n+RUN find . -type d -name \"__pycache__\" -exec rm -r {} + && \\\n+    find . -type f -name \"*.pyc\" -exec rm -f {} +\n+\n+# Copy the wait-for-db.sh script and set execution permissions\n+COPY --chmod=0755 scripts/wait-for-db.sh ./scripts/\n+\n+# Copy the init-testing-db.sh script and set execution permissions\n+COPY --chmod=0755 scripts/init-testing-db.sh ./scripts/\n+\n+# Copy files\n+COPY rosemary/ ./rosemary\n+COPY setup.py ./\n+COPY docker/ ./docker\n+\n+# Update pip\n+RUN pip install --no-cache-dir --upgrade pip\n+\n+# Install any needed packages specified in requirements.txt\n+RUN pip install -r requirements.txt\n+\n+# Install Rosemary\n+RUN pip install -e ./\n+\n+# Expose port 5000 for the Flask app\n+EXPOSE 5000\n\\ No newline at end of file"
      },
      {
        "sha": "fe66ceaaef68fd11697e4341b96770cc7b9fac79",
        "filename": "docker/images/Dockerfile.locust",
        "status": "added",
        "additions": 9,
        "deletions": 0,
        "changes": 9,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fimages%2FDockerfile.locust",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fimages%2FDockerfile.locust",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fimages%2FDockerfile.locust?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,9 @@\n+FROM locustio/locust\n+\n+WORKDIR /app\n+\n+RUN pip install python-dotenv faker bs4\n+\n+ENV PYTHONPATH=/app\n+\n+CMD [\"-f\", \"/app/core/bootstraps/locustfile_bootstrap.py\"]"
      },
      {
        "sha": "03a58892a516efd1b3893244a0b1d71d37a0f24c",
        "filename": "docker/images/Dockerfile.mariadb",
        "status": "added",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fimages%2FDockerfile.mariadb",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fimages%2FDockerfile.mariadb",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fimages%2FDockerfile.mariadb?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,5 @@\n+FROM mariadb:latest\n+\n+RUN apt-get update && \\\n+    apt-get install -y mariadb-client && \\\n+    rm -rf /var/lib/apt/lists/*"
      },
      {
        "sha": "c4a1b44ee3a9f721e72e6ef6d5584274e6b4d967",
        "filename": "docker/images/Dockerfile.prod",
        "status": "added",
        "additions": 48,
        "deletions": 0,
        "changes": 48,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fimages%2FDockerfile.prod",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fimages%2FDockerfile.prod",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fimages%2FDockerfile.prod?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,48 @@\n+# Use an official Python runtime as a parent image, Alpine version for a lighter footprint\n+FROM python:3.12-slim\n+\n+# Install necessary packages\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends mariadb-client \\\n+    && apt-get install -y --no-install-recommends gcc libc-dev python3-dev libffi-dev \\\n+    && apt-get install -y --no-install-recommends curl \\\n+    && apt-get install -y --no-install-recommends bash \\\n+    && apt-get install -y --no-install-recommends openrc \\\n+    && apt-get install -y --no-install-recommends build-essential \n+\n+# Clean up\n+RUN apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/*\n+\n+# Set the working directory in the container to /app\n+WORKDIR /app\n+\n+# Copy files\n+COPY app/ ./app\n+COPY core/ ./core\n+COPY migrations/ ./migrations\n+\n+# Copy requirements.txt into the working directory /app\n+COPY requirements.txt .\n+\n+# Removes cache at the build stage\n+RUN find . -type d -name \"__pycache__\" -exec rm -r {} + && \\\n+    find . -type f -name \"*.pyc\" -exec rm -f {} +\n+\n+# Copy the wait-for-db.sh script and set execution permissions\n+COPY --chmod=0755 scripts/wait-for-db.sh ./scripts/\n+\n+# Update pip\n+RUN pip install --no-cache-dir --upgrade pip\n+\n+# Install any needed packages specified in requirements.txt\n+RUN pip install -r requirements.txt\n+\n+# Add an argument for version tag\n+ARG VERSION_TAG\n+\n+# Create the .version file with the content of VERSION_TAG\n+RUN echo $VERSION_TAG > /app/.version\n+\n+# Expose port 5000\n+EXPOSE 5000\n\\ No newline at end of file"
      },
      {
        "sha": "44aa6a2d429b643b0e0d69399410414ec26ac37f",
        "filename": "docker/images/Dockerfile.render",
        "status": "added",
        "additions": 53,
        "deletions": 0,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fimages%2FDockerfile.render",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fimages%2FDockerfile.render",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fimages%2FDockerfile.render?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,53 @@\n+# Use an official Python runtime as a parent image, Alpine version for a lighter footprint\n+FROM python:3.12-slim\n+\n+# Install necessary packages\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends mariadb-client \\\n+    && apt-get install -y --no-install-recommends gcc libc-dev python3-dev libffi-dev \\\n+    && apt-get install -y --no-install-recommends curl \\\n+    && apt-get install -y --no-install-recommends bash \\\n+    && apt-get install -y --no-install-recommends openrc \\\n+    && apt-get install -y --no-install-recommends build-essential \n+\n+# Clean up\n+RUN apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/*\n+\n+# Set the working directory in the container to /app\n+WORKDIR /app\n+\n+# Copy files\n+COPY app/ ./app\n+COPY core/ ./core\n+COPY migrations/ ./migrations\n+\n+# Copy requirements.txt into the working directory /app\n+COPY requirements.txt .\n+\n+# Removes cache at the build stage\n+RUN find . -type d -name \"__pycache__\" -exec rm -r {} + && \\\n+    find . -type f -name \"*.pyc\" -exec rm -f {} +\n+\n+# Copy entrypoint and set execution permissions\n+COPY docker/entrypoints/render_entrypoint.sh /app/render_entrypoint.sh\n+RUN chmod +x /app/render_entrypoint.sh\n+\n+# Copy the wait-for-db.sh script and set execution permissions\n+COPY scripts/wait-for-db.sh /app/scripts/wait-for-db.sh\n+RUN chmod +x /app/scripts/wait-for-db.sh\n+\n+# Create the .moduleignore file with the module 'webhook' inside\n+RUN echo \"webhook\" > /app/.moduleignore\n+\n+# Update pip\n+RUN pip install --no-cache-dir --upgrade pip\n+\n+# Install any needed packages specified in requirements.txt\n+RUN pip install -r requirements.txt\n+\n+# Expose port 80\n+EXPOSE 80\n+\n+# Command to run the application\n+CMD [\"./render_entrypoint.sh\"]"
      },
      {
        "sha": "aab466ccab4fd4cdea6b1085402c1dc738e11615",
        "filename": "docker/images/Dockerfile.webhook",
        "status": "added",
        "additions": 53,
        "deletions": 0,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fimages%2FDockerfile.webhook",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fimages%2FDockerfile.webhook",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fimages%2FDockerfile.webhook?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,53 @@\n+# Use an official Python runtime as a parent image\n+FROM python:3.12-slim\n+\n+# Set this environment variable to suppress the \"Running as root\" warning from pip\n+ENV PIP_ROOT_USER_ACTION=ignore\n+\n+# Install necessary packages\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends mariadb-client \\\n+    && apt-get install -y --no-install-recommends gcc libc-dev python3-dev libffi-dev \\\n+    && apt-get install -y --no-install-recommends curl \\\n+    && apt-get install -y --no-install-recommends bash \\\n+    && apt-get install -y --no-install-recommends openrc \\\n+    && apt-get install -y --no-install-recommends build-essential \\\n+    && apt-get install -y --no-install-recommends git\n+\n+# Install Docker CLI\n+RUN apt-get install -y --no-install-recommends ca-certificates gnupg lsb-release \\\n+    && curl -fsSL https://download.docker.com/linux/debian/gpg | gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg \\\n+    && echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian $(lsb_release -cs) stable\" > /etc/apt/sources.list.d/docker.list \\\n+    && apt-get update \\\n+    && apt-get install -y --no-install-recommends docker-ce-cli \n+\n+# Clean up\n+RUN apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/*\n+\n+# Set the working directory in the container to /app\n+WORKDIR /app\n+\n+# Copy requirements.txt into the working directory /app\n+COPY requirements.txt .\n+\n+# Copy the wait-for-db.sh script and set execution permissions\n+COPY --chmod=0755 scripts/wait-for-db.sh ./scripts/\n+\n+# Copy the git_update.sh script and set execution permissions\n+COPY --chmod=0755 scripts/git_update.sh ./scripts/\n+\n+# Copy the restart_container.sh script and set execution permissions\n+COPY --chmod=0755 scripts/restart_container.sh ./scripts/\n+\n+# Update pip\n+RUN pip install --no-cache-dir --upgrade pip\n+\n+# Install any needed packages specified in requirements.txt\n+RUN pip install -r requirements.txt\n+\n+# Configure git safe directory\n+RUN git config --global --add safe.directory /app\n+\n+# Expose port 5000\n+EXPOSE 5000"
      },
      {
        "sha": "c96a04f008ee21e260b28f7701595ed59e2839e3",
        "filename": "docker/letsencrypt/.gitignore",
        "status": "added",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fletsencrypt%2F.gitignore",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fletsencrypt%2F.gitignore",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fletsencrypt%2F.gitignore?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,2 @@\n+*\n+!.gitignore\n\\ No newline at end of file"
      },
      {
        "sha": "5a1865591329ffa316b126e58f96b4ee5987809a",
        "filename": "docker/nginx/html/502_dev.html",
        "status": "added",
        "additions": 50,
        "deletions": 0,
        "changes": 50,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fnginx%2Fhtml%2F502_dev.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fnginx%2Fhtml%2F502_dev.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fnginx%2Fhtml%2F502_dev.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,50 @@\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+<head>\n+    <meta charset=\"UTF-8\">\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n+    <title>502 Bad Gateway</title>\n+    <!-- Bootstrap CSS -->\n+    <link href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\" rel=\"stylesheet\">\n+    <style>\n+        body, html {\n+            height: 100%;\n+            margin: 0;\n+            display: flex;\n+            justify-content: center;\n+            align-items: center;\n+            background-color: #f4f4f4;\n+        }\n+        .container {\n+            max-width: 600px;\n+            background: #fff;\n+            padding: 20px;\n+            border-radius: 10px;\n+            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n+            text-align: center;\n+        }\n+        h1 {\n+            color: #d9534f;\n+        }\n+        code {\n+            background: #eee;\n+            padding: 5px 10px;\n+            border-radius: 5px;\n+            display: inline-block;\n+        }\n+    </style>\n+</head>\n+<body>\n+    <div class=\"container\">\n+        <h1 class=\"display-4\">502 Bad Gateway</h1>\n+        <p class=\"lead\">Sorry, the web container is currently unavailable. If you have just started the project, it is probably still booting. Try again after a few seconds.</p>\n+        <p class=\"instructions\">Please check the logs for more details:</p>\n+        <code>docker logs web_app_container</code>\n+        <p class=\"instructions mt-3\">If you have any questions, don't forget to visit our official documentation: <a href=\"https://docs.uvlhub.io/\" target=\"_blank\">docs.uvlhub.io</a></p>\n+    </div>\n+    <!-- Bootstrap JS and dependencies -->\n+    <script src=\"https://code.jquery.com/jquery-3.5.1.slim.min.js\"></script>\n+    <script src=\"https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js\"></script>\n+    <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js\"></script>\n+</body>\n+</html>"
      },
      {
        "sha": "eaed73001faee48392365957ea8f614c1a1175a3",
        "filename": "docker/nginx/html/502_prod.html",
        "status": "added",
        "additions": 45,
        "deletions": 0,
        "changes": 45,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fnginx%2Fhtml%2F502_prod.html",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fnginx%2Fhtml%2F502_prod.html",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fnginx%2Fhtml%2F502_prod.html?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,45 @@\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+<head>\n+    <meta charset=\"UTF-8\">\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n+    <title>Maintenance</title>\n+    <!-- Bootstrap CSS -->\n+    <link href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\" rel=\"stylesheet\">\n+    <style>\n+        body, html {\n+            height: 100%;\n+            margin: 0;\n+            display: flex;\n+            justify-content: center;\n+            align-items: center;\n+            background-color: #f4f4f4;\n+        }\n+        .container {\n+            max-width: 600px;\n+            background: #fff;\n+            padding: 20px;\n+            border-radius: 10px;\n+            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n+            text-align: center;\n+        }\n+        h1 {\n+            color: #01547D\n+        }\n+        p {\n+            font-size: 20px;\n+            color: #555;\n+        }\n+    </style>\n+</head>\n+<body>\n+    <div class=\"container\">\n+        <h1 class=\"display-4\">Under maintenance</h1>\n+        <p>We are sorry for the inconvenience. If you have any questions, please contact us at <a href=\"mailto:support@uvlhub.io\">support@uvlhub.io</a></p>\n+    </div>\n+    <!-- Bootstrap JS and dependencies -->\n+    <script src=\"https://code.jquery.com/jquery-3.5.1.slim.min.js\"></script>\n+    <script src=\"https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js\"></script>\n+    <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js\"></script>\n+</body>\n+</html>"
      },
      {
        "sha": "692a6c07f3cd83b70a64d406758ee1e01328ee5b",
        "filename": "docker/nginx/nginx.dev.conf",
        "status": "added",
        "additions": 36,
        "deletions": 0,
        "changes": 36,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fnginx%2Fnginx.dev.conf",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fnginx%2Fnginx.dev.conf",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fnginx%2Fnginx.dev.conf?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,36 @@\n+events {}\n+\n+http {\n+\n+    upstream web {\n+        server web:5000;\n+    }\n+\n+    server {\n+\n+        listen 80;\n+\n+        client_max_body_size 10000M;\n+\n+        location / {\n+\n+            # Set proxy headers\n+            proxy_pass http://web;\n+            proxy_set_header Host $http_host;\n+            proxy_set_header X-Real-IP $remote_addr;\n+            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n+            proxy_set_header X-Forwarded-Proto $scheme;\n+\n+            # Increase proxy timeout settings\n+            proxy_connect_timeout 3600;\n+            proxy_send_timeout 3600;\n+            proxy_read_timeout 3600;\n+        }\n+\n+        error_page 502 /502_dev.html;\n+        location = /502_dev.html {\n+            root /usr/share/nginx/html;\n+            internal;\n+        }\n+    }\n+}"
      },
      {
        "sha": "a8d1f7fe129b4366ac5746291f41185b453eb88f",
        "filename": "docker/nginx/nginx.prod.conf",
        "status": "added",
        "additions": 36,
        "deletions": 0,
        "changes": 36,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fnginx%2Fnginx.prod.conf",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fnginx%2Fnginx.prod.conf",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fnginx%2Fnginx.prod.conf?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,36 @@\n+events {}\n+\n+http {\n+\n+    upstream web {\n+        server web:5000;\n+    }\n+\n+    server {\n+\n+        listen 80;\n+\n+        client_max_body_size 10000M;\n+\n+        location / {\n+\n+            # Set proxy headers\n+            proxy_pass http://web;\n+            proxy_set_header Host $http_host;\n+            proxy_set_header X-Real-IP $remote_addr;\n+            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n+            proxy_set_header X-Forwarded-Proto $scheme;\n+\n+            # Increase proxy timeout settings\n+            proxy_connect_timeout 3600;\n+            proxy_send_timeout 3600;\n+            proxy_read_timeout 3600;\n+        }\n+\n+        error_page 502 /502_prod.html;\n+        location = /502_prod.html {\n+            root /usr/share/nginx/html;\n+            internal;\n+        }\n+    }\n+}"
      },
      {
        "sha": "b7358b2c13bfab78b602375bf4b9087d05a4e80d",
        "filename": "docker/nginx/nginx.prod.no-ssl.conf.template",
        "status": "added",
        "additions": 38,
        "deletions": 0,
        "changes": 38,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fnginx%2Fnginx.prod.no-ssl.conf.template",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fnginx%2Fnginx.prod.no-ssl.conf.template",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fnginx%2Fnginx.prod.no-ssl.conf.template?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,38 @@\n+events {}\n+\n+http {\n+    upstream web {\n+        server web:5000;\n+    }\n+\n+    server {\n+        listen 80;\n+        server_name {{domain}};\n+\n+        location ~ /.well-known/acme-challenge/ {\n+            root /var/www;\n+            try_files $uri =404;\n+        }\n+\n+        location / {\n+\n+            # Set proxy headers\n+            proxy_pass http://web;\n+            proxy_set_header Host $http_host;\n+            proxy_set_header X-Real-IP $remote_addr;\n+            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n+            proxy_set_header X-Forwarded-Proto $scheme;\n+\n+            # Increase proxy timeout settings\n+            proxy_connect_timeout 3600;\n+            proxy_send_timeout 3600;\n+            proxy_read_timeout 3600;\n+        }\n+\n+        error_page 502 /502_prod.html;\n+        location = /502_prod.html {\n+            root /usr/share/nginx/html;\n+            internal;\n+        }\n+    }\n+}"
      },
      {
        "sha": "ec78d2d7b301c42e71c2220c46856a1c77a6df14",
        "filename": "docker/nginx/nginx.prod.ssl.conf.template",
        "status": "added",
        "additions": 53,
        "deletions": 0,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fnginx%2Fnginx.prod.ssl.conf.template",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fnginx%2Fnginx.prod.ssl.conf.template",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fnginx%2Fnginx.prod.ssl.conf.template?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,53 @@\n+events {}\n+\n+http {\n+    upstream web {\n+        server web:5000;\n+    }\n+\n+    server {\n+        listen 80;\n+        server_name {{domain}};\n+\n+        location ~ /.well-known/acme-challenge/ {\n+            root /var/www;\n+            try_files $uri =404;\n+        }\n+\n+        location / {\n+            return 301 https://{{domain}}$request_uri;\n+        }\n+    }\n+\n+    server {\n+        listen 443 ssl;\n+\n+        client_max_body_size 10000M;\n+\n+        server_name {{domain}};\n+\n+        ssl_certificate /etc/letsencrypt/live/{{domain}}/fullchain.pem;\n+        ssl_certificate_key /etc/letsencrypt/live/{{domain}}/privkey.pem;\n+\n+        location / {\n+\n+            # Set proxy headers\n+            proxy_pass http://web;\n+            proxy_set_header Host $http_host;\n+            proxy_set_header X-Real-IP $remote_addr;\n+            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n+            proxy_set_header X-Forwarded-Proto $scheme;\n+\n+            # Increase proxy timeout settings\n+            proxy_connect_timeout 3600;\n+            proxy_send_timeout 3600;\n+            proxy_read_timeout 3600;\n+        }\n+\n+        error_page 502 /502_prod.html;\n+        location = /502_prod.html {\n+            root /usr/share/nginx/html;\n+            internal;\n+        }\n+    }\n+}"
      },
      {
        "sha": "c96a04f008ee21e260b28f7701595ed59e2839e3",
        "filename": "docker/public/.gitignore",
        "status": "added",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fpublic%2F.gitignore",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/docker%2Fpublic%2F.gitignore",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/docker%2Fpublic%2F.gitignore?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,2 @@\n+*\n+!.gitignore\n\\ No newline at end of file"
      },
      {
        "sha": "0e048441597444a7e2850d6d7c4ce15550f79bda",
        "filename": "migrations/README",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/migrations%2FREADME",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/migrations%2FREADME",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2FREADME?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1 @@\n+Single-database configuration for Flask."
      },
      {
        "sha": "ec9d45c26a6bb54e833fd4e6ce2de29343894f4b",
        "filename": "migrations/alembic.ini",
        "status": "added",
        "additions": 50,
        "deletions": 0,
        "changes": 50,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/migrations%2Falembic.ini",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/migrations%2Falembic.ini",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Falembic.ini?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,50 @@\n+# A generic, single database configuration.\n+\n+[alembic]\n+# template used to generate migration files\n+# file_template = %%(rev)s_%%(slug)s\n+\n+# set to 'true' to run the environment during\n+# the 'revision' command, regardless of autogenerate\n+# revision_environment = false\n+\n+\n+# Logging configuration\n+[loggers]\n+keys = root,sqlalchemy,alembic,flask_migrate\n+\n+[handlers]\n+keys = console\n+\n+[formatters]\n+keys = generic\n+\n+[logger_root]\n+level = WARN\n+handlers = console\n+qualname =\n+\n+[logger_sqlalchemy]\n+level = WARN\n+handlers =\n+qualname = sqlalchemy.engine\n+\n+[logger_alembic]\n+level = INFO\n+handlers =\n+qualname = alembic\n+\n+[logger_flask_migrate]\n+level = INFO\n+handlers =\n+qualname = flask_migrate\n+\n+[handler_console]\n+class = StreamHandler\n+args = (sys.stderr,)\n+level = NOTSET\n+formatter = generic\n+\n+[formatter_generic]\n+format = %(levelname)-5.5s [%(name)s] %(message)s\n+datefmt = %H:%M:%S"
      },
      {
        "sha": "4c9709271b2ff28271b13c29bba5c50b80fea0ac",
        "filename": "migrations/env.py",
        "status": "added",
        "additions": 113,
        "deletions": 0,
        "changes": 113,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/migrations%2Fenv.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/migrations%2Fenv.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fenv.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,113 @@\n+import logging\n+from logging.config import fileConfig\n+\n+from flask import current_app\n+\n+from alembic import context\n+\n+# this is the Alembic Config object, which provides\n+# access to the values within the .ini file in use.\n+config = context.config\n+\n+# Interpret the config file for Python logging.\n+# This line sets up loggers basically.\n+fileConfig(config.config_file_name)\n+logger = logging.getLogger('alembic.env')\n+\n+\n+def get_engine():\n+    try:\n+        # this works with Flask-SQLAlchemy<3 and Alchemical\n+        return current_app.extensions['migrate'].db.get_engine()\n+    except (TypeError, AttributeError):\n+        # this works with Flask-SQLAlchemy>=3\n+        return current_app.extensions['migrate'].db.engine\n+\n+\n+def get_engine_url():\n+    try:\n+        return get_engine().url.render_as_string(hide_password=False).replace(\n+            '%', '%%')\n+    except AttributeError:\n+        return str(get_engine().url).replace('%', '%%')\n+\n+\n+# add your model's MetaData object here\n+# for 'autogenerate' support\n+# from myapp import mymodel\n+# target_metadata = mymodel.Base.metadata\n+config.set_main_option('sqlalchemy.url', get_engine_url())\n+target_db = current_app.extensions['migrate'].db\n+\n+# other values from the config, defined by the needs of env.py,\n+# can be acquired:\n+# my_important_option = config.get_main_option(\"my_important_option\")\n+# ... etc.\n+\n+\n+def get_metadata():\n+    if hasattr(target_db, 'metadatas'):\n+        return target_db.metadatas[None]\n+    return target_db.metadata\n+\n+\n+def run_migrations_offline():\n+    \"\"\"Run migrations in 'offline' mode.\n+\n+    This configures the context with just a URL\n+    and not an Engine, though an Engine is acceptable\n+    here as well.  By skipping the Engine creation\n+    we don't even need a DBAPI to be available.\n+\n+    Calls to context.execute() here emit the given string to the\n+    script output.\n+\n+    \"\"\"\n+    url = config.get_main_option(\"sqlalchemy.url\")\n+    context.configure(\n+        url=url, target_metadata=get_metadata(), literal_binds=True\n+    )\n+\n+    with context.begin_transaction():\n+        context.run_migrations()\n+\n+\n+def run_migrations_online():\n+    \"\"\"Run migrations in 'online' mode.\n+\n+    In this scenario we need to create an Engine\n+    and associate a connection with the context.\n+\n+    \"\"\"\n+\n+    # this callback is used to prevent an auto-migration from being generated\n+    # when there are no changes to the schema\n+    # reference: http://alembic.zzzcomputing.com/en/latest/cookbook.html\n+    def process_revision_directives(context, revision, directives):\n+        if getattr(config.cmd_opts, 'autogenerate', False):\n+            script = directives[0]\n+            if script.upgrade_ops.is_empty():\n+                directives[:] = []\n+                logger.info('No changes in schema detected.')\n+\n+    conf_args = current_app.extensions['migrate'].configure_args\n+    if conf_args.get(\"process_revision_directives\") is None:\n+        conf_args[\"process_revision_directives\"] = process_revision_directives\n+\n+    connectable = get_engine()\n+\n+    with connectable.connect() as connection:\n+        context.configure(\n+            connection=connection,\n+            target_metadata=get_metadata(),\n+            **conf_args\n+        )\n+\n+        with context.begin_transaction():\n+            context.run_migrations()\n+\n+\n+if context.is_offline_mode():\n+    run_migrations_offline()\n+else:\n+    run_migrations_online()"
      },
      {
        "sha": "2c0156303a8df3ffdc9de87765bf801bf6bea4a5",
        "filename": "migrations/script.py.mako",
        "status": "added",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/migrations%2Fscript.py.mako",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/migrations%2Fscript.py.mako",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fscript.py.mako?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,24 @@\n+\"\"\"${message}\n+\n+Revision ID: ${up_revision}\n+Revises: ${down_revision | comma,n}\n+Create Date: ${create_date}\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+${imports if imports else \"\"}\n+\n+# revision identifiers, used by Alembic.\n+revision = ${repr(up_revision)}\n+down_revision = ${repr(down_revision)}\n+branch_labels = ${repr(branch_labels)}\n+depends_on = ${repr(depends_on)}\n+\n+\n+def upgrade():\n+    ${upgrades if upgrades else \"pass\"}\n+\n+\n+def downgrade():\n+    ${downgrades if downgrades else \"pass\"}"
      },
      {
        "sha": "840b763a7289fb875622cf2b7850b8454825714e",
        "filename": "migrations/versions/001.py",
        "status": "added",
        "additions": 191,
        "deletions": 0,
        "changes": 191,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/migrations%2Fversions%2F001.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/migrations%2Fversions%2F001.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/migrations%2Fversions%2F001.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,191 @@\n+\"\"\"first migration\n+\n+Revision ID: 001\n+Revises: \n+Create Date: 2024-09-08 16:50:20.326640\n+\n+\"\"\"\n+from alembic import op\n+import sqlalchemy as sa\n+\n+\n+# revision identifiers, used by Alembic.\n+revision = '001'\n+down_revision = None\n+branch_labels = None\n+depends_on = None\n+\n+\n+def upgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.create_table('doi_mapping',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('dataset_doi_old', sa.String(length=120), nullable=True),\n+    sa.Column('dataset_doi_new', sa.String(length=120), nullable=True),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('ds_metrics',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('number_of_models', sa.String(length=120), nullable=True),\n+    sa.Column('number_of_features', sa.String(length=120), nullable=True),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('fm_metrics',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('solver', sa.Text(), nullable=True),\n+    sa.Column('not_solver', sa.Text(), nullable=True),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('user',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('email', sa.String(length=256), nullable=False),\n+    sa.Column('password', sa.String(length=256), nullable=False),\n+    sa.Column('created_at', sa.DateTime(), nullable=False),\n+    sa.PrimaryKeyConstraint('id'),\n+    sa.UniqueConstraint('email')\n+    )\n+    op.create_table('webhook',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('zenodo',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('ds_meta_data',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('deposition_id', sa.Integer(), nullable=True),\n+    sa.Column('title', sa.String(length=120), nullable=False),\n+    sa.Column('description', sa.Text(), nullable=False),\n+    sa.Column('publication_type', sa.Enum('NONE', 'ANNOTATION_COLLECTION', 'BOOK', 'BOOK_SECTION', 'CONFERENCE_PAPER', 'DATA_MANAGEMENT_PLAN', 'JOURNAL_ARTICLE', 'PATENT', 'PREPRINT', 'PROJECT_DELIVERABLE', 'PROJECT_MILESTONE', 'PROPOSAL', 'REPORT', 'SOFTWARE_DOCUMENTATION', 'TAXONOMIC_TREATMENT', 'TECHNICAL_NOTE', 'THESIS', 'WORKING_PAPER', 'OTHER', name='publicationtype'), nullable=False),\n+    sa.Column('publication_doi', sa.String(length=120), nullable=True),\n+    sa.Column('dataset_doi', sa.String(length=120), nullable=True),\n+    sa.Column('tags', sa.String(length=120), nullable=True),\n+    sa.Column('ds_metrics_id', sa.Integer(), nullable=True),\n+    sa.ForeignKeyConstraint(['ds_metrics_id'], ['ds_metrics.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('fm_meta_data',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('uvl_filename', sa.String(length=120), nullable=False),\n+    sa.Column('title', sa.String(length=120), nullable=False),\n+    sa.Column('description', sa.Text(), nullable=False),\n+    sa.Column('publication_type', sa.Enum('NONE', 'ANNOTATION_COLLECTION', 'BOOK', 'BOOK_SECTION', 'CONFERENCE_PAPER', 'DATA_MANAGEMENT_PLAN', 'JOURNAL_ARTICLE', 'PATENT', 'PREPRINT', 'PROJECT_DELIVERABLE', 'PROJECT_MILESTONE', 'PROPOSAL', 'REPORT', 'SOFTWARE_DOCUMENTATION', 'TAXONOMIC_TREATMENT', 'TECHNICAL_NOTE', 'THESIS', 'WORKING_PAPER', 'OTHER', name='publicationtype'), nullable=False),\n+    sa.Column('publication_doi', sa.String(length=120), nullable=True),\n+    sa.Column('tags', sa.String(length=120), nullable=True),\n+    sa.Column('uvl_version', sa.String(length=120), nullable=True),\n+    sa.Column('fm_metrics_id', sa.Integer(), nullable=True),\n+    sa.ForeignKeyConstraint(['fm_metrics_id'], ['fm_metrics.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('user_profile',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.Column('orcid', sa.String(length=19), nullable=True),\n+    sa.Column('affiliation', sa.String(length=100), nullable=True),\n+    sa.Column('name', sa.String(length=100), nullable=False),\n+    sa.Column('surname', sa.String(length=100), nullable=False),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id'),\n+    sa.UniqueConstraint('user_id')\n+    )\n+    op.create_table('author',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('name', sa.String(length=120), nullable=False),\n+    sa.Column('affiliation', sa.String(length=120), nullable=True),\n+    sa.Column('orcid', sa.String(length=120), nullable=True),\n+    sa.Column('ds_meta_data_id', sa.Integer(), nullable=True),\n+    sa.Column('fm_meta_data_id', sa.Integer(), nullable=True),\n+    sa.ForeignKeyConstraint(['ds_meta_data_id'], ['ds_meta_data.id'], ),\n+    sa.ForeignKeyConstraint(['fm_meta_data_id'], ['fm_meta_data.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('data_set',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=False),\n+    sa.Column('ds_meta_data_id', sa.Integer(), nullable=False),\n+    sa.Column('created_at', sa.DateTime(), nullable=False),\n+    sa.ForeignKeyConstraint(['ds_meta_data_id'], ['ds_meta_data.id'], ),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('ds_download_record',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=True),\n+    sa.Column('dataset_id', sa.Integer(), nullable=True),\n+    sa.Column('download_date', sa.DateTime(), nullable=False),\n+    sa.Column('download_cookie', sa.String(length=36), nullable=False),\n+    sa.ForeignKeyConstraint(['dataset_id'], ['data_set.id'], ),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('ds_view_record',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=True),\n+    sa.Column('dataset_id', sa.Integer(), nullable=True),\n+    sa.Column('view_date', sa.DateTime(), nullable=False),\n+    sa.Column('view_cookie', sa.String(length=36), nullable=False),\n+    sa.ForeignKeyConstraint(['dataset_id'], ['data_set.id'], ),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('feature_model',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('data_set_id', sa.Integer(), nullable=False),\n+    sa.Column('fm_meta_data_id', sa.Integer(), nullable=True),\n+    sa.ForeignKeyConstraint(['data_set_id'], ['data_set.id'], ),\n+    sa.ForeignKeyConstraint(['fm_meta_data_id'], ['fm_meta_data.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('file',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('name', sa.String(length=120), nullable=False),\n+    sa.Column('checksum', sa.String(length=120), nullable=False),\n+    sa.Column('size', sa.Integer(), nullable=False),\n+    sa.Column('feature_model_id', sa.Integer(), nullable=False),\n+    sa.ForeignKeyConstraint(['feature_model_id'], ['feature_model.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('file_download_record',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=True),\n+    sa.Column('file_id', sa.Integer(), nullable=True),\n+    sa.Column('download_date', sa.DateTime(), nullable=False),\n+    sa.Column('download_cookie', sa.String(length=36), nullable=False),\n+    sa.ForeignKeyConstraint(['file_id'], ['file.id'], ),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    op.create_table('file_view_record',\n+    sa.Column('id', sa.Integer(), nullable=False),\n+    sa.Column('user_id', sa.Integer(), nullable=True),\n+    sa.Column('file_id', sa.Integer(), nullable=False),\n+    sa.Column('view_date', sa.DateTime(), nullable=True),\n+    sa.Column('view_cookie', sa.String(length=36), nullable=True),\n+    sa.ForeignKeyConstraint(['file_id'], ['file.id'], ),\n+    sa.ForeignKeyConstraint(['user_id'], ['user.id'], ),\n+    sa.PrimaryKeyConstraint('id')\n+    )\n+    # ### end Alembic commands ###\n+\n+\n+def downgrade():\n+    # ### commands auto generated by Alembic - please adjust! ###\n+    op.drop_table('file_view_record')\n+    op.drop_table('file_download_record')\n+    op.drop_table('file')\n+    op.drop_table('feature_model')\n+    op.drop_table('ds_view_record')\n+    op.drop_table('ds_download_record')\n+    op.drop_table('data_set')\n+    op.drop_table('author')\n+    op.drop_table('user_profile')\n+    op.drop_table('fm_meta_data')\n+    op.drop_table('ds_meta_data')\n+    op.drop_table('zenodo')\n+    op.drop_table('webhook')\n+    op.drop_table('user')\n+    op.drop_table('fm_metrics')\n+    op.drop_table('ds_metrics')\n+    op.drop_table('doi_mapping')\n+    # ### end Alembic commands ###"
      },
      {
        "sha": "1285fa18f67657f9c1a32253514d86f155ee29bc",
        "filename": "requirements.txt",
        "status": "added",
        "additions": 100,
        "deletions": 0,
        "changes": 100,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/requirements.txt",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/requirements.txt",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/requirements.txt?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,100 @@\n+afmparser==1.0.3\n+alembic==1.13.2\n+aniso8601==9.0.1\n+antlr4-python3-runtime==4.13.1\n+astutils==0.0.6\n+attrs==23.2.0\n+beautifulsoup4==4.12.3\n+blinker==1.8.2\n+Brotli==1.1.0\n+bs4==0.0.2\n+certifi==2024.7.4\n+cffi==1.16.0\n+charset-normalizer==3.3.2\n+click==8.1.7\n+ConfigArgParse==1.7\n+coverage==7.6.0\n+cryptography==42.0.8\n+dd==0.6.0\n+dnspython==2.6.1\n+docker==7.1.0\n+email_validator==2.2.0\n+Faker==26.0.0\n+flake8==7.1.0\n+flamapy==2.0.0.dev1\n+flamapy-bdd==2.0.0.dev1\n+flamapy-fm==2.0.0.dev1\n+flamapy-fw==2.0.0.dev1\n+flamapy-sat==2.0.0.dev1\n+Flask==3.0.3\n+Flask-Cors==4.0.1\n+Flask-Login==0.6.3\n+Flask-Migrate==4.0.7\n+Flask-RESTful==0.3.10\n+Flask-SQLAlchemy==3.1.1\n+Flask-WTF==1.2.1\n+gevent==24.2.1\n+geventhttpclient==2.3.1\n+graphviz==0.20.3\n+greenlet==3.0.3\n+gunicorn==22.0.0\n+h11==0.14.0\n+h2==4.1.0\n+hpack==4.0.0\n+hyperframe==6.0.1\n+idna==3.7\n+iniconfig==2.0.0\n+itsdangerous==2.2.0\n+Jinja2==3.1.4\n+kaitaistruct==0.10\n+locust==2.29.1\n+Mako==1.3.5\n+MarkupSafe==2.1.5\n+mccabe==0.7.0\n+msgpack==1.0.8\n+networkx==3.3\n+outcome==1.3.0.post0\n+packaging==24.1\n+pluggy==1.5.0\n+ply==3.10\n+psutil==6.0.0\n+pyasn1==0.6.0\n+pycodestyle==2.12.0\n+pycparser==2.22\n+pyflakes==3.2.0\n+PyMySQL==1.1.1\n+pyOpenSSL==24.1.0\n+pyparsing==3.1.2\n+PySocks==1.7.1\n+pytest==8.2.2\n+pytest-cov==5.0.0\n+python-dateutil==2.9.0.post0\n+python-dotenv==1.0.1\n+python-sat==1.8.dev13\n+pytz==2024.1\n+pyzmq==26.0.3\n+requests==2.32.3\n+selenium==4.22.0\n+selenium-wire==5.1.0\n+setuptools==70.3.0\n+six==1.16.0\n+sniffio==1.3.1\n+sortedcontainers==2.4.0\n+soupsieve==2.5\n+SQLAlchemy==2.0.31\n+SQLAlchemy-Utils==0.41.2\n+trio==0.26.0\n+trio-websocket==0.11.1\n+typing_extensions==4.12.2\n+Unidecode==1.3.8\n+urllib3==2.2.2\n+uvlparser==2.0.1\n+webdriver-manager==4.0.1\n+websocket-client==1.8.0\n+Werkzeug==3.0.3\n+wheel==0.43.0\n+wsproto==1.2.0\n+WTForms==3.1.2\n+zope.event==5.0\n+zope.interface==6.4.post2\n+zstandard==0.22.0"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "rosemary/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "d603733c3e738944300498662c2505d0622b167b",
        "filename": "rosemary/__main__.py",
        "status": "added",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2F__main__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2F__main__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2F__main__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,4 @@\n+from rosemary.cli import cli\n+\n+if __name__ == '__main__':\n+    cli()"
      },
      {
        "sha": "56b47b8a74cc80420dfb55a1315e76029cba7f9c",
        "filename": "rosemary/cli.py",
        "status": "added",
        "additions": 64,
        "deletions": 0,
        "changes": 64,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcli.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcli.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcli.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,64 @@\n+import click\n+\n+from rosemary.commands.module_list import module_list\n+from rosemary.commands.locust import locust, stop\n+from rosemary.commands.compose_env import compose_env\n+from rosemary.commands.route_list import route_list\n+from rosemary.commands.db_seed import db_seed\n+from rosemary.commands.clear_cache import clear_cache\n+from rosemary.commands.db_console import db_console\n+from rosemary.commands.db_migrate import db_migrate\n+from rosemary.commands.db_reset import db_reset\n+from rosemary.commands.clear_log import clear_log\n+from rosemary.commands.clear_uploads import clear_uploads\n+from rosemary.commands.coverage import coverage\n+from rosemary.commands.linter import linter\n+from rosemary.commands.selenium import selenium\n+from rosemary.commands.update import update\n+from rosemary.commands.info import info, info2\n+from rosemary.commands.make_module import make_module\n+from rosemary.commands.env import env\n+from rosemary.commands.test import test\n+\n+\n+class RosemaryCLI(click.Group):\n+    def get_command(self, ctx, cmd_name):\n+        rv = super().get_command(ctx, cmd_name)\n+        if rv is not None:\n+            return rv\n+        click.echo(f\"No such command '{cmd_name}'.\")\n+        click.echo(\"Try 'rosemary --help' for a list of available commands.\")\n+        return None\n+\n+\n+@click.group(cls=RosemaryCLI)\n+def cli():\n+    \"\"\"A CLI tool to help with project development.\"\"\"\n+    pass\n+\n+\n+cli.add_command(update)\n+cli.add_command(info)\n+cli.add_command(info2)\n+cli.add_command(make_module)\n+cli.add_command(env)\n+cli.add_command(test)\n+cli.add_command(linter)\n+cli.add_command(coverage)\n+cli.add_command(clear_uploads)\n+cli.add_command(clear_log)\n+cli.add_command(clear_cache)\n+cli.add_command(db_reset)\n+cli.add_command(db_migrate)\n+cli.add_command(db_console)\n+cli.add_command(db_seed)\n+cli.add_command(route_list)\n+cli.add_command(compose_env)\n+cli.add_command(locust)\n+cli.add_command(stop)\n+cli.add_command(selenium)\n+cli.add_command(module_list)\n+\n+\n+if __name__ == '__main__':\n+    cli()"
      },
      {
        "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
        "filename": "rosemary/commands/__init__.py",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2F__init__.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2F__init__.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2F__init__.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf"
      },
      {
        "sha": "bda80ced9fd8230704f7ce29844450255049c37a",
        "filename": "rosemary/commands/clear_cache.py",
        "status": "added",
        "additions": 53,
        "deletions": 0,
        "changes": 53,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fclear_cache.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fclear_cache.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Fclear_cache.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,53 @@\n+from pathlib import Path\n+\n+import click\n+import shutil\n+import os\n+\n+\n+@click.command('clear:cache', help=\"Clears pytest cache in app/modules and the build directory at the root.\")\n+def clear_cache():\n+\n+    if click.confirm('Are you sure you want to clear the pytest cache and the build directory?'):\n+\n+        project_root = Path(os.getenv('WORKING_DIR', ''))\n+        pytest_cache_dir = os.path.join(os.getenv('WORKING_DIR', ''), 'app/modules/.pytest_cache')\n+        build_dir = os.path.join(os.getenv('WORKING_DIR', ''), 'build')\n+\n+        if os.path.exists(pytest_cache_dir):\n+            try:\n+                shutil.rmtree(pytest_cache_dir)\n+                click.echo(click.style(\"Pytest cache cleared.\", fg='green'))\n+            except Exception as e:\n+                click.echo(click.style(f\"Failed to clear pytest cache: {e}\", fg='red'))\n+        else:\n+            click.echo(click.style(\"No pytest cache found. Nothing to clear.\", fg='yellow'))\n+\n+        if os.path.exists(build_dir):\n+            try:\n+                shutil.rmtree(build_dir)\n+                click.echo(click.style(\"Build directory cleared.\", fg='green'))\n+            except Exception as e:\n+                click.echo(click.style(f\"Failed to clear build directory: {e}\", fg='red'))\n+        else:\n+            click.echo(click.style(\"No cache or build directory found. Nothing to clear.\", fg='yellow'))\n+\n+        pycache_dirs = project_root.rglob('__pycache__')\n+        for dir in pycache_dirs:\n+            try:\n+                shutil.rmtree(dir)\n+            except Exception as e:\n+                click.echo(click.style(f\"Failed to clear __pycache__ directory {dir}: {e}\", fg='red'))\n+        click.echo(click.style(\"All __pycache__ directories cleared.\", fg='green'))\n+\n+        pyc_files = project_root.rglob('*.pyc')\n+        for file in pyc_files:\n+            try:\n+                file.unlink()\n+            except Exception as e:\n+                click.echo(click.style(f\"Failed to clear .pyc file {file}: {e}\", fg='red'))\n+\n+        click.echo(click.style(\"All cache cleared.\", fg='green'))\n+\n+    else:\n+        click.echo(click.style(\"Clear operation cancelled.\", fg='yellow'))"
      },
      {
        "sha": "08456bd47019cd0cd1964f5226b325e15cc18950",
        "filename": "rosemary/commands/clear_log.py",
        "status": "added",
        "additions": 18,
        "deletions": 0,
        "changes": 18,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fclear_log.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fclear_log.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Fclear_log.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,18 @@\n+import click\n+import os\n+\n+\n+@click.command('clear:log', help=\"Clears the 'app.log' file.\")\n+def clear_log():\n+    log_file_path = os.path.join(os.getenv('WORKING_DIR', ''), 'app.log')\n+\n+    # Check if the log file exists\n+    if os.path.exists(log_file_path):\n+        try:\n+            # Deletes the log file\n+            os.remove(log_file_path)\n+            click.echo(click.style(\"The 'app.log' file has been successfully cleared.\", fg='green'))\n+        except Exception as e:\n+            click.echo(click.style(f\"Error clearing the 'app.log' file: {e}\", fg='red'))\n+    else:\n+        click.echo(click.style(\"The 'app.log' file does not exist.\", fg='yellow'))"
      },
      {
        "sha": "d9f9fc7ce293f0843715c1446ab7d6ffe2f34fe5",
        "filename": "rosemary/commands/clear_uploads.py",
        "status": "added",
        "additions": 21,
        "deletions": 0,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fclear_uploads.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fclear_uploads.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Fclear_uploads.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,21 @@\n+import click\n+import shutil\n+import os\n+\n+from core.configuration.configuration import uploads_folder_name\n+\n+\n+@click.command('clear:uploads', help=\"Clears the 'uploads' directory.\")\n+def clear_uploads():\n+    uploads_dir = os.path.join(os.getenv('WORKING_DIR', ''), uploads_folder_name())\n+\n+    # Verify if the 'uploads' folder exists\n+    if os.path.exists(uploads_dir) and os.path.isdir(uploads_dir):\n+        try:\n+            # Use shutil.rmtree to delete the folder and its contents.\n+            shutil.rmtree(uploads_dir)\n+            click.echo(click.style(\"The 'uploads' directory has been successfully cleared.\", fg='green'))\n+        except Exception as e:\n+            click.echo(click.style(f\"Error clearing the 'uploads' directory: {e}\", fg='red'))\n+    else:\n+        click.echo(click.style(\"The 'uploads' directory does not exist.\", fg='yellow'))"
      },
      {
        "sha": "7b886bd9a7ea2e68e0bf20fb74b3592f4b3f17f1",
        "filename": "rosemary/commands/compose_env.py",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fcompose_env.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fcompose_env.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Fcompose_env.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,35 @@\n+import os\n+import click\n+from dotenv import dotenv_values\n+from flask.cli import with_appcontext\n+\n+\n+@click.command('compose:env', help=\"Combines .env files from blueprints with the root .env, checking for conflicts.\")\n+@with_appcontext\n+def compose_env():\n+\n+    base_path = os.path.join(os.getenv('WORKING_DIR', ''), 'app/modules')\n+    root_env_path = os.path.join(os.getenv('WORKING_DIR', ''), '.env')\n+\n+    # Loads the current root .env variables into a dictionary\n+    root_env_vars = dotenv_values(root_env_path)\n+\n+    # Finds and processes all blueprints .env files\n+    module_env_paths = [os.path.join(root, '.env') for root, dirs, files in os.walk(base_path) if '.env' in files]\n+    for env_path in module_env_paths:\n+        blueprint_env_vars = dotenv_values(env_path)\n+        # Add or update the blueprint variables in the root .env dictionary\n+        for key, value in blueprint_env_vars.items():\n+            if key in root_env_vars and root_env_vars[key] != value:\n+                conflict_msg = (f\"Conflict found for variable '{key}' in {env_path}. \"\n+                                \"Keeping the original value.\")\n+                click.echo(click.style(conflict_msg, fg='yellow'))\n+                continue\n+            root_env_vars[key] = value\n+\n+    # Write back to the root .env file\n+    with open(root_env_path, 'w') as root_env_file:\n+        for key, value in root_env_vars.items():\n+            root_env_file.write(f\"{key}={value}\\n\")\n+\n+    click.echo(click.style(\"Successfully merged .env files without conflicts.\", fg='green'))"
      },
      {
        "sha": "9c6bf2360b9e2f3ef477eff95390d1b825244765",
        "filename": "rosemary/commands/coverage.py",
        "status": "added",
        "additions": 30,
        "deletions": 0,
        "changes": 30,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fcoverage.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fcoverage.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Fcoverage.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,30 @@\n+import click\n+import subprocess\n+import os\n+\n+\n+@click.command('coverage', help=\"Runs pytest coverage on the blueprints directory or a specific module.\")\n+@click.argument('module_name', required=False)\n+@click.option('--html', is_flag=True, help=\"Generates an HTML coverage report.\")\n+def coverage(module_name, html):\n+    base_path = os.path.join(os.getenv('WORKING_DIR', ''), 'app/modules')\n+    test_path = base_path\n+\n+    if module_name:\n+        test_path = os.path.join(base_path, module_name)\n+        if not os.path.exists(test_path):\n+            click.echo(click.style(f\"Module '{module_name}' does not exist.\", fg='red'))\n+            return\n+        click.echo(f\"Running coverage for the '{module_name}' module...\")\n+    else:\n+        click.echo(\"Running coverage for all modules...\")\n+\n+    coverage_cmd = ['pytest', '--ignore-glob=*selenium*', '--cov=' + test_path, test_path]\n+\n+    if html:\n+        coverage_cmd.extend(['--cov-report', 'html'])\n+\n+    try:\n+        subprocess.run(coverage_cmd, check=True)\n+    except subprocess.CalledProcessError as e:\n+        click.echo(click.style(f\"Error running coverage: {e}\", fg='red'))"
      },
      {
        "sha": "86dffc2dfe834015191a8437689c4f0a1525ef2d",
        "filename": "rosemary/commands/db_console.py",
        "status": "added",
        "additions": 23,
        "deletions": 0,
        "changes": 23,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fdb_console.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fdb_console.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Fdb_console.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,23 @@\n+import click\n+import subprocess\n+from dotenv import load_dotenv\n+import os\n+\n+\n+@click.command('db:console', help=\"Opens a MariaDB console with credentials from .env.\")\n+def db_console():\n+    load_dotenv()\n+\n+    mariadb_hostname = os.getenv('MARIADB_HOSTNAME')\n+    mariadb_user = os.getenv('MARIADB_USER')\n+    mariadb_password = os.getenv('MARIADB_PASSWORD')\n+    mariadb_database = os.getenv('MARIADB_DATABASE')\n+\n+    # Build the command to connect to MariaDB\n+    mariadb_connect_cmd = f'mysql -h{mariadb_hostname} -u{mariadb_user} -p{mariadb_password} {mariadb_database}'\n+\n+    # Execute the command\n+    try:\n+        subprocess.run(mariadb_connect_cmd, shell=True, check=True)\n+    except subprocess.CalledProcessError as e:\n+        click.echo(click.style(f\"Error opening MariaDB console: {e}\", fg='red'))"
      },
      {
        "sha": "367d38b5c092d35a67b72b70efb4d0986addff43",
        "filename": "rosemary/commands/db_migrate.py",
        "status": "added",
        "additions": 25,
        "deletions": 0,
        "changes": 25,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fdb_migrate.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fdb_migrate.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Fdb_migrate.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,25 @@\n+import subprocess\n+import click\n+from flask.cli import with_appcontext\n+\n+\n+@click.command('db:migrate', help=\"Generates and applies database migrations.\")\n+@with_appcontext\n+def db_migrate():\n+    # Generates migrations\n+    click.echo(\"Generating database migrations...\")\n+    result_migrate = subprocess.run(['flask', 'db', 'migrate'])\n+    if result_migrate.returncode == 0:\n+        click.echo(click.style(\"Migrations generated successfully.\", fg='green'))\n+    else:\n+        click.echo(click.style(\"Note: No new migrations needed or an error occurred \"\n+                               \"while generating migrations.\", fg='yellow'))\n+\n+    # Applies to migrations\n+    click.echo(\"Applying database migrations...\")\n+    result_upgrade = subprocess.run(['flask', 'db', 'upgrade'])\n+    if result_upgrade.returncode == 0:\n+        click.echo(click.style(\"Migrations applied successfully.\", fg='green'))\n+    else:\n+        click.echo(click.style(\"Error applying migrations. This may be due to the database \"\n+                               \"being already up-to-date.\", fg='yellow'))"
      },
      {
        "sha": "2e25ebbf6e9e2a061655570cd408dc2946dc4d16",
        "filename": "rosemary/commands/db_reset.py",
        "status": "added",
        "additions": 63,
        "deletions": 0,
        "changes": 63,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fdb_reset.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fdb_reset.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Fdb_reset.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,63 @@\n+import click\n+import shutil\n+import os\n+import subprocess\n+from flask.cli import with_appcontext\n+from app import create_app, db\n+from sqlalchemy import MetaData\n+\n+from rosemary.commands.clear_uploads import clear_uploads\n+\n+\n+@click.command('db:reset', help=\"Resets the database, optionally clears migrations and recreates them.\")\n+@click.option('--clear-migrations', is_flag=True,\n+              help=\"Remove all tables including 'alembic_version', clear migrations folder, and recreate migrations.\")\n+@click.option('-y', '--yes', is_flag=True, help=\"Confirm the operation without prompting.\")\n+@with_appcontext\n+def db_reset(clear_migrations, yes):\n+    app = create_app()\n+    with app.app_context():\n+        if not yes and not click.confirm('WARNING: This will delete all data and clear uploads. Are you sure?',\n+                                         abort=True):\n+            return\n+\n+        # Deletes data from all tables\n+        try:\n+            meta = MetaData()\n+            meta.reflect(bind=db.engine)\n+            with db.engine.connect() as conn:\n+                trans = conn.begin()  # Begin transaction\n+                for table in reversed(meta.sorted_tables):\n+                    if not clear_migrations or table.name != 'alembic_version':\n+                        conn.execute(table.delete())\n+                trans.commit()  # End transaction\n+            click.echo(click.style(\"All table data cleared.\", fg='yellow'))\n+            subprocess.run(['flask', 'db', 'stamp', 'head'], check=True)\n+        except Exception as e:\n+            click.echo(click.style(f\"Error clearing table data: {e}\", fg='red'))\n+            if trans:\n+                trans.rollback()\n+            return\n+\n+        # Delete the uploads folder\n+        ctx = click.get_current_context()\n+        ctx.invoke(clear_uploads)\n+\n+        if clear_migrations:\n+            # Delete the migration folder if it exists.\n+            migrations_dir = os.path.join(os.getenv('WORKING_DIR', ''), 'migrations')\n+            if os.path.isdir(migrations_dir):\n+                shutil.rmtree(migrations_dir)\n+                click.echo(click.style(\"Migrations directory cleared.\", fg='yellow'))\n+\n+            # Run flask db init, migrate and upgrade\n+            try:\n+                subprocess.run(['flask', 'db', 'init'], check=True)\n+                subprocess.run(['flask', 'db', 'migrate'], check=True)\n+                subprocess.run(['flask', 'db', 'upgrade'], check=True)\n+                click.echo(click.style(\"Database recreated from new migrations.\", fg='green'))\n+            except subprocess.CalledProcessError as e:\n+                click.echo(click.style(f\"Error during migrations reset: {e}\", fg='red'))\n+                return\n+\n+        click.echo(click.style(\"Database reset successfully.\", fg='green'))"
      },
      {
        "sha": "4aa47e6ac20400ee0e3d866d131ef1875b7dbf21",
        "filename": "rosemary/commands/db_seed.py",
        "status": "added",
        "additions": 79,
        "deletions": 0,
        "changes": 79,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fdb_seed.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fdb_seed.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Fdb_seed.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,79 @@\n+import inspect\n+import os\n+import importlib\n+import click\n+from flask.cli import with_appcontext\n+\n+from core.seeders.BaseSeeder import BaseSeeder\n+from rosemary.commands.db_reset import db_reset\n+\n+\n+def get_module_seeders(module_path, specific_module=None):\n+    seeders = []\n+    for root, dirs, files in os.walk(module_path):\n+        if 'seeders.py' in files:\n+            relative_path = os.path.relpath(root, module_path)\n+            module_name = relative_path.replace(os.path.sep, '.')\n+            full_module_name = f'app.modules.{module_name}.seeders'\n+\n+            # If a module was specified and does not match the current one, continue with the next one\n+            if specific_module and specific_module != module_name.split('.')[0]:\n+                continue\n+\n+            seeder_module = importlib.import_module(full_module_name)\n+            importlib.reload(seeder_module)  # Reload the module\n+\n+            for attr in dir(seeder_module):\n+                potential_seeder_class = getattr(seeder_module, attr)\n+                if (inspect.isclass(potential_seeder_class) and\n+                        issubclass(potential_seeder_class, BaseSeeder) and\n+                        potential_seeder_class is not BaseSeeder):\n+                    seeders.append(potential_seeder_class())\n+\n+    # Sort seeders by priority\n+    seeders.sort(key=lambda seeder: seeder.priority)\n+\n+    return seeders\n+\n+\n+@click.command('db:seed', help=\"Populates the database with the seeders defined in each module.\")\n+@click.option('--reset', is_flag=True, help=\"Reset the database before seeding.\")\n+@click.option('-y', '--yes', is_flag=True, help=\"Confirm the operation without prompting.\")\n+@click.argument('module', required=False)\n+@with_appcontext\n+def db_seed(reset, yes, module):\n+\n+    if reset:\n+        if yes or click.confirm(click.style('This will reset the database, do you want '\n+                                            'to continue?', fg='red'), abort=True):\n+            click.echo(click.style(\"Resetting the database...\", fg='yellow'))\n+            ctx = click.get_current_context()\n+            ctx.invoke(db_reset, clear_migrations=False, yes=True)\n+        else:\n+            click.echo(click.style(\"Database reset cancelled.\", fg='yellow'))\n+            return\n+\n+    blueprints_module_path = os.path.join(os.getenv('WORKING_DIR', ''), 'app/modules')\n+    seeders = get_module_seeders(blueprints_module_path, specific_module=module)\n+    success = True  # Flag to control the successful flow of the operation\n+\n+    if module:\n+        click.echo(click.style(f\"Seeding data for the '{module}' module...\", fg='green'))\n+    else:\n+        click.echo(click.style(\"Seeding data for all modules...\", fg='green'))\n+\n+    for seeder in seeders:\n+        try:\n+            seeder.run()\n+            click.echo(click.style(f'{seeder.__class__.__name__} performed.', fg='blue'))\n+        except Exception as e:\n+            click.echo(click.style(f'Error running seeder {seeder.__class__.__name__}: {e}', fg='red'))\n+            click.echo(click.style(f'Rolled back the transaction of {seeder.__class__.__name__} to keep the session '\n+                                   f'clean.',\n+                                   fg='yellow'))\n+\n+            success = False\n+            break\n+\n+    if success:\n+        click.echo(click.style('Database populated with test data.', fg='green'))"
      },
      {
        "sha": "27eccc5f54de990c55a692bf82ec0d30d3026bad",
        "filename": "rosemary/commands/env.py",
        "status": "added",
        "additions": 16,
        "deletions": 0,
        "changes": 16,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fenv.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fenv.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Fenv.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,16 @@\n+# rosemary/commands/env.py\n+\n+import click\n+import os\n+from dotenv import dotenv_values\n+\n+\n+@click.command()\n+def env():\n+    \"\"\"Displays the current .env file values.\"\"\"\n+    # Load the .env file\n+    env_values = dotenv_values(os.path.join(os.getenv('WORKING_DIR', ''), '.env'))\n+\n+    # Display keys and values\n+    for key, value in env_values.items():\n+        click.echo(f\"{key}={value}\")"
      },
      {
        "sha": "601c509eb1b611a46fe24127af1ade638e406339",
        "filename": "rosemary/commands/info.py",
        "status": "added",
        "additions": 61,
        "deletions": 0,
        "changes": 61,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Finfo.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Finfo.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Finfo.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,61 @@\n+import click\n+import base64\n+import pkg_resources\n+\n+\n+def get_metadata_value(metadata_lines, key):\n+    default_value = f\"{key}: Unknown\"\n+    line = next((line for line in metadata_lines if line.startswith(key)), default_value)\n+    return line.split(':', 1)[1].strip() if line != default_value else default_value.split(':', 1)[1].strip()\n+\n+\n+@click.command()\n+def info():\n+    \"\"\"Displays information about the Rosemary CLI.\"\"\"\n+    distribution = pkg_resources.get_distribution(\"rosemary\")\n+\n+    try:\n+        metadata = distribution.get_metadata_lines('METADATA')\n+        author = get_metadata_value(metadata, 'Author')\n+        author_email = get_metadata_value(metadata, 'Author-email')\n+        description = get_metadata_value(metadata, 'Summary')\n+    except FileNotFoundError:\n+        author, author_email, description = \"Unknown\", \"Unknown\", \"Not available\"\n+\n+    name = distribution.project_name\n+    version = distribution.version\n+\n+    click.echo(f\"Name: {name}\")\n+    click.echo(f\"Version: {version}\")\n+    click.echo(f\"Author: {author}\")\n+    click.echo(f\"Author-email: {author_email}\")\n+    click.echo(f\"Description: {description}\")\n+\n+\n+@click.command('love:me', hidden=True)\n+@click.option('--again', is_flag=True)\n+def info2(again):\n+    if not again:\n+        click.echo(click.style(\"Love me --again?\", fg='magenta'))\n+        return\n+\n+    lyrics = \"ICAgIA0KICAgIEtub3cgSSd2ZSBkb25lIHdyb25nLA0KICAgIExlZnQgeW91ciBoZWFydCB0b3JuDQogICAgSXMgdGhhdCB3aGF0IGRldmlscyBkbz8NCiAgICBUb29rIHlvdSBzbyBsb3csDQogICAgV2hlcmUgb25seSBmb29scyBnbw0KICAgIEkgc2hvb2sgdGhlIGFuZ2VsIGluIHlvdSENCiAgICANCiAgICBOb3cgSSdtIHJpc2luZyBmcm9tIHRoZSBncm91bmQNCiAgICBSaXNpbmcgdXAgdG8geW91IQ0KICAgIEZpbGxlZCB3aXRoIGFsbCB0aGUgc3RyZW5ndGggSSd2ZSBmb3VuZCwNCiAgICBUaGVyZSdzIG5vdGhpbmcgSSBjYW4ndCBkbyENCiAgICANCiAgICBJIG5lZWQgdG8ga25vdyBub3csIGtub3cgbm93LCBjYW4geW91IGxvdmUgbWUgYWdhaW4/DQogICAgSSBuZWVkIHRvIGtub3cgbm93LCBrbm93IG5vdywgY2FuIHlvdSBsb3ZlIG1lIGFnYWluPw0KICAgIEkgbmVlZCB0byBrbm93IG5vdywga25vdyBub3csIGNhbiB5b3UgbG92ZSBtZSBhZ2Fpbj8NCiAgICBJIG5lZWQgdG8ga25vdyBub3csIGtub3cgbm93LCBjYW4geW91IGxvdmUgbWUgYWdhaW4/DQogICAgDQogICAgSSdsbCBzcGluIHlvdSBhcm91bmQsIHdvbid0IGxldCB5b3UgZmFsbCBkb3duLA0KICAgIFdvdWxkIHlvdSBsZXQgbWUgZG93bj8gTm8hDQogICAgSSdsbCBzcGluIHlvdSBhcm91bmQsIHdvbid0IGxldCB5b3UgZmFsbCBkb3duLA0KICAgIFdvdWxkIHlvdSBsZXQgbWUgZG93bj8gTm8hDQogICAgDQogICAgTm93IEknbSByaXNpbmcgZnJvbSB0aGUgZ3JvdW5kDQogICAgUmlzaW5nIHVwIHRvIHlvdSENCiAgICBGaWxsZWQgd2l0aCBhbGwgdGhlIHN0cmVuZ3RoIEkndmUgZm91bmQsDQogICAgVGhlcmUncyBub3RoaW5nIEkgY2FuJ3QgZG8hDQogICAgDQogICAgSSBuZWVkIHRvIGtub3cgbm93LCBrbm93IG5vdywgY2FuIHlvdSBsb3ZlIG1lIGFnYWluPw0KICAgIEkgbmVlZCB0byBrbm93IG5vdywga25vdyBub3csIGNhbiB5b3UgbG92ZSBtZSBhZ2Fpbj8NCiAgICBJIG5lZWQgdG8ga25vdyBub3csIGtub3cgbm93LCBjYW4geW91IGxvdmUgbWUgYWdhaW4/DQogICAgSSBuZWVkIHRvIGtub3cgbm93LCBrbm93IG5vdywgY2FuIHlvdSBsb3ZlIG1lIGFnYWluPw0KDQogICAgQ29uZ3JhdHVsYXRpb25zLCB5b3UgZm91bmQgdGhlIGVhc3RlciBlZ2ch\" # noqa\n+\n+    decoded = decode_lyrics(lyrics)\n+    colored_lyrics = colorize_lyrics(decoded)\n+    click.echo(colored_lyrics)\n+\n+\n+def colorize_lyrics(lyrics):\n+    colored_lyrics = \"\"\n+    colors = ['red', 'green', 'yellow', 'blue', 'magenta', 'cyan', 'white']\n+\n+    for i, line in enumerate(lyrics.splitlines()):\n+        colored_lyrics += click.style(line, fg=colors[i % len(colors)]) + '\\n'\n+\n+    return colored_lyrics\n+\n+\n+def decode_lyrics(encoded_lyrics):\n+    decoded_lyrics = base64.b64decode(encoded_lyrics.encode('utf-8')).decode('utf-8')\n+    return decoded_lyrics"
      },
      {
        "sha": "fd163a65796f81a3a37bd2c1bdda1a62ba4b6f44",
        "filename": "rosemary/commands/linter.py",
        "status": "added",
        "additions": 26,
        "deletions": 0,
        "changes": 26,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Flinter.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Flinter.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Flinter.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,26 @@\n+import click\n+import os\n+import subprocess\n+\n+\n+@click.command('linter', help=\"Runs flake8 linter on the 'app' and 'rosemary' directories.\")\n+def linter():\n+\n+    # Define the directories to be checked with flake8\n+    working_dir = os.getenv('WORKING_DIR', '')\n+    directories = [\n+        os.path.join(working_dir, 'app'),\n+        os.path.join(working_dir, 'rosemary'),\n+        os.path.join(working_dir, 'core')\n+    ]\n+\n+    # Run flake8 in each directory\n+    for directory in directories:\n+        click.echo(f\"Running flake8 on {directory}...\")\n+        result = subprocess.run(['flake8', directory])\n+\n+        # Check if flake8 encountered problems\n+        if result.returncode != 0:\n+            click.echo(click.style(f\"flake8 found issues in {directory}.\", fg='red'))\n+        else:\n+            click.echo(click.style(f\"No issues found in {directory}. Congratulations!\", fg='green'))"
      },
      {
        "sha": "754a58ec141de71b436245bfa0f192f48a29219e",
        "filename": "rosemary/commands/locust.py",
        "status": "added",
        "additions": 164,
        "deletions": 0,
        "changes": 164,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Flocust.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Flocust.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Flocust.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,164 @@\n+import os\n+import subprocess\n+import click\n+import docker\n+import signal\n+import psutil\n+\n+\n+@click.command('locust', help=\"Launches Locust for load testing based on the environment.\")\n+@click.argument('module', required=False)\n+def locust(module):\n+\n+    # Absolute paths\n+    working_dir = os.getenv('WORKING_DIR', '')\n+    core_dir = os.path.join(working_dir, 'core')\n+    docker_dir = os.path.join(working_dir, 'docker/')\n+    modules_dir = os.path.join(working_dir, 'app/modules')\n+\n+    def validate_module(module):\n+        \"\"\"Check if the module exists.\"\"\"\n+        if module:\n+            module_path = os.path.join(modules_dir, module)\n+            if not os.path.exists(module_path):\n+                raise click.UsageError(f\"module '{module}' does not exist.\")\n+            locustfile_path = os.path.join(module_path, 'tests', 'locustfile.py')\n+            if not os.path.exists(locustfile_path):\n+                raise click.UsageError(\n+                    f\"Locustfile for module '{module}' does not exist at path \"\n+                    f\"'{locustfile_path}'.\"\n+                )\n+\n+    def run_docker_locust(volume_name, module):\n+        \"\"\"Build and run the Locust container with the specified volume.\"\"\"\n+\n+        try:\n+            # Check if the container already exists\n+            client.containers.get('locust_container')\n+            click.echo(\"Locust container is already running.\")\n+            return\n+        except docker.errors.NotFound:\n+            pass  # Container does not exist, proceed to create it\n+\n+        click.echo(f\"Starting Locust in Docker environment on port 8089 with volume: {volume_name}...\")\n+\n+        # Build Locust's image\n+        build_command = [\n+            'docker', 'build', '-f', os.path.join(docker_dir, 'images/Dockerfile.locust'),\n+            '-t', 'locust-image', '.'\n+        ]\n+        click.echo(f\"Build command: {' '.join(build_command)}\")\n+        subprocess.run(build_command, check=True)\n+\n+        # Define the locustfile path\n+        locustfile_path = os.path.join(core_dir, 'bootstraps/locustfile_bootstrap.py')\n+        if module:\n+            locustfile_path = f\"{modules_dir}/{module}/tests/locustfile.py\"\n+\n+        # Run the Locust container\n+        up_command = [\n+            'docker', 'run', '-d', '-p', '8089:8089', '-v', f\"{volume_name}:/app\",\n+            '--name', 'locust_container', '--network', 'docker_uvlhub_network',\n+            'locust-image', '-f', locustfile_path\n+        ]\n+\n+        click.echo(f\"Docker Run command: {' '.join(up_command)}\")\n+        subprocess.run(up_command, check=True)\n+        click.echo(click.style(\"Locust is running at http://localhost:8089\", fg='green'))\n+\n+    def is_locust_running():\n+        \"\"\"Check if Locust is already running.\"\"\"\n+        for proc in psutil.process_iter(['pid', 'name']):\n+            if proc.info['name'] == 'locust':\n+                return True\n+        return False\n+\n+    def run_in_console(module):\n+\n+        if is_locust_running():\n+            click.echo(\"Locust is already running.\")\n+            return\n+\n+        locustfile_path = os.path.join(core_dir, 'bootstraps/locustfile_bootstrap.py')\n+        if module:\n+            locustfile_path = os.path.join(modules_dir, module, 'tests', 'locustfile.py')\n+        locust_command = ['locust', '-f', locustfile_path]\n+        click.echo(f\"Locust command: {' '.join(locust_command)}\")\n+        subprocess.Popen(locust_command, stdin=subprocess.PIPE, stdout=subprocess.DEVNULL, stderr=subprocess.DEVNULL)\n+        click.echo(click.style(\"Locust is running at http://localhost:8089\", fg='green'))\n+\n+    def run_local_locust(module):\n+        \"\"\"Run Locust in the local environment.\"\"\"\n+        click.echo(\"Starting Locust in local environment on port 8089...\")\n+        run_in_console(module)\n+\n+    def run_vagrant_locust(module):\n+        \"\"\"Run Locust in the Vagrant environment.\"\"\"\n+        click.echo(\"Starting Locust in Vagrant environment on port 8089...\")\n+        run_in_console(module)\n+\n+    # Validate module if provided\n+    if module:\n+        validate_module(module)\n+\n+    if working_dir == '/app/':\n+        client = docker.from_env()\n+\n+        try:\n+            web_container = client.containers.get('web_app_container')\n+            volume_name = next(\n+                (mount.get('Name') or mount.get('Source') for mount in web_container.attrs['Mounts']\n+                 if mount['Destination'] == '/app'), None\n+            )\n+\n+            if not volume_name:\n+                raise ValueError(\"No volume or bind mount found mounted on /app\")\n+\n+            run_docker_locust(volume_name, module)\n+\n+        except docker.errors.NotFound:\n+            click.echo(click.style(\"Web container not found.\", fg='red'))\n+        except Exception as e:\n+            click.echo(click.style(f\"An error occurred: {str(e)}\", fg='red'))\n+\n+    elif working_dir == '':\n+        run_local_locust(module)\n+\n+    elif working_dir == '/vagrant/':\n+        run_vagrant_locust(module)\n+\n+    else:\n+        click.echo(click.style(f\"Unrecognized WORKING_DIR: {working_dir}\", fg='red'))\n+\n+\n+@click.command('locust:stop', help=\"Stops the Locust container if it is running.\")\n+def stop():\n+    working_dir = os.getenv('WORKING_DIR', '')\n+\n+    def stop_local_locust():\n+        \"\"\"Stop Locust process in the local environment.\"\"\"\n+        click.echo(\"Stopping Locust in local environment...\")\n+        for proc in psutil.process_iter(['pid', 'name']):\n+            if proc.info['name'] == 'locust':\n+                click.echo(f\"Stopping Locust process with PID {proc.info['pid']}...\")\n+                os.kill(proc.info['pid'], signal.SIGTERM)\n+\n+    def stop_docker_locust():\n+        click.echo(\"Stopping Locust container if it is running...\")\n+        stop_command = ['docker', 'stop', 'locust_container']\n+        rm_command = ['docker', 'rm', 'locust_container']\n+\n+        # Stop the Locust container if it is running\n+        subprocess.run(stop_command)\n+\n+        # Remove the Locust container\n+        subprocess.run(rm_command)\n+\n+    if working_dir == '/app/':\n+        stop_docker_locust()\n+\n+    elif working_dir == '' or working_dir == '/vagrant/':\n+        stop_local_locust()\n+\n+    else:\n+        click.echo(click.style(f\"Unrecognized WORKING_DIR: {working_dir}\", fg='red'))"
      },
      {
        "sha": "5dd163f603f20318214bdcb963c05fd0d403ebe6",
        "filename": "rosemary/commands/make_module.py",
        "status": "added",
        "additions": 103,
        "deletions": 0,
        "changes": 103,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fmake_module.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fmake_module.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Fmake_module.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,103 @@\n+import stat\n+import click\n+from jinja2 import Environment, FileSystemLoader, select_autoescape\n+import os\n+\n+\n+def pascalcase(s):\n+    \"\"\"Converts string to PascalCase.\"\"\"\n+    return ''.join(word.capitalize() for word in s.split('_'))\n+\n+\n+def setup_jinja_env():\n+    \"\"\"Configures and returns a Jinja environment.\"\"\"\n+    env = Environment(\n+        loader=FileSystemLoader(searchpath=\"./rosemary/templates\"),\n+        autoescape=select_autoescape(['html', 'xml', 'j2'])\n+    )\n+    env.filters['pascalcase'] = pascalcase\n+    return env\n+\n+\n+def render_and_write_file(env, template_name, filename, context):\n+    \"\"\"Renders a template and writes it to a specified file.\"\"\"\n+    template = env.get_template(template_name)\n+    content = template.render(context) + \"\\n\"\n+    with open(filename, 'w') as f:\n+        f.write(content)\n+\n+\n+@click.command('make:module', help=\"Creates a new module with a given name.\")\n+@click.argument('name')\n+def make_module(name):\n+    modules_root_path = os.path.join(os.getenv('WORKING_DIR', ''), 'app/modules')\n+    module_path = f'{modules_root_path}/{name}'\n+\n+    if os.path.exists(module_path):\n+        click.echo(click.style(f\"The module '{name}' already exists.\", fg='red'))\n+        return\n+\n+    env = setup_jinja_env()\n+\n+    # Defines the directories to create.\n+    directories = {'templates'}\n+\n+    files_and_templates = {\n+        '__init__.py': 'module_init.py.j2',\n+        'routes.py': 'module_routes.py.j2',\n+        'models.py': 'module_models.py.j2',\n+        'repositories.py': 'module_repositories.py.j2',\n+        'services.py': 'module_services.py.j2',\n+        'forms.py': 'module_forms.py.j2',\n+        'seeders.py': 'module_seeders.py.j2',\n+        os.path.join('templates', name, 'index.html'): 'module_templates_index.html.j2',\n+        'assets/scripts.js': 'module_scripts.js.j2',\n+        'tests/test_unit.py': 'module_tests_test_unit.py.j2',\n+        'tests/locustfile.py': 'module_tests_locustfile.py.j2',\n+        'tests/test_selenium.py': 'module_tests_test_selenium.py.j2'\n+    }\n+\n+    # Create the necessary directories, explicitly excluding 'tests' from the creation of subfolders.\n+    for directory in directories:\n+        os.makedirs(os.path.join(module_path, directory, name), exist_ok=True)\n+\n+    # Create 'tests' directory directly under module_path, without additional subfolders.\n+    os.makedirs(os.path.join(module_path, 'tests'), exist_ok=True)\n+\n+    # Create 'assets' directory directly under module_path, without additional subfolders.\n+    os.makedirs(os.path.join(module_path, 'assets'), exist_ok=True)\n+\n+    # Create empty __init__.py file directly in the 'tests' directory.\n+    open(os.path.join(module_path, 'tests', '__init__.py'), 'a').close()\n+\n+    # Render and write files, including 'test_unit.py' directly in 'tests'.\n+    for filename, template_name in files_and_templates.items():\n+        if template_name:  # Check if there is a defined template.\n+            render_and_write_file(env, template_name, os.path.join(module_path, filename), {'module_name': name})\n+        else:\n+            open(os.path.join(module_path, filename), 'a').close()  # Create empty file if there is no template.\n+\n+    click.echo(click.style(f\"Module '{name}' created successfully.\", fg='green'))\n+\n+    # Change the owner of the main folder of the module\n+    os.chown(module_path, 1000, 1000)\n+\n+    # Change permissions to drwxrwxr-x (chmod 775)\n+    os.chmod(module_path, stat.S_IRWXU | stat.S_IRWXG | stat.S_IROTH | stat.S_IXOTH)\n+\n+    # Change the owner of all created files and directories to UID 1000 and GID 1000\n+    uid = 1000\n+    gid = 1000\n+\n+    for root, dirs, files in os.walk(module_path):\n+        for dir_ in dirs:\n+            dir_path = os.path.join(root, dir_)\n+            os.chown(dir_path, uid, gid)\n+            os.chmod(dir_path, stat.S_IRWXU | stat.S_IRWXG | stat.S_IROTH | stat.S_IXOTH)\n+\n+        for file_ in files:\n+            file_path = os.path.join(root, file_)\n+            os.chown(file_path, uid, gid)\n+            os.chmod(file_path, stat.S_IRUSR | stat.S_IWUSR | stat.S_IRGRP | stat.S_IWGRP | stat.S_IROTH)\n+\n+    click.echo(click.style(f\"Module '{name}' permissions changed successfully.\", fg='green'))"
      },
      {
        "sha": "2a7b41aded41928379067df074c22316d0cc9dd2",
        "filename": "rosemary/commands/module_list.py",
        "status": "added",
        "additions": 21,
        "deletions": 0,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fmodule_list.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fmodule_list.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Fmodule_list.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,21 @@\n+import click\n+from flask.cli import with_appcontext\n+\n+from core.managers.module_manager import ModuleManager\n+\n+\n+@click.command('module:list', help=\"Lists all modules and those ignored by .moduleignore.\")\n+@with_appcontext\n+def module_list():\n+    app = click.get_current_context().obj\n+    manager = ModuleManager(app)\n+\n+    loaded_modules, ignored_modules = manager.get_modules()\n+\n+    click.echo(click.style(f\"Loaded Modules ({len(loaded_modules)}):\", fg='green'))\n+    for module in loaded_modules:\n+        click.echo(f\"- {module}\")\n+\n+    click.echo(click.style(f\"\\nIgnored Modules ({len(ignored_modules)}):\", fg='bright_yellow'))\n+    for module in ignored_modules:\n+        click.echo(click.style(f\"- {module}\", fg='bright_yellow'))"
      },
      {
        "sha": "59ed8e76d469eda45e0fa5a44cc1a3cd16555717",
        "filename": "rosemary/commands/route_list.py",
        "status": "added",
        "additions": 51,
        "deletions": 0,
        "changes": 51,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Froute_list.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Froute_list.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Froute_list.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,51 @@\n+import os\n+import click\n+from flask import current_app\n+from flask.cli import with_appcontext\n+from collections import defaultdict\n+\n+\n+@click.command('route:list', help=\"Lists all routes of the Flask application.\")\n+@click.argument('module_name', required=False)\n+@click.option('--group', is_flag=True, help=\"Group routes by module when no specific module is provided.\")\n+@with_appcontext\n+def route_list(module_name, group):\n+    base_path = os.path.join(os.getenv('WORKING_DIR', ''), 'app/modules')\n+\n+    # Checks if a module was specified and if it exists\n+    if module_name:\n+        module_path = os.path.join(base_path, module_name)\n+        if not os.path.exists(module_path):\n+            click.echo(click.style(f\"Module '{module_name}' does not exist.\", fg='red'))\n+            return\n+        click.echo(f\"Listing routes for the '{module_name}' module...\")\n+        # Path filtering for a specific module\n+        filtered_rules = [\n+            rule for rule in current_app.url_map.iter_rules()\n+            if rule.endpoint.startswith(f\"{module_name}.\")\n+        ]\n+        print_route_table(filtered_rules)\n+    else:\n+        if group:  # Group routes by module\n+            click.echo(\"Listing routes for all modules, grouped by module...\")\n+            rules = sorted(current_app.url_map.iter_rules(), key=lambda rule: rule.endpoint)\n+            grouped_rules = defaultdict(list)\n+            for rule in rules:\n+                module = rule.endpoint.split('.')[0]\n+                grouped_rules[module].append(rule)\n+\n+            for module, rules in sorted(grouped_rules.items()):\n+                click.echo(click.style(f\"\\nModule: {module}\", fg='yellow'))\n+                print_route_table(rules)\n+        else:  # Lists all routes without grouping\n+            click.echo(\"Listing routes for all modules...\")\n+            rules = sorted(current_app.url_map.iter_rules(), key=lambda rule: rule.endpoint)\n+            print_route_table(rules)\n+\n+\n+def print_route_table(rules):\n+    click.echo(f\"{'Endpoint':<50} {'Methods':<30} {'Route':<100}\")\n+    click.echo('-' * 180)\n+    for rule in rules:\n+        methods = ', '.join(sorted(rule.methods.difference({'HEAD', 'OPTIONS'})))\n+        click.echo(f\"{rule.endpoint:<50} {methods:<30} {rule.rule:<100}\")"
      },
      {
        "sha": "4a96c8998b510d0699370bdfa9edc02e6d0610d4",
        "filename": "rosemary/commands/selenium.py",
        "status": "added",
        "additions": 67,
        "deletions": 0,
        "changes": 67,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fselenium.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fselenium.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Fselenium.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,67 @@\n+import os\n+import subprocess\n+import click\n+\n+\n+@click.command('selenium', help=\"Executes Selenium tests based on the environment.\")\n+@click.argument('module', required=False)\n+def selenium(module):\n+    # Absolute paths\n+    working_dir = os.getenv('WORKING_DIR', '')\n+    modules_dir = os.path.join(working_dir, 'app/modules')\n+\n+    def validate_module(module):\n+        \"\"\"Check if the module exists.\"\"\"\n+        if module:\n+            module_path = os.path.join(modules_dir, module)\n+            if not os.path.exists(module_path):\n+                raise click.UsageError(f\"Module '{module}' does not exist.\")\n+            selenium_test_path = os.path.join(module_path, 'tests', 'test_selenium.py')\n+            if not os.path.exists(selenium_test_path):\n+                raise click.UsageError(\n+                    f\"Selenium test for module '{module}' does not exist at path \"\n+                    f\"'{selenium_test_path}'.\"\n+                )\n+\n+    def run_selenium_tests_in_local(module):\n+        \"\"\"Run the Selenium tests.\"\"\"\n+        if module:\n+            selenium_test_path = os.path.join(modules_dir, module, 'tests', 'test_selenium.py')\n+            test_command = ['python', selenium_test_path]\n+        else:\n+            selenium_test_paths = []\n+            for module in os.listdir(modules_dir):\n+                tests_dir = os.path.join(modules_dir, module, 'tests')\n+                selenium_test_path = os.path.join(tests_dir, 'test_selenium.py')\n+                if os.path.exists(selenium_test_path):\n+                    selenium_test_paths.append(selenium_test_path)\n+            test_command = ['python'] + selenium_test_paths\n+\n+        click.echo(f\"Running Selenium tests with command: {' '.join(test_command)}\")\n+        subprocess.run(test_command, check=True)\n+\n+    # Validate module if provided\n+    if module:\n+        validate_module(module)\n+\n+    if working_dir == '/app/':\n+\n+        click.echo(click.style(\n+            \"Currently it is not possible to run this \"\n+            \"command from a Docker environment, do you want to implement it yourself? ^^\",\n+            fg='red'\n+        ))\n+\n+    elif working_dir == '':\n+        run_selenium_tests_in_local(module)\n+\n+    elif working_dir == '/vagrant/':\n+\n+        click.echo(click.style(\n+            \"Currently it is not possible to run this \"\n+            \"command from a Vagrant environment, do you want to implement it yourself? ^^\",\n+            fg='red'\n+        ))\n+\n+    else:\n+        click.echo(click.style(f\"Unrecognized WORKING_DIR: {working_dir}\", fg='red'))"
      },
      {
        "sha": "8edaff3dc1abc037963522e322322cd3864e8517",
        "filename": "rosemary/commands/test.py",
        "status": "added",
        "additions": 34,
        "deletions": 0,
        "changes": 34,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Ftest.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Ftest.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Ftest.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,34 @@\n+import click\n+import subprocess\n+import os\n+\n+\n+@click.command('test', help=\"Runs pytest on the blueprints directory or a specific module.\")\n+@click.argument('module_name', required=False)\n+@click.option('-k', 'keyword', help=\"Only run tests that match the given substring expression.\")\n+def test(module_name, keyword):\n+    base_path = os.path.join(os.getenv('WORKING_DIR', ''), 'app/modules')\n+    test_path = base_path\n+\n+    if module_name:\n+        test_path = os.path.join(base_path, module_name)\n+        if not os.path.exists(test_path):\n+            click.echo(click.style(f\"Module '{module_name}' does not exist.\", fg='red'))\n+            return\n+        click.echo(f\"Running tests for the '{module_name}' module...\")\n+    else:\n+        click.echo(\"Running tests for all modules...\")\n+\n+    pytest_cmd = ['pytest', '-v', '--ignore-glob=*selenium*', test_path]\n+\n+    if keyword:\n+        pytest_cmd.extend(['-k', keyword])\n+\n+    try:\n+        subprocess.run(pytest_cmd, check=True)\n+    except subprocess.CalledProcessError as e:\n+        click.echo(click.style(f\"Error running tests: {e}\", fg='red'))\n+\n+\n+if __name__ == '__main__':\n+    test()"
      },
      {
        "sha": "57de3eb344a8e764edde83f08b2aa983f677c666",
        "filename": "rosemary/commands/update.py",
        "status": "added",
        "additions": 38,
        "deletions": 0,
        "changes": 38,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fupdate.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Fcommands%2Fupdate.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Fcommands%2Fupdate.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,38 @@\n+import click\n+import os\n+import subprocess\n+\n+\n+@click.command()\n+def update():\n+    \"\"\"This command updates all packages based on the requirements.txt, excluding editable installations, and updates\n+    the file with concrete versions.\"\"\"\n+    requirements_path = os.path.join(os.getenv('WORKING_DIR', ''), 'requirements.txt')\n+    try:\n+        # Update pip first\n+        subprocess.check_call(['pip', 'install', '--upgrade', 'pip'])\n+\n+        # Read current requirements, excluding -e packages\n+        with open(requirements_path, 'r') as f:\n+            requirements = [line.strip() for line in f if not line.startswith(\"-e\")]\n+\n+        # Update each package\n+        for requirement in requirements:\n+            package_name = requirement.split('==')[0]\n+            if package_name:  # Ensure it's not an empty package name\n+                subprocess.check_call(['pip', 'install', '--upgrade', package_name])\n+\n+        # Generate a new requirements.txt, excluding editable installations\n+        freeze_output = subprocess.check_output(['pip', 'freeze']).decode('utf-8')\n+        with open(requirements_path, 'w') as f:\n+            for line in freeze_output.split('\\n'):\n+                if not line.startswith(\"-e\"):\n+                    f.write(line + '\\n')\n+\n+        click.echo(click.style('Update completed!', fg='green'))\n+    except subprocess.CalledProcessError as e:\n+        click.echo(click.style(f'Error during the update: {e}', fg='red'))\n+\n+\n+if __name__ == '__main__':\n+    update()"
      },
      {
        "sha": "31a1ee111855f499e5361e873c82b1c25f1e4d18",
        "filename": "rosemary/templates/module_forms.py.j2",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_forms.py.j2",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_forms.py.j2",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Ftemplates%2Fmodule_forms.py.j2?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,6 @@\n+from flask_wtf import FlaskForm\n+from wtforms import SubmitField\n+\n+\n+class {{ module_name | pascalcase }}Form(FlaskForm):\n+    submit = SubmitField('Save {{ module_name }}')"
      },
      {
        "sha": "348f751834339c787dd843954273c732ee005ebf",
        "filename": "rosemary/templates/module_init.py.j2",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_init.py.j2",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_init.py.j2",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Ftemplates%2Fmodule_init.py.j2?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,3 @@\n+from core.blueprints.base_blueprint import BaseBlueprint\n+\n+{{ module_name }}_bp = BaseBlueprint('{{ module_name }}', __name__, template_folder='templates')"
      },
      {
        "sha": "35add88f997ba273f73f905685e2dec5a87ef2bf",
        "filename": "rosemary/templates/module_models.py.j2",
        "status": "added",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_models.py.j2",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_models.py.j2",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Ftemplates%2Fmodule_models.py.j2?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,8 @@\n+from app import db\n+\n+\n+class {{ module_name | pascalcase }}(db.Model):\n+    id = db.Column(db.Integer, primary_key=True)\n+\n+    def __repr__(self):\n+        return f'{{ module_name | pascalcase }}<{self.id}>'"
      },
      {
        "sha": "8da6902cd6f570be142f0d0dd1c36fe2af30f247",
        "filename": "rosemary/templates/module_repositories.py.j2",
        "status": "added",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_repositories.py.j2",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_repositories.py.j2",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Ftemplates%2Fmodule_repositories.py.j2?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,7 @@\n+from app.modules.{{ module_name }}.models import {{ module_name | pascalcase }}\n+from core.repositories.BaseRepository import BaseRepository\n+\n+\n+class {{ module_name | pascalcase }}Repository(BaseRepository):\n+    def __init__(self):\n+        super().__init__({{ module_name | pascalcase }})"
      },
      {
        "sha": "13efd435b81154b7a23399026ef96a42dcf14e71",
        "filename": "rosemary/templates/module_routes.py.j2",
        "status": "added",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_routes.py.j2",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_routes.py.j2",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Ftemplates%2Fmodule_routes.py.j2?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,7 @@\n+from flask import render_template\n+from app.modules.{{ module_name }} import {{ module_name }}_bp\n+\n+\n+@{{ module_name }}_bp.route('/{{ module_name }}', methods=['GET'])\n+def index():\n+    return render_template('{{ module_name }}/index.html')\n\\ No newline at end of file"
      },
      {
        "sha": "bff1d72c41907fcac09b0c18c982dc29966034bf",
        "filename": "rosemary/templates/module_scripts.js.j2",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_scripts.js.j2",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_scripts.js.j2",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Ftemplates%2Fmodule_scripts.js.j2?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1 @@\n+console.log(\"Hi, I am a script loaded from {{ module_name }} module\");\n\\ No newline at end of file"
      },
      {
        "sha": "81cd8adadc4a5ba3fe11d2fe39cc0af0b408664d",
        "filename": "rosemary/templates/module_seeders.py.j2",
        "status": "added",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_seeders.py.j2",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_seeders.py.j2",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Ftemplates%2Fmodule_seeders.py.j2?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,12 @@\n+from core.seeders.BaseSeeder import BaseSeeder\n+\n+\n+class {{ module_name | pascalcase }}Seeder(BaseSeeder):\n+\n+    def run(self):\n+\n+        data = [\n+            # Create any Model object you want to make seed\n+        ]\n+\n+        self.seed(data)"
      },
      {
        "sha": "0f7ee2e1af2619e7f7a986efa0e68d14aa6edb64",
        "filename": "rosemary/templates/module_services.py.j2",
        "status": "added",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_services.py.j2",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_services.py.j2",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Ftemplates%2Fmodule_services.py.j2?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,7 @@\n+from app.modules.{{ module_name }}.repositories import {{ module_name | pascalcase }}Repository\n+from core.services.BaseService import BaseService\n+\n+\n+class {{ module_name | pascalcase }}Service(BaseService):\n+    def __init__(self):\n+        super().__init__({{ module_name | pascalcase }}Repository())\n\\ No newline at end of file"
      },
      {
        "sha": "62b58f61400a20ab709954db90a0db31592b22e9",
        "filename": "rosemary/templates/module_templates_index.html.j2",
        "status": "added",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_templates_index.html.j2",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_templates_index.html.j2",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Ftemplates%2Fmodule_templates_index.html.j2?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,11 @@\n+{% raw %}{%{% endraw %} extends \"base_template.html\" {% raw %}%}{% endraw %}\n+\n+{% raw %}{%{% endraw %} block title {% raw %}%}{% endraw %}View {{ module_name }}{% raw %}{%{% endraw %} endblock {% raw %}%}{% endraw %}\n+\n+{% raw %}{%{% endraw %} block content {% raw %}%}{% endraw %}\n+\n+{% raw %}{%{% endraw %} endblock {% raw %}%}{% endraw %}\n+\n+{% raw %}{%{% endraw %} block scripts {% raw %}%}{% endraw %}\n+    <script src=\"{% raw %}{{ url_for('{% endraw %}{{ module_name }}{% raw %}.scripts') }}{% endraw %}\"></script>\n+{% raw %}{%{% endraw %} endblock {% raw %}%}{% endraw %}\n\\ No newline at end of file"
      },
      {
        "sha": "c1803faf028a1d82076a11c105876fca29d37ee4",
        "filename": "rosemary/templates/module_tests_locustfile.py.j2",
        "status": "added",
        "additions": 21,
        "deletions": 0,
        "changes": 21,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_tests_locustfile.py.j2",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_tests_locustfile.py.j2",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Ftemplates%2Fmodule_tests_locustfile.py.j2?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,21 @@\n+from locust import HttpUser, TaskSet, task\n+from core.environment.host import get_host_for_locust_testing\n+\n+\n+class {{ module_name | pascalcase }}Behavior(TaskSet):\n+    def on_start(self):\n+        self.index()\n+\n+    @task\n+    def index(self):\n+        response = self.client.get(\"/{{ module_name }}\")\n+\n+        if response.status_code != 200:\n+            print(f\"{{ module_name | pascalcase }} index failed: {response.status_code}\")\n+\n+\n+class {{ module_name | pascalcase }}User(HttpUser):\n+    tasks = [{{ module_name | pascalcase }}Behavior]\n+    min_wait = 5000\n+    max_wait = 9000\n+    host = get_host_for_locust_testing()"
      },
      {
        "sha": "3ff32d85a8e683c338bee9e7462f0cf84f7bfa3d",
        "filename": "rosemary/templates/module_tests_test_selenium.py.j2",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_tests_test_selenium.py.j2",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_tests_test_selenium.py.j2",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Ftemplates%2Fmodule_tests_test_selenium.py.j2?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,35 @@\n+from selenium.common.exceptions import NoSuchElementException\n+import time\n+\n+from core.environment.host import get_host_for_selenium_testing\n+from core.selenium.common import initialize_driver, close_driver\n+\n+\n+def test_{{ module_name }}_index():\n+\n+    driver = initialize_driver()\n+\n+    try:\n+        host = get_host_for_selenium_testing()\n+\n+        # Open the index page\n+        driver.get(f'{host}/{{ module_name }}')\n+\n+        # Wait a little while to make sure the page has loaded completely\n+        time.sleep(4)\n+\n+        try:\n+\n+            pass\n+\n+        except NoSuchElementException:\n+            raise AssertionError('Test failed!')\n+\n+    finally:\n+\n+        # Close the browser\n+        close_driver(driver)\n+\n+\n+# Call the test function\n+test_{{ module_name }}_index()"
      },
      {
        "sha": "950421eb7b4ee15f00b45f83730c55dd2dda9336",
        "filename": "rosemary/templates/module_tests_test_unit.py.j2",
        "status": "added",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_tests_test_unit.py.j2",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/rosemary%2Ftemplates%2Fmodule_tests_test_unit.py.j2",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/rosemary%2Ftemplates%2Fmodule_tests_test_unit.py.j2?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,24 @@\n+import pytest\n+\n+\n+@pytest.fixture(scope='module')\n+def test_client(test_client):\n+    \"\"\"\n+    Extends the test_client fixture to add additional specific data for module testing.\n+    \"\"\"\n+    with test_client.application.app_context():\n+        # Add HERE new elements to the database that you want to exist in the test context.\n+        # DO NOT FORGET to use db.session.add(<element>) and db.session.commit() to save the data.\n+        pass\n+\n+    yield test_client\n+\n+\n+def test_sample_assertion(test_client):\n+    \"\"\"\n+    Sample test to verify that the test framework and environment are working correctly.\n+    It does not communicate with the Flask application; it only performs a simple assertion to\n+    confirm that the tests in this module can be executed.\n+    \"\"\"\n+    greeting = \"Hello, World!\"\n+    assert greeting == \"Hello, World!\", \"The greeting does not coincide with 'Hello, World!'\""
      },
      {
        "sha": "4cbcb0993a2c347c8f5afaa87b5b7671205d0e2a",
        "filename": "scripts/clean_docker.sh",
        "status": "added",
        "additions": 48,
        "deletions": 0,
        "changes": 48,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/scripts%2Fclean_docker.sh",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/scripts%2Fclean_docker.sh",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/scripts%2Fclean_docker.sh?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,48 @@\n+#!/bin/bash\n+\n+# ---------------------------------------------------------------------------\n+# Creative Commons CC BY 4.0 - David Romero - Diverso Lab\n+# ---------------------------------------------------------------------------\n+# This script is licensed under the Creative Commons Attribution 4.0 \n+# International License. You are free to share and adapt the material \n+# as long as appropriate credit is given, a link to the license is provided, \n+# and you indicate if changes were made.\n+#\n+# For more details, visit:\n+# https://creativecommons.org/licenses/by/4.0/\n+# ---------------------------------------------------------------------------\n+\n+\n+read -p \"Are you sure you want to stop all containers? (y/n) \" stop_containers\n+if [ \"$stop_containers\" = \"y\" ]; then\n+    echo \"Stopping all containers...\"\n+    docker stop $(docker ps -aq)\n+else\n+    echo \"Skipping stopping containers.\"\n+fi\n+\n+read -p \"Are you sure you want to remove all containers? (y/n) \" remove_containers\n+if [ \"$remove_containers\" = \"y\" ]; then\n+    echo \"Removing all containers...\"\n+    docker rm $(docker ps -aq)\n+else\n+    echo \"Skipping removing containers.\"\n+fi\n+\n+read -p \"Are you sure you want to remove all volumes? (y/n) \" remove_volumes\n+if [ \"$remove_volumes\" = \"y\" ]; then\n+    echo \"Removing all volumes...\"\n+    docker volume rm $(docker volume ls -q)\n+else\n+    echo \"Skipping removing volumes.\"\n+fi\n+\n+read -p \"Are you sure you want to remove all images? (y/n) \" remove_images\n+if [ \"$remove_images\" = \"y\" ]; then\n+    echo \"Removing all images...\"\n+    docker rmi $(docker images -q)\n+else\n+    echo \"Skipping removing images.\"\n+fi\n+\n+echo \"All actions have been completed.\""
      },
      {
        "sha": "2a8b21893ae75e971201db9cf11920b519514d68",
        "filename": "scripts/git_update.sh",
        "status": "added",
        "additions": 56,
        "deletions": 0,
        "changes": 56,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/scripts%2Fgit_update.sh",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/scripts%2Fgit_update.sh",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/scripts%2Fgit_update.sh?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,56 @@\n+#!/bin/bash\n+\n+# ---------------------------------------------------------------------------\n+# Creative Commons CC BY 4.0 - David Romero - Diverso Lab\n+# ---------------------------------------------------------------------------\n+# This script is licensed under the Creative Commons Attribution 4.0 \n+# International License. You are free to share and adapt the material \n+# as long as appropriate credit is given, a link to the license is provided, \n+# and you indicate if changes were made.\n+#\n+# For more details, visit:\n+# https://creativecommons.org/licenses/by/4.0/\n+# ---------------------------------------------------------------------------\n+\n+# Get the current remote URL\n+REMOTE_URL=$(git remote get-url origin) \n+\n+if [ -z \"$REMOTE_URL\" ]; then \n+  echo \"No remote URL found for 'origin'. Please configure the remote repository.\" \n+  exit 1 \n+fi \n+\n+echo \"Original remote URL: $REMOTE_URL\"\n+\n+# Check if the URL is SSH\n+if echo \"$REMOTE_URL\" | grep -q \"git@\"; then\n+\n+  # Convert SSH URL to HTTPS\n+  USER_HOST=$(echo \"$REMOTE_URL\" | cut -d'@' -f2 | cut -d':' -f1)\n+  REPO_PATH=$(echo \"$REMOTE_URL\" | cut -d':' -f2)\n+  HTTPS_URL=\"https://$USER_HOST/$REPO_PATH\"\n+  echo \"Converted SSH URL to HTTPS: $HTTPS_URL\"\n+\n+  # Set the new HTTPS URL\n+  git remote set-url origin \"$HTTPS_URL\"\n+\n+  # Verify the new remote URL\n+  NEW_REMOTE_URL=$(git remote get-url origin) \n+  echo \"New remote URL: $NEW_REMOTE_URL\"\n+\n+  # Pull from the main branch\n+  git pull origin main\n+  echo \"Pulled from main from: $NEW_REMOTE_URL\"\n+\n+  # Restore the original SSH URL\n+  git remote set-url origin \"$REMOTE_URL\"\n+\n+else\n+\n+  echo \"The URL is already HTTPS\"\n+\n+  # Pull from the main branch if the URL is already HTTPS\n+  git pull origin main\n+  echo \"Pulled from main from: $REMOTE_URL\"\n+\n+fi"
      },
      {
        "sha": "8b662eeba651ce8aff5e6fdc89ac03dc6bdbbf13",
        "filename": "scripts/init-testing-db.sh",
        "status": "added",
        "additions": 23,
        "deletions": 0,
        "changes": 23,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/scripts%2Finit-testing-db.sh",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/scripts%2Finit-testing-db.sh",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/scripts%2Finit-testing-db.sh?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,23 @@\n+#!/bin/bash\n+\n+# ---------------------------------------------------------------------------\n+# Creative Commons CC BY 4.0 - David Romero - Diverso Lab\n+# ---------------------------------------------------------------------------\n+# This script is licensed under the Creative Commons Attribution 4.0 \n+# International License. You are free to share and adapt the material \n+# as long as appropriate credit is given, a link to the license is provided, \n+# and you indicate if changes were made.\n+#\n+# For more details, visit:\n+# https://creativecommons.org/licenses/by/4.0/\n+# ---------------------------------------------------------------------------\n+\n+\n+echo \"(testing) Hostname: $MARIADB_HOSTNAME, Port: $MARIADB_PORT, User: $MARIADB_USER, Test DB: $MARIADB_TEST_DATABASE\"\n+\n+echo \"MariaDB is up - creating test database if it doesn't exist\"\n+\n+# Create the test database if it does not exist\n+mariadb -h \"$MARIADB_HOSTNAME\" -P \"$MARIADB_PORT\" -u root -p\"$MARIADB_ROOT_PASSWORD\" -e \"CREATE DATABASE IF NOT EXISTS \\`${MARIADB_TEST_DATABASE}\\` CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci; GRANT ALL PRIVILEGES ON \\`${MARIADB_TEST_DATABASE}\\`.* TO '$MARIADB_USER'@'%'; FLUSH PRIVILEGES;\"\n+\n+echo \"Test database created and privileges granted\""
      },
      {
        "sha": "6c2c4d198be24e0249dca12a49fc642450037f65",
        "filename": "scripts/restart_container.sh",
        "status": "added",
        "additions": 17,
        "deletions": 0,
        "changes": 17,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/scripts%2Frestart_container.sh",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/scripts%2Frestart_container.sh",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/scripts%2Frestart_container.sh?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,17 @@\n+#!/bin/bash\n+\n+# ---------------------------------------------------------------------------\n+# Creative Commons CC BY 4.0 - David Romero - Diverso Lab\n+# ---------------------------------------------------------------------------\n+# This script is licensed under the Creative Commons Attribution 4.0 \n+# International License. You are free to share and adapt the material \n+# as long as appropriate credit is given, a link to the license is provided, \n+# and you indicate if changes were made.\n+#\n+# For more details, visit:\n+# https://creativecommons.org/licenses/by/4.0/\n+# ---------------------------------------------------------------------------\n+\n+sleep 5\n+\n+docker restart \"$1\""
      },
      {
        "sha": "d24a7b7c20f27ffc8152b8d4c470ed80179ae256",
        "filename": "scripts/ssl_renew.sh",
        "status": "added",
        "additions": 20,
        "deletions": 0,
        "changes": 20,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/scripts%2Fssl_renew.sh",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/scripts%2Fssl_renew.sh",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/scripts%2Fssl_renew.sh?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,20 @@\n+#!/bin/bash\n+\n+# ---------------------------------------------------------------------------\n+# Creative Commons CC BY 4.0 - David Romero - Diverso Lab\n+# ---------------------------------------------------------------------------\n+# This script is licensed under the Creative Commons Attribution 4.0 \n+# International License. You are free to share and adapt the material \n+# as long as appropriate credit is given, a link to the license is provided, \n+# and you indicate if changes were made.\n+#\n+# For more details, visit:\n+# https://creativecommons.org/licenses/by/4.0/\n+# ---------------------------------------------------------------------------\n+\n+\n+cd .. # go to parent folder\n+\n+cd docker # go to docker folder\n+\n+docker compose -f docker-compose.prod.ssl.yml run certbot renew --webroot --webroot-path=/var/www"
      },
      {
        "sha": "6d39a6aae1aee29e730a322a43e9bd926f1f9100",
        "filename": "scripts/ssl_setup.sh",
        "status": "added",
        "additions": 59,
        "deletions": 0,
        "changes": 59,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/scripts%2Fssl_setup.sh",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/scripts%2Fssl_setup.sh",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/scripts%2Fssl_setup.sh?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,59 @@\n+#!/bin/bash\n+\n+# ---------------------------------------------------------------------------\n+# Creative Commons CC BY 4.0 - David Romero - Diverso Lab\n+# ---------------------------------------------------------------------------\n+# This script is licensed under the Creative Commons Attribution 4.0 \n+# International License. You are free to share and adapt the material \n+# as long as appropriate credit is given, a link to the license is provided, \n+# and you indicate if changes were made.\n+#\n+# For more details, visit:\n+# https://creativecommons.org/licenses/by/4.0/\n+# ---------------------------------------------------------------------------\n+\n+\n+while true; do\n+    echo \"Enter your domain (including 'www' and the extension, e.g., www.exampledomain.com):\"\n+    read domain\n+\n+    echo \"Enter your email: \"\n+    read email\n+\n+    echo \"Configured with the domain $domain\"\n+    echo \"Configured with the email $email\"\n+    echo \"\"\n+    echo \"Are you sure the entered information is correct? [y/n]\"\n+    read confirm\n+\n+    if [ \"$confirm\" = \"y\" ] || [ \"$confirm\" = \"Y\" ]; then\n+        break\n+    else\n+        echo \"Please re-enter the information.\"\n+        echo \"\"\n+    fi\n+done\n+\n+cd .. # go to parent folder\n+\n+cd docker # go to docker folder\n+\n+# Create a new configuration file from the template\n+cp ./nginx/nginx.prod.no-ssl.conf.template ./nginx/nginx.prod.ssl.conf\n+sed -i \"s/{{domain}}/$domain/g\" ./nginx/nginx.prod.ssl.conf\n+\n+# Run Nginx container without SSL to obtain certificates\n+docker compose -f docker-compose.prod.ssl.yml up -d nginx\n+\n+# Generate the certificate with Certbot\n+docker compose -f docker-compose.prod.ssl.yml run certbot certonly --webroot --webroot-path=/var/www -d $domain --email $email --agree-tos --no-eff-email --force-renewal\n+\n+# Create a new configuration file from the SSL template\n+cp ./nginx/nginx.prod.ssl.conf.template ./nginx/nginx.prod.ssl.conf\n+sed -i \"s/{{domain}}/$domain/g\" ./nginx/nginx.prod.ssl.conf\n+\n+# Restart Nginx with SSL configuration\n+docker compose -f docker-compose.prod.ssl.yml down\n+docker compose -f docker-compose.prod.ssl.yml up -d --build\n+\n+cd .. # go to parent folder"
      },
      {
        "sha": "4ac35017ecb7d7c441c66ce594e79d703636fb53",
        "filename": "scripts/wait-for-db.sh",
        "status": "added",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/scripts%2Fwait-for-db.sh",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/scripts%2Fwait-for-db.sh",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/scripts%2Fwait-for-db.sh?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,24 @@\n+#!/bin/bash\n+\n+# ---------------------------------------------------------------------------\n+# Creative Commons CC BY 4.0 - David Romero - Diverso Lab\n+# ---------------------------------------------------------------------------\n+# This script is licensed under the Creative Commons Attribution 4.0 \n+# International License. You are free to share and adapt the material \n+# as long as appropriate credit is given, a link to the license is provided, \n+# and you indicate if changes were made.\n+#\n+# For more details, visit:\n+# https://creativecommons.org/licenses/by/4.0/\n+# ---------------------------------------------------------------------------\n+\n+echo \"Starting wait-for-db.sh\"\n+echo \"Hostname: $MARIADB_HOSTNAME, Port: $MARIADB_PORT, User: $MARIADB_USER\"\n+\n+while ! mariadb -h \"$MARIADB_HOSTNAME\" -P \"$MARIADB_PORT\" -u\"$MARIADB_USER\" -p\"$MARIADB_PASSWORD\" -e 'SELECT 1'; do\n+  echo \"MariaDB is unavailable - sleeping\"\n+  sleep 1\n+done\n+\n+echo \"MariaDB is up - executing command\"\n+exec \"$@\""
      },
      {
        "sha": "afd5b9c9f14ad2a1342fe47b378a7469ac9d9bf7",
        "filename": "setup.py",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/setup.py",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/setup.py",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/setup.py?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,19 @@\n+from setuptools import setup, find_packages\n+\n+setup(\n+    name='rosemary',\n+    version='0.1.0',\n+    packages=find_packages(),\n+    install_requires=[\n+        'click',\n+        'python-dotenv',\n+    ],\n+    author='David Romero',\n+    author_email='drorganvidez@us.es',\n+    description=\"Rosemary is a CLI to be able to work on UVLHub development more easily.\",\n+    entry_points={\n+        'console_scripts': [\n+            'rosemary=rosemary.cli:cli'\n+        ],\n+    },\n+)"
      },
      {
        "sha": "020930e20355d6690a60a08ce2b3963aba996625",
        "filename": "vagrant/00_main.yml",
        "status": "added",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/vagrant%2F00_main.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/vagrant%2F00_main.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/vagrant%2F00_main.yml?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,7 @@\n+---\n+- import_playbook: 01_setup.yml\n+- import_playbook: 02_install_mariadb.yml\n+- import_playbook: 03_mariadb_scripts.yml\n+- import_playbook: 04_install_dependencies.yml\n+- import_playbook: 05_run_app.yml\n+- import_playbook: 06_utilities.yml"
      },
      {
        "sha": "486de68a50623512cc74d4ad74347f1d170b3176",
        "filename": "vagrant/01_setup.yml",
        "status": "added",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/vagrant%2F01_setup.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/vagrant%2F01_setup.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/vagrant%2F01_setup.yml?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,8 @@\n+---\n+- hosts: all\n+  become: true\n+\n+  tasks:\n+    - name: Update the system\n+      apt:\n+        update_cache: yes"
      },
      {
        "sha": "0459aaaba479b52676c7dc7d8461877c748ceaa2",
        "filename": "vagrant/02_install_mariadb.yml",
        "status": "added",
        "additions": 48,
        "deletions": 0,
        "changes": 48,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/vagrant%2F02_install_mariadb.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/vagrant%2F02_install_mariadb.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/vagrant%2F02_install_mariadb.yml?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,48 @@\n+---\n+- hosts: all\n+  become: true\n+\n+  tasks:\n+    - name: Install MariaDB Server\n+      apt:\n+        name:\n+          - mariadb-server\n+          - python3-pymysql\n+        update_cache: yes\n+      become: yes\n+\n+    - name: Start and enable MariaDB service\n+      systemd:\n+        name: mariadb\n+        state: started\n+        enabled: yes\n+\n+    - name: Change default MariaDB password\n+      become: yes\n+      mysql_user:\n+        login_unix_socket: /run/mysqld/mysqld.sock\n+        login_user: 'root'\n+        login_password: ''\n+        name: 'root'\n+        password: '{{ mariadb_root_password }}'\n+        state: present\n+\n+\n+    - name: Create SQL script\n+      copy:\n+        content: |\n+          CREATE DATABASE IF NOT EXISTS {{ mariadb_database }};\n+          CREATE DATABASE IF NOT EXISTS {{ mariadb_test_database }};\n+          CREATE USER IF NOT EXISTS '{{ mariadb_user }}'@'localhost' IDENTIFIED BY '{{ mariadb_password }}';\n+          GRANT ALL PRIVILEGES ON {{ mariadb_database }}.* TO '{{ mariadb_user }}'@'localhost';\n+          GRANT ALL PRIVILEGES ON {{ mariadb_test_database }}.* TO '{{ mariadb_user }}'@'localhost';\n+          FLUSH PRIVILEGES;\n+        dest: /tmp/setup.sql\n+\n+    - name: Import SQL script\n+      command: bash -c \"mysql -u root -p'{{ mariadb_root_password }}' < /tmp/setup.sql\"\n+\n+    - name: Remove temporary SQL script\n+      file:\n+        path: /tmp/setup.sql\n+        state: absent"
      },
      {
        "sha": "a06250ab095dbecb1ff33ac738271480dc2fb9a1",
        "filename": "vagrant/03_mariadb_scripts.yml",
        "status": "added",
        "additions": 46,
        "deletions": 0,
        "changes": 46,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/vagrant%2F03_mariadb_scripts.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/vagrant%2F03_mariadb_scripts.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/vagrant%2F03_mariadb_scripts.yml?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,46 @@\n+---\n+- hosts: all\n+  become: true\n+\n+  vars:\n+    common_environment:\n+      FLASK_APP_NAME: \"{{ flask_app_name }}\"\n+      FLASK_ENV: \"{{ flask_env }}\"\n+      DOMAIN: \"{{ domain }}\"\n+      MARIADB_HOSTNAME: \"{{ mariadb_hostname }}\"\n+      MARIADB_PORT: \"{{ mariadb_port }}\"\n+      MARIADB_DATABASE: \"{{ mariadb_database }}\"\n+      MARIADB_TEST_DATABASE: \"{{ mariadb_test_database }}\"\n+      MARIADB_USER: \"{{ mariadb_user }}\"\n+      MARIADB_PASSWORD: \"{{ mariadb_password }}\"\n+      MARIADB_ROOT_PASSWORD: \"{{ mariadb_root_password }}\"\n+      WORKING_DIR: \"{{ working_dir }}\"\n+\n+  tasks:\n+    - name: Set permissions for wait-for-db.sh\n+      file:\n+        path: \"{{ working_dir }}scripts/wait-for-db.sh\"\n+        mode: '0755'\n+        state: file\n+      environment: \"{{ common_environment }}\"\n+\n+    - name: Set permissions for init-testing-db.sh\n+      file:\n+        path: \"{{ working_dir }}scripts/init-testing-db.sh\"\n+        mode: '0755'\n+        state: file\n+      environment: \"{{ common_environment }}\"\n+\n+    - name: Wait for MariaDB to be ready\n+      shell: |\n+        {{ working_dir }}scripts/wait-for-db.sh\n+      args:\n+        executable: /bin/bash\n+      environment: \"{{ common_environment }}\"\n+\n+    - name: Initialize the database\n+      shell: |\n+        {{ working_dir }}scripts/init-testing-db.sh\n+      args:\n+        executable: /bin/bash\n+      environment: \"{{ common_environment }}\""
      },
      {
        "sha": "f02068c9cf35006180d2e982b5742487143d45b0",
        "filename": "vagrant/04_install_dependencies.yml",
        "status": "added",
        "additions": 52,
        "deletions": 0,
        "changes": 52,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/vagrant%2F04_install_dependencies.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/vagrant%2F04_install_dependencies.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/vagrant%2F04_install_dependencies.yml?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,52 @@\n+- hosts: all\n+  become: true\n+\n+  tasks:\n+    - name: Add deadsnakes PPA (for installing Python 3.12)\n+      apt_repository:\n+        repo: ppa:deadsnakes/ppa\n+        state: present\n+        update_cache: yes\n+\n+    - name: Update the system and install Python 3.12 and dependencies\n+      apt:\n+        name:\n+          - python3.12\n+          - python3.12-venv\n+          - python3.12-distutils\n+          - mariadb-client\n+        state: present\n+\n+    - name: Install pip and setuptools for Python 3.12 from source\n+      shell: |\n+        wget https://bootstrap.pypa.io/get-pip.py\n+        python3.12 get-pip.py\n+      args:\n+        executable: /bin/bash\n+\n+    - name: Upgrade pip and setuptools for Python 3.12\n+      shell: |\n+        python3.12 -m pip install --upgrade pip setuptools\n+      args:\n+        executable: /bin/bash\n+\n+    - name: Remove existing virtual environment if it exists\n+      file:\n+        path: \"{{ working_dir }}venv\"\n+        state: absent\n+        force: yes\n+\n+    - name: Set up the Python 3.12 virtual environment\n+      command: python3.12 -m venv {{ working_dir }}venv\n+      args:\n+        creates: \"{{ working_dir }}venv/bin/activate\"\n+\n+    - name: Activate the virtual environment and install dependencies\n+      shell: |\n+        source {{ working_dir }}venv/bin/activate\n+        pip install --upgrade pip\n+        cd {{ working_dir }}\n+        pip install -r requirements.txt\n+        pip install -e ./\n+      args:\n+        executable: /bin/bash"
      },
      {
        "sha": "51346f1ee4bbf57ddba044ecdd91dda4e59ff1da",
        "filename": "vagrant/05_run_app.yml",
        "status": "added",
        "additions": 46,
        "deletions": 0,
        "changes": 46,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/vagrant%2F05_run_app.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/vagrant%2F05_run_app.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/vagrant%2F05_run_app.yml?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,46 @@\n+---\n+- hosts: all\n+  become: true\n+\n+  vars:\n+    common_environment:\n+      FLASK_APP_NAME: \"{{ flask_app_name }}\"\n+      FLASK_ENV: \"{{ flask_env }}\"\n+      DOMAIN: \"{{ domain }}\"\n+      MARIADB_HOSTNAME: \"{{ mariadb_hostname }}\"\n+      MARIADB_PORT: \"{{ mariadb_port }}\"\n+      MARIADB_DATABASE: \"{{ mariadb_database }}\"\n+      MARIADB_TEST_DATABASE: \"{{ mariadb_test_database }}\"\n+      MARIADB_USER: \"{{ mariadb_user }}\"\n+      MARIADB_PASSWORD: \"{{ mariadb_password }}\"\n+      MARIADB_ROOT_PASSWORD: \"{{ mariadb_root_password }}\"\n+      WORKING_DIR: \"{{ working_dir }}\"\n+\n+  tasks:\n+\n+    - name: Add webhook to .moduleignore\n+      shell: echo \"webhook\" > {{ working_dir }}.moduleignore\n+      args:\n+        executable: /bin/bash\n+      environment: \"{{ common_environment }}\"\n+\n+    - name: Set database with Rosemary\n+      shell: |\n+        source {{ working_dir }}venv/bin/activate\n+        cd {{ working_dir }}\n+        flask db upgrade\n+        rosemary db:seed -y --reset\n+      args:\n+        executable: /bin/bash\n+      environment: \"{{ common_environment }}\"\n+\n+    - name: Run Flask application\n+      shell: |\n+        source {{ working_dir }}venv/bin/activate\n+        cd {{ working_dir }}\n+        nohup flask run --host=0.0.0.0 --port=5000 --reload --debug > app.log 2>&1 &\n+      args:\n+        executable: /bin/bash\n+      environment: \"{{ common_environment }}\"\n+      async: 1\n+      poll: 0"
      },
      {
        "sha": "c5cc9540c91c0a9482e67f10f08031042fe7bcbf",
        "filename": "vagrant/06_utilities.yml",
        "status": "added",
        "additions": 15,
        "deletions": 0,
        "changes": 15,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/vagrant%2F06_utilities.yml",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/vagrant%2F06_utilities.yml",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/vagrant%2F06_utilities.yml?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,15 @@\n+---\n+- hosts: all\n+  become: true\n+\n+  tasks:\n+\n+    - name: Add commands to .bashrc\n+      lineinfile:\n+        path: /home/vagrant/.bashrc\n+        line: '{{ item }}'\n+        create: yes\n+      with_items:\n+        - 'source {{ working_dir }}venv/bin/activate'\n+        - 'cd {{ working_dir }}'\n+      when: ansible_user == 'vagrant'"
      },
      {
        "sha": "89e9fafd626a2ca10f414d6d58e51642f7bc0f7e",
        "filename": "vagrant/Vagrantfile",
        "status": "added",
        "additions": 88,
        "deletions": 0,
        "changes": 88,
        "blob_url": "https://github.com/chipi-hub-team/chipi-hub/blob/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/vagrant%2FVagrantfile",
        "raw_url": "https://github.com/chipi-hub-team/chipi-hub/raw/d38a6a33e8a8d714f480fd512cdf00998dfd41cf/vagrant%2FVagrantfile",
        "contents_url": "https://api.github.com/repos/chipi-hub-team/chipi-hub/contents/vagrant%2FVagrantfile?ref=d38a6a33e8a8d714f480fd512cdf00998dfd41cf",
        "patch": "@@ -0,0 +1,88 @@\n+# -*- mode: ruby -*-\n+# vi: set ft=ruby :\n+\n+require 'pathname'\n+require 'fileutils'\n+\n+# Method to load environment variables from an .env file and return them as a hash\n+def load_env(file)\n+  env_vars = {}\n+  if File.exist?(file)\n+    File.readlines(file).each do |line|\n+      key, value = line.strip.split('=', 2)\n+      if key && value\n+        ENV[key] = value\n+        env_vars[key] = value\n+      end\n+    end\n+  else\n+    raise \"Env file not found: #{file}\"\n+  end\n+  env_vars\n+end\n+\n+# Load .env file from the top level and get the loaded variables\n+env_file_path = File.expand_path(\"../../.env\", __FILE__)\n+puts \"Loading .env file from: #{env_file_path}\"\n+loaded_env_vars = load_env(env_file_path)\n+\n+# Print only the variables that were loaded from the .env file\n+loaded_env_vars.each do |key, value|\n+  puts \"#{key}: #{value}\"\n+end\n+\n+\n+Vagrant.configure(\"2\") do |config|\n+\n+  # Choose a base box\n+  config.vm.box = \"ubuntu/jammy64\"\n+\n+  # Network configuration\n+  config.vm.network \"forwarded_port\", guest: 5000, host: 5000\n+  config.vm.network \"forwarded_port\", guest: 8089, host: 8089\n+\n+  # Synced folders\n+  config.vm.synced_folder \"../\", \"/vagrant\"\n+\n+  # Use Ansible for provisioning\n+  config.vm.provision \"ansible\" do |ansible|\n+    ansible.playbook = \"00_main.yml\"\n+    ansible.extra_vars = {\n+      flask_app_name: ENV['FLASK_APP_NAME'],\n+      flask_env: ENV['FLASK_ENV'],\n+      domain: ENV['DOMAIN'],\n+      mariadb_hostname: ENV['MARIADB_HOSTNAME'],\n+      mariadb_port: ENV['MARIADB_PORT'],\n+      mariadb_database: ENV['MARIADB_DATABASE'],\n+      mariadb_test_database: ENV['MARIADB_TEST_DATABASE'],\n+      mariadb_user: ENV['MARIADB_USER'],\n+      mariadb_password: ENV['MARIADB_PASSWORD'],\n+      mariadb_root_password: ENV['MARIADB_ROOT_PASSWORD'],\n+      working_dir: ENV['WORKING_DIR']\n+    }\n+  end\n+\n+  # Load environment variables on vagrant ssh\n+  config.vm.provision \"shell\", inline: <<-SHELL\n+    ENV_FILE=\"/vagrant/.env\"\n+    if [ -f $ENV_FILE ]; then\n+      export $(cat $ENV_FILE | xargs)\n+      while IFS= read -r line; do\n+        echo \"export $line\" >> /etc/profile.d/vagrant_env.sh\n+      done < $ENV_FILE\n+    else\n+      echo \"Env file not found: $ENV_FILE\"\n+      exit 1\n+    fi\n+  SHELL\n+\n+  config.vm.provision \"shell\", run: \"always\", inline: <<-SHELL\n+    echo 'source /etc/profile.d/vagrant_env.sh' >> /home/vagrant/.bashrc\n+  SHELL\n+\n+  # Provider configuration\n+  config.vm.provider \"virtualbox\" do |vb|\n+    vb.memory = \"2048\"\n+    vb.cpus = 4\n+  end\n+end"
      }
    ]
  }
]